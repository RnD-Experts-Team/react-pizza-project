function lJ(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(n,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var pN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function uo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function cJ(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var a=!1;try{a=this instanceof n}catch{}return a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var gN={exports:{}},Eh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NM;function dJ(){if(NM)return Eh;NM=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,o){var l=null;if(o!==void 0&&(l=""+o),a.key!==void 0&&(l=""+a.key),"key"in a){o={};for(var c in a)c!=="key"&&(o[c]=a[c])}else o=a;return a=o.ref,{$$typeof:e,type:n,key:l,ref:a!==void 0?a:null,props:o}}return Eh.Fragment=t,Eh.jsx=r,Eh.jsxs=r,Eh}var CM;function uJ(){return CM||(CM=1,gN.exports=dJ()),gN.exports}var s=uJ(),xN={exports:{}},_t={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EM;function fJ(){if(EM)return _t;EM=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),i=Symbol.for("react.lazy"),m=Symbol.iterator;function g(q){return q===null||typeof q!="object"?null:(q=m&&q[m]||q["@@iterator"],typeof q=="function"?q:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,N={};function h(q,G,z){this.props=q,this.context=G,this.refs=N,this.updater=z||x}h.prototype.isReactComponent={},h.prototype.setState=function(q,G){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,G,"setState")},h.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function y(){}y.prototype=h.prototype;function w(q,G,z){this.props=q,this.context=G,this.refs=N,this.updater=z||x}var j=w.prototype=new y;j.constructor=w,v(j,h.prototype),j.isPureReactComponent=!0;var C=Array.isArray,_={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function A(q,G,z,K,Z,ie){return z=ie.ref,{$$typeof:e,type:q,key:G,ref:z!==void 0?z:null,props:ie}}function T(q,G){return A(q.type,G,void 0,void 0,void 0,q.props)}function R(q){return typeof q=="object"&&q!==null&&q.$$typeof===e}function P(q){var G={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(z){return G[z]})}var M=/\/+/g;function I(q,G){return typeof q=="object"&&q!==null&&q.key!=null?P(""+q.key):G.toString(36)}function L(){}function B(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(L,L):(q.status="pending",q.then(function(G){q.status==="pending"&&(q.status="fulfilled",q.value=G)},function(G){q.status==="pending"&&(q.status="rejected",q.reason=G)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function U(q,G,z,K,Z){var ie=typeof q;(ie==="undefined"||ie==="boolean")&&(q=null);var ye=!1;if(q===null)ye=!0;else switch(ie){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(q.$$typeof){case e:case t:ye=!0;break;case i:return ye=q._init,U(ye(q._payload),G,z,K,Z)}}if(ye)return Z=Z(q),ye=K===""?"."+I(q,0):K,C(Z)?(z="",ye!=null&&(z=ye.replace(M,"$&/")+"/"),U(Z,G,z,"",function(ne){return ne})):Z!=null&&(R(Z)&&(Z=T(Z,z+(Z.key==null||q&&q.key===Z.key?"":(""+Z.key).replace(M,"$&/")+"/")+ye)),G.push(Z)),1;ye=0;var de=K===""?".":K+":";if(C(q))for(var xe=0;xe<q.length;xe++)K=q[xe],ie=de+I(K,xe),ye+=U(K,G,z,ie,Z);else if(xe=g(q),typeof xe=="function")for(q=xe.call(q),xe=0;!(K=q.next()).done;)K=K.value,ie=de+I(K,xe++),ye+=U(K,G,z,ie,Z);else if(ie==="object"){if(typeof q.then=="function")return U(B(q),G,z,K,Z);throw G=String(q),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return ye}function F(q,G,z){if(q==null)return q;var K=[],Z=0;return U(q,K,"","",function(ie){return G.call(z,ie,Z++)}),K}function H(q){if(q._status===-1){var G=q._result;G=G(),G.then(function(z){(q._status===0||q._status===-1)&&(q._status=1,q._result=z)},function(z){(q._status===0||q._status===-1)&&(q._status=2,q._result=z)}),q._status===-1&&(q._status=0,q._result=G)}if(q._status===1)return q._result.default;throw q._result}var W=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function J(){}return _t.Children={map:F,forEach:function(q,G,z){F(q,function(){G.apply(this,arguments)},z)},count:function(q){var G=0;return F(q,function(){G++}),G},toArray:function(q){return F(q,function(G){return G})||[]},only:function(q){if(!R(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},_t.Component=h,_t.Fragment=r,_t.Profiler=a,_t.PureComponent=w,_t.StrictMode=n,_t.Suspense=d,_t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,_t.__COMPILER_RUNTIME={__proto__:null,c:function(q){return _.H.useMemoCache(q)}},_t.cache=function(q){return function(){return q.apply(null,arguments)}},_t.cloneElement=function(q,G,z){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var K=v({},q.props),Z=q.key,ie=void 0;if(G!=null)for(ye in G.ref!==void 0&&(ie=void 0),G.key!==void 0&&(Z=""+G.key),G)!k.call(G,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&G.ref===void 0||(K[ye]=G[ye]);var ye=arguments.length-2;if(ye===1)K.children=z;else if(1<ye){for(var de=Array(ye),xe=0;xe<ye;xe++)de[xe]=arguments[xe+2];K.children=de}return A(q.type,Z,void 0,void 0,ie,K)},_t.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:o,_context:q},q},_t.createElement=function(q,G,z){var K,Z={},ie=null;if(G!=null)for(K in G.key!==void 0&&(ie=""+G.key),G)k.call(G,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(Z[K]=G[K]);var ye=arguments.length-2;if(ye===1)Z.children=z;else if(1<ye){for(var de=Array(ye),xe=0;xe<ye;xe++)de[xe]=arguments[xe+2];Z.children=de}if(q&&q.defaultProps)for(K in ye=q.defaultProps,ye)Z[K]===void 0&&(Z[K]=ye[K]);return A(q,ie,void 0,void 0,null,Z)},_t.createRef=function(){return{current:null}},_t.forwardRef=function(q){return{$$typeof:c,render:q}},_t.isValidElement=R,_t.lazy=function(q){return{$$typeof:i,_payload:{_status:-1,_result:q},_init:H}},_t.memo=function(q,G){return{$$typeof:u,type:q,compare:G===void 0?null:G}},_t.startTransition=function(q){var G=_.T,z={};_.T=z;try{var K=q(),Z=_.S;Z!==null&&Z(z,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(J,W)}catch(ie){W(ie)}finally{_.T=G}},_t.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},_t.use=function(q){return _.H.use(q)},_t.useActionState=function(q,G,z){return _.H.useActionState(q,G,z)},_t.useCallback=function(q,G){return _.H.useCallback(q,G)},_t.useContext=function(q){return _.H.useContext(q)},_t.useDebugValue=function(){},_t.useDeferredValue=function(q,G){return _.H.useDeferredValue(q,G)},_t.useEffect=function(q,G,z){var K=_.H;if(typeof z=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return K.useEffect(q,G)},_t.useId=function(){return _.H.useId()},_t.useImperativeHandle=function(q,G,z){return _.H.useImperativeHandle(q,G,z)},_t.useInsertionEffect=function(q,G){return _.H.useInsertionEffect(q,G)},_t.useLayoutEffect=function(q,G){return _.H.useLayoutEffect(q,G)},_t.useMemo=function(q,G){return _.H.useMemo(q,G)},_t.useOptimistic=function(q,G){return _.H.useOptimistic(q,G)},_t.useReducer=function(q,G,z){return _.H.useReducer(q,G,z)},_t.useRef=function(q){return _.H.useRef(q)},_t.useState=function(q){return _.H.useState(q)},_t.useSyncExternalStore=function(q,G,z){return _.H.useSyncExternalStore(q,G,z)},_t.useTransition=function(){return _.H.useTransition()},_t.version="19.1.0",_t}var _M;function fc(){return _M||(_M=1,xN.exports=fJ()),xN.exports}var b=fc();const pe=uo(b),u2=lJ({__proto__:null,default:pe},[b]);var vN={exports:{}},_h={},yN={exports:{}},bN={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AM;function mJ(){return AM||(AM=1,function(e){function t(F,H){var W=F.length;F.push(H);e:for(;0<W;){var J=W-1>>>1,q=F[J];if(0<a(q,H))F[J]=H,F[W]=q,W=J;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var H=F[0],W=F.pop();if(W!==H){F[0]=W;e:for(var J=0,q=F.length,G=q>>>1;J<G;){var z=2*(J+1)-1,K=F[z],Z=z+1,ie=F[Z];if(0>a(K,W))Z<q&&0>a(ie,K)?(F[J]=ie,F[Z]=W,J=Z):(F[J]=K,F[z]=W,J=z);else if(Z<q&&0>a(ie,W))F[J]=ie,F[Z]=W,J=Z;else break e}}return H}function a(F,H){var W=F.sortIndex-H.sortIndex;return W!==0?W:F.id-H.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var d=[],u=[],i=1,m=null,g=3,x=!1,v=!1,N=!1,h=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function C(F){for(var H=r(u);H!==null;){if(H.callback===null)n(u);else if(H.startTime<=F)n(u),H.sortIndex=H.expirationTime,t(d,H);else break;H=r(u)}}function _(F){if(N=!1,C(F),!v)if(r(d)!==null)v=!0,k||(k=!0,I());else{var H=r(u);H!==null&&U(_,H.startTime-F)}}var k=!1,A=-1,T=5,R=-1;function P(){return h?!0:!(e.unstable_now()-R<T)}function M(){if(h=!1,k){var F=e.unstable_now();R=F;var H=!0;try{e:{v=!1,N&&(N=!1,w(A),A=-1),x=!0;var W=g;try{t:{for(C(F),m=r(d);m!==null&&!(m.expirationTime>F&&P());){var J=m.callback;if(typeof J=="function"){m.callback=null,g=m.priorityLevel;var q=J(m.expirationTime<=F);if(F=e.unstable_now(),typeof q=="function"){m.callback=q,C(F),H=!0;break t}m===r(d)&&n(d),C(F)}else n(d);m=r(d)}if(m!==null)H=!0;else{var G=r(u);G!==null&&U(_,G.startTime-F),H=!1}}break e}finally{m=null,g=W,x=!1}H=void 0}}finally{H?I():k=!1}}}var I;if(typeof j=="function")I=function(){j(M)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,B=L.port2;L.port1.onmessage=M,I=function(){B.postMessage(null)}}else I=function(){y(M,0)};function U(F,H){A=y(function(){F(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(F){switch(g){case 1:case 2:case 3:var H=3;break;default:H=g}var W=g;g=H;try{return F()}finally{g=W}},e.unstable_requestPaint=function(){h=!0},e.unstable_runWithPriority=function(F,H){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var W=g;g=F;try{return H()}finally{g=W}},e.unstable_scheduleCallback=function(F,H,W){var J=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?J+W:J):W=J,F){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=W+q,F={id:i++,callback:H,priorityLevel:F,startTime:W,expirationTime:q,sortIndex:-1},W>J?(F.sortIndex=W,t(u,F),r(d)===null&&F===r(u)&&(N?(w(A),A=-1):N=!0,U(_,W-J))):(F.sortIndex=q,t(d,F),v||x||(v=!0,k||(k=!0,I()))),F},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(F){var H=g;return function(){var W=g;g=H;try{return F.apply(this,arguments)}finally{g=W}}}}(bN)),bN}var kM;function hJ(){return kM||(kM=1,yN.exports=mJ()),yN.exports}var wN={exports:{}},ss={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DM;function pJ(){if(DM)return ss;DM=1;var e=fc();function t(d){var u="https://react.dev/errors/"+d;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)u+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+d+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,u,i){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:m==null?null:""+m,children:d,containerInfo:u,implementation:i}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,u){if(d==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return ss.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ss.createPortal=function(d,u){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(t(299));return o(d,u,null,i)},ss.flushSync=function(d){var u=l.T,i=n.p;try{if(l.T=null,n.p=2,d)return d()}finally{l.T=u,n.p=i,n.d.f()}},ss.preconnect=function(d,u){typeof d=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,n.d.C(d,u))},ss.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},ss.preinit=function(d,u){if(typeof d=="string"&&u&&typeof u.as=="string"){var i=u.as,m=c(i,u.crossOrigin),g=typeof u.integrity=="string"?u.integrity:void 0,x=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;i==="style"?n.d.S(d,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:x}):i==="script"&&n.d.X(d,{crossOrigin:m,integrity:g,fetchPriority:x,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},ss.preinitModule=function(d,u){if(typeof d=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var i=c(u.as,u.crossOrigin);n.d.M(d,{crossOrigin:i,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&n.d.M(d)},ss.preload=function(d,u){if(typeof d=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var i=u.as,m=c(i,u.crossOrigin);n.d.L(d,i,{crossOrigin:m,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},ss.preloadModule=function(d,u){if(typeof d=="string")if(u){var i=c(u.as,u.crossOrigin);n.d.m(d,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:i,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else n.d.m(d)},ss.requestFormReset=function(d){n.d.r(d)},ss.unstable_batchedUpdates=function(d,u){return d(u)},ss.useFormState=function(d,u,i){return l.H.useFormState(d,u,i)},ss.useFormStatus=function(){return l.H.useHostTransitionStatus()},ss.version="19.1.0",ss}var TM;function f2(){if(TM)return wN.exports;TM=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),wN.exports=pJ(),wN.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RM;function gJ(){if(RM)return _h;RM=1;var e=hJ(),t=fc(),r=f2();function n(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)p+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function o(f){var p=f,S=f;if(f.alternate)for(;p.return;)p=p.return;else{f=p;do p=f,(p.flags&4098)!==0&&(S=p.return),f=p.return;while(f)}return p.tag===3?S:null}function l(f){if(f.tag===13){var p=f.memoizedState;if(p===null&&(f=f.alternate,f!==null&&(p=f.memoizedState)),p!==null)return p.dehydrated}return null}function c(f){if(o(f)!==f)throw Error(n(188))}function d(f){var p=f.alternate;if(!p){if(p=o(f),p===null)throw Error(n(188));return p!==f?null:f}for(var S=f,E=p;;){var D=S.return;if(D===null)break;var O=D.alternate;if(O===null){if(E=D.return,E!==null){S=E;continue}break}if(D.child===O.child){for(O=D.child;O;){if(O===S)return c(D),f;if(O===E)return c(D),p;O=O.sibling}throw Error(n(188))}if(S.return!==E.return)S=D,E=O;else{for(var $=!1,V=D.child;V;){if(V===S){$=!0,S=D,E=O;break}if(V===E){$=!0,E=D,S=O;break}V=V.sibling}if(!$){for(V=O.child;V;){if(V===S){$=!0,S=O,E=D;break}if(V===E){$=!0,E=O,S=D;break}V=V.sibling}if(!$)throw Error(n(189))}}if(S.alternate!==E)throw Error(n(190))}if(S.tag!==3)throw Error(n(188));return S.stateNode.current===S?f:p}function u(f){var p=f.tag;if(p===5||p===26||p===27||p===6)return f;for(f=f.child;f!==null;){if(p=u(f),p!==null)return p;f=f.sibling}return null}var i=Object.assign,m=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),j=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function I(f){return f===null||typeof f!="object"?null:(f=M&&f[M]||f["@@iterator"],typeof f=="function"?f:null)}var L=Symbol.for("react.client.reference");function B(f){if(f==null)return null;if(typeof f=="function")return f.$$typeof===L?null:f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case v:return"Fragment";case h:return"Profiler";case N:return"StrictMode";case _:return"Suspense";case k:return"SuspenseList";case R:return"Activity"}if(typeof f=="object")switch(f.$$typeof){case x:return"Portal";case j:return(f.displayName||"Context")+".Provider";case w:return(f._context.displayName||"Context")+".Consumer";case C:var p=f.render;return f=f.displayName,f||(f=p.displayName||p.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case A:return p=f.displayName||null,p!==null?p:B(f.type)||"Memo";case T:p=f._payload,f=f._init;try{return B(f(p))}catch{}}return null}var U=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},J=[],q=-1;function G(f){return{current:f}}function z(f){0>q||(f.current=J[q],J[q]=null,q--)}function K(f,p){q++,J[q]=f.current,f.current=p}var Z=G(null),ie=G(null),ye=G(null),de=G(null);function xe(f,p){switch(K(ye,p),K(ie,f),K(Z,null),p.nodeType){case 9:case 11:f=(f=p.documentElement)&&(f=f.namespaceURI)?Q4(f):0;break;default:if(f=p.tagName,p=p.namespaceURI)p=Q4(p),f=J4(p,f);else switch(f){case"svg":f=1;break;case"math":f=2;break;default:f=0}}z(Z),K(Z,f)}function ne(){z(Z),z(ie),z(ye)}function ge(f){f.memoizedState!==null&&K(de,f);var p=Z.current,S=J4(p,f.type);p!==S&&(K(ie,f),K(Z,S))}function Ce(f){ie.current===f&&(z(Z),z(ie)),de.current===f&&(z(de),wh._currentValue=W)}var ce=Object.prototype.hasOwnProperty,Oe=e.unstable_scheduleCallback,Pe=e.unstable_cancelCallback,ae=e.unstable_shouldYield,$e=e.unstable_requestPaint,nt=e.unstable_now,oe=e.unstable_getCurrentPriorityLevel,Fe=e.unstable_ImmediatePriority,Q=e.unstable_UserBlockingPriority,Y=e.unstable_NormalPriority,re=e.unstable_LowPriority,we=e.unstable_IdlePriority,_e=e.log,Ee=e.unstable_setDisableYieldValue,qe=null,mt=null;function yt(f){if(typeof _e=="function"&&Ee(f),mt&&typeof mt.setStrictMode=="function")try{mt.setStrictMode(qe,f)}catch{}}var Ft=Math.clz32?Math.clz32:Ga,Zn=Math.log,Nn=Math.LN2;function Ga(f){return f>>>=0,f===0?32:31-(Zn(f)/Nn|0)|0}var ga=256,Vs=4194304;function As(f){var p=f&42;if(p!==0)return p;switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return f&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return f}}function xa(f,p,S){var E=f.pendingLanes;if(E===0)return 0;var D=0,O=f.suspendedLanes,$=f.pingedLanes;f=f.warmLanes;var V=E&134217727;return V!==0?(E=V&~O,E!==0?D=As(E):($&=V,$!==0?D=As($):S||(S=V&~f,S!==0&&(D=As(S))))):(V=E&~O,V!==0?D=As(V):$!==0?D=As($):S||(S=E&~f,S!==0&&(D=As(S)))),D===0?0:p!==0&&p!==D&&(p&O)===0&&(O=D&-D,S=p&-p,O>=S||O===32&&(S&4194048)!==0)?p:D}function Ya(f,p){return(f.pendingLanes&~(f.suspendedLanes&~f.pingedLanes)&p)===0}function jt(f,p){switch(f){case 1:case 2:case 4:case 8:case 64:return p+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lr(){var f=ga;return ga<<=1,(ga&4194048)===0&&(ga=256),f}function bt(){var f=Vs;return Vs<<=1,(Vs&62914560)===0&&(Vs=4194304),f}function Jt(f){for(var p=[],S=0;31>S;S++)p.push(f);return p}function Kr(f,p){f.pendingLanes|=p,p!==268435456&&(f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0)}function Kt(f,p,S,E,D,O){var $=f.pendingLanes;f.pendingLanes=S,f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0,f.expiredLanes&=S,f.entangledLanes&=S,f.errorRecoveryDisabledLanes&=S,f.shellSuspendCounter=0;var V=f.entanglements,te=f.expirationTimes,me=f.hiddenUpdates;for(S=$&~S;0<S;){var Ae=31-Ft(S),Me=1<<Ae;V[Ae]=0,te[Ae]=-1;var ve=me[Ae];if(ve!==null)for(me[Ae]=null,Ae=0;Ae<ve.length;Ae++){var Se=ve[Ae];Se!==null&&(Se.lane&=-536870913)}S&=~Me}E!==0&&ru(f,E,0),O!==0&&D===0&&f.tag!==0&&(f.suspendedLanes|=O&~($&~p))}function ru(f,p,S){f.pendingLanes|=p,f.suspendedLanes&=~p;var E=31-Ft(p);f.entangledLanes|=p,f.entanglements[E]=f.entanglements[E]|1073741824|S&4194090}function nu(f,p){var S=f.entangledLanes|=p;for(f=f.entanglements;S;){var E=31-Ft(S),D=1<<E;D&p|f[E]&p&&(f[E]|=p),S&=~D}}function ml(f){switch(f){case 2:f=1;break;case 8:f=4;break;case 32:f=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:f=128;break;case 268435456:f=134217728;break;default:f=0}return f}function li(f){return f&=-f,2<f?8<f?(f&134217727)!==0?32:268435456:8:2}function hl(){var f=H.p;return f!==0?f:(f=window.event,f===void 0?32:vM(f.type))}function Jg(f,p){var S=H.p;try{return H.p=f,p()}finally{H.p=S}}var wo=Math.random().toString(36).slice(2),Cn="__reactFiber$"+wo,mr="__reactProps$"+wo,ps="__reactContainer$"+wo,su="__reactEvents$"+wo,iS="__reactListeners$"+wo,JK="__reactHandles$"+wo,UT="__reactResources$"+wo,Rm="__reactMarker$"+wo;function lS(f){delete f[Cn],delete f[mr],delete f[su],delete f[iS],delete f[JK]}function au(f){var p=f[Cn];if(p)return p;for(var S=f.parentNode;S;){if(p=S[ps]||S[Cn]){if(S=p.alternate,p.child!==null||S!==null&&S.child!==null)for(f=nM(f);f!==null;){if(S=f[Cn])return S;f=nM(f)}return p}f=S,S=f.parentNode}return null}function ou(f){if(f=f[Cn]||f[ps]){var p=f.tag;if(p===5||p===6||p===13||p===26||p===27||p===3)return f}return null}function Pm(f){var p=f.tag;if(p===5||p===26||p===27||p===6)return f.stateNode;throw Error(n(33))}function iu(f){var p=f[UT];return p||(p=f[UT]={hoistableStyles:new Map,hoistableScripts:new Map}),p}function On(f){f[Rm]=!0}var $T=new Set,HT={};function Tc(f,p){lu(f,p),lu(f+"Capture",p)}function lu(f,p){for(HT[f]=p,f=0;f<p.length;f++)$T.add(p[f])}var eX=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zT={},qT={};function tX(f){return ce.call(qT,f)?!0:ce.call(zT,f)?!1:eX.test(f)?qT[f]=!0:(zT[f]=!0,!1)}function ex(f,p,S){if(tX(p))if(S===null)f.removeAttribute(p);else{switch(typeof S){case"undefined":case"function":case"symbol":f.removeAttribute(p);return;case"boolean":var E=p.toLowerCase().slice(0,5);if(E!=="data-"&&E!=="aria-"){f.removeAttribute(p);return}}f.setAttribute(p,""+S)}}function tx(f,p,S){if(S===null)f.removeAttribute(p);else{switch(typeof S){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(p);return}f.setAttribute(p,""+S)}}function ci(f,p,S,E){if(E===null)f.removeAttribute(S);else{switch(typeof E){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(S);return}f.setAttributeNS(p,S,""+E)}}var cS,VT;function cu(f){if(cS===void 0)try{throw Error()}catch(S){var p=S.stack.trim().match(/\n( *(at )?)/);cS=p&&p[1]||"",VT=-1<S.stack.indexOf(`
    at`)?" (<anonymous>)":-1<S.stack.indexOf("@")?"@unknown:0:0":""}return`
`+cS+f+VT}var dS=!1;function uS(f,p){if(!f||dS)return"";dS=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var E={DetermineComponentFrameRoot:function(){try{if(p){var Me=function(){throw Error()};if(Object.defineProperty(Me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Me,[])}catch(Se){var ve=Se}Reflect.construct(f,[],Me)}else{try{Me.call()}catch(Se){ve=Se}f.call(Me.prototype)}}else{try{throw Error()}catch(Se){ve=Se}(Me=f())&&typeof Me.catch=="function"&&Me.catch(function(){})}}catch(Se){if(Se&&ve&&typeof Se.stack=="string")return[Se.stack,ve.stack]}return[null,null]}};E.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var D=Object.getOwnPropertyDescriptor(E.DetermineComponentFrameRoot,"name");D&&D.configurable&&Object.defineProperty(E.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var O=E.DetermineComponentFrameRoot(),$=O[0],V=O[1];if($&&V){var te=$.split(`
`),me=V.split(`
`);for(D=E=0;E<te.length&&!te[E].includes("DetermineComponentFrameRoot");)E++;for(;D<me.length&&!me[D].includes("DetermineComponentFrameRoot");)D++;if(E===te.length||D===me.length)for(E=te.length-1,D=me.length-1;1<=E&&0<=D&&te[E]!==me[D];)D--;for(;1<=E&&0<=D;E--,D--)if(te[E]!==me[D]){if(E!==1||D!==1)do if(E--,D--,0>D||te[E]!==me[D]){var Ae=`
`+te[E].replace(" at new "," at ");return f.displayName&&Ae.includes("<anonymous>")&&(Ae=Ae.replace("<anonymous>",f.displayName)),Ae}while(1<=E&&0<=D);break}}}finally{dS=!1,Error.prepareStackTrace=S}return(S=f?f.displayName||f.name:"")?cu(S):""}function rX(f){switch(f.tag){case 26:case 27:case 5:return cu(f.type);case 16:return cu("Lazy");case 13:return cu("Suspense");case 19:return cu("SuspenseList");case 0:case 15:return uS(f.type,!1);case 11:return uS(f.type.render,!1);case 1:return uS(f.type,!0);case 31:return cu("Activity");default:return""}}function WT(f){try{var p="";do p+=rX(f),f=f.return;while(f);return p}catch(S){return`
Error generating stack: `+S.message+`
`+S.stack}}function va(f){switch(typeof f){case"bigint":case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function GT(f){var p=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function nX(f){var p=GT(f)?"checked":"value",S=Object.getOwnPropertyDescriptor(f.constructor.prototype,p),E=""+f[p];if(!f.hasOwnProperty(p)&&typeof S<"u"&&typeof S.get=="function"&&typeof S.set=="function"){var D=S.get,O=S.set;return Object.defineProperty(f,p,{configurable:!0,get:function(){return D.call(this)},set:function($){E=""+$,O.call(this,$)}}),Object.defineProperty(f,p,{enumerable:S.enumerable}),{getValue:function(){return E},setValue:function($){E=""+$},stopTracking:function(){f._valueTracker=null,delete f[p]}}}}function rx(f){f._valueTracker||(f._valueTracker=nX(f))}function YT(f){if(!f)return!1;var p=f._valueTracker;if(!p)return!0;var S=p.getValue(),E="";return f&&(E=GT(f)?f.checked?"true":"false":f.value),f=E,f!==S?(p.setValue(f),!0):!1}function nx(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}var sX=/[\n"\\]/g;function ya(f){return f.replace(sX,function(p){return"\\"+p.charCodeAt(0).toString(16)+" "})}function fS(f,p,S,E,D,O,$,V){f.name="",$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?f.type=$:f.removeAttribute("type"),p!=null?$==="number"?(p===0&&f.value===""||f.value!=p)&&(f.value=""+va(p)):f.value!==""+va(p)&&(f.value=""+va(p)):$!=="submit"&&$!=="reset"||f.removeAttribute("value"),p!=null?mS(f,$,va(p)):S!=null?mS(f,$,va(S)):E!=null&&f.removeAttribute("value"),D==null&&O!=null&&(f.defaultChecked=!!O),D!=null&&(f.checked=D&&typeof D!="function"&&typeof D!="symbol"),V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?f.name=""+va(V):f.removeAttribute("name")}function ZT(f,p,S,E,D,O,$,V){if(O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(f.type=O),p!=null||S!=null){if(!(O!=="submit"&&O!=="reset"||p!=null))return;S=S!=null?""+va(S):"",p=p!=null?""+va(p):S,V||p===f.value||(f.value=p),f.defaultValue=p}E=E??D,E=typeof E!="function"&&typeof E!="symbol"&&!!E,f.checked=V?f.checked:!!E,f.defaultChecked=!!E,$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"&&(f.name=$)}function mS(f,p,S){p==="number"&&nx(f.ownerDocument)===f||f.defaultValue===""+S||(f.defaultValue=""+S)}function du(f,p,S,E){if(f=f.options,p){p={};for(var D=0;D<S.length;D++)p["$"+S[D]]=!0;for(S=0;S<f.length;S++)D=p.hasOwnProperty("$"+f[S].value),f[S].selected!==D&&(f[S].selected=D),D&&E&&(f[S].defaultSelected=!0)}else{for(S=""+va(S),p=null,D=0;D<f.length;D++){if(f[D].value===S){f[D].selected=!0,E&&(f[D].defaultSelected=!0);return}p!==null||f[D].disabled||(p=f[D])}p!==null&&(p.selected=!0)}}function KT(f,p,S){if(p!=null&&(p=""+va(p),p!==f.value&&(f.value=p),S==null)){f.defaultValue!==p&&(f.defaultValue=p);return}f.defaultValue=S!=null?""+va(S):""}function XT(f,p,S,E){if(p==null){if(E!=null){if(S!=null)throw Error(n(92));if(U(E)){if(1<E.length)throw Error(n(93));E=E[0]}S=E}S==null&&(S=""),p=S}S=va(p),f.defaultValue=S,E=f.textContent,E===S&&E!==""&&E!==null&&(f.value=E)}function uu(f,p){if(p){var S=f.firstChild;if(S&&S===f.lastChild&&S.nodeType===3){S.nodeValue=p;return}}f.textContent=p}var aX=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function QT(f,p,S){var E=p.indexOf("--")===0;S==null||typeof S=="boolean"||S===""?E?f.setProperty(p,""):p==="float"?f.cssFloat="":f[p]="":E?f.setProperty(p,S):typeof S!="number"||S===0||aX.has(p)?p==="float"?f.cssFloat=S:f[p]=(""+S).trim():f[p]=S+"px"}function JT(f,p,S){if(p!=null&&typeof p!="object")throw Error(n(62));if(f=f.style,S!=null){for(var E in S)!S.hasOwnProperty(E)||p!=null&&p.hasOwnProperty(E)||(E.indexOf("--")===0?f.setProperty(E,""):E==="float"?f.cssFloat="":f[E]="");for(var D in p)E=p[D],p.hasOwnProperty(D)&&S[D]!==E&&QT(f,D,E)}else for(var O in p)p.hasOwnProperty(O)&&QT(f,O,p[O])}function hS(f){if(f.indexOf("-")===-1)return!1;switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oX=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),iX=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sx(f){return iX.test(""+f)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":f}var pS=null;function gS(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var fu=null,mu=null;function eR(f){var p=ou(f);if(p&&(f=p.stateNode)){var S=f[mr]||null;e:switch(f=p.stateNode,p.type){case"input":if(fS(f,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name),p=S.name,S.type==="radio"&&p!=null){for(S=f;S.parentNode;)S=S.parentNode;for(S=S.querySelectorAll('input[name="'+ya(""+p)+'"][type="radio"]'),p=0;p<S.length;p++){var E=S[p];if(E!==f&&E.form===f.form){var D=E[mr]||null;if(!D)throw Error(n(90));fS(E,D.value,D.defaultValue,D.defaultValue,D.checked,D.defaultChecked,D.type,D.name)}}for(p=0;p<S.length;p++)E=S[p],E.form===f.form&&YT(E)}break e;case"textarea":KT(f,S.value,S.defaultValue);break e;case"select":p=S.value,p!=null&&du(f,!!S.multiple,p,!1)}}}var xS=!1;function tR(f,p,S){if(xS)return f(p,S);xS=!0;try{var E=f(p);return E}finally{if(xS=!1,(fu!==null||mu!==null)&&(zx(),fu&&(p=fu,f=mu,mu=fu=null,eR(p),f)))for(p=0;p<f.length;p++)eR(f[p])}}function Mm(f,p){var S=f.stateNode;if(S===null)return null;var E=S[mr]||null;if(E===null)return null;S=E[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(E=!E.disabled)||(f=f.type,E=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!E;break e;default:f=!1}if(f)return null;if(S&&typeof S!="function")throw Error(n(231,p,typeof S));return S}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vS=!1;if(di)try{var Om={};Object.defineProperty(Om,"passive",{get:function(){vS=!0}}),window.addEventListener("test",Om,Om),window.removeEventListener("test",Om,Om)}catch{vS=!1}var pl=null,yS=null,ax=null;function rR(){if(ax)return ax;var f,p=yS,S=p.length,E,D="value"in pl?pl.value:pl.textContent,O=D.length;for(f=0;f<S&&p[f]===D[f];f++);var $=S-f;for(E=1;E<=$&&p[S-E]===D[O-E];E++);return ax=D.slice(f,1<E?1-E:void 0)}function ox(f){var p=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&p===13&&(f=13)):f=p,f===10&&(f=13),32<=f||f===13?f:0}function ix(){return!0}function nR(){return!1}function ks(f){function p(S,E,D,O,$){this._reactName=S,this._targetInst=D,this.type=E,this.nativeEvent=O,this.target=$,this.currentTarget=null;for(var V in f)f.hasOwnProperty(V)&&(S=f[V],this[V]=S?S(O):O[V]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?ix:nR,this.isPropagationStopped=nR,this}return i(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var S=this.nativeEvent;S&&(S.preventDefault?S.preventDefault():typeof S.returnValue!="unknown"&&(S.returnValue=!1),this.isDefaultPrevented=ix)},stopPropagation:function(){var S=this.nativeEvent;S&&(S.stopPropagation?S.stopPropagation():typeof S.cancelBubble!="unknown"&&(S.cancelBubble=!0),this.isPropagationStopped=ix)},persist:function(){},isPersistent:ix}),p}var Rc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lx=ks(Rc),Im=i({},Rc,{view:0,detail:0}),lX=ks(Im),bS,wS,Lm,cx=i({},Im,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jS,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==Lm&&(Lm&&f.type==="mousemove"?(bS=f.screenX-Lm.screenX,wS=f.screenY-Lm.screenY):wS=bS=0,Lm=f),bS)},movementY:function(f){return"movementY"in f?f.movementY:wS}}),sR=ks(cx),cX=i({},cx,{dataTransfer:0}),dX=ks(cX),uX=i({},Im,{relatedTarget:0}),SS=ks(uX),fX=i({},Rc,{animationName:0,elapsedTime:0,pseudoElement:0}),mX=ks(fX),hX=i({},Rc,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),pX=ks(hX),gX=i({},Rc,{data:0}),aR=ks(gX),xX={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vX={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yX={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bX(f){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(f):(f=yX[f])?!!p[f]:!1}function jS(){return bX}var wX=i({},Im,{key:function(f){if(f.key){var p=xX[f.key]||f.key;if(p!=="Unidentified")return p}return f.type==="keypress"?(f=ox(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?vX[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jS,charCode:function(f){return f.type==="keypress"?ox(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?ox(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),SX=ks(wX),jX=i({},cx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oR=ks(jX),NX=i({},Im,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jS}),CX=ks(NX),EX=i({},Rc,{propertyName:0,elapsedTime:0,pseudoElement:0}),_X=ks(EX),AX=i({},cx,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),kX=ks(AX),DX=i({},Rc,{newState:0,oldState:0}),TX=ks(DX),RX=[9,13,27,32],NS=di&&"CompositionEvent"in window,Bm=null;di&&"documentMode"in document&&(Bm=document.documentMode);var PX=di&&"TextEvent"in window&&!Bm,iR=di&&(!NS||Bm&&8<Bm&&11>=Bm),lR=" ",cR=!1;function dR(f,p){switch(f){case"keyup":return RX.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uR(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var hu=!1;function MX(f,p){switch(f){case"compositionend":return uR(p);case"keypress":return p.which!==32?null:(cR=!0,lR);case"textInput":return f=p.data,f===lR&&cR?null:f;default:return null}}function OX(f,p){if(hu)return f==="compositionend"||!NS&&dR(f,p)?(f=rR(),ax=yS=pl=null,hu=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return iR&&p.locale!=="ko"?null:p.data;default:return null}}var IX={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fR(f){var p=f&&f.nodeName&&f.nodeName.toLowerCase();return p==="input"?!!IX[f.type]:p==="textarea"}function mR(f,p,S,E){fu?mu?mu.push(E):mu=[E]:fu=E,p=Zx(p,"onChange"),0<p.length&&(S=new lx("onChange","change",null,S,E),f.push({event:S,listeners:p}))}var Fm=null,Um=null;function LX(f){G4(f,0)}function dx(f){var p=Pm(f);if(YT(p))return f}function hR(f,p){if(f==="change")return p}var pR=!1;if(di){var CS;if(di){var ES="oninput"in document;if(!ES){var gR=document.createElement("div");gR.setAttribute("oninput","return;"),ES=typeof gR.oninput=="function"}CS=ES}else CS=!1;pR=CS&&(!document.documentMode||9<document.documentMode)}function xR(){Fm&&(Fm.detachEvent("onpropertychange",vR),Um=Fm=null)}function vR(f){if(f.propertyName==="value"&&dx(Um)){var p=[];mR(p,Um,f,gS(f)),tR(LX,p)}}function BX(f,p,S){f==="focusin"?(xR(),Fm=p,Um=S,Fm.attachEvent("onpropertychange",vR)):f==="focusout"&&xR()}function FX(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return dx(Um)}function UX(f,p){if(f==="click")return dx(p)}function $X(f,p){if(f==="input"||f==="change")return dx(p)}function HX(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var Ws=typeof Object.is=="function"?Object.is:HX;function $m(f,p){if(Ws(f,p))return!0;if(typeof f!="object"||f===null||typeof p!="object"||p===null)return!1;var S=Object.keys(f),E=Object.keys(p);if(S.length!==E.length)return!1;for(E=0;E<S.length;E++){var D=S[E];if(!ce.call(p,D)||!Ws(f[D],p[D]))return!1}return!0}function yR(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function bR(f,p){var S=yR(f);f=0;for(var E;S;){if(S.nodeType===3){if(E=f+S.textContent.length,f<=p&&E>=p)return{node:S,offset:p-f};f=E}e:{for(;S;){if(S.nextSibling){S=S.nextSibling;break e}S=S.parentNode}S=void 0}S=yR(S)}}function wR(f,p){return f&&p?f===p?!0:f&&f.nodeType===3?!1:p&&p.nodeType===3?wR(f,p.parentNode):"contains"in f?f.contains(p):f.compareDocumentPosition?!!(f.compareDocumentPosition(p)&16):!1:!1}function SR(f){f=f!=null&&f.ownerDocument!=null&&f.ownerDocument.defaultView!=null?f.ownerDocument.defaultView:window;for(var p=nx(f.document);p instanceof f.HTMLIFrameElement;){try{var S=typeof p.contentWindow.location.href=="string"}catch{S=!1}if(S)f=p.contentWindow;else break;p=nx(f.document)}return p}function _S(f){var p=f&&f.nodeName&&f.nodeName.toLowerCase();return p&&(p==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||p==="textarea"||f.contentEditable==="true")}var zX=di&&"documentMode"in document&&11>=document.documentMode,pu=null,AS=null,Hm=null,kS=!1;function jR(f,p,S){var E=S.window===S?S.document:S.nodeType===9?S:S.ownerDocument;kS||pu==null||pu!==nx(E)||(E=pu,"selectionStart"in E&&_S(E)?E={start:E.selectionStart,end:E.selectionEnd}:(E=(E.ownerDocument&&E.ownerDocument.defaultView||window).getSelection(),E={anchorNode:E.anchorNode,anchorOffset:E.anchorOffset,focusNode:E.focusNode,focusOffset:E.focusOffset}),Hm&&$m(Hm,E)||(Hm=E,E=Zx(AS,"onSelect"),0<E.length&&(p=new lx("onSelect","select",null,p,S),f.push({event:p,listeners:E}),p.target=pu)))}function Pc(f,p){var S={};return S[f.toLowerCase()]=p.toLowerCase(),S["Webkit"+f]="webkit"+p,S["Moz"+f]="moz"+p,S}var gu={animationend:Pc("Animation","AnimationEnd"),animationiteration:Pc("Animation","AnimationIteration"),animationstart:Pc("Animation","AnimationStart"),transitionrun:Pc("Transition","TransitionRun"),transitionstart:Pc("Transition","TransitionStart"),transitioncancel:Pc("Transition","TransitionCancel"),transitionend:Pc("Transition","TransitionEnd")},DS={},NR={};di&&(NR=document.createElement("div").style,"AnimationEvent"in window||(delete gu.animationend.animation,delete gu.animationiteration.animation,delete gu.animationstart.animation),"TransitionEvent"in window||delete gu.transitionend.transition);function Mc(f){if(DS[f])return DS[f];if(!gu[f])return f;var p=gu[f],S;for(S in p)if(p.hasOwnProperty(S)&&S in NR)return DS[f]=p[S];return f}var CR=Mc("animationend"),ER=Mc("animationiteration"),_R=Mc("animationstart"),qX=Mc("transitionrun"),VX=Mc("transitionstart"),WX=Mc("transitioncancel"),AR=Mc("transitionend"),kR=new Map,TS="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");TS.push("scrollEnd");function Za(f,p){kR.set(f,p),Tc(p,[f])}var DR=new WeakMap;function ba(f,p){if(typeof f=="object"&&f!==null){var S=DR.get(f);return S!==void 0?S:(p={value:f,source:p,stack:WT(p)},DR.set(f,p),p)}return{value:f,source:p,stack:WT(p)}}var wa=[],xu=0,RS=0;function ux(){for(var f=xu,p=RS=xu=0;p<f;){var S=wa[p];wa[p++]=null;var E=wa[p];wa[p++]=null;var D=wa[p];wa[p++]=null;var O=wa[p];if(wa[p++]=null,E!==null&&D!==null){var $=E.pending;$===null?D.next=D:(D.next=$.next,$.next=D),E.pending=D}O!==0&&TR(S,D,O)}}function fx(f,p,S,E){wa[xu++]=f,wa[xu++]=p,wa[xu++]=S,wa[xu++]=E,RS|=E,f.lanes|=E,f=f.alternate,f!==null&&(f.lanes|=E)}function PS(f,p,S,E){return fx(f,p,S,E),mx(f)}function vu(f,p){return fx(f,null,null,p),mx(f)}function TR(f,p,S){f.lanes|=S;var E=f.alternate;E!==null&&(E.lanes|=S);for(var D=!1,O=f.return;O!==null;)O.childLanes|=S,E=O.alternate,E!==null&&(E.childLanes|=S),O.tag===22&&(f=O.stateNode,f===null||f._visibility&1||(D=!0)),f=O,O=O.return;return f.tag===3?(O=f.stateNode,D&&p!==null&&(D=31-Ft(S),f=O.hiddenUpdates,E=f[D],E===null?f[D]=[p]:E.push(p),p.lane=S|536870912),O):null}function mx(f){if(50<mh)throw mh=0,Fj=null,Error(n(185));for(var p=f.return;p!==null;)f=p,p=f.return;return f.tag===3?f.stateNode:null}var yu={};function GX(f,p,S,E){this.tag=f,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gs(f,p,S,E){return new GX(f,p,S,E)}function MS(f){return f=f.prototype,!(!f||!f.isReactComponent)}function ui(f,p){var S=f.alternate;return S===null?(S=Gs(f.tag,p,f.key,f.mode),S.elementType=f.elementType,S.type=f.type,S.stateNode=f.stateNode,S.alternate=f,f.alternate=S):(S.pendingProps=p,S.type=f.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=f.flags&65011712,S.childLanes=f.childLanes,S.lanes=f.lanes,S.child=f.child,S.memoizedProps=f.memoizedProps,S.memoizedState=f.memoizedState,S.updateQueue=f.updateQueue,p=f.dependencies,S.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},S.sibling=f.sibling,S.index=f.index,S.ref=f.ref,S.refCleanup=f.refCleanup,S}function RR(f,p){f.flags&=65011714;var S=f.alternate;return S===null?(f.childLanes=0,f.lanes=p,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=S.childLanes,f.lanes=S.lanes,f.child=S.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=S.memoizedProps,f.memoizedState=S.memoizedState,f.updateQueue=S.updateQueue,f.type=S.type,p=S.dependencies,f.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),f}function hx(f,p,S,E,D,O){var $=0;if(E=f,typeof f=="function")MS(f)&&($=1);else if(typeof f=="string")$=ZQ(f,S,Z.current)?26:f==="html"||f==="head"||f==="body"?27:5;else e:switch(f){case R:return f=Gs(31,S,p,D),f.elementType=R,f.lanes=O,f;case v:return Oc(S.children,D,O,p);case N:$=8,D|=24;break;case h:return f=Gs(12,S,p,D|2),f.elementType=h,f.lanes=O,f;case _:return f=Gs(13,S,p,D),f.elementType=_,f.lanes=O,f;case k:return f=Gs(19,S,p,D),f.elementType=k,f.lanes=O,f;default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case y:case j:$=10;break e;case w:$=9;break e;case C:$=11;break e;case A:$=14;break e;case T:$=16,E=null;break e}$=29,S=Error(n(130,f===null?"null":typeof f,"")),E=null}return p=Gs($,S,p,D),p.elementType=f,p.type=E,p.lanes=O,p}function Oc(f,p,S,E){return f=Gs(7,f,E,p),f.lanes=S,f}function OS(f,p,S){return f=Gs(6,f,null,p),f.lanes=S,f}function IS(f,p,S){return p=Gs(4,f.children!==null?f.children:[],f.key,p),p.lanes=S,p.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},p}var bu=[],wu=0,px=null,gx=0,Sa=[],ja=0,Ic=null,fi=1,mi="";function Lc(f,p){bu[wu++]=gx,bu[wu++]=px,px=f,gx=p}function PR(f,p,S){Sa[ja++]=fi,Sa[ja++]=mi,Sa[ja++]=Ic,Ic=f;var E=fi;f=mi;var D=32-Ft(E)-1;E&=~(1<<D),S+=1;var O=32-Ft(p)+D;if(30<O){var $=D-D%5;O=(E&(1<<$)-1).toString(32),E>>=$,D-=$,fi=1<<32-Ft(p)+D|S<<D|E,mi=O+f}else fi=1<<O|S<<D|E,mi=f}function LS(f){f.return!==null&&(Lc(f,1),PR(f,1,0))}function BS(f){for(;f===px;)px=bu[--wu],bu[wu]=null,gx=bu[--wu],bu[wu]=null;for(;f===Ic;)Ic=Sa[--ja],Sa[ja]=null,mi=Sa[--ja],Sa[ja]=null,fi=Sa[--ja],Sa[ja]=null}var gs=null,Xr=null,nr=!1,Bc=null,So=!1,FS=Error(n(519));function Fc(f){var p=Error(n(418,""));throw Vm(ba(p,f)),FS}function MR(f){var p=f.stateNode,S=f.type,E=f.memoizedProps;switch(p[Cn]=f,p[mr]=E,S){case"dialog":$t("cancel",p),$t("close",p);break;case"iframe":case"object":case"embed":$t("load",p);break;case"video":case"audio":for(S=0;S<ph.length;S++)$t(ph[S],p);break;case"source":$t("error",p);break;case"img":case"image":case"link":$t("error",p),$t("load",p);break;case"details":$t("toggle",p);break;case"input":$t("invalid",p),ZT(p,E.value,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name,!0),rx(p);break;case"select":$t("invalid",p);break;case"textarea":$t("invalid",p),XT(p,E.value,E.defaultValue,E.children),rx(p)}S=E.children,typeof S!="string"&&typeof S!="number"&&typeof S!="bigint"||p.textContent===""+S||E.suppressHydrationWarning===!0||X4(p.textContent,S)?(E.popover!=null&&($t("beforetoggle",p),$t("toggle",p)),E.onScroll!=null&&$t("scroll",p),E.onScrollEnd!=null&&$t("scrollend",p),E.onClick!=null&&(p.onclick=Kx),p=!0):p=!1,p||Fc(f)}function OR(f){for(gs=f.return;gs;)switch(gs.tag){case 5:case 13:So=!1;return;case 27:case 3:So=!0;return;default:gs=gs.return}}function zm(f){if(f!==gs)return!1;if(!nr)return OR(f),nr=!0,!1;var p=f.tag,S;if((S=p!==3&&p!==27)&&((S=p===5)&&(S=f.type,S=!(S!=="form"&&S!=="button")||tN(f.type,f.memoizedProps)),S=!S),S&&Xr&&Fc(f),OR(f),p===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));e:{for(f=f.nextSibling,p=0;f;){if(f.nodeType===8)if(S=f.data,S==="/$"){if(p===0){Xr=Xa(f.nextSibling);break e}p--}else S!=="$"&&S!=="$!"&&S!=="$?"||p++;f=f.nextSibling}Xr=null}}else p===27?(p=Xr,Tl(f.type)?(f=aN,aN=null,Xr=f):Xr=p):Xr=gs?Xa(f.stateNode.nextSibling):null;return!0}function qm(){Xr=gs=null,nr=!1}function IR(){var f=Bc;return f!==null&&(Rs===null?Rs=f:Rs.push.apply(Rs,f),Bc=null),f}function Vm(f){Bc===null?Bc=[f]:Bc.push(f)}var US=G(null),Uc=null,hi=null;function gl(f,p,S){K(US,p._currentValue),p._currentValue=S}function pi(f){f._currentValue=US.current,z(US)}function $S(f,p,S){for(;f!==null;){var E=f.alternate;if((f.childLanes&p)!==p?(f.childLanes|=p,E!==null&&(E.childLanes|=p)):E!==null&&(E.childLanes&p)!==p&&(E.childLanes|=p),f===S)break;f=f.return}}function HS(f,p,S,E){var D=f.child;for(D!==null&&(D.return=f);D!==null;){var O=D.dependencies;if(O!==null){var $=D.child;O=O.firstContext;e:for(;O!==null;){var V=O;O=D;for(var te=0;te<p.length;te++)if(V.context===p[te]){O.lanes|=S,V=O.alternate,V!==null&&(V.lanes|=S),$S(O.return,S,f),E||($=null);break e}O=V.next}}else if(D.tag===18){if($=D.return,$===null)throw Error(n(341));$.lanes|=S,O=$.alternate,O!==null&&(O.lanes|=S),$S($,S,f),$=null}else $=D.child;if($!==null)$.return=D;else for($=D;$!==null;){if($===f){$=null;break}if(D=$.sibling,D!==null){D.return=$.return,$=D;break}$=$.return}D=$}}function Wm(f,p,S,E){f=null;for(var D=p,O=!1;D!==null;){if(!O){if((D.flags&524288)!==0)O=!0;else if((D.flags&262144)!==0)break}if(D.tag===10){var $=D.alternate;if($===null)throw Error(n(387));if($=$.memoizedProps,$!==null){var V=D.type;Ws(D.pendingProps.value,$.value)||(f!==null?f.push(V):f=[V])}}else if(D===de.current){if($=D.alternate,$===null)throw Error(n(387));$.memoizedState.memoizedState!==D.memoizedState.memoizedState&&(f!==null?f.push(wh):f=[wh])}D=D.return}f!==null&&HS(p,f,S,E),p.flags|=262144}function xx(f){for(f=f.firstContext;f!==null;){if(!Ws(f.context._currentValue,f.memoizedValue))return!0;f=f.next}return!1}function $c(f){Uc=f,hi=null,f=f.dependencies,f!==null&&(f.firstContext=null)}function ns(f){return LR(Uc,f)}function vx(f,p){return Uc===null&&$c(f),LR(f,p)}function LR(f,p){var S=p._currentValue;if(p={context:p,memoizedValue:S,next:null},hi===null){if(f===null)throw Error(n(308));hi=p,f.dependencies={lanes:0,firstContext:p},f.flags|=524288}else hi=hi.next=p;return S}var YX=typeof AbortController<"u"?AbortController:function(){var f=[],p=this.signal={aborted:!1,addEventListener:function(S,E){f.push(E)}};this.abort=function(){p.aborted=!0,f.forEach(function(S){return S()})}},ZX=e.unstable_scheduleCallback,KX=e.unstable_NormalPriority,En={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zS(){return{controller:new YX,data:new Map,refCount:0}}function Gm(f){f.refCount--,f.refCount===0&&ZX(KX,function(){f.controller.abort()})}var Ym=null,qS=0,Su=0,ju=null;function XX(f,p){if(Ym===null){var S=Ym=[];qS=0,Su=Wj(),ju={status:"pending",value:void 0,then:function(E){S.push(E)}}}return qS++,p.then(BR,BR),p}function BR(){if(--qS===0&&Ym!==null){ju!==null&&(ju.status="fulfilled");var f=Ym;Ym=null,Su=0,ju=null;for(var p=0;p<f.length;p++)(0,f[p])()}}function QX(f,p){var S=[],E={status:"pending",value:null,reason:null,then:function(D){S.push(D)}};return f.then(function(){E.status="fulfilled",E.value=p;for(var D=0;D<S.length;D++)(0,S[D])(p)},function(D){for(E.status="rejected",E.reason=D,D=0;D<S.length;D++)(0,S[D])(void 0)}),E}var FR=F.S;F.S=function(f,p){typeof p=="object"&&p!==null&&typeof p.then=="function"&&XX(f,p),FR!==null&&FR(f,p)};var Hc=G(null);function VS(){var f=Hc.current;return f!==null?f:jr.pooledCache}function yx(f,p){p===null?K(Hc,Hc.current):K(Hc,p.pool)}function UR(){var f=VS();return f===null?null:{parent:En._currentValue,pool:f}}var Zm=Error(n(460)),$R=Error(n(474)),bx=Error(n(542)),WS={then:function(){}};function HR(f){return f=f.status,f==="fulfilled"||f==="rejected"}function wx(){}function zR(f,p,S){switch(S=f[S],S===void 0?f.push(p):S!==p&&(p.then(wx,wx),p=S),p.status){case"fulfilled":return p.value;case"rejected":throw f=p.reason,VR(f),f;default:if(typeof p.status=="string")p.then(wx,wx);else{if(f=jr,f!==null&&100<f.shellSuspendCounter)throw Error(n(482));f=p,f.status="pending",f.then(function(E){if(p.status==="pending"){var D=p;D.status="fulfilled",D.value=E}},function(E){if(p.status==="pending"){var D=p;D.status="rejected",D.reason=E}})}switch(p.status){case"fulfilled":return p.value;case"rejected":throw f=p.reason,VR(f),f}throw Km=p,Zm}}var Km=null;function qR(){if(Km===null)throw Error(n(459));var f=Km;return Km=null,f}function VR(f){if(f===Zm||f===bx)throw Error(n(483))}var xl=!1;function GS(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function YS(f,p){f=f.updateQueue,p.updateQueue===f&&(p.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,callbacks:null})}function vl(f){return{lane:f,tag:0,payload:null,callback:null,next:null}}function yl(f,p,S){var E=f.updateQueue;if(E===null)return null;if(E=E.shared,(cr&2)!==0){var D=E.pending;return D===null?p.next=p:(p.next=D.next,D.next=p),E.pending=p,p=mx(f),TR(f,null,S),p}return fx(f,E,p,S),mx(f)}function Xm(f,p,S){if(p=p.updateQueue,p!==null&&(p=p.shared,(S&4194048)!==0)){var E=p.lanes;E&=f.pendingLanes,S|=E,p.lanes=S,nu(f,S)}}function ZS(f,p){var S=f.updateQueue,E=f.alternate;if(E!==null&&(E=E.updateQueue,S===E)){var D=null,O=null;if(S=S.firstBaseUpdate,S!==null){do{var $={lane:S.lane,tag:S.tag,payload:S.payload,callback:null,next:null};O===null?D=O=$:O=O.next=$,S=S.next}while(S!==null);O===null?D=O=p:O=O.next=p}else D=O=p;S={baseState:E.baseState,firstBaseUpdate:D,lastBaseUpdate:O,shared:E.shared,callbacks:E.callbacks},f.updateQueue=S;return}f=S.lastBaseUpdate,f===null?S.firstBaseUpdate=p:f.next=p,S.lastBaseUpdate=p}var KS=!1;function Qm(){if(KS){var f=ju;if(f!==null)throw f}}function Jm(f,p,S,E){KS=!1;var D=f.updateQueue;xl=!1;var O=D.firstBaseUpdate,$=D.lastBaseUpdate,V=D.shared.pending;if(V!==null){D.shared.pending=null;var te=V,me=te.next;te.next=null,$===null?O=me:$.next=me,$=te;var Ae=f.alternate;Ae!==null&&(Ae=Ae.updateQueue,V=Ae.lastBaseUpdate,V!==$&&(V===null?Ae.firstBaseUpdate=me:V.next=me,Ae.lastBaseUpdate=te))}if(O!==null){var Me=D.baseState;$=0,Ae=me=te=null,V=O;do{var ve=V.lane&-536870913,Se=ve!==V.lane;if(Se?(Qt&ve)===ve:(E&ve)===ve){ve!==0&&ve===Su&&(KS=!0),Ae!==null&&(Ae=Ae.next={lane:0,tag:V.tag,payload:V.payload,callback:null,next:null});e:{var wt=f,pt=V;ve=p;var gr=S;switch(pt.tag){case 1:if(wt=pt.payload,typeof wt=="function"){Me=wt.call(gr,Me,ve);break e}Me=wt;break e;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=pt.payload,ve=typeof wt=="function"?wt.call(gr,Me,ve):wt,ve==null)break e;Me=i({},Me,ve);break e;case 2:xl=!0}}ve=V.callback,ve!==null&&(f.flags|=64,Se&&(f.flags|=8192),Se=D.callbacks,Se===null?D.callbacks=[ve]:Se.push(ve))}else Se={lane:ve,tag:V.tag,payload:V.payload,callback:V.callback,next:null},Ae===null?(me=Ae=Se,te=Me):Ae=Ae.next=Se,$|=ve;if(V=V.next,V===null){if(V=D.shared.pending,V===null)break;Se=V,V=Se.next,Se.next=null,D.lastBaseUpdate=Se,D.shared.pending=null}}while(!0);Ae===null&&(te=Me),D.baseState=te,D.firstBaseUpdate=me,D.lastBaseUpdate=Ae,O===null&&(D.shared.lanes=0),_l|=$,f.lanes=$,f.memoizedState=Me}}function WR(f,p){if(typeof f!="function")throw Error(n(191,f));f.call(p)}function GR(f,p){var S=f.callbacks;if(S!==null)for(f.callbacks=null,f=0;f<S.length;f++)WR(S[f],p)}var Nu=G(null),Sx=G(0);function YR(f,p){f=Si,K(Sx,f),K(Nu,p),Si=f|p.baseLanes}function XS(){K(Sx,Si),K(Nu,Nu.current)}function QS(){Si=Sx.current,z(Nu),z(Sx)}var bl=0,Dt=null,hr=null,gn=null,jx=!1,Cu=!1,zc=!1,Nx=0,eh=0,Eu=null,JX=0;function an(){throw Error(n(321))}function JS(f,p){if(p===null)return!1;for(var S=0;S<p.length&&S<f.length;S++)if(!Ws(f[S],p[S]))return!1;return!0}function ej(f,p,S,E,D,O){return bl=O,Dt=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,F.H=f===null||f.memoizedState===null?TP:RP,zc=!1,O=S(E,D),zc=!1,Cu&&(O=KR(p,S,E,D)),ZR(f),O}function ZR(f){F.H=Dx;var p=hr!==null&&hr.next!==null;if(bl=0,gn=hr=Dt=null,jx=!1,eh=0,Eu=null,p)throw Error(n(300));f===null||In||(f=f.dependencies,f!==null&&xx(f)&&(In=!0))}function KR(f,p,S,E){Dt=f;var D=0;do{if(Cu&&(Eu=null),eh=0,Cu=!1,25<=D)throw Error(n(301));if(D+=1,gn=hr=null,f.updateQueue!=null){var O=f.updateQueue;O.lastEffect=null,O.events=null,O.stores=null,O.memoCache!=null&&(O.memoCache.index=0)}F.H=oQ,O=p(S,E)}while(Cu);return O}function eQ(){var f=F.H,p=f.useState()[0];return p=typeof p.then=="function"?th(p):p,f=f.useState()[0],(hr!==null?hr.memoizedState:null)!==f&&(Dt.flags|=1024),p}function tj(){var f=Nx!==0;return Nx=0,f}function rj(f,p,S){p.updateQueue=f.updateQueue,p.flags&=-2053,f.lanes&=~S}function nj(f){if(jx){for(f=f.memoizedState;f!==null;){var p=f.queue;p!==null&&(p.pending=null),f=f.next}jx=!1}bl=0,gn=hr=Dt=null,Cu=!1,eh=Nx=0,Eu=null}function Ds(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?Dt.memoizedState=gn=f:gn=gn.next=f,gn}function xn(){if(hr===null){var f=Dt.alternate;f=f!==null?f.memoizedState:null}else f=hr.next;var p=gn===null?Dt.memoizedState:gn.next;if(p!==null)gn=p,hr=f;else{if(f===null)throw Dt.alternate===null?Error(n(467)):Error(n(310));hr=f,f={memoizedState:hr.memoizedState,baseState:hr.baseState,baseQueue:hr.baseQueue,queue:hr.queue,next:null},gn===null?Dt.memoizedState=gn=f:gn=gn.next=f}return gn}function sj(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function th(f){var p=eh;return eh+=1,Eu===null&&(Eu=[]),f=zR(Eu,f,p),p=Dt,(gn===null?p.memoizedState:gn.next)===null&&(p=p.alternate,F.H=p===null||p.memoizedState===null?TP:RP),f}function Cx(f){if(f!==null&&typeof f=="object"){if(typeof f.then=="function")return th(f);if(f.$$typeof===j)return ns(f)}throw Error(n(438,String(f)))}function aj(f){var p=null,S=Dt.updateQueue;if(S!==null&&(p=S.memoCache),p==null){var E=Dt.alternate;E!==null&&(E=E.updateQueue,E!==null&&(E=E.memoCache,E!=null&&(p={data:E.data.map(function(D){return D.slice()}),index:0})))}if(p==null&&(p={data:[],index:0}),S===null&&(S=sj(),Dt.updateQueue=S),S.memoCache=p,S=p.data[p.index],S===void 0)for(S=p.data[p.index]=Array(f),E=0;E<f;E++)S[E]=P;return p.index++,S}function gi(f,p){return typeof p=="function"?p(f):p}function Ex(f){var p=xn();return oj(p,hr,f)}function oj(f,p,S){var E=f.queue;if(E===null)throw Error(n(311));E.lastRenderedReducer=S;var D=f.baseQueue,O=E.pending;if(O!==null){if(D!==null){var $=D.next;D.next=O.next,O.next=$}p.baseQueue=D=O,E.pending=null}if(O=f.baseState,D===null)f.memoizedState=O;else{p=D.next;var V=$=null,te=null,me=p,Ae=!1;do{var Me=me.lane&-536870913;if(Me!==me.lane?(Qt&Me)===Me:(bl&Me)===Me){var ve=me.revertLane;if(ve===0)te!==null&&(te=te.next={lane:0,revertLane:0,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),Me===Su&&(Ae=!0);else if((bl&ve)===ve){me=me.next,ve===Su&&(Ae=!0);continue}else Me={lane:0,revertLane:me.revertLane,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},te===null?(V=te=Me,$=O):te=te.next=Me,Dt.lanes|=ve,_l|=ve;Me=me.action,zc&&S(O,Me),O=me.hasEagerState?me.eagerState:S(O,Me)}else ve={lane:Me,revertLane:me.revertLane,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},te===null?(V=te=ve,$=O):te=te.next=ve,Dt.lanes|=Me,_l|=Me;me=me.next}while(me!==null&&me!==p);if(te===null?$=O:te.next=V,!Ws(O,f.memoizedState)&&(In=!0,Ae&&(S=ju,S!==null)))throw S;f.memoizedState=O,f.baseState=$,f.baseQueue=te,E.lastRenderedState=O}return D===null&&(E.lanes=0),[f.memoizedState,E.dispatch]}function ij(f){var p=xn(),S=p.queue;if(S===null)throw Error(n(311));S.lastRenderedReducer=f;var E=S.dispatch,D=S.pending,O=p.memoizedState;if(D!==null){S.pending=null;var $=D=D.next;do O=f(O,$.action),$=$.next;while($!==D);Ws(O,p.memoizedState)||(In=!0),p.memoizedState=O,p.baseQueue===null&&(p.baseState=O),S.lastRenderedState=O}return[O,E]}function XR(f,p,S){var E=Dt,D=xn(),O=nr;if(O){if(S===void 0)throw Error(n(407));S=S()}else S=p();var $=!Ws((hr||D).memoizedState,S);$&&(D.memoizedState=S,In=!0),D=D.queue;var V=eP.bind(null,E,D,f);if(rh(2048,8,V,[f]),D.getSnapshot!==p||$||gn!==null&&gn.memoizedState.tag&1){if(E.flags|=2048,_u(9,_x(),JR.bind(null,E,D,S,p),null),jr===null)throw Error(n(349));O||(bl&124)!==0||QR(E,p,S)}return S}function QR(f,p,S){f.flags|=16384,f={getSnapshot:p,value:S},p=Dt.updateQueue,p===null?(p=sj(),Dt.updateQueue=p,p.stores=[f]):(S=p.stores,S===null?p.stores=[f]:S.push(f))}function JR(f,p,S,E){p.value=S,p.getSnapshot=E,tP(p)&&rP(f)}function eP(f,p,S){return S(function(){tP(p)&&rP(f)})}function tP(f){var p=f.getSnapshot;f=f.value;try{var S=p();return!Ws(f,S)}catch{return!0}}function rP(f){var p=vu(f,2);p!==null&&Qs(p,f,2)}function lj(f){var p=Ds();if(typeof f=="function"){var S=f;if(f=S(),zc){yt(!0);try{S()}finally{yt(!1)}}}return p.memoizedState=p.baseState=f,p.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:f},p}function nP(f,p,S,E){return f.baseState=S,oj(f,hr,typeof E=="function"?E:gi)}function tQ(f,p,S,E,D){if(kx(f))throw Error(n(485));if(f=p.action,f!==null){var O={payload:D,action:f,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function($){O.listeners.push($)}};F.T!==null?S(!0):O.isTransition=!1,E(O),S=p.pending,S===null?(O.next=p.pending=O,sP(p,O)):(O.next=S.next,p.pending=S.next=O)}}function sP(f,p){var S=p.action,E=p.payload,D=f.state;if(p.isTransition){var O=F.T,$={};F.T=$;try{var V=S(D,E),te=F.S;te!==null&&te($,V),aP(f,p,V)}catch(me){cj(f,p,me)}finally{F.T=O}}else try{O=S(D,E),aP(f,p,O)}catch(me){cj(f,p,me)}}function aP(f,p,S){S!==null&&typeof S=="object"&&typeof S.then=="function"?S.then(function(E){oP(f,p,E)},function(E){return cj(f,p,E)}):oP(f,p,S)}function oP(f,p,S){p.status="fulfilled",p.value=S,iP(p),f.state=S,p=f.pending,p!==null&&(S=p.next,S===p?f.pending=null:(S=S.next,p.next=S,sP(f,S)))}function cj(f,p,S){var E=f.pending;if(f.pending=null,E!==null){E=E.next;do p.status="rejected",p.reason=S,iP(p),p=p.next;while(p!==E)}f.action=null}function iP(f){f=f.listeners;for(var p=0;p<f.length;p++)(0,f[p])()}function lP(f,p){return p}function cP(f,p){if(nr){var S=jr.formState;if(S!==null){e:{var E=Dt;if(nr){if(Xr){t:{for(var D=Xr,O=So;D.nodeType!==8;){if(!O){D=null;break t}if(D=Xa(D.nextSibling),D===null){D=null;break t}}O=D.data,D=O==="F!"||O==="F"?D:null}if(D){Xr=Xa(D.nextSibling),E=D.data==="F!";break e}}Fc(E)}E=!1}E&&(p=S[0])}}return S=Ds(),S.memoizedState=S.baseState=p,E={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lP,lastRenderedState:p},S.queue=E,S=AP.bind(null,Dt,E),E.dispatch=S,E=lj(!1),O=hj.bind(null,Dt,!1,E.queue),E=Ds(),D={state:p,dispatch:null,action:f,pending:null},E.queue=D,S=tQ.bind(null,Dt,D,O,S),D.dispatch=S,E.memoizedState=f,[p,S,!1]}function dP(f){var p=xn();return uP(p,hr,f)}function uP(f,p,S){if(p=oj(f,p,lP)[0],f=Ex(gi)[0],typeof p=="object"&&p!==null&&typeof p.then=="function")try{var E=th(p)}catch($){throw $===Zm?bx:$}else E=p;p=xn();var D=p.queue,O=D.dispatch;return S!==p.memoizedState&&(Dt.flags|=2048,_u(9,_x(),rQ.bind(null,D,S),null)),[E,O,f]}function rQ(f,p){f.action=p}function fP(f){var p=xn(),S=hr;if(S!==null)return uP(p,S,f);xn(),p=p.memoizedState,S=xn();var E=S.queue.dispatch;return S.memoizedState=f,[p,E,!1]}function _u(f,p,S,E){return f={tag:f,create:S,deps:E,inst:p,next:null},p=Dt.updateQueue,p===null&&(p=sj(),Dt.updateQueue=p),S=p.lastEffect,S===null?p.lastEffect=f.next=f:(E=S.next,S.next=f,f.next=E,p.lastEffect=f),f}function _x(){return{destroy:void 0,resource:void 0}}function mP(){return xn().memoizedState}function Ax(f,p,S,E){var D=Ds();E=E===void 0?null:E,Dt.flags|=f,D.memoizedState=_u(1|p,_x(),S,E)}function rh(f,p,S,E){var D=xn();E=E===void 0?null:E;var O=D.memoizedState.inst;hr!==null&&E!==null&&JS(E,hr.memoizedState.deps)?D.memoizedState=_u(p,O,S,E):(Dt.flags|=f,D.memoizedState=_u(1|p,O,S,E))}function hP(f,p){Ax(8390656,8,f,p)}function pP(f,p){rh(2048,8,f,p)}function gP(f,p){return rh(4,2,f,p)}function xP(f,p){return rh(4,4,f,p)}function vP(f,p){if(typeof p=="function"){f=f();var S=p(f);return function(){typeof S=="function"?S():p(null)}}if(p!=null)return f=f(),p.current=f,function(){p.current=null}}function yP(f,p,S){S=S!=null?S.concat([f]):null,rh(4,4,vP.bind(null,p,f),S)}function dj(){}function bP(f,p){var S=xn();p=p===void 0?null:p;var E=S.memoizedState;return p!==null&&JS(p,E[1])?E[0]:(S.memoizedState=[f,p],f)}function wP(f,p){var S=xn();p=p===void 0?null:p;var E=S.memoizedState;if(p!==null&&JS(p,E[1]))return E[0];if(E=f(),zc){yt(!0);try{f()}finally{yt(!1)}}return S.memoizedState=[E,p],E}function uj(f,p,S){return S===void 0||(bl&1073741824)!==0?f.memoizedState=p:(f.memoizedState=S,f=N4(),Dt.lanes|=f,_l|=f,S)}function SP(f,p,S,E){return Ws(S,p)?S:Nu.current!==null?(f=uj(f,S,E),Ws(f,p)||(In=!0),f):(bl&42)===0?(In=!0,f.memoizedState=S):(f=N4(),Dt.lanes|=f,_l|=f,p)}function jP(f,p,S,E,D){var O=H.p;H.p=O!==0&&8>O?O:8;var $=F.T,V={};F.T=V,hj(f,!1,p,S);try{var te=D(),me=F.S;if(me!==null&&me(V,te),te!==null&&typeof te=="object"&&typeof te.then=="function"){var Ae=QX(te,E);nh(f,p,Ae,Xs(f))}else nh(f,p,E,Xs(f))}catch(Me){nh(f,p,{then:function(){},status:"rejected",reason:Me},Xs())}finally{H.p=O,F.T=$}}function nQ(){}function fj(f,p,S,E){if(f.tag!==5)throw Error(n(476));var D=NP(f).queue;jP(f,D,p,W,S===null?nQ:function(){return CP(f),S(E)})}function NP(f){var p=f.memoizedState;if(p!==null)return p;p={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:W},next:null};var S={};return p.next={memoizedState:S,baseState:S,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:S},next:null},f.memoizedState=p,f=f.alternate,f!==null&&(f.memoizedState=p),p}function CP(f){var p=NP(f).next.queue;nh(f,p,{},Xs())}function mj(){return ns(wh)}function EP(){return xn().memoizedState}function _P(){return xn().memoizedState}function sQ(f){for(var p=f.return;p!==null;){switch(p.tag){case 24:case 3:var S=Xs();f=vl(S);var E=yl(p,f,S);E!==null&&(Qs(E,p,S),Xm(E,p,S)),p={cache:zS()},f.payload=p;return}p=p.return}}function aQ(f,p,S){var E=Xs();S={lane:E,revertLane:0,action:S,hasEagerState:!1,eagerState:null,next:null},kx(f)?kP(p,S):(S=PS(f,p,S,E),S!==null&&(Qs(S,f,E),DP(S,p,E)))}function AP(f,p,S){var E=Xs();nh(f,p,S,E)}function nh(f,p,S,E){var D={lane:E,revertLane:0,action:S,hasEagerState:!1,eagerState:null,next:null};if(kx(f))kP(p,D);else{var O=f.alternate;if(f.lanes===0&&(O===null||O.lanes===0)&&(O=p.lastRenderedReducer,O!==null))try{var $=p.lastRenderedState,V=O($,S);if(D.hasEagerState=!0,D.eagerState=V,Ws(V,$))return fx(f,p,D,0),jr===null&&ux(),!1}catch{}finally{}if(S=PS(f,p,D,E),S!==null)return Qs(S,f,E),DP(S,p,E),!0}return!1}function hj(f,p,S,E){if(E={lane:2,revertLane:Wj(),action:E,hasEagerState:!1,eagerState:null,next:null},kx(f)){if(p)throw Error(n(479))}else p=PS(f,S,E,2),p!==null&&Qs(p,f,2)}function kx(f){var p=f.alternate;return f===Dt||p!==null&&p===Dt}function kP(f,p){Cu=jx=!0;var S=f.pending;S===null?p.next=p:(p.next=S.next,S.next=p),f.pending=p}function DP(f,p,S){if((S&4194048)!==0){var E=p.lanes;E&=f.pendingLanes,S|=E,p.lanes=S,nu(f,S)}}var Dx={readContext:ns,use:Cx,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useLayoutEffect:an,useInsertionEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useSyncExternalStore:an,useId:an,useHostTransitionStatus:an,useFormState:an,useActionState:an,useOptimistic:an,useMemoCache:an,useCacheRefresh:an},TP={readContext:ns,use:Cx,useCallback:function(f,p){return Ds().memoizedState=[f,p===void 0?null:p],f},useContext:ns,useEffect:hP,useImperativeHandle:function(f,p,S){S=S!=null?S.concat([f]):null,Ax(4194308,4,vP.bind(null,p,f),S)},useLayoutEffect:function(f,p){return Ax(4194308,4,f,p)},useInsertionEffect:function(f,p){Ax(4,2,f,p)},useMemo:function(f,p){var S=Ds();p=p===void 0?null:p;var E=f();if(zc){yt(!0);try{f()}finally{yt(!1)}}return S.memoizedState=[E,p],E},useReducer:function(f,p,S){var E=Ds();if(S!==void 0){var D=S(p);if(zc){yt(!0);try{S(p)}finally{yt(!1)}}}else D=p;return E.memoizedState=E.baseState=D,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:D},E.queue=f,f=f.dispatch=aQ.bind(null,Dt,f),[E.memoizedState,f]},useRef:function(f){var p=Ds();return f={current:f},p.memoizedState=f},useState:function(f){f=lj(f);var p=f.queue,S=AP.bind(null,Dt,p);return p.dispatch=S,[f.memoizedState,S]},useDebugValue:dj,useDeferredValue:function(f,p){var S=Ds();return uj(S,f,p)},useTransition:function(){var f=lj(!1);return f=jP.bind(null,Dt,f.queue,!0,!1),Ds().memoizedState=f,[!1,f]},useSyncExternalStore:function(f,p,S){var E=Dt,D=Ds();if(nr){if(S===void 0)throw Error(n(407));S=S()}else{if(S=p(),jr===null)throw Error(n(349));(Qt&124)!==0||QR(E,p,S)}D.memoizedState=S;var O={value:S,getSnapshot:p};return D.queue=O,hP(eP.bind(null,E,O,f),[f]),E.flags|=2048,_u(9,_x(),JR.bind(null,E,O,S,p),null),S},useId:function(){var f=Ds(),p=jr.identifierPrefix;if(nr){var S=mi,E=fi;S=(E&~(1<<32-Ft(E)-1)).toString(32)+S,p="«"+p+"R"+S,S=Nx++,0<S&&(p+="H"+S.toString(32)),p+="»"}else S=JX++,p="«"+p+"r"+S.toString(32)+"»";return f.memoizedState=p},useHostTransitionStatus:mj,useFormState:cP,useActionState:cP,useOptimistic:function(f){var p=Ds();p.memoizedState=p.baseState=f;var S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return p.queue=S,p=hj.bind(null,Dt,!0,S),S.dispatch=p,[f,p]},useMemoCache:aj,useCacheRefresh:function(){return Ds().memoizedState=sQ.bind(null,Dt)}},RP={readContext:ns,use:Cx,useCallback:bP,useContext:ns,useEffect:pP,useImperativeHandle:yP,useInsertionEffect:gP,useLayoutEffect:xP,useMemo:wP,useReducer:Ex,useRef:mP,useState:function(){return Ex(gi)},useDebugValue:dj,useDeferredValue:function(f,p){var S=xn();return SP(S,hr.memoizedState,f,p)},useTransition:function(){var f=Ex(gi)[0],p=xn().memoizedState;return[typeof f=="boolean"?f:th(f),p]},useSyncExternalStore:XR,useId:EP,useHostTransitionStatus:mj,useFormState:dP,useActionState:dP,useOptimistic:function(f,p){var S=xn();return nP(S,hr,f,p)},useMemoCache:aj,useCacheRefresh:_P},oQ={readContext:ns,use:Cx,useCallback:bP,useContext:ns,useEffect:pP,useImperativeHandle:yP,useInsertionEffect:gP,useLayoutEffect:xP,useMemo:wP,useReducer:ij,useRef:mP,useState:function(){return ij(gi)},useDebugValue:dj,useDeferredValue:function(f,p){var S=xn();return hr===null?uj(S,f,p):SP(S,hr.memoizedState,f,p)},useTransition:function(){var f=ij(gi)[0],p=xn().memoizedState;return[typeof f=="boolean"?f:th(f),p]},useSyncExternalStore:XR,useId:EP,useHostTransitionStatus:mj,useFormState:fP,useActionState:fP,useOptimistic:function(f,p){var S=xn();return hr!==null?nP(S,hr,f,p):(S.baseState=f,[f,S.queue.dispatch])},useMemoCache:aj,useCacheRefresh:_P},Au=null,sh=0;function Tx(f){var p=sh;return sh+=1,Au===null&&(Au=[]),zR(Au,f,p)}function ah(f,p){p=p.props.ref,f.ref=p!==void 0?p:null}function Rx(f,p){throw p.$$typeof===m?Error(n(525)):(f=Object.prototype.toString.call(p),Error(n(31,f==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":f)))}function PP(f){var p=f._init;return p(f._payload)}function MP(f){function p(le,se){if(f){var fe=le.deletions;fe===null?(le.deletions=[se],le.flags|=16):fe.push(se)}}function S(le,se){if(!f)return null;for(;se!==null;)p(le,se),se=se.sibling;return null}function E(le){for(var se=new Map;le!==null;)le.key!==null?se.set(le.key,le):se.set(le.index,le),le=le.sibling;return se}function D(le,se){return le=ui(le,se),le.index=0,le.sibling=null,le}function O(le,se,fe){return le.index=fe,f?(fe=le.alternate,fe!==null?(fe=fe.index,fe<se?(le.flags|=67108866,se):fe):(le.flags|=67108866,se)):(le.flags|=1048576,se)}function $(le){return f&&le.alternate===null&&(le.flags|=67108866),le}function V(le,se,fe,ke){return se===null||se.tag!==6?(se=OS(fe,le.mode,ke),se.return=le,se):(se=D(se,fe),se.return=le,se)}function te(le,se,fe,ke){var et=fe.type;return et===v?Ae(le,se,fe.props.children,ke,fe.key):se!==null&&(se.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===T&&PP(et)===se.type)?(se=D(se,fe.props),ah(se,fe),se.return=le,se):(se=hx(fe.type,fe.key,fe.props,null,le.mode,ke),ah(se,fe),se.return=le,se)}function me(le,se,fe,ke){return se===null||se.tag!==4||se.stateNode.containerInfo!==fe.containerInfo||se.stateNode.implementation!==fe.implementation?(se=IS(fe,le.mode,ke),se.return=le,se):(se=D(se,fe.children||[]),se.return=le,se)}function Ae(le,se,fe,ke,et){return se===null||se.tag!==7?(se=Oc(fe,le.mode,ke,et),se.return=le,se):(se=D(se,fe),se.return=le,se)}function Me(le,se,fe){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return se=OS(""+se,le.mode,fe),se.return=le,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case g:return fe=hx(se.type,se.key,se.props,null,le.mode,fe),ah(fe,se),fe.return=le,fe;case x:return se=IS(se,le.mode,fe),se.return=le,se;case T:var ke=se._init;return se=ke(se._payload),Me(le,se,fe)}if(U(se)||I(se))return se=Oc(se,le.mode,fe,null),se.return=le,se;if(typeof se.then=="function")return Me(le,Tx(se),fe);if(se.$$typeof===j)return Me(le,vx(le,se),fe);Rx(le,se)}return null}function ve(le,se,fe,ke){var et=se!==null?se.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return et!==null?null:V(le,se,""+fe,ke);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case g:return fe.key===et?te(le,se,fe,ke):null;case x:return fe.key===et?me(le,se,fe,ke):null;case T:return et=fe._init,fe=et(fe._payload),ve(le,se,fe,ke)}if(U(fe)||I(fe))return et!==null?null:Ae(le,se,fe,ke,null);if(typeof fe.then=="function")return ve(le,se,Tx(fe),ke);if(fe.$$typeof===j)return ve(le,se,vx(le,fe),ke);Rx(le,fe)}return null}function Se(le,se,fe,ke,et){if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return le=le.get(fe)||null,V(se,le,""+ke,et);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case g:return le=le.get(ke.key===null?fe:ke.key)||null,te(se,le,ke,et);case x:return le=le.get(ke.key===null?fe:ke.key)||null,me(se,le,ke,et);case T:var Ot=ke._init;return ke=Ot(ke._payload),Se(le,se,fe,ke,et)}if(U(ke)||I(ke))return le=le.get(fe)||null,Ae(se,le,ke,et,null);if(typeof ke.then=="function")return Se(le,se,fe,Tx(ke),et);if(ke.$$typeof===j)return Se(le,se,fe,vx(se,ke),et);Rx(se,ke)}return null}function wt(le,se,fe,ke){for(var et=null,Ot=null,it=se,xt=se=0,Bn=null;it!==null&&xt<fe.length;xt++){it.index>xt?(Bn=it,it=null):Bn=it.sibling;var er=ve(le,it,fe[xt],ke);if(er===null){it===null&&(it=Bn);break}f&&it&&er.alternate===null&&p(le,it),se=O(er,se,xt),Ot===null?et=er:Ot.sibling=er,Ot=er,it=Bn}if(xt===fe.length)return S(le,it),nr&&Lc(le,xt),et;if(it===null){for(;xt<fe.length;xt++)it=Me(le,fe[xt],ke),it!==null&&(se=O(it,se,xt),Ot===null?et=it:Ot.sibling=it,Ot=it);return nr&&Lc(le,xt),et}for(it=E(it);xt<fe.length;xt++)Bn=Se(it,le,xt,fe[xt],ke),Bn!==null&&(f&&Bn.alternate!==null&&it.delete(Bn.key===null?xt:Bn.key),se=O(Bn,se,xt),Ot===null?et=Bn:Ot.sibling=Bn,Ot=Bn);return f&&it.forEach(function(Il){return p(le,Il)}),nr&&Lc(le,xt),et}function pt(le,se,fe,ke){if(fe==null)throw Error(n(151));for(var et=null,Ot=null,it=se,xt=se=0,Bn=null,er=fe.next();it!==null&&!er.done;xt++,er=fe.next()){it.index>xt?(Bn=it,it=null):Bn=it.sibling;var Il=ve(le,it,er.value,ke);if(Il===null){it===null&&(it=Bn);break}f&&it&&Il.alternate===null&&p(le,it),se=O(Il,se,xt),Ot===null?et=Il:Ot.sibling=Il,Ot=Il,it=Bn}if(er.done)return S(le,it),nr&&Lc(le,xt),et;if(it===null){for(;!er.done;xt++,er=fe.next())er=Me(le,er.value,ke),er!==null&&(se=O(er,se,xt),Ot===null?et=er:Ot.sibling=er,Ot=er);return nr&&Lc(le,xt),et}for(it=E(it);!er.done;xt++,er=fe.next())er=Se(it,le,xt,er.value,ke),er!==null&&(f&&er.alternate!==null&&it.delete(er.key===null?xt:er.key),se=O(er,se,xt),Ot===null?et=er:Ot.sibling=er,Ot=er);return f&&it.forEach(function(iJ){return p(le,iJ)}),nr&&Lc(le,xt),et}function gr(le,se,fe,ke){if(typeof fe=="object"&&fe!==null&&fe.type===v&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case g:e:{for(var et=fe.key;se!==null;){if(se.key===et){if(et=fe.type,et===v){if(se.tag===7){S(le,se.sibling),ke=D(se,fe.props.children),ke.return=le,le=ke;break e}}else if(se.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===T&&PP(et)===se.type){S(le,se.sibling),ke=D(se,fe.props),ah(ke,fe),ke.return=le,le=ke;break e}S(le,se);break}else p(le,se);se=se.sibling}fe.type===v?(ke=Oc(fe.props.children,le.mode,ke,fe.key),ke.return=le,le=ke):(ke=hx(fe.type,fe.key,fe.props,null,le.mode,ke),ah(ke,fe),ke.return=le,le=ke)}return $(le);case x:e:{for(et=fe.key;se!==null;){if(se.key===et)if(se.tag===4&&se.stateNode.containerInfo===fe.containerInfo&&se.stateNode.implementation===fe.implementation){S(le,se.sibling),ke=D(se,fe.children||[]),ke.return=le,le=ke;break e}else{S(le,se);break}else p(le,se);se=se.sibling}ke=IS(fe,le.mode,ke),ke.return=le,le=ke}return $(le);case T:return et=fe._init,fe=et(fe._payload),gr(le,se,fe,ke)}if(U(fe))return wt(le,se,fe,ke);if(I(fe)){if(et=I(fe),typeof et!="function")throw Error(n(150));return fe=et.call(fe),pt(le,se,fe,ke)}if(typeof fe.then=="function")return gr(le,se,Tx(fe),ke);if(fe.$$typeof===j)return gr(le,se,vx(le,fe),ke);Rx(le,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint"?(fe=""+fe,se!==null&&se.tag===6?(S(le,se.sibling),ke=D(se,fe),ke.return=le,le=ke):(S(le,se),ke=OS(fe,le.mode,ke),ke.return=le,le=ke),$(le)):S(le,se)}return function(le,se,fe,ke){try{sh=0;var et=gr(le,se,fe,ke);return Au=null,et}catch(it){if(it===Zm||it===bx)throw it;var Ot=Gs(29,it,null,le.mode);return Ot.lanes=ke,Ot.return=le,Ot}finally{}}}var ku=MP(!0),OP=MP(!1),Na=G(null),jo=null;function wl(f){var p=f.alternate;K(_n,_n.current&1),K(Na,f),jo===null&&(p===null||Nu.current!==null||p.memoizedState!==null)&&(jo=f)}function IP(f){if(f.tag===22){if(K(_n,_n.current),K(Na,f),jo===null){var p=f.alternate;p!==null&&p.memoizedState!==null&&(jo=f)}}else Sl()}function Sl(){K(_n,_n.current),K(Na,Na.current)}function xi(f){z(Na),jo===f&&(jo=null),z(_n)}var _n=G(0);function Px(f){for(var p=f;p!==null;){if(p.tag===13){var S=p.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||S.data==="$?"||sN(S)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}function pj(f,p,S,E){p=f.memoizedState,S=S(E,p),S=S==null?p:i({},p,S),f.memoizedState=S,f.lanes===0&&(f.updateQueue.baseState=S)}var gj={enqueueSetState:function(f,p,S){f=f._reactInternals;var E=Xs(),D=vl(E);D.payload=p,S!=null&&(D.callback=S),p=yl(f,D,E),p!==null&&(Qs(p,f,E),Xm(p,f,E))},enqueueReplaceState:function(f,p,S){f=f._reactInternals;var E=Xs(),D=vl(E);D.tag=1,D.payload=p,S!=null&&(D.callback=S),p=yl(f,D,E),p!==null&&(Qs(p,f,E),Xm(p,f,E))},enqueueForceUpdate:function(f,p){f=f._reactInternals;var S=Xs(),E=vl(S);E.tag=2,p!=null&&(E.callback=p),p=yl(f,E,S),p!==null&&(Qs(p,f,S),Xm(p,f,S))}};function LP(f,p,S,E,D,O,$){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(E,O,$):p.prototype&&p.prototype.isPureReactComponent?!$m(S,E)||!$m(D,O):!0}function BP(f,p,S,E){f=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(S,E),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(S,E),p.state!==f&&gj.enqueueReplaceState(p,p.state,null)}function qc(f,p){var S=p;if("ref"in p){S={};for(var E in p)E!=="ref"&&(S[E]=p[E])}if(f=f.defaultProps){S===p&&(S=i({},S));for(var D in f)S[D]===void 0&&(S[D]=f[D])}return S}var Mx=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var p=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(p))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)};function FP(f){Mx(f)}function UP(f){console.error(f)}function $P(f){Mx(f)}function Ox(f,p){try{var S=f.onUncaughtError;S(p.value,{componentStack:p.stack})}catch(E){setTimeout(function(){throw E})}}function HP(f,p,S){try{var E=f.onCaughtError;E(S.value,{componentStack:S.stack,errorBoundary:p.tag===1?p.stateNode:null})}catch(D){setTimeout(function(){throw D})}}function xj(f,p,S){return S=vl(S),S.tag=3,S.payload={element:null},S.callback=function(){Ox(f,p)},S}function zP(f){return f=vl(f),f.tag=3,f}function qP(f,p,S,E){var D=S.type.getDerivedStateFromError;if(typeof D=="function"){var O=E.value;f.payload=function(){return D(O)},f.callback=function(){HP(p,S,E)}}var $=S.stateNode;$!==null&&typeof $.componentDidCatch=="function"&&(f.callback=function(){HP(p,S,E),typeof D!="function"&&(Al===null?Al=new Set([this]):Al.add(this));var V=E.stack;this.componentDidCatch(E.value,{componentStack:V!==null?V:""})})}function iQ(f,p,S,E,D){if(S.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){if(p=S.alternate,p!==null&&Wm(p,S,D,!0),S=Na.current,S!==null){switch(S.tag){case 13:return jo===null?$j():S.alternate===null&&Qr===0&&(Qr=3),S.flags&=-257,S.flags|=65536,S.lanes=D,E===WS?S.flags|=16384:(p=S.updateQueue,p===null?S.updateQueue=new Set([E]):p.add(E),zj(f,E,D)),!1;case 22:return S.flags|=65536,E===WS?S.flags|=16384:(p=S.updateQueue,p===null?(p={transitions:null,markerInstances:null,retryQueue:new Set([E])},S.updateQueue=p):(S=p.retryQueue,S===null?p.retryQueue=new Set([E]):S.add(E)),zj(f,E,D)),!1}throw Error(n(435,S.tag))}return zj(f,E,D),$j(),!1}if(nr)return p=Na.current,p!==null?((p.flags&65536)===0&&(p.flags|=256),p.flags|=65536,p.lanes=D,E!==FS&&(f=Error(n(422),{cause:E}),Vm(ba(f,S)))):(E!==FS&&(p=Error(n(423),{cause:E}),Vm(ba(p,S))),f=f.current.alternate,f.flags|=65536,D&=-D,f.lanes|=D,E=ba(E,S),D=xj(f.stateNode,E,D),ZS(f,D),Qr!==4&&(Qr=2)),!1;var O=Error(n(520),{cause:E});if(O=ba(O,S),fh===null?fh=[O]:fh.push(O),Qr!==4&&(Qr=2),p===null)return!0;E=ba(E,S),S=p;do{switch(S.tag){case 3:return S.flags|=65536,f=D&-D,S.lanes|=f,f=xj(S.stateNode,E,f),ZS(S,f),!1;case 1:if(p=S.type,O=S.stateNode,(S.flags&128)===0&&(typeof p.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Al===null||!Al.has(O))))return S.flags|=65536,D&=-D,S.lanes|=D,D=zP(D),qP(D,f,S,E),ZS(S,D),!1}S=S.return}while(S!==null);return!1}var VP=Error(n(461)),In=!1;function Kn(f,p,S,E){p.child=f===null?OP(p,null,S,E):ku(p,f.child,S,E)}function WP(f,p,S,E,D){S=S.render;var O=p.ref;if("ref"in E){var $={};for(var V in E)V!=="ref"&&($[V]=E[V])}else $=E;return $c(p),E=ej(f,p,S,$,O,D),V=tj(),f!==null&&!In?(rj(f,p,D),vi(f,p,D)):(nr&&V&&LS(p),p.flags|=1,Kn(f,p,E,D),p.child)}function GP(f,p,S,E,D){if(f===null){var O=S.type;return typeof O=="function"&&!MS(O)&&O.defaultProps===void 0&&S.compare===null?(p.tag=15,p.type=O,YP(f,p,O,E,D)):(f=hx(S.type,null,E,p,p.mode,D),f.ref=p.ref,f.return=p,p.child=f)}if(O=f.child,!Cj(f,D)){var $=O.memoizedProps;if(S=S.compare,S=S!==null?S:$m,S($,E)&&f.ref===p.ref)return vi(f,p,D)}return p.flags|=1,f=ui(O,E),f.ref=p.ref,f.return=p,p.child=f}function YP(f,p,S,E,D){if(f!==null){var O=f.memoizedProps;if($m(O,E)&&f.ref===p.ref)if(In=!1,p.pendingProps=E=O,Cj(f,D))(f.flags&131072)!==0&&(In=!0);else return p.lanes=f.lanes,vi(f,p,D)}return vj(f,p,S,E,D)}function ZP(f,p,S){var E=p.pendingProps,D=E.children,O=f!==null?f.memoizedState:null;if(E.mode==="hidden"){if((p.flags&128)!==0){if(E=O!==null?O.baseLanes|S:S,f!==null){for(D=p.child=f.child,O=0;D!==null;)O=O|D.lanes|D.childLanes,D=D.sibling;p.childLanes=O&~E}else p.childLanes=0,p.child=null;return KP(f,p,E,S)}if((S&536870912)!==0)p.memoizedState={baseLanes:0,cachePool:null},f!==null&&yx(p,O!==null?O.cachePool:null),O!==null?YR(p,O):XS(),IP(p);else return p.lanes=p.childLanes=536870912,KP(f,p,O!==null?O.baseLanes|S:S,S)}else O!==null?(yx(p,O.cachePool),YR(p,O),Sl(),p.memoizedState=null):(f!==null&&yx(p,null),XS(),Sl());return Kn(f,p,D,S),p.child}function KP(f,p,S,E){var D=VS();return D=D===null?null:{parent:En._currentValue,pool:D},p.memoizedState={baseLanes:S,cachePool:D},f!==null&&yx(p,null),XS(),IP(p),f!==null&&Wm(f,p,E,!0),null}function Ix(f,p){var S=p.ref;if(S===null)f!==null&&f.ref!==null&&(p.flags|=4194816);else{if(typeof S!="function"&&typeof S!="object")throw Error(n(284));(f===null||f.ref!==S)&&(p.flags|=4194816)}}function vj(f,p,S,E,D){return $c(p),S=ej(f,p,S,E,void 0,D),E=tj(),f!==null&&!In?(rj(f,p,D),vi(f,p,D)):(nr&&E&&LS(p),p.flags|=1,Kn(f,p,S,D),p.child)}function XP(f,p,S,E,D,O){return $c(p),p.updateQueue=null,S=KR(p,E,S,D),ZR(f),E=tj(),f!==null&&!In?(rj(f,p,O),vi(f,p,O)):(nr&&E&&LS(p),p.flags|=1,Kn(f,p,S,O),p.child)}function QP(f,p,S,E,D){if($c(p),p.stateNode===null){var O=yu,$=S.contextType;typeof $=="object"&&$!==null&&(O=ns($)),O=new S(E,O),p.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=gj,p.stateNode=O,O._reactInternals=p,O=p.stateNode,O.props=E,O.state=p.memoizedState,O.refs={},GS(p),$=S.contextType,O.context=typeof $=="object"&&$!==null?ns($):yu,O.state=p.memoizedState,$=S.getDerivedStateFromProps,typeof $=="function"&&(pj(p,S,$,E),O.state=p.memoizedState),typeof S.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||($=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),$!==O.state&&gj.enqueueReplaceState(O,O.state,null),Jm(p,E,O,D),Qm(),O.state=p.memoizedState),typeof O.componentDidMount=="function"&&(p.flags|=4194308),E=!0}else if(f===null){O=p.stateNode;var V=p.memoizedProps,te=qc(S,V);O.props=te;var me=O.context,Ae=S.contextType;$=yu,typeof Ae=="object"&&Ae!==null&&($=ns(Ae));var Me=S.getDerivedStateFromProps;Ae=typeof Me=="function"||typeof O.getSnapshotBeforeUpdate=="function",V=p.pendingProps!==V,Ae||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(V||me!==$)&&BP(p,O,E,$),xl=!1;var ve=p.memoizedState;O.state=ve,Jm(p,E,O,D),Qm(),me=p.memoizedState,V||ve!==me||xl?(typeof Me=="function"&&(pj(p,S,Me,E),me=p.memoizedState),(te=xl||LP(p,S,te,E,ve,me,$))?(Ae||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(p.flags|=4194308)):(typeof O.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=E,p.memoizedState=me),O.props=E,O.state=me,O.context=$,E=te):(typeof O.componentDidMount=="function"&&(p.flags|=4194308),E=!1)}else{O=p.stateNode,YS(f,p),$=p.memoizedProps,Ae=qc(S,$),O.props=Ae,Me=p.pendingProps,ve=O.context,me=S.contextType,te=yu,typeof me=="object"&&me!==null&&(te=ns(me)),V=S.getDerivedStateFromProps,(me=typeof V=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||($!==Me||ve!==te)&&BP(p,O,E,te),xl=!1,ve=p.memoizedState,O.state=ve,Jm(p,E,O,D),Qm();var Se=p.memoizedState;$!==Me||ve!==Se||xl||f!==null&&f.dependencies!==null&&xx(f.dependencies)?(typeof V=="function"&&(pj(p,S,V,E),Se=p.memoizedState),(Ae=xl||LP(p,S,Ae,E,ve,Se,te)||f!==null&&f.dependencies!==null&&xx(f.dependencies))?(me||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(E,Se,te),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(E,Se,te)),typeof O.componentDidUpdate=="function"&&(p.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof O.componentDidUpdate!="function"||$===f.memoizedProps&&ve===f.memoizedState||(p.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||$===f.memoizedProps&&ve===f.memoizedState||(p.flags|=1024),p.memoizedProps=E,p.memoizedState=Se),O.props=E,O.state=Se,O.context=te,E=Ae):(typeof O.componentDidUpdate!="function"||$===f.memoizedProps&&ve===f.memoizedState||(p.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||$===f.memoizedProps&&ve===f.memoizedState||(p.flags|=1024),E=!1)}return O=E,Ix(f,p),E=(p.flags&128)!==0,O||E?(O=p.stateNode,S=E&&typeof S.getDerivedStateFromError!="function"?null:O.render(),p.flags|=1,f!==null&&E?(p.child=ku(p,f.child,null,D),p.child=ku(p,null,S,D)):Kn(f,p,S,D),p.memoizedState=O.state,f=p.child):f=vi(f,p,D),f}function JP(f,p,S,E){return qm(),p.flags|=256,Kn(f,p,S,E),p.child}var yj={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bj(f){return{baseLanes:f,cachePool:UR()}}function wj(f,p,S){return f=f!==null?f.childLanes&~S:0,p&&(f|=Ca),f}function e4(f,p,S){var E=p.pendingProps,D=!1,O=(p.flags&128)!==0,$;if(($=O)||($=f!==null&&f.memoizedState===null?!1:(_n.current&2)!==0),$&&(D=!0,p.flags&=-129),$=(p.flags&32)!==0,p.flags&=-33,f===null){if(nr){if(D?wl(p):Sl(),nr){var V=Xr,te;if(te=V){e:{for(te=V,V=So;te.nodeType!==8;){if(!V){V=null;break e}if(te=Xa(te.nextSibling),te===null){V=null;break e}}V=te}V!==null?(p.memoizedState={dehydrated:V,treeContext:Ic!==null?{id:fi,overflow:mi}:null,retryLane:536870912,hydrationErrors:null},te=Gs(18,null,null,0),te.stateNode=V,te.return=p,p.child=te,gs=p,Xr=null,te=!0):te=!1}te||Fc(p)}if(V=p.memoizedState,V!==null&&(V=V.dehydrated,V!==null))return sN(V)?p.lanes=32:p.lanes=536870912,null;xi(p)}return V=E.children,E=E.fallback,D?(Sl(),D=p.mode,V=Lx({mode:"hidden",children:V},D),E=Oc(E,D,S,null),V.return=p,E.return=p,V.sibling=E,p.child=V,D=p.child,D.memoizedState=bj(S),D.childLanes=wj(f,$,S),p.memoizedState=yj,E):(wl(p),Sj(p,V))}if(te=f.memoizedState,te!==null&&(V=te.dehydrated,V!==null)){if(O)p.flags&256?(wl(p),p.flags&=-257,p=jj(f,p,S)):p.memoizedState!==null?(Sl(),p.child=f.child,p.flags|=128,p=null):(Sl(),D=E.fallback,V=p.mode,E=Lx({mode:"visible",children:E.children},V),D=Oc(D,V,S,null),D.flags|=2,E.return=p,D.return=p,E.sibling=D,p.child=E,ku(p,f.child,null,S),E=p.child,E.memoizedState=bj(S),E.childLanes=wj(f,$,S),p.memoizedState=yj,p=D);else if(wl(p),sN(V)){if($=V.nextSibling&&V.nextSibling.dataset,$)var me=$.dgst;$=me,E=Error(n(419)),E.stack="",E.digest=$,Vm({value:E,source:null,stack:null}),p=jj(f,p,S)}else if(In||Wm(f,p,S,!1),$=(S&f.childLanes)!==0,In||$){if($=jr,$!==null&&(E=S&-S,E=(E&42)!==0?1:ml(E),E=(E&($.suspendedLanes|S))!==0?0:E,E!==0&&E!==te.retryLane))throw te.retryLane=E,vu(f,E),Qs($,f,E),VP;V.data==="$?"||$j(),p=jj(f,p,S)}else V.data==="$?"?(p.flags|=192,p.child=f.child,p=null):(f=te.treeContext,Xr=Xa(V.nextSibling),gs=p,nr=!0,Bc=null,So=!1,f!==null&&(Sa[ja++]=fi,Sa[ja++]=mi,Sa[ja++]=Ic,fi=f.id,mi=f.overflow,Ic=p),p=Sj(p,E.children),p.flags|=4096);return p}return D?(Sl(),D=E.fallback,V=p.mode,te=f.child,me=te.sibling,E=ui(te,{mode:"hidden",children:E.children}),E.subtreeFlags=te.subtreeFlags&65011712,me!==null?D=ui(me,D):(D=Oc(D,V,S,null),D.flags|=2),D.return=p,E.return=p,E.sibling=D,p.child=E,E=D,D=p.child,V=f.child.memoizedState,V===null?V=bj(S):(te=V.cachePool,te!==null?(me=En._currentValue,te=te.parent!==me?{parent:me,pool:me}:te):te=UR(),V={baseLanes:V.baseLanes|S,cachePool:te}),D.memoizedState=V,D.childLanes=wj(f,$,S),p.memoizedState=yj,E):(wl(p),S=f.child,f=S.sibling,S=ui(S,{mode:"visible",children:E.children}),S.return=p,S.sibling=null,f!==null&&($=p.deletions,$===null?(p.deletions=[f],p.flags|=16):$.push(f)),p.child=S,p.memoizedState=null,S)}function Sj(f,p){return p=Lx({mode:"visible",children:p},f.mode),p.return=f,f.child=p}function Lx(f,p){return f=Gs(22,f,null,p),f.lanes=0,f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},f}function jj(f,p,S){return ku(p,f.child,null,S),f=Sj(p,p.pendingProps.children),f.flags|=2,p.memoizedState=null,f}function t4(f,p,S){f.lanes|=p;var E=f.alternate;E!==null&&(E.lanes|=p),$S(f.return,p,S)}function Nj(f,p,S,E,D){var O=f.memoizedState;O===null?f.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:E,tail:S,tailMode:D}:(O.isBackwards=p,O.rendering=null,O.renderingStartTime=0,O.last=E,O.tail=S,O.tailMode=D)}function r4(f,p,S){var E=p.pendingProps,D=E.revealOrder,O=E.tail;if(Kn(f,p,E.children,S),E=_n.current,(E&2)!==0)E=E&1|2,p.flags|=128;else{if(f!==null&&(f.flags&128)!==0)e:for(f=p.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&t4(f,S,p);else if(f.tag===19)t4(f,S,p);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===p)break e;for(;f.sibling===null;){if(f.return===null||f.return===p)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}E&=1}switch(K(_n,E),D){case"forwards":for(S=p.child,D=null;S!==null;)f=S.alternate,f!==null&&Px(f)===null&&(D=S),S=S.sibling;S=D,S===null?(D=p.child,p.child=null):(D=S.sibling,S.sibling=null),Nj(p,!1,D,S,O);break;case"backwards":for(S=null,D=p.child,p.child=null;D!==null;){if(f=D.alternate,f!==null&&Px(f)===null){p.child=D;break}f=D.sibling,D.sibling=S,S=D,D=f}Nj(p,!0,S,null,O);break;case"together":Nj(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function vi(f,p,S){if(f!==null&&(p.dependencies=f.dependencies),_l|=p.lanes,(S&p.childLanes)===0)if(f!==null){if(Wm(f,p,S,!1),(S&p.childLanes)===0)return null}else return null;if(f!==null&&p.child!==f.child)throw Error(n(153));if(p.child!==null){for(f=p.child,S=ui(f,f.pendingProps),p.child=S,S.return=p;f.sibling!==null;)f=f.sibling,S=S.sibling=ui(f,f.pendingProps),S.return=p;S.sibling=null}return p.child}function Cj(f,p){return(f.lanes&p)!==0?!0:(f=f.dependencies,!!(f!==null&&xx(f)))}function lQ(f,p,S){switch(p.tag){case 3:xe(p,p.stateNode.containerInfo),gl(p,En,f.memoizedState.cache),qm();break;case 27:case 5:ge(p);break;case 4:xe(p,p.stateNode.containerInfo);break;case 10:gl(p,p.type,p.memoizedProps.value);break;case 13:var E=p.memoizedState;if(E!==null)return E.dehydrated!==null?(wl(p),p.flags|=128,null):(S&p.child.childLanes)!==0?e4(f,p,S):(wl(p),f=vi(f,p,S),f!==null?f.sibling:null);wl(p);break;case 19:var D=(f.flags&128)!==0;if(E=(S&p.childLanes)!==0,E||(Wm(f,p,S,!1),E=(S&p.childLanes)!==0),D){if(E)return r4(f,p,S);p.flags|=128}if(D=p.memoizedState,D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),K(_n,_n.current),E)break;return null;case 22:case 23:return p.lanes=0,ZP(f,p,S);case 24:gl(p,En,f.memoizedState.cache)}return vi(f,p,S)}function n4(f,p,S){if(f!==null)if(f.memoizedProps!==p.pendingProps)In=!0;else{if(!Cj(f,S)&&(p.flags&128)===0)return In=!1,lQ(f,p,S);In=(f.flags&131072)!==0}else In=!1,nr&&(p.flags&1048576)!==0&&PR(p,gx,p.index);switch(p.lanes=0,p.tag){case 16:e:{f=p.pendingProps;var E=p.elementType,D=E._init;if(E=D(E._payload),p.type=E,typeof E=="function")MS(E)?(f=qc(E,f),p.tag=1,p=QP(null,p,E,f,S)):(p.tag=0,p=vj(null,p,E,f,S));else{if(E!=null){if(D=E.$$typeof,D===C){p.tag=11,p=WP(null,p,E,f,S);break e}else if(D===A){p.tag=14,p=GP(null,p,E,f,S);break e}}throw p=B(E)||E,Error(n(306,p,""))}}return p;case 0:return vj(f,p,p.type,p.pendingProps,S);case 1:return E=p.type,D=qc(E,p.pendingProps),QP(f,p,E,D,S);case 3:e:{if(xe(p,p.stateNode.containerInfo),f===null)throw Error(n(387));E=p.pendingProps;var O=p.memoizedState;D=O.element,YS(f,p),Jm(p,E,null,S);var $=p.memoizedState;if(E=$.cache,gl(p,En,E),E!==O.cache&&HS(p,[En],S,!0),Qm(),E=$.element,O.isDehydrated)if(O={element:E,isDehydrated:!1,cache:$.cache},p.updateQueue.baseState=O,p.memoizedState=O,p.flags&256){p=JP(f,p,E,S);break e}else if(E!==D){D=ba(Error(n(424)),p),Vm(D),p=JP(f,p,E,S);break e}else{switch(f=p.stateNode.containerInfo,f.nodeType){case 9:f=f.body;break;default:f=f.nodeName==="HTML"?f.ownerDocument.body:f}for(Xr=Xa(f.firstChild),gs=p,nr=!0,Bc=null,So=!0,S=OP(p,null,E,S),p.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling}else{if(qm(),E===D){p=vi(f,p,S);break e}Kn(f,p,E,S)}p=p.child}return p;case 26:return Ix(f,p),f===null?(S=iM(p.type,null,p.pendingProps,null))?p.memoizedState=S:nr||(S=p.type,f=p.pendingProps,E=Xx(ye.current).createElement(S),E[Cn]=p,E[mr]=f,Qn(E,S,f),On(E),p.stateNode=E):p.memoizedState=iM(p.type,f.memoizedProps,p.pendingProps,f.memoizedState),null;case 27:return ge(p),f===null&&nr&&(E=p.stateNode=sM(p.type,p.pendingProps,ye.current),gs=p,So=!0,D=Xr,Tl(p.type)?(aN=D,Xr=Xa(E.firstChild)):Xr=D),Kn(f,p,p.pendingProps.children,S),Ix(f,p),f===null&&(p.flags|=4194304),p.child;case 5:return f===null&&nr&&((D=E=Xr)&&(E=IQ(E,p.type,p.pendingProps,So),E!==null?(p.stateNode=E,gs=p,Xr=Xa(E.firstChild),So=!1,D=!0):D=!1),D||Fc(p)),ge(p),D=p.type,O=p.pendingProps,$=f!==null?f.memoizedProps:null,E=O.children,tN(D,O)?E=null:$!==null&&tN(D,$)&&(p.flags|=32),p.memoizedState!==null&&(D=ej(f,p,eQ,null,null,S),wh._currentValue=D),Ix(f,p),Kn(f,p,E,S),p.child;case 6:return f===null&&nr&&((f=S=Xr)&&(S=LQ(S,p.pendingProps,So),S!==null?(p.stateNode=S,gs=p,Xr=null,f=!0):f=!1),f||Fc(p)),null;case 13:return e4(f,p,S);case 4:return xe(p,p.stateNode.containerInfo),E=p.pendingProps,f===null?p.child=ku(p,null,E,S):Kn(f,p,E,S),p.child;case 11:return WP(f,p,p.type,p.pendingProps,S);case 7:return Kn(f,p,p.pendingProps,S),p.child;case 8:return Kn(f,p,p.pendingProps.children,S),p.child;case 12:return Kn(f,p,p.pendingProps.children,S),p.child;case 10:return E=p.pendingProps,gl(p,p.type,E.value),Kn(f,p,E.children,S),p.child;case 9:return D=p.type._context,E=p.pendingProps.children,$c(p),D=ns(D),E=E(D),p.flags|=1,Kn(f,p,E,S),p.child;case 14:return GP(f,p,p.type,p.pendingProps,S);case 15:return YP(f,p,p.type,p.pendingProps,S);case 19:return r4(f,p,S);case 31:return E=p.pendingProps,S=p.mode,E={mode:E.mode,children:E.children},f===null?(S=Lx(E,S),S.ref=p.ref,p.child=S,S.return=p,p=S):(S=ui(f.child,E),S.ref=p.ref,p.child=S,S.return=p,p=S),p;case 22:return ZP(f,p,S);case 24:return $c(p),E=ns(En),f===null?(D=VS(),D===null&&(D=jr,O=zS(),D.pooledCache=O,O.refCount++,O!==null&&(D.pooledCacheLanes|=S),D=O),p.memoizedState={parent:E,cache:D},GS(p),gl(p,En,D)):((f.lanes&S)!==0&&(YS(f,p),Jm(p,null,null,S),Qm()),D=f.memoizedState,O=p.memoizedState,D.parent!==E?(D={parent:E,cache:E},p.memoizedState=D,p.lanes===0&&(p.memoizedState=p.updateQueue.baseState=D),gl(p,En,E)):(E=O.cache,gl(p,En,E),E!==D.cache&&HS(p,[En],S,!0))),Kn(f,p,p.pendingProps.children,S),p.child;case 29:throw p.pendingProps}throw Error(n(156,p.tag))}function yi(f){f.flags|=4}function s4(f,p){if(p.type!=="stylesheet"||(p.state.loading&4)!==0)f.flags&=-16777217;else if(f.flags|=16777216,!fM(p)){if(p=Na.current,p!==null&&((Qt&4194048)===Qt?jo!==null:(Qt&62914560)!==Qt&&(Qt&536870912)===0||p!==jo))throw Km=WS,$R;f.flags|=8192}}function Bx(f,p){p!==null&&(f.flags|=4),f.flags&16384&&(p=f.tag!==22?bt():536870912,f.lanes|=p,Pu|=p)}function oh(f,p){if(!nr)switch(f.tailMode){case"hidden":p=f.tail;for(var S=null;p!==null;)p.alternate!==null&&(S=p),p=p.sibling;S===null?f.tail=null:S.sibling=null;break;case"collapsed":S=f.tail;for(var E=null;S!==null;)S.alternate!==null&&(E=S),S=S.sibling;E===null?p||f.tail===null?f.tail=null:f.tail.sibling=null:E.sibling=null}}function $r(f){var p=f.alternate!==null&&f.alternate.child===f.child,S=0,E=0;if(p)for(var D=f.child;D!==null;)S|=D.lanes|D.childLanes,E|=D.subtreeFlags&65011712,E|=D.flags&65011712,D.return=f,D=D.sibling;else for(D=f.child;D!==null;)S|=D.lanes|D.childLanes,E|=D.subtreeFlags,E|=D.flags,D.return=f,D=D.sibling;return f.subtreeFlags|=E,f.childLanes=S,p}function cQ(f,p,S){var E=p.pendingProps;switch(BS(p),p.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $r(p),null;case 1:return $r(p),null;case 3:return S=p.stateNode,E=null,f!==null&&(E=f.memoizedState.cache),p.memoizedState.cache!==E&&(p.flags|=2048),pi(En),ne(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(f===null||f.child===null)&&(zm(p)?yi(p):f===null||f.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,IR())),$r(p),null;case 26:return S=p.memoizedState,f===null?(yi(p),S!==null?($r(p),s4(p,S)):($r(p),p.flags&=-16777217)):S?S!==f.memoizedState?(yi(p),$r(p),s4(p,S)):($r(p),p.flags&=-16777217):(f.memoizedProps!==E&&yi(p),$r(p),p.flags&=-16777217),null;case 27:Ce(p),S=ye.current;var D=p.type;if(f!==null&&p.stateNode!=null)f.memoizedProps!==E&&yi(p);else{if(!E){if(p.stateNode===null)throw Error(n(166));return $r(p),null}f=Z.current,zm(p)?MR(p):(f=sM(D,E,S),p.stateNode=f,yi(p))}return $r(p),null;case 5:if(Ce(p),S=p.type,f!==null&&p.stateNode!=null)f.memoizedProps!==E&&yi(p);else{if(!E){if(p.stateNode===null)throw Error(n(166));return $r(p),null}if(f=Z.current,zm(p))MR(p);else{switch(D=Xx(ye.current),f){case 1:f=D.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:f=D.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":f=D.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":f=D.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":f=D.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof E.is=="string"?D.createElement("select",{is:E.is}):D.createElement("select"),E.multiple?f.multiple=!0:E.size&&(f.size=E.size);break;default:f=typeof E.is=="string"?D.createElement(S,{is:E.is}):D.createElement(S)}}f[Cn]=p,f[mr]=E;e:for(D=p.child;D!==null;){if(D.tag===5||D.tag===6)f.appendChild(D.stateNode);else if(D.tag!==4&&D.tag!==27&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===p)break e;for(;D.sibling===null;){if(D.return===null||D.return===p)break e;D=D.return}D.sibling.return=D.return,D=D.sibling}p.stateNode=f;e:switch(Qn(f,S,E),S){case"button":case"input":case"select":case"textarea":f=!!E.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&yi(p)}}return $r(p),p.flags&=-16777217,null;case 6:if(f&&p.stateNode!=null)f.memoizedProps!==E&&yi(p);else{if(typeof E!="string"&&p.stateNode===null)throw Error(n(166));if(f=ye.current,zm(p)){if(f=p.stateNode,S=p.memoizedProps,E=null,D=gs,D!==null)switch(D.tag){case 27:case 5:E=D.memoizedProps}f[Cn]=p,f=!!(f.nodeValue===S||E!==null&&E.suppressHydrationWarning===!0||X4(f.nodeValue,S)),f||Fc(p)}else f=Xx(f).createTextNode(E),f[Cn]=p,p.stateNode=f}return $r(p),null;case 13:if(E=p.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(D=zm(p),E!==null&&E.dehydrated!==null){if(f===null){if(!D)throw Error(n(318));if(D=p.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(n(317));D[Cn]=p}else qm(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;$r(p),D=!1}else D=IR(),f!==null&&f.memoizedState!==null&&(f.memoizedState.hydrationErrors=D),D=!0;if(!D)return p.flags&256?(xi(p),p):(xi(p),null)}if(xi(p),(p.flags&128)!==0)return p.lanes=S,p;if(S=E!==null,f=f!==null&&f.memoizedState!==null,S){E=p.child,D=null,E.alternate!==null&&E.alternate.memoizedState!==null&&E.alternate.memoizedState.cachePool!==null&&(D=E.alternate.memoizedState.cachePool.pool);var O=null;E.memoizedState!==null&&E.memoizedState.cachePool!==null&&(O=E.memoizedState.cachePool.pool),O!==D&&(E.flags|=2048)}return S!==f&&S&&(p.child.flags|=8192),Bx(p,p.updateQueue),$r(p),null;case 4:return ne(),f===null&&Kj(p.stateNode.containerInfo),$r(p),null;case 10:return pi(p.type),$r(p),null;case 19:if(z(_n),D=p.memoizedState,D===null)return $r(p),null;if(E=(p.flags&128)!==0,O=D.rendering,O===null)if(E)oh(D,!1);else{if(Qr!==0||f!==null&&(f.flags&128)!==0)for(f=p.child;f!==null;){if(O=Px(f),O!==null){for(p.flags|=128,oh(D,!1),f=O.updateQueue,p.updateQueue=f,Bx(p,f),p.subtreeFlags=0,f=S,S=p.child;S!==null;)RR(S,f),S=S.sibling;return K(_n,_n.current&1|2),p.child}f=f.sibling}D.tail!==null&&nt()>$x&&(p.flags|=128,E=!0,oh(D,!1),p.lanes=4194304)}else{if(!E)if(f=Px(O),f!==null){if(p.flags|=128,E=!0,f=f.updateQueue,p.updateQueue=f,Bx(p,f),oh(D,!0),D.tail===null&&D.tailMode==="hidden"&&!O.alternate&&!nr)return $r(p),null}else 2*nt()-D.renderingStartTime>$x&&S!==536870912&&(p.flags|=128,E=!0,oh(D,!1),p.lanes=4194304);D.isBackwards?(O.sibling=p.child,p.child=O):(f=D.last,f!==null?f.sibling=O:p.child=O,D.last=O)}return D.tail!==null?(p=D.tail,D.rendering=p,D.tail=p.sibling,D.renderingStartTime=nt(),p.sibling=null,f=_n.current,K(_n,E?f&1|2:f&1),p):($r(p),null);case 22:case 23:return xi(p),QS(),E=p.memoizedState!==null,f!==null?f.memoizedState!==null!==E&&(p.flags|=8192):E&&(p.flags|=8192),E?(S&536870912)!==0&&(p.flags&128)===0&&($r(p),p.subtreeFlags&6&&(p.flags|=8192)):$r(p),S=p.updateQueue,S!==null&&Bx(p,S.retryQueue),S=null,f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(S=f.memoizedState.cachePool.pool),E=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(E=p.memoizedState.cachePool.pool),E!==S&&(p.flags|=2048),f!==null&&z(Hc),null;case 24:return S=null,f!==null&&(S=f.memoizedState.cache),p.memoizedState.cache!==S&&(p.flags|=2048),pi(En),$r(p),null;case 25:return null;case 30:return null}throw Error(n(156,p.tag))}function dQ(f,p){switch(BS(p),p.tag){case 1:return f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 3:return pi(En),ne(),f=p.flags,(f&65536)!==0&&(f&128)===0?(p.flags=f&-65537|128,p):null;case 26:case 27:case 5:return Ce(p),null;case 13:if(xi(p),f=p.memoizedState,f!==null&&f.dehydrated!==null){if(p.alternate===null)throw Error(n(340));qm()}return f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 19:return z(_n),null;case 4:return ne(),null;case 10:return pi(p.type),null;case 22:case 23:return xi(p),QS(),f!==null&&z(Hc),f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 24:return pi(En),null;case 25:return null;default:return null}}function a4(f,p){switch(BS(p),p.tag){case 3:pi(En),ne();break;case 26:case 27:case 5:Ce(p);break;case 4:ne();break;case 13:xi(p);break;case 19:z(_n);break;case 10:pi(p.type);break;case 22:case 23:xi(p),QS(),f!==null&&z(Hc);break;case 24:pi(En)}}function ih(f,p){try{var S=p.updateQueue,E=S!==null?S.lastEffect:null;if(E!==null){var D=E.next;S=D;do{if((S.tag&f)===f){E=void 0;var O=S.create,$=S.inst;E=O(),$.destroy=E}S=S.next}while(S!==D)}}catch(V){br(p,p.return,V)}}function jl(f,p,S){try{var E=p.updateQueue,D=E!==null?E.lastEffect:null;if(D!==null){var O=D.next;E=O;do{if((E.tag&f)===f){var $=E.inst,V=$.destroy;if(V!==void 0){$.destroy=void 0,D=p;var te=S,me=V;try{me()}catch(Ae){br(D,te,Ae)}}}E=E.next}while(E!==O)}}catch(Ae){br(p,p.return,Ae)}}function o4(f){var p=f.updateQueue;if(p!==null){var S=f.stateNode;try{GR(p,S)}catch(E){br(f,f.return,E)}}}function i4(f,p,S){S.props=qc(f.type,f.memoizedProps),S.state=f.memoizedState;try{S.componentWillUnmount()}catch(E){br(f,p,E)}}function lh(f,p){try{var S=f.ref;if(S!==null){switch(f.tag){case 26:case 27:case 5:var E=f.stateNode;break;case 30:E=f.stateNode;break;default:E=f.stateNode}typeof S=="function"?f.refCleanup=S(E):S.current=E}}catch(D){br(f,p,D)}}function No(f,p){var S=f.ref,E=f.refCleanup;if(S!==null)if(typeof E=="function")try{E()}catch(D){br(f,p,D)}finally{f.refCleanup=null,f=f.alternate,f!=null&&(f.refCleanup=null)}else if(typeof S=="function")try{S(null)}catch(D){br(f,p,D)}else S.current=null}function l4(f){var p=f.type,S=f.memoizedProps,E=f.stateNode;try{e:switch(p){case"button":case"input":case"select":case"textarea":S.autoFocus&&E.focus();break e;case"img":S.src?E.src=S.src:S.srcSet&&(E.srcset=S.srcSet)}}catch(D){br(f,f.return,D)}}function Ej(f,p,S){try{var E=f.stateNode;TQ(E,f.type,S,p),E[mr]=p}catch(D){br(f,f.return,D)}}function c4(f){return f.tag===5||f.tag===3||f.tag===26||f.tag===27&&Tl(f.type)||f.tag===4}function _j(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||c4(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.tag===27&&Tl(f.type)||f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function Aj(f,p,S){var E=f.tag;if(E===5||E===6)f=f.stateNode,p?(S.nodeType===9?S.body:S.nodeName==="HTML"?S.ownerDocument.body:S).insertBefore(f,p):(p=S.nodeType===9?S.body:S.nodeName==="HTML"?S.ownerDocument.body:S,p.appendChild(f),S=S._reactRootContainer,S!=null||p.onclick!==null||(p.onclick=Kx));else if(E!==4&&(E===27&&Tl(f.type)&&(S=f.stateNode,p=null),f=f.child,f!==null))for(Aj(f,p,S),f=f.sibling;f!==null;)Aj(f,p,S),f=f.sibling}function Fx(f,p,S){var E=f.tag;if(E===5||E===6)f=f.stateNode,p?S.insertBefore(f,p):S.appendChild(f);else if(E!==4&&(E===27&&Tl(f.type)&&(S=f.stateNode),f=f.child,f!==null))for(Fx(f,p,S),f=f.sibling;f!==null;)Fx(f,p,S),f=f.sibling}function d4(f){var p=f.stateNode,S=f.memoizedProps;try{for(var E=f.type,D=p.attributes;D.length;)p.removeAttributeNode(D[0]);Qn(p,E,S),p[Cn]=f,p[mr]=S}catch(O){br(f,f.return,O)}}var bi=!1,on=!1,kj=!1,u4=typeof WeakSet=="function"?WeakSet:Set,Ln=null;function uQ(f,p){if(f=f.containerInfo,Jj=nv,f=SR(f),_S(f)){if("selectionStart"in f)var S={start:f.selectionStart,end:f.selectionEnd};else e:{S=(S=f.ownerDocument)&&S.defaultView||window;var E=S.getSelection&&S.getSelection();if(E&&E.rangeCount!==0){S=E.anchorNode;var D=E.anchorOffset,O=E.focusNode;E=E.focusOffset;try{S.nodeType,O.nodeType}catch{S=null;break e}var $=0,V=-1,te=-1,me=0,Ae=0,Me=f,ve=null;t:for(;;){for(var Se;Me!==S||D!==0&&Me.nodeType!==3||(V=$+D),Me!==O||E!==0&&Me.nodeType!==3||(te=$+E),Me.nodeType===3&&($+=Me.nodeValue.length),(Se=Me.firstChild)!==null;)ve=Me,Me=Se;for(;;){if(Me===f)break t;if(ve===S&&++me===D&&(V=$),ve===O&&++Ae===E&&(te=$),(Se=Me.nextSibling)!==null)break;Me=ve,ve=Me.parentNode}Me=Se}S=V===-1||te===-1?null:{start:V,end:te}}else S=null}S=S||{start:0,end:0}}else S=null;for(eN={focusedElem:f,selectionRange:S},nv=!1,Ln=p;Ln!==null;)if(p=Ln,f=p.child,(p.subtreeFlags&1024)!==0&&f!==null)f.return=p,Ln=f;else for(;Ln!==null;){switch(p=Ln,O=p.alternate,f=p.flags,p.tag){case 0:break;case 11:case 15:break;case 1:if((f&1024)!==0&&O!==null){f=void 0,S=p,D=O.memoizedProps,O=O.memoizedState,E=S.stateNode;try{var wt=qc(S.type,D,S.elementType===S.type);f=E.getSnapshotBeforeUpdate(wt,O),E.__reactInternalSnapshotBeforeUpdate=f}catch(pt){br(S,S.return,pt)}}break;case 3:if((f&1024)!==0){if(f=p.stateNode.containerInfo,S=f.nodeType,S===9)nN(f);else if(S===1)switch(f.nodeName){case"HEAD":case"HTML":case"BODY":nN(f);break;default:f.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((f&1024)!==0)throw Error(n(163))}if(f=p.sibling,f!==null){f.return=p.return,Ln=f;break}Ln=p.return}}function f4(f,p,S){var E=S.flags;switch(S.tag){case 0:case 11:case 15:Nl(f,S),E&4&&ih(5,S);break;case 1:if(Nl(f,S),E&4)if(f=S.stateNode,p===null)try{f.componentDidMount()}catch($){br(S,S.return,$)}else{var D=qc(S.type,p.memoizedProps);p=p.memoizedState;try{f.componentDidUpdate(D,p,f.__reactInternalSnapshotBeforeUpdate)}catch($){br(S,S.return,$)}}E&64&&o4(S),E&512&&lh(S,S.return);break;case 3:if(Nl(f,S),E&64&&(f=S.updateQueue,f!==null)){if(p=null,S.child!==null)switch(S.child.tag){case 27:case 5:p=S.child.stateNode;break;case 1:p=S.child.stateNode}try{GR(f,p)}catch($){br(S,S.return,$)}}break;case 27:p===null&&E&4&&d4(S);case 26:case 5:Nl(f,S),p===null&&E&4&&l4(S),E&512&&lh(S,S.return);break;case 12:Nl(f,S);break;case 13:Nl(f,S),E&4&&p4(f,S),E&64&&(f=S.memoizedState,f!==null&&(f=f.dehydrated,f!==null&&(S=bQ.bind(null,S),BQ(f,S))));break;case 22:if(E=S.memoizedState!==null||bi,!E){p=p!==null&&p.memoizedState!==null||on,D=bi;var O=on;bi=E,(on=p)&&!O?Cl(f,S,(S.subtreeFlags&8772)!==0):Nl(f,S),bi=D,on=O}break;case 30:break;default:Nl(f,S)}}function m4(f){var p=f.alternate;p!==null&&(f.alternate=null,m4(p)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(p=f.stateNode,p!==null&&lS(p)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}var Rr=null,Ts=!1;function wi(f,p,S){for(S=S.child;S!==null;)h4(f,p,S),S=S.sibling}function h4(f,p,S){if(mt&&typeof mt.onCommitFiberUnmount=="function")try{mt.onCommitFiberUnmount(qe,S)}catch{}switch(S.tag){case 26:on||No(S,p),wi(f,p,S),S.memoizedState?S.memoizedState.count--:S.stateNode&&(S=S.stateNode,S.parentNode.removeChild(S));break;case 27:on||No(S,p);var E=Rr,D=Ts;Tl(S.type)&&(Rr=S.stateNode,Ts=!1),wi(f,p,S),xh(S.stateNode),Rr=E,Ts=D;break;case 5:on||No(S,p);case 6:if(E=Rr,D=Ts,Rr=null,wi(f,p,S),Rr=E,Ts=D,Rr!==null)if(Ts)try{(Rr.nodeType===9?Rr.body:Rr.nodeName==="HTML"?Rr.ownerDocument.body:Rr).removeChild(S.stateNode)}catch(O){br(S,p,O)}else try{Rr.removeChild(S.stateNode)}catch(O){br(S,p,O)}break;case 18:Rr!==null&&(Ts?(f=Rr,rM(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,S.stateNode),Ch(f)):rM(Rr,S.stateNode));break;case 4:E=Rr,D=Ts,Rr=S.stateNode.containerInfo,Ts=!0,wi(f,p,S),Rr=E,Ts=D;break;case 0:case 11:case 14:case 15:on||jl(2,S,p),on||jl(4,S,p),wi(f,p,S);break;case 1:on||(No(S,p),E=S.stateNode,typeof E.componentWillUnmount=="function"&&i4(S,p,E)),wi(f,p,S);break;case 21:wi(f,p,S);break;case 22:on=(E=on)||S.memoizedState!==null,wi(f,p,S),on=E;break;default:wi(f,p,S)}}function p4(f,p){if(p.memoizedState===null&&(f=p.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null))))try{Ch(f)}catch(S){br(p,p.return,S)}}function fQ(f){switch(f.tag){case 13:case 19:var p=f.stateNode;return p===null&&(p=f.stateNode=new u4),p;case 22:return f=f.stateNode,p=f._retryCache,p===null&&(p=f._retryCache=new u4),p;default:throw Error(n(435,f.tag))}}function Dj(f,p){var S=fQ(f);p.forEach(function(E){var D=wQ.bind(null,f,E);S.has(E)||(S.add(E),E.then(D,D))})}function Ys(f,p){var S=p.deletions;if(S!==null)for(var E=0;E<S.length;E++){var D=S[E],O=f,$=p,V=$;e:for(;V!==null;){switch(V.tag){case 27:if(Tl(V.type)){Rr=V.stateNode,Ts=!1;break e}break;case 5:Rr=V.stateNode,Ts=!1;break e;case 3:case 4:Rr=V.stateNode.containerInfo,Ts=!0;break e}V=V.return}if(Rr===null)throw Error(n(160));h4(O,$,D),Rr=null,Ts=!1,O=D.alternate,O!==null&&(O.return=null),D.return=null}if(p.subtreeFlags&13878)for(p=p.child;p!==null;)g4(p,f),p=p.sibling}var Ka=null;function g4(f,p){var S=f.alternate,E=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:Ys(p,f),Zs(f),E&4&&(jl(3,f,f.return),ih(3,f),jl(5,f,f.return));break;case 1:Ys(p,f),Zs(f),E&512&&(on||S===null||No(S,S.return)),E&64&&bi&&(f=f.updateQueue,f!==null&&(E=f.callbacks,E!==null&&(S=f.shared.hiddenCallbacks,f.shared.hiddenCallbacks=S===null?E:S.concat(E))));break;case 26:var D=Ka;if(Ys(p,f),Zs(f),E&512&&(on||S===null||No(S,S.return)),E&4){var O=S!==null?S.memoizedState:null;if(E=f.memoizedState,S===null)if(E===null)if(f.stateNode===null){e:{E=f.type,S=f.memoizedProps,D=D.ownerDocument||D;t:switch(E){case"title":O=D.getElementsByTagName("title")[0],(!O||O[Rm]||O[Cn]||O.namespaceURI==="http://www.w3.org/2000/svg"||O.hasAttribute("itemprop"))&&(O=D.createElement(E),D.head.insertBefore(O,D.querySelector("head > title"))),Qn(O,E,S),O[Cn]=f,On(O),E=O;break e;case"link":var $=dM("link","href",D).get(E+(S.href||""));if($){for(var V=0;V<$.length;V++)if(O=$[V],O.getAttribute("href")===(S.href==null||S.href===""?null:S.href)&&O.getAttribute("rel")===(S.rel==null?null:S.rel)&&O.getAttribute("title")===(S.title==null?null:S.title)&&O.getAttribute("crossorigin")===(S.crossOrigin==null?null:S.crossOrigin)){$.splice(V,1);break t}}O=D.createElement(E),Qn(O,E,S),D.head.appendChild(O);break;case"meta":if($=dM("meta","content",D).get(E+(S.content||""))){for(V=0;V<$.length;V++)if(O=$[V],O.getAttribute("content")===(S.content==null?null:""+S.content)&&O.getAttribute("name")===(S.name==null?null:S.name)&&O.getAttribute("property")===(S.property==null?null:S.property)&&O.getAttribute("http-equiv")===(S.httpEquiv==null?null:S.httpEquiv)&&O.getAttribute("charset")===(S.charSet==null?null:S.charSet)){$.splice(V,1);break t}}O=D.createElement(E),Qn(O,E,S),D.head.appendChild(O);break;default:throw Error(n(468,E))}O[Cn]=f,On(O),E=O}f.stateNode=E}else uM(D,f.type,f.stateNode);else f.stateNode=cM(D,E,f.memoizedProps);else O!==E?(O===null?S.stateNode!==null&&(S=S.stateNode,S.parentNode.removeChild(S)):O.count--,E===null?uM(D,f.type,f.stateNode):cM(D,E,f.memoizedProps)):E===null&&f.stateNode!==null&&Ej(f,f.memoizedProps,S.memoizedProps)}break;case 27:Ys(p,f),Zs(f),E&512&&(on||S===null||No(S,S.return)),S!==null&&E&4&&Ej(f,f.memoizedProps,S.memoizedProps);break;case 5:if(Ys(p,f),Zs(f),E&512&&(on||S===null||No(S,S.return)),f.flags&32){D=f.stateNode;try{uu(D,"")}catch(Se){br(f,f.return,Se)}}E&4&&f.stateNode!=null&&(D=f.memoizedProps,Ej(f,D,S!==null?S.memoizedProps:D)),E&1024&&(kj=!0);break;case 6:if(Ys(p,f),Zs(f),E&4){if(f.stateNode===null)throw Error(n(162));E=f.memoizedProps,S=f.stateNode;try{S.nodeValue=E}catch(Se){br(f,f.return,Se)}}break;case 3:if(ev=null,D=Ka,Ka=Qx(p.containerInfo),Ys(p,f),Ka=D,Zs(f),E&4&&S!==null&&S.memoizedState.isDehydrated)try{Ch(p.containerInfo)}catch(Se){br(f,f.return,Se)}kj&&(kj=!1,x4(f));break;case 4:E=Ka,Ka=Qx(f.stateNode.containerInfo),Ys(p,f),Zs(f),Ka=E;break;case 12:Ys(p,f),Zs(f);break;case 13:Ys(p,f),Zs(f),f.child.flags&8192&&f.memoizedState!==null!=(S!==null&&S.memoizedState!==null)&&(Ij=nt()),E&4&&(E=f.updateQueue,E!==null&&(f.updateQueue=null,Dj(f,E)));break;case 22:D=f.memoizedState!==null;var te=S!==null&&S.memoizedState!==null,me=bi,Ae=on;if(bi=me||D,on=Ae||te,Ys(p,f),on=Ae,bi=me,Zs(f),E&8192)e:for(p=f.stateNode,p._visibility=D?p._visibility&-2:p._visibility|1,D&&(S===null||te||bi||on||Vc(f)),S=null,p=f;;){if(p.tag===5||p.tag===26){if(S===null){te=S=p;try{if(O=te.stateNode,D)$=O.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none";else{V=te.stateNode;var Me=te.memoizedProps.style,ve=Me!=null&&Me.hasOwnProperty("display")?Me.display:null;V.style.display=ve==null||typeof ve=="boolean"?"":(""+ve).trim()}}catch(Se){br(te,te.return,Se)}}}else if(p.tag===6){if(S===null){te=p;try{te.stateNode.nodeValue=D?"":te.memoizedProps}catch(Se){br(te,te.return,Se)}}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===f)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===f)break e;for(;p.sibling===null;){if(p.return===null||p.return===f)break e;S===p&&(S=null),p=p.return}S===p&&(S=null),p.sibling.return=p.return,p=p.sibling}E&4&&(E=f.updateQueue,E!==null&&(S=E.retryQueue,S!==null&&(E.retryQueue=null,Dj(f,S))));break;case 19:Ys(p,f),Zs(f),E&4&&(E=f.updateQueue,E!==null&&(f.updateQueue=null,Dj(f,E)));break;case 30:break;case 21:break;default:Ys(p,f),Zs(f)}}function Zs(f){var p=f.flags;if(p&2){try{for(var S,E=f.return;E!==null;){if(c4(E)){S=E;break}E=E.return}if(S==null)throw Error(n(160));switch(S.tag){case 27:var D=S.stateNode,O=_j(f);Fx(f,O,D);break;case 5:var $=S.stateNode;S.flags&32&&(uu($,""),S.flags&=-33);var V=_j(f);Fx(f,V,$);break;case 3:case 4:var te=S.stateNode.containerInfo,me=_j(f);Aj(f,me,te);break;default:throw Error(n(161))}}catch(Ae){br(f,f.return,Ae)}f.flags&=-3}p&4096&&(f.flags&=-4097)}function x4(f){if(f.subtreeFlags&1024)for(f=f.child;f!==null;){var p=f;x4(p),p.tag===5&&p.flags&1024&&p.stateNode.reset(),f=f.sibling}}function Nl(f,p){if(p.subtreeFlags&8772)for(p=p.child;p!==null;)f4(f,p.alternate,p),p=p.sibling}function Vc(f){for(f=f.child;f!==null;){var p=f;switch(p.tag){case 0:case 11:case 14:case 15:jl(4,p,p.return),Vc(p);break;case 1:No(p,p.return);var S=p.stateNode;typeof S.componentWillUnmount=="function"&&i4(p,p.return,S),Vc(p);break;case 27:xh(p.stateNode);case 26:case 5:No(p,p.return),Vc(p);break;case 22:p.memoizedState===null&&Vc(p);break;case 30:Vc(p);break;default:Vc(p)}f=f.sibling}}function Cl(f,p,S){for(S=S&&(p.subtreeFlags&8772)!==0,p=p.child;p!==null;){var E=p.alternate,D=f,O=p,$=O.flags;switch(O.tag){case 0:case 11:case 15:Cl(D,O,S),ih(4,O);break;case 1:if(Cl(D,O,S),E=O,D=E.stateNode,typeof D.componentDidMount=="function")try{D.componentDidMount()}catch(me){br(E,E.return,me)}if(E=O,D=E.updateQueue,D!==null){var V=E.stateNode;try{var te=D.shared.hiddenCallbacks;if(te!==null)for(D.shared.hiddenCallbacks=null,D=0;D<te.length;D++)WR(te[D],V)}catch(me){br(E,E.return,me)}}S&&$&64&&o4(O),lh(O,O.return);break;case 27:d4(O);case 26:case 5:Cl(D,O,S),S&&E===null&&$&4&&l4(O),lh(O,O.return);break;case 12:Cl(D,O,S);break;case 13:Cl(D,O,S),S&&$&4&&p4(D,O);break;case 22:O.memoizedState===null&&Cl(D,O,S),lh(O,O.return);break;case 30:break;default:Cl(D,O,S)}p=p.sibling}}function Tj(f,p){var S=null;f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(S=f.memoizedState.cachePool.pool),f=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(f=p.memoizedState.cachePool.pool),f!==S&&(f!=null&&f.refCount++,S!=null&&Gm(S))}function Rj(f,p){f=null,p.alternate!==null&&(f=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==f&&(p.refCount++,f!=null&&Gm(f))}function Co(f,p,S,E){if(p.subtreeFlags&10256)for(p=p.child;p!==null;)v4(f,p,S,E),p=p.sibling}function v4(f,p,S,E){var D=p.flags;switch(p.tag){case 0:case 11:case 15:Co(f,p,S,E),D&2048&&ih(9,p);break;case 1:Co(f,p,S,E);break;case 3:Co(f,p,S,E),D&2048&&(f=null,p.alternate!==null&&(f=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==f&&(p.refCount++,f!=null&&Gm(f)));break;case 12:if(D&2048){Co(f,p,S,E),f=p.stateNode;try{var O=p.memoizedProps,$=O.id,V=O.onPostCommit;typeof V=="function"&&V($,p.alternate===null?"mount":"update",f.passiveEffectDuration,-0)}catch(te){br(p,p.return,te)}}else Co(f,p,S,E);break;case 13:Co(f,p,S,E);break;case 23:break;case 22:O=p.stateNode,$=p.alternate,p.memoizedState!==null?O._visibility&2?Co(f,p,S,E):ch(f,p):O._visibility&2?Co(f,p,S,E):(O._visibility|=2,Du(f,p,S,E,(p.subtreeFlags&10256)!==0)),D&2048&&Tj($,p);break;case 24:Co(f,p,S,E),D&2048&&Rj(p.alternate,p);break;default:Co(f,p,S,E)}}function Du(f,p,S,E,D){for(D=D&&(p.subtreeFlags&10256)!==0,p=p.child;p!==null;){var O=f,$=p,V=S,te=E,me=$.flags;switch($.tag){case 0:case 11:case 15:Du(O,$,V,te,D),ih(8,$);break;case 23:break;case 22:var Ae=$.stateNode;$.memoizedState!==null?Ae._visibility&2?Du(O,$,V,te,D):ch(O,$):(Ae._visibility|=2,Du(O,$,V,te,D)),D&&me&2048&&Tj($.alternate,$);break;case 24:Du(O,$,V,te,D),D&&me&2048&&Rj($.alternate,$);break;default:Du(O,$,V,te,D)}p=p.sibling}}function ch(f,p){if(p.subtreeFlags&10256)for(p=p.child;p!==null;){var S=f,E=p,D=E.flags;switch(E.tag){case 22:ch(S,E),D&2048&&Tj(E.alternate,E);break;case 24:ch(S,E),D&2048&&Rj(E.alternate,E);break;default:ch(S,E)}p=p.sibling}}var dh=8192;function Tu(f){if(f.subtreeFlags&dh)for(f=f.child;f!==null;)y4(f),f=f.sibling}function y4(f){switch(f.tag){case 26:Tu(f),f.flags&dh&&f.memoizedState!==null&&XQ(Ka,f.memoizedState,f.memoizedProps);break;case 5:Tu(f);break;case 3:case 4:var p=Ka;Ka=Qx(f.stateNode.containerInfo),Tu(f),Ka=p;break;case 22:f.memoizedState===null&&(p=f.alternate,p!==null&&p.memoizedState!==null?(p=dh,dh=16777216,Tu(f),dh=p):Tu(f));break;default:Tu(f)}}function b4(f){var p=f.alternate;if(p!==null&&(f=p.child,f!==null)){p.child=null;do p=f.sibling,f.sibling=null,f=p;while(f!==null)}}function uh(f){var p=f.deletions;if((f.flags&16)!==0){if(p!==null)for(var S=0;S<p.length;S++){var E=p[S];Ln=E,S4(E,f)}b4(f)}if(f.subtreeFlags&10256)for(f=f.child;f!==null;)w4(f),f=f.sibling}function w4(f){switch(f.tag){case 0:case 11:case 15:uh(f),f.flags&2048&&jl(9,f,f.return);break;case 3:uh(f);break;case 12:uh(f);break;case 22:var p=f.stateNode;f.memoizedState!==null&&p._visibility&2&&(f.return===null||f.return.tag!==13)?(p._visibility&=-3,Ux(f)):uh(f);break;default:uh(f)}}function Ux(f){var p=f.deletions;if((f.flags&16)!==0){if(p!==null)for(var S=0;S<p.length;S++){var E=p[S];Ln=E,S4(E,f)}b4(f)}for(f=f.child;f!==null;){switch(p=f,p.tag){case 0:case 11:case 15:jl(8,p,p.return),Ux(p);break;case 22:S=p.stateNode,S._visibility&2&&(S._visibility&=-3,Ux(p));break;default:Ux(p)}f=f.sibling}}function S4(f,p){for(;Ln!==null;){var S=Ln;switch(S.tag){case 0:case 11:case 15:jl(8,S,p);break;case 23:case 22:if(S.memoizedState!==null&&S.memoizedState.cachePool!==null){var E=S.memoizedState.cachePool.pool;E!=null&&E.refCount++}break;case 24:Gm(S.memoizedState.cache)}if(E=S.child,E!==null)E.return=S,Ln=E;else e:for(S=f;Ln!==null;){E=Ln;var D=E.sibling,O=E.return;if(m4(E),E===S){Ln=null;break e}if(D!==null){D.return=O,Ln=D;break e}Ln=O}}}var mQ={getCacheForType:function(f){var p=ns(En),S=p.data.get(f);return S===void 0&&(S=f(),p.data.set(f,S)),S}},hQ=typeof WeakMap=="function"?WeakMap:Map,cr=0,jr=null,Ut=null,Qt=0,dr=0,Ks=null,El=!1,Ru=!1,Pj=!1,Si=0,Qr=0,_l=0,Wc=0,Mj=0,Ca=0,Pu=0,fh=null,Rs=null,Oj=!1,Ij=0,$x=1/0,Hx=null,Al=null,Xn=0,kl=null,Mu=null,Ou=0,Lj=0,Bj=null,j4=null,mh=0,Fj=null;function Xs(){if((cr&2)!==0&&Qt!==0)return Qt&-Qt;if(F.T!==null){var f=Su;return f!==0?f:Wj()}return hl()}function N4(){Ca===0&&(Ca=(Qt&536870912)===0||nr?lr():536870912);var f=Na.current;return f!==null&&(f.flags|=32),Ca}function Qs(f,p,S){(f===jr&&(dr===2||dr===9)||f.cancelPendingCommit!==null)&&(Iu(f,0),Dl(f,Qt,Ca,!1)),Kr(f,S),((cr&2)===0||f!==jr)&&(f===jr&&((cr&2)===0&&(Wc|=S),Qr===4&&Dl(f,Qt,Ca,!1)),Eo(f))}function C4(f,p,S){if((cr&6)!==0)throw Error(n(327));var E=!S&&(p&124)===0&&(p&f.expiredLanes)===0||Ya(f,p),D=E?xQ(f,p):Hj(f,p,!0),O=E;do{if(D===0){Ru&&!E&&Dl(f,p,0,!1);break}else{if(S=f.current.alternate,O&&!pQ(S)){D=Hj(f,p,!1),O=!1;continue}if(D===2){if(O=p,f.errorRecoveryDisabledLanes&O)var $=0;else $=f.pendingLanes&-536870913,$=$!==0?$:$&536870912?536870912:0;if($!==0){p=$;e:{var V=f;D=fh;var te=V.current.memoizedState.isDehydrated;if(te&&(Iu(V,$).flags|=256),$=Hj(V,$,!1),$!==2){if(Pj&&!te){V.errorRecoveryDisabledLanes|=O,Wc|=O,D=4;break e}O=Rs,Rs=D,O!==null&&(Rs===null?Rs=O:Rs.push.apply(Rs,O))}D=$}if(O=!1,D!==2)continue}}if(D===1){Iu(f,0),Dl(f,p,0,!0);break}e:{switch(E=f,O=D,O){case 0:case 1:throw Error(n(345));case 4:if((p&4194048)!==p)break;case 6:Dl(E,p,Ca,!El);break e;case 2:Rs=null;break;case 3:case 5:break;default:throw Error(n(329))}if((p&62914560)===p&&(D=Ij+300-nt(),10<D)){if(Dl(E,p,Ca,!El),xa(E,0,!0)!==0)break e;E.timeoutHandle=eM(E4.bind(null,E,S,Rs,Hx,Oj,p,Ca,Wc,Pu,El,O,2,-0,0),D);break e}E4(E,S,Rs,Hx,Oj,p,Ca,Wc,Pu,El,O,0,-0,0)}}break}while(!0);Eo(f)}function E4(f,p,S,E,D,O,$,V,te,me,Ae,Me,ve,Se){if(f.timeoutHandle=-1,Me=p.subtreeFlags,(Me&8192||(Me&16785408)===16785408)&&(bh={stylesheets:null,count:0,unsuspend:KQ},y4(p),Me=QQ(),Me!==null)){f.cancelPendingCommit=Me(P4.bind(null,f,p,O,S,E,D,$,V,te,Ae,1,ve,Se)),Dl(f,O,$,!me);return}P4(f,p,O,S,E,D,$,V,te)}function pQ(f){for(var p=f;;){var S=p.tag;if((S===0||S===11||S===15)&&p.flags&16384&&(S=p.updateQueue,S!==null&&(S=S.stores,S!==null)))for(var E=0;E<S.length;E++){var D=S[E],O=D.getSnapshot;D=D.value;try{if(!Ws(O(),D))return!1}catch{return!1}}if(S=p.child,p.subtreeFlags&16384&&S!==null)S.return=p,p=S;else{if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Dl(f,p,S,E){p&=~Mj,p&=~Wc,f.suspendedLanes|=p,f.pingedLanes&=~p,E&&(f.warmLanes|=p),E=f.expirationTimes;for(var D=p;0<D;){var O=31-Ft(D),$=1<<O;E[O]=-1,D&=~$}S!==0&&ru(f,S,p)}function zx(){return(cr&6)===0?(hh(0),!1):!0}function Uj(){if(Ut!==null){if(dr===0)var f=Ut.return;else f=Ut,hi=Uc=null,nj(f),Au=null,sh=0,f=Ut;for(;f!==null;)a4(f.alternate,f),f=f.return;Ut=null}}function Iu(f,p){var S=f.timeoutHandle;S!==-1&&(f.timeoutHandle=-1,PQ(S)),S=f.cancelPendingCommit,S!==null&&(f.cancelPendingCommit=null,S()),Uj(),jr=f,Ut=S=ui(f.current,null),Qt=p,dr=0,Ks=null,El=!1,Ru=Ya(f,p),Pj=!1,Pu=Ca=Mj=Wc=_l=Qr=0,Rs=fh=null,Oj=!1,(p&8)!==0&&(p|=p&32);var E=f.entangledLanes;if(E!==0)for(f=f.entanglements,E&=p;0<E;){var D=31-Ft(E),O=1<<D;p|=f[D],E&=~O}return Si=p,ux(),S}function _4(f,p){Dt=null,F.H=Dx,p===Zm||p===bx?(p=qR(),dr=3):p===$R?(p=qR(),dr=4):dr=p===VP?8:p!==null&&typeof p=="object"&&typeof p.then=="function"?6:1,Ks=p,Ut===null&&(Qr=1,Ox(f,ba(p,f.current)))}function A4(){var f=F.H;return F.H=Dx,f===null?Dx:f}function k4(){var f=F.A;return F.A=mQ,f}function $j(){Qr=4,El||(Qt&4194048)!==Qt&&Na.current!==null||(Ru=!0),(_l&134217727)===0&&(Wc&134217727)===0||jr===null||Dl(jr,Qt,Ca,!1)}function Hj(f,p,S){var E=cr;cr|=2;var D=A4(),O=k4();(jr!==f||Qt!==p)&&(Hx=null,Iu(f,p)),p=!1;var $=Qr;e:do try{if(dr!==0&&Ut!==null){var V=Ut,te=Ks;switch(dr){case 8:Uj(),$=6;break e;case 3:case 2:case 9:case 6:Na.current===null&&(p=!0);var me=dr;if(dr=0,Ks=null,Lu(f,V,te,me),S&&Ru){$=0;break e}break;default:me=dr,dr=0,Ks=null,Lu(f,V,te,me)}}gQ(),$=Qr;break}catch(Ae){_4(f,Ae)}while(!0);return p&&f.shellSuspendCounter++,hi=Uc=null,cr=E,F.H=D,F.A=O,Ut===null&&(jr=null,Qt=0,ux()),$}function gQ(){for(;Ut!==null;)D4(Ut)}function xQ(f,p){var S=cr;cr|=2;var E=A4(),D=k4();jr!==f||Qt!==p?(Hx=null,$x=nt()+500,Iu(f,p)):Ru=Ya(f,p);e:do try{if(dr!==0&&Ut!==null){p=Ut;var O=Ks;t:switch(dr){case 1:dr=0,Ks=null,Lu(f,p,O,1);break;case 2:case 9:if(HR(O)){dr=0,Ks=null,T4(p);break}p=function(){dr!==2&&dr!==9||jr!==f||(dr=7),Eo(f)},O.then(p,p);break e;case 3:dr=7;break e;case 4:dr=5;break e;case 7:HR(O)?(dr=0,Ks=null,T4(p)):(dr=0,Ks=null,Lu(f,p,O,7));break;case 5:var $=null;switch(Ut.tag){case 26:$=Ut.memoizedState;case 5:case 27:var V=Ut;if(!$||fM($)){dr=0,Ks=null;var te=V.sibling;if(te!==null)Ut=te;else{var me=V.return;me!==null?(Ut=me,qx(me)):Ut=null}break t}}dr=0,Ks=null,Lu(f,p,O,5);break;case 6:dr=0,Ks=null,Lu(f,p,O,6);break;case 8:Uj(),Qr=6;break e;default:throw Error(n(462))}}vQ();break}catch(Ae){_4(f,Ae)}while(!0);return hi=Uc=null,F.H=E,F.A=D,cr=S,Ut!==null?0:(jr=null,Qt=0,ux(),Qr)}function vQ(){for(;Ut!==null&&!ae();)D4(Ut)}function D4(f){var p=n4(f.alternate,f,Si);f.memoizedProps=f.pendingProps,p===null?qx(f):Ut=p}function T4(f){var p=f,S=p.alternate;switch(p.tag){case 15:case 0:p=XP(S,p,p.pendingProps,p.type,void 0,Qt);break;case 11:p=XP(S,p,p.pendingProps,p.type.render,p.ref,Qt);break;case 5:nj(p);default:a4(S,p),p=Ut=RR(p,Si),p=n4(S,p,Si)}f.memoizedProps=f.pendingProps,p===null?qx(f):Ut=p}function Lu(f,p,S,E){hi=Uc=null,nj(p),Au=null,sh=0;var D=p.return;try{if(iQ(f,D,p,S,Qt)){Qr=1,Ox(f,ba(S,f.current)),Ut=null;return}}catch(O){if(D!==null)throw Ut=D,O;Qr=1,Ox(f,ba(S,f.current)),Ut=null;return}p.flags&32768?(nr||E===1?f=!0:Ru||(Qt&536870912)!==0?f=!1:(El=f=!0,(E===2||E===9||E===3||E===6)&&(E=Na.current,E!==null&&E.tag===13&&(E.flags|=16384))),R4(p,f)):qx(p)}function qx(f){var p=f;do{if((p.flags&32768)!==0){R4(p,El);return}f=p.return;var S=cQ(p.alternate,p,Si);if(S!==null){Ut=S;return}if(p=p.sibling,p!==null){Ut=p;return}Ut=p=f}while(p!==null);Qr===0&&(Qr=5)}function R4(f,p){do{var S=dQ(f.alternate,f);if(S!==null){S.flags&=32767,Ut=S;return}if(S=f.return,S!==null&&(S.flags|=32768,S.subtreeFlags=0,S.deletions=null),!p&&(f=f.sibling,f!==null)){Ut=f;return}Ut=f=S}while(f!==null);Qr=6,Ut=null}function P4(f,p,S,E,D,O,$,V,te){f.cancelPendingCommit=null;do Vx();while(Xn!==0);if((cr&6)!==0)throw Error(n(327));if(p!==null){if(p===f.current)throw Error(n(177));if(O=p.lanes|p.childLanes,O|=RS,Kt(f,S,O,$,V,te),f===jr&&(Ut=jr=null,Qt=0),Mu=p,kl=f,Ou=S,Lj=O,Bj=D,j4=E,(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?(f.callbackNode=null,f.callbackPriority=0,SQ(Y,function(){return B4(),null})):(f.callbackNode=null,f.callbackPriority=0),E=(p.flags&13878)!==0,(p.subtreeFlags&13878)!==0||E){E=F.T,F.T=null,D=H.p,H.p=2,$=cr,cr|=4;try{uQ(f,p,S)}finally{cr=$,H.p=D,F.T=E}}Xn=1,M4(),O4(),I4()}}function M4(){if(Xn===1){Xn=0;var f=kl,p=Mu,S=(p.flags&13878)!==0;if((p.subtreeFlags&13878)!==0||S){S=F.T,F.T=null;var E=H.p;H.p=2;var D=cr;cr|=4;try{g4(p,f);var O=eN,$=SR(f.containerInfo),V=O.focusedElem,te=O.selectionRange;if($!==V&&V&&V.ownerDocument&&wR(V.ownerDocument.documentElement,V)){if(te!==null&&_S(V)){var me=te.start,Ae=te.end;if(Ae===void 0&&(Ae=me),"selectionStart"in V)V.selectionStart=me,V.selectionEnd=Math.min(Ae,V.value.length);else{var Me=V.ownerDocument||document,ve=Me&&Me.defaultView||window;if(ve.getSelection){var Se=ve.getSelection(),wt=V.textContent.length,pt=Math.min(te.start,wt),gr=te.end===void 0?pt:Math.min(te.end,wt);!Se.extend&&pt>gr&&($=gr,gr=pt,pt=$);var le=bR(V,pt),se=bR(V,gr);if(le&&se&&(Se.rangeCount!==1||Se.anchorNode!==le.node||Se.anchorOffset!==le.offset||Se.focusNode!==se.node||Se.focusOffset!==se.offset)){var fe=Me.createRange();fe.setStart(le.node,le.offset),Se.removeAllRanges(),pt>gr?(Se.addRange(fe),Se.extend(se.node,se.offset)):(fe.setEnd(se.node,se.offset),Se.addRange(fe))}}}}for(Me=[],Se=V;Se=Se.parentNode;)Se.nodeType===1&&Me.push({element:Se,left:Se.scrollLeft,top:Se.scrollTop});for(typeof V.focus=="function"&&V.focus(),V=0;V<Me.length;V++){var ke=Me[V];ke.element.scrollLeft=ke.left,ke.element.scrollTop=ke.top}}nv=!!Jj,eN=Jj=null}finally{cr=D,H.p=E,F.T=S}}f.current=p,Xn=2}}function O4(){if(Xn===2){Xn=0;var f=kl,p=Mu,S=(p.flags&8772)!==0;if((p.subtreeFlags&8772)!==0||S){S=F.T,F.T=null;var E=H.p;H.p=2;var D=cr;cr|=4;try{f4(f,p.alternate,p)}finally{cr=D,H.p=E,F.T=S}}Xn=3}}function I4(){if(Xn===4||Xn===3){Xn=0,$e();var f=kl,p=Mu,S=Ou,E=j4;(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?Xn=5:(Xn=0,Mu=kl=null,L4(f,f.pendingLanes));var D=f.pendingLanes;if(D===0&&(Al=null),li(S),p=p.stateNode,mt&&typeof mt.onCommitFiberRoot=="function")try{mt.onCommitFiberRoot(qe,p,void 0,(p.current.flags&128)===128)}catch{}if(E!==null){p=F.T,D=H.p,H.p=2,F.T=null;try{for(var O=f.onRecoverableError,$=0;$<E.length;$++){var V=E[$];O(V.value,{componentStack:V.stack})}}finally{F.T=p,H.p=D}}(Ou&3)!==0&&Vx(),Eo(f),D=f.pendingLanes,(S&4194090)!==0&&(D&42)!==0?f===Fj?mh++:(mh=0,Fj=f):mh=0,hh(0)}}function L4(f,p){(f.pooledCacheLanes&=p)===0&&(p=f.pooledCache,p!=null&&(f.pooledCache=null,Gm(p)))}function Vx(f){return M4(),O4(),I4(),B4()}function B4(){if(Xn!==5)return!1;var f=kl,p=Lj;Lj=0;var S=li(Ou),E=F.T,D=H.p;try{H.p=32>S?32:S,F.T=null,S=Bj,Bj=null;var O=kl,$=Ou;if(Xn=0,Mu=kl=null,Ou=0,(cr&6)!==0)throw Error(n(331));var V=cr;if(cr|=4,w4(O.current),v4(O,O.current,$,S),cr=V,hh(0,!1),mt&&typeof mt.onPostCommitFiberRoot=="function")try{mt.onPostCommitFiberRoot(qe,O)}catch{}return!0}finally{H.p=D,F.T=E,L4(f,p)}}function F4(f,p,S){p=ba(S,p),p=xj(f.stateNode,p,2),f=yl(f,p,2),f!==null&&(Kr(f,2),Eo(f))}function br(f,p,S){if(f.tag===3)F4(f,f,S);else for(;p!==null;){if(p.tag===3){F4(p,f,S);break}else if(p.tag===1){var E=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(Al===null||!Al.has(E))){f=ba(S,f),S=zP(2),E=yl(p,S,2),E!==null&&(qP(S,E,p,f),Kr(E,2),Eo(E));break}}p=p.return}}function zj(f,p,S){var E=f.pingCache;if(E===null){E=f.pingCache=new hQ;var D=new Set;E.set(p,D)}else D=E.get(p),D===void 0&&(D=new Set,E.set(p,D));D.has(S)||(Pj=!0,D.add(S),f=yQ.bind(null,f,p,S),p.then(f,f))}function yQ(f,p,S){var E=f.pingCache;E!==null&&E.delete(p),f.pingedLanes|=f.suspendedLanes&S,f.warmLanes&=~S,jr===f&&(Qt&S)===S&&(Qr===4||Qr===3&&(Qt&62914560)===Qt&&300>nt()-Ij?(cr&2)===0&&Iu(f,0):Mj|=S,Pu===Qt&&(Pu=0)),Eo(f)}function U4(f,p){p===0&&(p=bt()),f=vu(f,p),f!==null&&(Kr(f,p),Eo(f))}function bQ(f){var p=f.memoizedState,S=0;p!==null&&(S=p.retryLane),U4(f,S)}function wQ(f,p){var S=0;switch(f.tag){case 13:var E=f.stateNode,D=f.memoizedState;D!==null&&(S=D.retryLane);break;case 19:E=f.stateNode;break;case 22:E=f.stateNode._retryCache;break;default:throw Error(n(314))}E!==null&&E.delete(p),U4(f,S)}function SQ(f,p){return Oe(f,p)}var Wx=null,Bu=null,qj=!1,Gx=!1,Vj=!1,Gc=0;function Eo(f){f!==Bu&&f.next===null&&(Bu===null?Wx=Bu=f:Bu=Bu.next=f),Gx=!0,qj||(qj=!0,NQ())}function hh(f,p){if(!Vj&&Gx){Vj=!0;do for(var S=!1,E=Wx;E!==null;){if(f!==0){var D=E.pendingLanes;if(D===0)var O=0;else{var $=E.suspendedLanes,V=E.pingedLanes;O=(1<<31-Ft(42|f)+1)-1,O&=D&~($&~V),O=O&201326741?O&201326741|1:O?O|2:0}O!==0&&(S=!0,q4(E,O))}else O=Qt,O=xa(E,E===jr?O:0,E.cancelPendingCommit!==null||E.timeoutHandle!==-1),(O&3)===0||Ya(E,O)||(S=!0,q4(E,O));E=E.next}while(S);Vj=!1}}function jQ(){$4()}function $4(){Gx=qj=!1;var f=0;Gc!==0&&(RQ()&&(f=Gc),Gc=0);for(var p=nt(),S=null,E=Wx;E!==null;){var D=E.next,O=H4(E,p);O===0?(E.next=null,S===null?Wx=D:S.next=D,D===null&&(Bu=S)):(S=E,(f!==0||(O&3)!==0)&&(Gx=!0)),E=D}hh(f)}function H4(f,p){for(var S=f.suspendedLanes,E=f.pingedLanes,D=f.expirationTimes,O=f.pendingLanes&-62914561;0<O;){var $=31-Ft(O),V=1<<$,te=D[$];te===-1?((V&S)===0||(V&E)!==0)&&(D[$]=jt(V,p)):te<=p&&(f.expiredLanes|=V),O&=~V}if(p=jr,S=Qt,S=xa(f,f===p?S:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),E=f.callbackNode,S===0||f===p&&(dr===2||dr===9)||f.cancelPendingCommit!==null)return E!==null&&E!==null&&Pe(E),f.callbackNode=null,f.callbackPriority=0;if((S&3)===0||Ya(f,S)){if(p=S&-S,p===f.callbackPriority)return p;switch(E!==null&&Pe(E),li(S)){case 2:case 8:S=Q;break;case 32:S=Y;break;case 268435456:S=we;break;default:S=Y}return E=z4.bind(null,f),S=Oe(S,E),f.callbackPriority=p,f.callbackNode=S,p}return E!==null&&E!==null&&Pe(E),f.callbackPriority=2,f.callbackNode=null,2}function z4(f,p){if(Xn!==0&&Xn!==5)return f.callbackNode=null,f.callbackPriority=0,null;var S=f.callbackNode;if(Vx()&&f.callbackNode!==S)return null;var E=Qt;return E=xa(f,f===jr?E:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),E===0?null:(C4(f,E,p),H4(f,nt()),f.callbackNode!=null&&f.callbackNode===S?z4.bind(null,f):null)}function q4(f,p){if(Vx())return null;C4(f,p,!0)}function NQ(){MQ(function(){(cr&6)!==0?Oe(Fe,jQ):$4()})}function Wj(){return Gc===0&&(Gc=lr()),Gc}function V4(f){return f==null||typeof f=="symbol"||typeof f=="boolean"?null:typeof f=="function"?f:sx(""+f)}function W4(f,p){var S=p.ownerDocument.createElement("input");return S.name=p.name,S.value=p.value,f.id&&S.setAttribute("form",f.id),p.parentNode.insertBefore(S,p),f=new FormData(f),S.parentNode.removeChild(S),f}function CQ(f,p,S,E,D){if(p==="submit"&&S&&S.stateNode===D){var O=V4((D[mr]||null).action),$=E.submitter;$&&(p=(p=$[mr]||null)?V4(p.formAction):$.getAttribute("formAction"),p!==null&&(O=p,$=null));var V=new lx("action","action",null,E,D);f.push({event:V,listeners:[{instance:null,listener:function(){if(E.defaultPrevented){if(Gc!==0){var te=$?W4(D,$):new FormData(D);fj(S,{pending:!0,data:te,method:D.method,action:O},null,te)}}else typeof O=="function"&&(V.preventDefault(),te=$?W4(D,$):new FormData(D),fj(S,{pending:!0,data:te,method:D.method,action:O},O,te))},currentTarget:D}]})}}for(var Gj=0;Gj<TS.length;Gj++){var Yj=TS[Gj],EQ=Yj.toLowerCase(),_Q=Yj[0].toUpperCase()+Yj.slice(1);Za(EQ,"on"+_Q)}Za(CR,"onAnimationEnd"),Za(ER,"onAnimationIteration"),Za(_R,"onAnimationStart"),Za("dblclick","onDoubleClick"),Za("focusin","onFocus"),Za("focusout","onBlur"),Za(qX,"onTransitionRun"),Za(VX,"onTransitionStart"),Za(WX,"onTransitionCancel"),Za(AR,"onTransitionEnd"),lu("onMouseEnter",["mouseout","mouseover"]),lu("onMouseLeave",["mouseout","mouseover"]),lu("onPointerEnter",["pointerout","pointerover"]),lu("onPointerLeave",["pointerout","pointerover"]),Tc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tc("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ph="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AQ=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ph));function G4(f,p){p=(p&4)!==0;for(var S=0;S<f.length;S++){var E=f[S],D=E.event;E=E.listeners;e:{var O=void 0;if(p)for(var $=E.length-1;0<=$;$--){var V=E[$],te=V.instance,me=V.currentTarget;if(V=V.listener,te!==O&&D.isPropagationStopped())break e;O=V,D.currentTarget=me;try{O(D)}catch(Ae){Mx(Ae)}D.currentTarget=null,O=te}else for($=0;$<E.length;$++){if(V=E[$],te=V.instance,me=V.currentTarget,V=V.listener,te!==O&&D.isPropagationStopped())break e;O=V,D.currentTarget=me;try{O(D)}catch(Ae){Mx(Ae)}D.currentTarget=null,O=te}}}}function $t(f,p){var S=p[su];S===void 0&&(S=p[su]=new Set);var E=f+"__bubble";S.has(E)||(Y4(p,f,2,!1),S.add(E))}function Zj(f,p,S){var E=0;p&&(E|=4),Y4(S,f,E,p)}var Yx="_reactListening"+Math.random().toString(36).slice(2);function Kj(f){if(!f[Yx]){f[Yx]=!0,$T.forEach(function(S){S!=="selectionchange"&&(AQ.has(S)||Zj(S,!1,f),Zj(S,!0,f))});var p=f.nodeType===9?f:f.ownerDocument;p===null||p[Yx]||(p[Yx]=!0,Zj("selectionchange",!1,p))}}function Y4(f,p,S,E){switch(vM(p)){case 2:var D=tJ;break;case 8:D=rJ;break;default:D=dN}S=D.bind(null,p,S,f),D=void 0,!vS||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(D=!0),E?D!==void 0?f.addEventListener(p,S,{capture:!0,passive:D}):f.addEventListener(p,S,!0):D!==void 0?f.addEventListener(p,S,{passive:D}):f.addEventListener(p,S,!1)}function Xj(f,p,S,E,D){var O=E;if((p&1)===0&&(p&2)===0&&E!==null)e:for(;;){if(E===null)return;var $=E.tag;if($===3||$===4){var V=E.stateNode.containerInfo;if(V===D)break;if($===4)for($=E.return;$!==null;){var te=$.tag;if((te===3||te===4)&&$.stateNode.containerInfo===D)return;$=$.return}for(;V!==null;){if($=au(V),$===null)return;if(te=$.tag,te===5||te===6||te===26||te===27){E=O=$;continue e}V=V.parentNode}}E=E.return}tR(function(){var me=O,Ae=gS(S),Me=[];e:{var ve=kR.get(f);if(ve!==void 0){var Se=lx,wt=f;switch(f){case"keypress":if(ox(S)===0)break e;case"keydown":case"keyup":Se=SX;break;case"focusin":wt="focus",Se=SS;break;case"focusout":wt="blur",Se=SS;break;case"beforeblur":case"afterblur":Se=SS;break;case"click":if(S.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Se=sR;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Se=dX;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Se=CX;break;case CR:case ER:case _R:Se=mX;break;case AR:Se=_X;break;case"scroll":case"scrollend":Se=lX;break;case"wheel":Se=kX;break;case"copy":case"cut":case"paste":Se=pX;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Se=oR;break;case"toggle":case"beforetoggle":Se=TX}var pt=(p&4)!==0,gr=!pt&&(f==="scroll"||f==="scrollend"),le=pt?ve!==null?ve+"Capture":null:ve;pt=[];for(var se=me,fe;se!==null;){var ke=se;if(fe=ke.stateNode,ke=ke.tag,ke!==5&&ke!==26&&ke!==27||fe===null||le===null||(ke=Mm(se,le),ke!=null&&pt.push(gh(se,ke,fe))),gr)break;se=se.return}0<pt.length&&(ve=new Se(ve,wt,null,S,Ae),Me.push({event:ve,listeners:pt}))}}if((p&7)===0){e:{if(ve=f==="mouseover"||f==="pointerover",Se=f==="mouseout"||f==="pointerout",ve&&S!==pS&&(wt=S.relatedTarget||S.fromElement)&&(au(wt)||wt[ps]))break e;if((Se||ve)&&(ve=Ae.window===Ae?Ae:(ve=Ae.ownerDocument)?ve.defaultView||ve.parentWindow:window,Se?(wt=S.relatedTarget||S.toElement,Se=me,wt=wt?au(wt):null,wt!==null&&(gr=o(wt),pt=wt.tag,wt!==gr||pt!==5&&pt!==27&&pt!==6)&&(wt=null)):(Se=null,wt=me),Se!==wt)){if(pt=sR,ke="onMouseLeave",le="onMouseEnter",se="mouse",(f==="pointerout"||f==="pointerover")&&(pt=oR,ke="onPointerLeave",le="onPointerEnter",se="pointer"),gr=Se==null?ve:Pm(Se),fe=wt==null?ve:Pm(wt),ve=new pt(ke,se+"leave",Se,S,Ae),ve.target=gr,ve.relatedTarget=fe,ke=null,au(Ae)===me&&(pt=new pt(le,se+"enter",wt,S,Ae),pt.target=fe,pt.relatedTarget=gr,ke=pt),gr=ke,Se&&wt)t:{for(pt=Se,le=wt,se=0,fe=pt;fe;fe=Fu(fe))se++;for(fe=0,ke=le;ke;ke=Fu(ke))fe++;for(;0<se-fe;)pt=Fu(pt),se--;for(;0<fe-se;)le=Fu(le),fe--;for(;se--;){if(pt===le||le!==null&&pt===le.alternate)break t;pt=Fu(pt),le=Fu(le)}pt=null}else pt=null;Se!==null&&Z4(Me,ve,Se,pt,!1),wt!==null&&gr!==null&&Z4(Me,gr,wt,pt,!0)}}e:{if(ve=me?Pm(me):window,Se=ve.nodeName&&ve.nodeName.toLowerCase(),Se==="select"||Se==="input"&&ve.type==="file")var et=hR;else if(fR(ve))if(pR)et=$X;else{et=FX;var Ot=BX}else Se=ve.nodeName,!Se||Se.toLowerCase()!=="input"||ve.type!=="checkbox"&&ve.type!=="radio"?me&&hS(me.elementType)&&(et=hR):et=UX;if(et&&(et=et(f,me))){mR(Me,et,S,Ae);break e}Ot&&Ot(f,ve,me),f==="focusout"&&me&&ve.type==="number"&&me.memoizedProps.value!=null&&mS(ve,"number",ve.value)}switch(Ot=me?Pm(me):window,f){case"focusin":(fR(Ot)||Ot.contentEditable==="true")&&(pu=Ot,AS=me,Hm=null);break;case"focusout":Hm=AS=pu=null;break;case"mousedown":kS=!0;break;case"contextmenu":case"mouseup":case"dragend":kS=!1,jR(Me,S,Ae);break;case"selectionchange":if(zX)break;case"keydown":case"keyup":jR(Me,S,Ae)}var it;if(NS)e:{switch(f){case"compositionstart":var xt="onCompositionStart";break e;case"compositionend":xt="onCompositionEnd";break e;case"compositionupdate":xt="onCompositionUpdate";break e}xt=void 0}else hu?dR(f,S)&&(xt="onCompositionEnd"):f==="keydown"&&S.keyCode===229&&(xt="onCompositionStart");xt&&(iR&&S.locale!=="ko"&&(hu||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&hu&&(it=rR()):(pl=Ae,yS="value"in pl?pl.value:pl.textContent,hu=!0)),Ot=Zx(me,xt),0<Ot.length&&(xt=new aR(xt,f,null,S,Ae),Me.push({event:xt,listeners:Ot}),it?xt.data=it:(it=uR(S),it!==null&&(xt.data=it)))),(it=PX?MX(f,S):OX(f,S))&&(xt=Zx(me,"onBeforeInput"),0<xt.length&&(Ot=new aR("onBeforeInput","beforeinput",null,S,Ae),Me.push({event:Ot,listeners:xt}),Ot.data=it)),CQ(Me,f,me,S,Ae)}G4(Me,p)})}function gh(f,p,S){return{instance:f,listener:p,currentTarget:S}}function Zx(f,p){for(var S=p+"Capture",E=[];f!==null;){var D=f,O=D.stateNode;if(D=D.tag,D!==5&&D!==26&&D!==27||O===null||(D=Mm(f,S),D!=null&&E.unshift(gh(f,D,O)),D=Mm(f,p),D!=null&&E.push(gh(f,D,O))),f.tag===3)return E;f=f.return}return[]}function Fu(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5&&f.tag!==27);return f||null}function Z4(f,p,S,E,D){for(var O=p._reactName,$=[];S!==null&&S!==E;){var V=S,te=V.alternate,me=V.stateNode;if(V=V.tag,te!==null&&te===E)break;V!==5&&V!==26&&V!==27||me===null||(te=me,D?(me=Mm(S,O),me!=null&&$.unshift(gh(S,me,te))):D||(me=Mm(S,O),me!=null&&$.push(gh(S,me,te)))),S=S.return}$.length!==0&&f.push({event:p,listeners:$})}var kQ=/\r\n?/g,DQ=/\u0000|\uFFFD/g;function K4(f){return(typeof f=="string"?f:""+f).replace(kQ,`
`).replace(DQ,"")}function X4(f,p){return p=K4(p),K4(f)===p}function Kx(){}function pr(f,p,S,E,D,O){switch(S){case"children":typeof E=="string"?p==="body"||p==="textarea"&&E===""||uu(f,E):(typeof E=="number"||typeof E=="bigint")&&p!=="body"&&uu(f,""+E);break;case"className":tx(f,"class",E);break;case"tabIndex":tx(f,"tabindex",E);break;case"dir":case"role":case"viewBox":case"width":case"height":tx(f,S,E);break;case"style":JT(f,E,O);break;case"data":if(p!=="object"){tx(f,"data",E);break}case"src":case"href":if(E===""&&(p!=="a"||S!=="href")){f.removeAttribute(S);break}if(E==null||typeof E=="function"||typeof E=="symbol"||typeof E=="boolean"){f.removeAttribute(S);break}E=sx(""+E),f.setAttribute(S,E);break;case"action":case"formAction":if(typeof E=="function"){f.setAttribute(S,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof O=="function"&&(S==="formAction"?(p!=="input"&&pr(f,p,"name",D.name,D,null),pr(f,p,"formEncType",D.formEncType,D,null),pr(f,p,"formMethod",D.formMethod,D,null),pr(f,p,"formTarget",D.formTarget,D,null)):(pr(f,p,"encType",D.encType,D,null),pr(f,p,"method",D.method,D,null),pr(f,p,"target",D.target,D,null)));if(E==null||typeof E=="symbol"||typeof E=="boolean"){f.removeAttribute(S);break}E=sx(""+E),f.setAttribute(S,E);break;case"onClick":E!=null&&(f.onclick=Kx);break;case"onScroll":E!=null&&$t("scroll",f);break;case"onScrollEnd":E!=null&&$t("scrollend",f);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(n(61));if(S=E.__html,S!=null){if(D.children!=null)throw Error(n(60));f.innerHTML=S}}break;case"multiple":f.multiple=E&&typeof E!="function"&&typeof E!="symbol";break;case"muted":f.muted=E&&typeof E!="function"&&typeof E!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(E==null||typeof E=="function"||typeof E=="boolean"||typeof E=="symbol"){f.removeAttribute("xlink:href");break}S=sx(""+E),f.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",S);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":E!=null&&typeof E!="function"&&typeof E!="symbol"?f.setAttribute(S,""+E):f.removeAttribute(S);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":E&&typeof E!="function"&&typeof E!="symbol"?f.setAttribute(S,""):f.removeAttribute(S);break;case"capture":case"download":E===!0?f.setAttribute(S,""):E!==!1&&E!=null&&typeof E!="function"&&typeof E!="symbol"?f.setAttribute(S,E):f.removeAttribute(S);break;case"cols":case"rows":case"size":case"span":E!=null&&typeof E!="function"&&typeof E!="symbol"&&!isNaN(E)&&1<=E?f.setAttribute(S,E):f.removeAttribute(S);break;case"rowSpan":case"start":E==null||typeof E=="function"||typeof E=="symbol"||isNaN(E)?f.removeAttribute(S):f.setAttribute(S,E);break;case"popover":$t("beforetoggle",f),$t("toggle",f),ex(f,"popover",E);break;case"xlinkActuate":ci(f,"http://www.w3.org/1999/xlink","xlink:actuate",E);break;case"xlinkArcrole":ci(f,"http://www.w3.org/1999/xlink","xlink:arcrole",E);break;case"xlinkRole":ci(f,"http://www.w3.org/1999/xlink","xlink:role",E);break;case"xlinkShow":ci(f,"http://www.w3.org/1999/xlink","xlink:show",E);break;case"xlinkTitle":ci(f,"http://www.w3.org/1999/xlink","xlink:title",E);break;case"xlinkType":ci(f,"http://www.w3.org/1999/xlink","xlink:type",E);break;case"xmlBase":ci(f,"http://www.w3.org/XML/1998/namespace","xml:base",E);break;case"xmlLang":ci(f,"http://www.w3.org/XML/1998/namespace","xml:lang",E);break;case"xmlSpace":ci(f,"http://www.w3.org/XML/1998/namespace","xml:space",E);break;case"is":ex(f,"is",E);break;case"innerText":case"textContent":break;default:(!(2<S.length)||S[0]!=="o"&&S[0]!=="O"||S[1]!=="n"&&S[1]!=="N")&&(S=oX.get(S)||S,ex(f,S,E))}}function Qj(f,p,S,E,D,O){switch(S){case"style":JT(f,E,O);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(n(61));if(S=E.__html,S!=null){if(D.children!=null)throw Error(n(60));f.innerHTML=S}}break;case"children":typeof E=="string"?uu(f,E):(typeof E=="number"||typeof E=="bigint")&&uu(f,""+E);break;case"onScroll":E!=null&&$t("scroll",f);break;case"onScrollEnd":E!=null&&$t("scrollend",f);break;case"onClick":E!=null&&(f.onclick=Kx);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!HT.hasOwnProperty(S))e:{if(S[0]==="o"&&S[1]==="n"&&(D=S.endsWith("Capture"),p=S.slice(2,D?S.length-7:void 0),O=f[mr]||null,O=O!=null?O[S]:null,typeof O=="function"&&f.removeEventListener(p,O,D),typeof E=="function")){typeof O!="function"&&O!==null&&(S in f?f[S]=null:f.hasAttribute(S)&&f.removeAttribute(S)),f.addEventListener(p,E,D);break e}S in f?f[S]=E:E===!0?f.setAttribute(S,""):ex(f,S,E)}}}function Qn(f,p,S){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$t("error",f),$t("load",f);var E=!1,D=!1,O;for(O in S)if(S.hasOwnProperty(O)){var $=S[O];if($!=null)switch(O){case"src":E=!0;break;case"srcSet":D=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,p));default:pr(f,p,O,$,S,null)}}D&&pr(f,p,"srcSet",S.srcSet,S,null),E&&pr(f,p,"src",S.src,S,null);return;case"input":$t("invalid",f);var V=O=$=D=null,te=null,me=null;for(E in S)if(S.hasOwnProperty(E)){var Ae=S[E];if(Ae!=null)switch(E){case"name":D=Ae;break;case"type":$=Ae;break;case"checked":te=Ae;break;case"defaultChecked":me=Ae;break;case"value":O=Ae;break;case"defaultValue":V=Ae;break;case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(n(137,p));break;default:pr(f,p,E,Ae,S,null)}}ZT(f,O,V,te,me,$,D,!1),rx(f);return;case"select":$t("invalid",f),E=$=O=null;for(D in S)if(S.hasOwnProperty(D)&&(V=S[D],V!=null))switch(D){case"value":O=V;break;case"defaultValue":$=V;break;case"multiple":E=V;default:pr(f,p,D,V,S,null)}p=O,S=$,f.multiple=!!E,p!=null?du(f,!!E,p,!1):S!=null&&du(f,!!E,S,!0);return;case"textarea":$t("invalid",f),O=D=E=null;for($ in S)if(S.hasOwnProperty($)&&(V=S[$],V!=null))switch($){case"value":E=V;break;case"defaultValue":D=V;break;case"children":O=V;break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(n(91));break;default:pr(f,p,$,V,S,null)}XT(f,E,D,O),rx(f);return;case"option":for(te in S)if(S.hasOwnProperty(te)&&(E=S[te],E!=null))switch(te){case"selected":f.selected=E&&typeof E!="function"&&typeof E!="symbol";break;default:pr(f,p,te,E,S,null)}return;case"dialog":$t("beforetoggle",f),$t("toggle",f),$t("cancel",f),$t("close",f);break;case"iframe":case"object":$t("load",f);break;case"video":case"audio":for(E=0;E<ph.length;E++)$t(ph[E],f);break;case"image":$t("error",f),$t("load",f);break;case"details":$t("toggle",f);break;case"embed":case"source":case"link":$t("error",f),$t("load",f);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(me in S)if(S.hasOwnProperty(me)&&(E=S[me],E!=null))switch(me){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,p));default:pr(f,p,me,E,S,null)}return;default:if(hS(p)){for(Ae in S)S.hasOwnProperty(Ae)&&(E=S[Ae],E!==void 0&&Qj(f,p,Ae,E,S,void 0));return}}for(V in S)S.hasOwnProperty(V)&&(E=S[V],E!=null&&pr(f,p,V,E,S,null))}function TQ(f,p,S,E){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var D=null,O=null,$=null,V=null,te=null,me=null,Ae=null;for(Se in S){var Me=S[Se];if(S.hasOwnProperty(Se)&&Me!=null)switch(Se){case"checked":break;case"value":break;case"defaultValue":te=Me;default:E.hasOwnProperty(Se)||pr(f,p,Se,null,E,Me)}}for(var ve in E){var Se=E[ve];if(Me=S[ve],E.hasOwnProperty(ve)&&(Se!=null||Me!=null))switch(ve){case"type":O=Se;break;case"name":D=Se;break;case"checked":me=Se;break;case"defaultChecked":Ae=Se;break;case"value":$=Se;break;case"defaultValue":V=Se;break;case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(n(137,p));break;default:Se!==Me&&pr(f,p,ve,Se,E,Me)}}fS(f,$,V,te,me,Ae,O,D);return;case"select":Se=$=V=ve=null;for(O in S)if(te=S[O],S.hasOwnProperty(O)&&te!=null)switch(O){case"value":break;case"multiple":Se=te;default:E.hasOwnProperty(O)||pr(f,p,O,null,E,te)}for(D in E)if(O=E[D],te=S[D],E.hasOwnProperty(D)&&(O!=null||te!=null))switch(D){case"value":ve=O;break;case"defaultValue":V=O;break;case"multiple":$=O;default:O!==te&&pr(f,p,D,O,E,te)}p=V,S=$,E=Se,ve!=null?du(f,!!S,ve,!1):!!E!=!!S&&(p!=null?du(f,!!S,p,!0):du(f,!!S,S?[]:"",!1));return;case"textarea":Se=ve=null;for(V in S)if(D=S[V],S.hasOwnProperty(V)&&D!=null&&!E.hasOwnProperty(V))switch(V){case"value":break;case"children":break;default:pr(f,p,V,null,E,D)}for($ in E)if(D=E[$],O=S[$],E.hasOwnProperty($)&&(D!=null||O!=null))switch($){case"value":ve=D;break;case"defaultValue":Se=D;break;case"children":break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(n(91));break;default:D!==O&&pr(f,p,$,D,E,O)}KT(f,ve,Se);return;case"option":for(var wt in S)if(ve=S[wt],S.hasOwnProperty(wt)&&ve!=null&&!E.hasOwnProperty(wt))switch(wt){case"selected":f.selected=!1;break;default:pr(f,p,wt,null,E,ve)}for(te in E)if(ve=E[te],Se=S[te],E.hasOwnProperty(te)&&ve!==Se&&(ve!=null||Se!=null))switch(te){case"selected":f.selected=ve&&typeof ve!="function"&&typeof ve!="symbol";break;default:pr(f,p,te,ve,E,Se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in S)ve=S[pt],S.hasOwnProperty(pt)&&ve!=null&&!E.hasOwnProperty(pt)&&pr(f,p,pt,null,E,ve);for(me in E)if(ve=E[me],Se=S[me],E.hasOwnProperty(me)&&ve!==Se&&(ve!=null||Se!=null))switch(me){case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(n(137,p));break;default:pr(f,p,me,ve,E,Se)}return;default:if(hS(p)){for(var gr in S)ve=S[gr],S.hasOwnProperty(gr)&&ve!==void 0&&!E.hasOwnProperty(gr)&&Qj(f,p,gr,void 0,E,ve);for(Ae in E)ve=E[Ae],Se=S[Ae],!E.hasOwnProperty(Ae)||ve===Se||ve===void 0&&Se===void 0||Qj(f,p,Ae,ve,E,Se);return}}for(var le in S)ve=S[le],S.hasOwnProperty(le)&&ve!=null&&!E.hasOwnProperty(le)&&pr(f,p,le,null,E,ve);for(Me in E)ve=E[Me],Se=S[Me],!E.hasOwnProperty(Me)||ve===Se||ve==null&&Se==null||pr(f,p,Me,ve,E,Se)}var Jj=null,eN=null;function Xx(f){return f.nodeType===9?f:f.ownerDocument}function Q4(f){switch(f){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function J4(f,p){if(f===0)switch(p){case"svg":return 1;case"math":return 2;default:return 0}return f===1&&p==="foreignObject"?0:f}function tN(f,p){return f==="textarea"||f==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.children=="bigint"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var rN=null;function RQ(){var f=window.event;return f&&f.type==="popstate"?f===rN?!1:(rN=f,!0):(rN=null,!1)}var eM=typeof setTimeout=="function"?setTimeout:void 0,PQ=typeof clearTimeout=="function"?clearTimeout:void 0,tM=typeof Promise=="function"?Promise:void 0,MQ=typeof queueMicrotask=="function"?queueMicrotask:typeof tM<"u"?function(f){return tM.resolve(null).then(f).catch(OQ)}:eM;function OQ(f){setTimeout(function(){throw f})}function Tl(f){return f==="head"}function rM(f,p){var S=p,E=0,D=0;do{var O=S.nextSibling;if(f.removeChild(S),O&&O.nodeType===8)if(S=O.data,S==="/$"){if(0<E&&8>E){S=E;var $=f.ownerDocument;if(S&1&&xh($.documentElement),S&2&&xh($.body),S&4)for(S=$.head,xh(S),$=S.firstChild;$;){var V=$.nextSibling,te=$.nodeName;$[Rm]||te==="SCRIPT"||te==="STYLE"||te==="LINK"&&$.rel.toLowerCase()==="stylesheet"||S.removeChild($),$=V}}if(D===0){f.removeChild(O),Ch(p);return}D--}else S==="$"||S==="$?"||S==="$!"?D++:E=S.charCodeAt(0)-48;else E=0;S=O}while(S);Ch(p)}function nN(f){var p=f.firstChild;for(p&&p.nodeType===10&&(p=p.nextSibling);p;){var S=p;switch(p=p.nextSibling,S.nodeName){case"HTML":case"HEAD":case"BODY":nN(S),lS(S);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(S.rel.toLowerCase()==="stylesheet")continue}f.removeChild(S)}}function IQ(f,p,S,E){for(;f.nodeType===1;){var D=S;if(f.nodeName.toLowerCase()!==p.toLowerCase()){if(!E&&(f.nodeName!=="INPUT"||f.type!=="hidden"))break}else if(E){if(!f[Rm])switch(p){case"meta":if(!f.hasAttribute("itemprop"))break;return f;case"link":if(O=f.getAttribute("rel"),O==="stylesheet"&&f.hasAttribute("data-precedence"))break;if(O!==D.rel||f.getAttribute("href")!==(D.href==null||D.href===""?null:D.href)||f.getAttribute("crossorigin")!==(D.crossOrigin==null?null:D.crossOrigin)||f.getAttribute("title")!==(D.title==null?null:D.title))break;return f;case"style":if(f.hasAttribute("data-precedence"))break;return f;case"script":if(O=f.getAttribute("src"),(O!==(D.src==null?null:D.src)||f.getAttribute("type")!==(D.type==null?null:D.type)||f.getAttribute("crossorigin")!==(D.crossOrigin==null?null:D.crossOrigin))&&O&&f.hasAttribute("async")&&!f.hasAttribute("itemprop"))break;return f;default:return f}}else if(p==="input"&&f.type==="hidden"){var O=D.name==null?null:""+D.name;if(D.type==="hidden"&&f.getAttribute("name")===O)return f}else return f;if(f=Xa(f.nextSibling),f===null)break}return null}function LQ(f,p,S){if(p==="")return null;for(;f.nodeType!==3;)if((f.nodeType!==1||f.nodeName!=="INPUT"||f.type!=="hidden")&&!S||(f=Xa(f.nextSibling),f===null))return null;return f}function sN(f){return f.data==="$!"||f.data==="$?"&&f.ownerDocument.readyState==="complete"}function BQ(f,p){var S=f.ownerDocument;if(f.data!=="$?"||S.readyState==="complete")p();else{var E=function(){p(),S.removeEventListener("DOMContentLoaded",E)};S.addEventListener("DOMContentLoaded",E),f._reactRetry=E}}function Xa(f){for(;f!=null;f=f.nextSibling){var p=f.nodeType;if(p===1||p===3)break;if(p===8){if(p=f.data,p==="$"||p==="$!"||p==="$?"||p==="F!"||p==="F")break;if(p==="/$")return null}}return f}var aN=null;function nM(f){f=f.previousSibling;for(var p=0;f;){if(f.nodeType===8){var S=f.data;if(S==="$"||S==="$!"||S==="$?"){if(p===0)return f;p--}else S==="/$"&&p++}f=f.previousSibling}return null}function sM(f,p,S){switch(p=Xx(S),f){case"html":if(f=p.documentElement,!f)throw Error(n(452));return f;case"head":if(f=p.head,!f)throw Error(n(453));return f;case"body":if(f=p.body,!f)throw Error(n(454));return f;default:throw Error(n(451))}}function xh(f){for(var p=f.attributes;p.length;)f.removeAttributeNode(p[0]);lS(f)}var Ea=new Map,aM=new Set;function Qx(f){return typeof f.getRootNode=="function"?f.getRootNode():f.nodeType===9?f:f.ownerDocument}var ji=H.d;H.d={f:FQ,r:UQ,D:$Q,C:HQ,L:zQ,m:qQ,X:WQ,S:VQ,M:GQ};function FQ(){var f=ji.f(),p=zx();return f||p}function UQ(f){var p=ou(f);p!==null&&p.tag===5&&p.type==="form"?CP(p):ji.r(f)}var Uu=typeof document>"u"?null:document;function oM(f,p,S){var E=Uu;if(E&&typeof p=="string"&&p){var D=ya(p);D='link[rel="'+f+'"][href="'+D+'"]',typeof S=="string"&&(D+='[crossorigin="'+S+'"]'),aM.has(D)||(aM.add(D),f={rel:f,crossOrigin:S,href:p},E.querySelector(D)===null&&(p=E.createElement("link"),Qn(p,"link",f),On(p),E.head.appendChild(p)))}}function $Q(f){ji.D(f),oM("dns-prefetch",f,null)}function HQ(f,p){ji.C(f,p),oM("preconnect",f,p)}function zQ(f,p,S){ji.L(f,p,S);var E=Uu;if(E&&f&&p){var D='link[rel="preload"][as="'+ya(p)+'"]';p==="image"&&S&&S.imageSrcSet?(D+='[imagesrcset="'+ya(S.imageSrcSet)+'"]',typeof S.imageSizes=="string"&&(D+='[imagesizes="'+ya(S.imageSizes)+'"]')):D+='[href="'+ya(f)+'"]';var O=D;switch(p){case"style":O=$u(f);break;case"script":O=Hu(f)}Ea.has(O)||(f=i({rel:"preload",href:p==="image"&&S&&S.imageSrcSet?void 0:f,as:p},S),Ea.set(O,f),E.querySelector(D)!==null||p==="style"&&E.querySelector(vh(O))||p==="script"&&E.querySelector(yh(O))||(p=E.createElement("link"),Qn(p,"link",f),On(p),E.head.appendChild(p)))}}function qQ(f,p){ji.m(f,p);var S=Uu;if(S&&f){var E=p&&typeof p.as=="string"?p.as:"script",D='link[rel="modulepreload"][as="'+ya(E)+'"][href="'+ya(f)+'"]',O=D;switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":O=Hu(f)}if(!Ea.has(O)&&(f=i({rel:"modulepreload",href:f},p),Ea.set(O,f),S.querySelector(D)===null)){switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(S.querySelector(yh(O)))return}E=S.createElement("link"),Qn(E,"link",f),On(E),S.head.appendChild(E)}}}function VQ(f,p,S){ji.S(f,p,S);var E=Uu;if(E&&f){var D=iu(E).hoistableStyles,O=$u(f);p=p||"default";var $=D.get(O);if(!$){var V={loading:0,preload:null};if($=E.querySelector(vh(O)))V.loading=5;else{f=i({rel:"stylesheet",href:f,"data-precedence":p},S),(S=Ea.get(O))&&oN(f,S);var te=$=E.createElement("link");On(te),Qn(te,"link",f),te._p=new Promise(function(me,Ae){te.onload=me,te.onerror=Ae}),te.addEventListener("load",function(){V.loading|=1}),te.addEventListener("error",function(){V.loading|=2}),V.loading|=4,Jx($,p,E)}$={type:"stylesheet",instance:$,count:1,state:V},D.set(O,$)}}}function WQ(f,p){ji.X(f,p);var S=Uu;if(S&&f){var E=iu(S).hoistableScripts,D=Hu(f),O=E.get(D);O||(O=S.querySelector(yh(D)),O||(f=i({src:f,async:!0},p),(p=Ea.get(D))&&iN(f,p),O=S.createElement("script"),On(O),Qn(O,"link",f),S.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},E.set(D,O))}}function GQ(f,p){ji.M(f,p);var S=Uu;if(S&&f){var E=iu(S).hoistableScripts,D=Hu(f),O=E.get(D);O||(O=S.querySelector(yh(D)),O||(f=i({src:f,async:!0,type:"module"},p),(p=Ea.get(D))&&iN(f,p),O=S.createElement("script"),On(O),Qn(O,"link",f),S.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},E.set(D,O))}}function iM(f,p,S,E){var D=(D=ye.current)?Qx(D):null;if(!D)throw Error(n(446));switch(f){case"meta":case"title":return null;case"style":return typeof S.precedence=="string"&&typeof S.href=="string"?(p=$u(S.href),S=iu(D).hoistableStyles,E=S.get(p),E||(E={type:"style",instance:null,count:0,state:null},S.set(p,E)),E):{type:"void",instance:null,count:0,state:null};case"link":if(S.rel==="stylesheet"&&typeof S.href=="string"&&typeof S.precedence=="string"){f=$u(S.href);var O=iu(D).hoistableStyles,$=O.get(f);if($||(D=D.ownerDocument||D,$={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},O.set(f,$),(O=D.querySelector(vh(f)))&&!O._p&&($.instance=O,$.state.loading=5),Ea.has(f)||(S={rel:"preload",as:"style",href:S.href,crossOrigin:S.crossOrigin,integrity:S.integrity,media:S.media,hrefLang:S.hrefLang,referrerPolicy:S.referrerPolicy},Ea.set(f,S),O||YQ(D,f,S,$.state))),p&&E===null)throw Error(n(528,""));return $}if(p&&E!==null)throw Error(n(529,""));return null;case"script":return p=S.async,S=S.src,typeof S=="string"&&p&&typeof p!="function"&&typeof p!="symbol"?(p=Hu(S),S=iu(D).hoistableScripts,E=S.get(p),E||(E={type:"script",instance:null,count:0,state:null},S.set(p,E)),E):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,f))}}function $u(f){return'href="'+ya(f)+'"'}function vh(f){return'link[rel="stylesheet"]['+f+"]"}function lM(f){return i({},f,{"data-precedence":f.precedence,precedence:null})}function YQ(f,p,S,E){f.querySelector('link[rel="preload"][as="style"]['+p+"]")?E.loading=1:(p=f.createElement("link"),E.preload=p,p.addEventListener("load",function(){return E.loading|=1}),p.addEventListener("error",function(){return E.loading|=2}),Qn(p,"link",S),On(p),f.head.appendChild(p))}function Hu(f){return'[src="'+ya(f)+'"]'}function yh(f){return"script[async]"+f}function cM(f,p,S){if(p.count++,p.instance===null)switch(p.type){case"style":var E=f.querySelector('style[data-href~="'+ya(S.href)+'"]');if(E)return p.instance=E,On(E),E;var D=i({},S,{"data-href":S.href,"data-precedence":S.precedence,href:null,precedence:null});return E=(f.ownerDocument||f).createElement("style"),On(E),Qn(E,"style",D),Jx(E,S.precedence,f),p.instance=E;case"stylesheet":D=$u(S.href);var O=f.querySelector(vh(D));if(O)return p.state.loading|=4,p.instance=O,On(O),O;E=lM(S),(D=Ea.get(D))&&oN(E,D),O=(f.ownerDocument||f).createElement("link"),On(O);var $=O;return $._p=new Promise(function(V,te){$.onload=V,$.onerror=te}),Qn(O,"link",E),p.state.loading|=4,Jx(O,S.precedence,f),p.instance=O;case"script":return O=Hu(S.src),(D=f.querySelector(yh(O)))?(p.instance=D,On(D),D):(E=S,(D=Ea.get(O))&&(E=i({},S),iN(E,D)),f=f.ownerDocument||f,D=f.createElement("script"),On(D),Qn(D,"link",E),f.head.appendChild(D),p.instance=D);case"void":return null;default:throw Error(n(443,p.type))}else p.type==="stylesheet"&&(p.state.loading&4)===0&&(E=p.instance,p.state.loading|=4,Jx(E,S.precedence,f));return p.instance}function Jx(f,p,S){for(var E=S.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),D=E.length?E[E.length-1]:null,O=D,$=0;$<E.length;$++){var V=E[$];if(V.dataset.precedence===p)O=V;else if(O!==D)break}O?O.parentNode.insertBefore(f,O.nextSibling):(p=S.nodeType===9?S.head:S,p.insertBefore(f,p.firstChild))}function oN(f,p){f.crossOrigin==null&&(f.crossOrigin=p.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=p.referrerPolicy),f.title==null&&(f.title=p.title)}function iN(f,p){f.crossOrigin==null&&(f.crossOrigin=p.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=p.referrerPolicy),f.integrity==null&&(f.integrity=p.integrity)}var ev=null;function dM(f,p,S){if(ev===null){var E=new Map,D=ev=new Map;D.set(S,E)}else D=ev,E=D.get(S),E||(E=new Map,D.set(S,E));if(E.has(f))return E;for(E.set(f,null),S=S.getElementsByTagName(f),D=0;D<S.length;D++){var O=S[D];if(!(O[Rm]||O[Cn]||f==="link"&&O.getAttribute("rel")==="stylesheet")&&O.namespaceURI!=="http://www.w3.org/2000/svg"){var $=O.getAttribute(p)||"";$=f+$;var V=E.get($);V?V.push(O):E.set($,[O])}}return E}function uM(f,p,S){f=f.ownerDocument||f,f.head.insertBefore(S,p==="title"?f.querySelector("head > title"):null)}function ZQ(f,p,S){if(S===1||p.itemProp!=null)return!1;switch(f){case"meta":case"title":return!0;case"style":if(typeof p.precedence!="string"||typeof p.href!="string"||p.href==="")break;return!0;case"link":if(typeof p.rel!="string"||typeof p.href!="string"||p.href===""||p.onLoad||p.onError)break;switch(p.rel){case"stylesheet":return f=p.disabled,typeof p.precedence=="string"&&f==null;default:return!0}case"script":if(p.async&&typeof p.async!="function"&&typeof p.async!="symbol"&&!p.onLoad&&!p.onError&&p.src&&typeof p.src=="string")return!0}return!1}function fM(f){return!(f.type==="stylesheet"&&(f.state.loading&3)===0)}var bh=null;function KQ(){}function XQ(f,p,S){if(bh===null)throw Error(n(475));var E=bh;if(p.type==="stylesheet"&&(typeof S.media!="string"||matchMedia(S.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var D=$u(S.href),O=f.querySelector(vh(D));if(O){f=O._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(E.count++,E=tv.bind(E),f.then(E,E)),p.state.loading|=4,p.instance=O,On(O);return}O=f.ownerDocument||f,S=lM(S),(D=Ea.get(D))&&oN(S,D),O=O.createElement("link"),On(O);var $=O;$._p=new Promise(function(V,te){$.onload=V,$.onerror=te}),Qn(O,"link",S),p.instance=O}E.stylesheets===null&&(E.stylesheets=new Map),E.stylesheets.set(p,f),(f=p.state.preload)&&(p.state.loading&3)===0&&(E.count++,p=tv.bind(E),f.addEventListener("load",p),f.addEventListener("error",p))}}function QQ(){if(bh===null)throw Error(n(475));var f=bh;return f.stylesheets&&f.count===0&&lN(f,f.stylesheets),0<f.count?function(p){var S=setTimeout(function(){if(f.stylesheets&&lN(f,f.stylesheets),f.unsuspend){var E=f.unsuspend;f.unsuspend=null,E()}},6e4);return f.unsuspend=p,function(){f.unsuspend=null,clearTimeout(S)}}:null}function tv(){if(this.count--,this.count===0){if(this.stylesheets)lN(this,this.stylesheets);else if(this.unsuspend){var f=this.unsuspend;this.unsuspend=null,f()}}}var rv=null;function lN(f,p){f.stylesheets=null,f.unsuspend!==null&&(f.count++,rv=new Map,p.forEach(JQ,f),rv=null,tv.call(f))}function JQ(f,p){if(!(p.state.loading&4)){var S=rv.get(f);if(S)var E=S.get(null);else{S=new Map,rv.set(f,S);for(var D=f.querySelectorAll("link[data-precedence],style[data-precedence]"),O=0;O<D.length;O++){var $=D[O];($.nodeName==="LINK"||$.getAttribute("media")!=="not all")&&(S.set($.dataset.precedence,$),E=$)}E&&S.set(null,E)}D=p.instance,$=D.getAttribute("data-precedence"),O=S.get($)||E,O===E&&S.set(null,D),S.set($,D),this.count++,E=tv.bind(this),D.addEventListener("load",E),D.addEventListener("error",E),O?O.parentNode.insertBefore(D,O.nextSibling):(f=f.nodeType===9?f.head:f,f.insertBefore(D,f.firstChild)),p.state.loading|=4}}var wh={$$typeof:j,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function eJ(f,p,S,E,D,O,$,V){this.tag=1,this.containerInfo=f,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jt(0),this.hiddenUpdates=Jt(null),this.identifierPrefix=E,this.onUncaughtError=D,this.onCaughtError=O,this.onRecoverableError=$,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function mM(f,p,S,E,D,O,$,V,te,me,Ae,Me){return f=new eJ(f,p,S,$,V,te,me,Me),p=1,O===!0&&(p|=24),O=Gs(3,null,null,p),f.current=O,O.stateNode=f,p=zS(),p.refCount++,f.pooledCache=p,p.refCount++,O.memoizedState={element:E,isDehydrated:S,cache:p},GS(O),f}function hM(f){return f?(f=yu,f):yu}function pM(f,p,S,E,D,O){D=hM(D),E.context===null?E.context=D:E.pendingContext=D,E=vl(p),E.payload={element:S},O=O===void 0?null:O,O!==null&&(E.callback=O),S=yl(f,E,p),S!==null&&(Qs(S,f,p),Xm(S,f,p))}function gM(f,p){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var S=f.retryLane;f.retryLane=S!==0&&S<p?S:p}}function cN(f,p){gM(f,p),(f=f.alternate)&&gM(f,p)}function xM(f){if(f.tag===13){var p=vu(f,67108864);p!==null&&Qs(p,f,67108864),cN(f,67108864)}}var nv=!0;function tJ(f,p,S,E){var D=F.T;F.T=null;var O=H.p;try{H.p=2,dN(f,p,S,E)}finally{H.p=O,F.T=D}}function rJ(f,p,S,E){var D=F.T;F.T=null;var O=H.p;try{H.p=8,dN(f,p,S,E)}finally{H.p=O,F.T=D}}function dN(f,p,S,E){if(nv){var D=uN(E);if(D===null)Xj(f,p,E,sv,S),yM(f,E);else if(sJ(D,f,p,S,E))E.stopPropagation();else if(yM(f,E),p&4&&-1<nJ.indexOf(f)){for(;D!==null;){var O=ou(D);if(O!==null)switch(O.tag){case 3:if(O=O.stateNode,O.current.memoizedState.isDehydrated){var $=As(O.pendingLanes);if($!==0){var V=O;for(V.pendingLanes|=2,V.entangledLanes|=2;$;){var te=1<<31-Ft($);V.entanglements[1]|=te,$&=~te}Eo(O),(cr&6)===0&&($x=nt()+500,hh(0))}}break;case 13:V=vu(O,2),V!==null&&Qs(V,O,2),zx(),cN(O,2)}if(O=uN(E),O===null&&Xj(f,p,E,sv,S),O===D)break;D=O}D!==null&&E.stopPropagation()}else Xj(f,p,E,null,S)}}function uN(f){return f=gS(f),fN(f)}var sv=null;function fN(f){if(sv=null,f=au(f),f!==null){var p=o(f);if(p===null)f=null;else{var S=p.tag;if(S===13){if(f=l(p),f!==null)return f;f=null}else if(S===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;f=null}else p!==f&&(f=null)}}return sv=f,null}function vM(f){switch(f){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oe()){case Fe:return 2;case Q:return 8;case Y:case re:return 32;case we:return 268435456;default:return 32}default:return 32}}var mN=!1,Rl=null,Pl=null,Ml=null,Sh=new Map,jh=new Map,Ol=[],nJ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yM(f,p){switch(f){case"focusin":case"focusout":Rl=null;break;case"dragenter":case"dragleave":Pl=null;break;case"mouseover":case"mouseout":Ml=null;break;case"pointerover":case"pointerout":Sh.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":jh.delete(p.pointerId)}}function Nh(f,p,S,E,D,O){return f===null||f.nativeEvent!==O?(f={blockedOn:p,domEventName:S,eventSystemFlags:E,nativeEvent:O,targetContainers:[D]},p!==null&&(p=ou(p),p!==null&&xM(p)),f):(f.eventSystemFlags|=E,p=f.targetContainers,D!==null&&p.indexOf(D)===-1&&p.push(D),f)}function sJ(f,p,S,E,D){switch(p){case"focusin":return Rl=Nh(Rl,f,p,S,E,D),!0;case"dragenter":return Pl=Nh(Pl,f,p,S,E,D),!0;case"mouseover":return Ml=Nh(Ml,f,p,S,E,D),!0;case"pointerover":var O=D.pointerId;return Sh.set(O,Nh(Sh.get(O)||null,f,p,S,E,D)),!0;case"gotpointercapture":return O=D.pointerId,jh.set(O,Nh(jh.get(O)||null,f,p,S,E,D)),!0}return!1}function bM(f){var p=au(f.target);if(p!==null){var S=o(p);if(S!==null){if(p=S.tag,p===13){if(p=l(S),p!==null){f.blockedOn=p,Jg(f.priority,function(){if(S.tag===13){var E=Xs();E=ml(E);var D=vu(S,E);D!==null&&Qs(D,S,E),cN(S,E)}});return}}else if(p===3&&S.stateNode.current.memoizedState.isDehydrated){f.blockedOn=S.tag===3?S.stateNode.containerInfo:null;return}}}f.blockedOn=null}function av(f){if(f.blockedOn!==null)return!1;for(var p=f.targetContainers;0<p.length;){var S=uN(f.nativeEvent);if(S===null){S=f.nativeEvent;var E=new S.constructor(S.type,S);pS=E,S.target.dispatchEvent(E),pS=null}else return p=ou(S),p!==null&&xM(p),f.blockedOn=S,!1;p.shift()}return!0}function wM(f,p,S){av(f)&&S.delete(p)}function aJ(){mN=!1,Rl!==null&&av(Rl)&&(Rl=null),Pl!==null&&av(Pl)&&(Pl=null),Ml!==null&&av(Ml)&&(Ml=null),Sh.forEach(wM),jh.forEach(wM)}function ov(f,p){f.blockedOn===p&&(f.blockedOn=null,mN||(mN=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,aJ)))}var iv=null;function SM(f){iv!==f&&(iv=f,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){iv===f&&(iv=null);for(var p=0;p<f.length;p+=3){var S=f[p],E=f[p+1],D=f[p+2];if(typeof E!="function"){if(fN(E||S)===null)continue;break}var O=ou(S);O!==null&&(f.splice(p,3),p-=3,fj(O,{pending:!0,data:D,method:S.method,action:E},E,D))}}))}function Ch(f){function p(te){return ov(te,f)}Rl!==null&&ov(Rl,f),Pl!==null&&ov(Pl,f),Ml!==null&&ov(Ml,f),Sh.forEach(p),jh.forEach(p);for(var S=0;S<Ol.length;S++){var E=Ol[S];E.blockedOn===f&&(E.blockedOn=null)}for(;0<Ol.length&&(S=Ol[0],S.blockedOn===null);)bM(S),S.blockedOn===null&&Ol.shift();if(S=(f.ownerDocument||f).$$reactFormReplay,S!=null)for(E=0;E<S.length;E+=3){var D=S[E],O=S[E+1],$=D[mr]||null;if(typeof O=="function")$||SM(S);else if($){var V=null;if(O&&O.hasAttribute("formAction")){if(D=O,$=O[mr]||null)V=$.formAction;else if(fN(D)!==null)continue}else V=$.action;typeof V=="function"?S[E+1]=V:(S.splice(E,3),E-=3),SM(S)}}}function hN(f){this._internalRoot=f}lv.prototype.render=hN.prototype.render=function(f){var p=this._internalRoot;if(p===null)throw Error(n(409));var S=p.current,E=Xs();pM(S,E,f,p,null,null)},lv.prototype.unmount=hN.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var p=f.containerInfo;pM(f.current,2,null,f,null,null),zx(),p[ps]=null}};function lv(f){this._internalRoot=f}lv.prototype.unstable_scheduleHydration=function(f){if(f){var p=hl();f={blockedOn:null,target:f,priority:p};for(var S=0;S<Ol.length&&p!==0&&p<Ol[S].priority;S++);Ol.splice(S,0,f),S===0&&bM(f)}};var jM=t.version;if(jM!=="19.1.0")throw Error(n(527,jM,"19.1.0"));H.findDOMNode=function(f){var p=f._reactInternals;if(p===void 0)throw typeof f.render=="function"?Error(n(188)):(f=Object.keys(f).join(","),Error(n(268,f)));return f=d(p),f=f!==null?u(f):null,f=f===null?null:f.stateNode,f};var oJ={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cv.isDisabled&&cv.supportsFiber)try{qe=cv.inject(oJ),mt=cv}catch{}}return _h.createRoot=function(f,p){if(!a(f))throw Error(n(299));var S=!1,E="",D=FP,O=UP,$=$P,V=null;return p!=null&&(p.unstable_strictMode===!0&&(S=!0),p.identifierPrefix!==void 0&&(E=p.identifierPrefix),p.onUncaughtError!==void 0&&(D=p.onUncaughtError),p.onCaughtError!==void 0&&(O=p.onCaughtError),p.onRecoverableError!==void 0&&($=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(V=p.unstable_transitionCallbacks)),p=mM(f,1,!1,null,null,S,E,D,O,$,V,null),f[ps]=p.current,Kj(f),new hN(p)},_h.hydrateRoot=function(f,p,S){if(!a(f))throw Error(n(299));var E=!1,D="",O=FP,$=UP,V=$P,te=null,me=null;return S!=null&&(S.unstable_strictMode===!0&&(E=!0),S.identifierPrefix!==void 0&&(D=S.identifierPrefix),S.onUncaughtError!==void 0&&(O=S.onUncaughtError),S.onCaughtError!==void 0&&($=S.onCaughtError),S.onRecoverableError!==void 0&&(V=S.onRecoverableError),S.unstable_transitionCallbacks!==void 0&&(te=S.unstable_transitionCallbacks),S.formState!==void 0&&(me=S.formState)),p=mM(f,1,!0,p,S??null,E,D,O,$,V,te,me),p.context=hM(null),S=p.current,E=Xs(),E=ml(E),D=vl(E),D.callback=null,yl(S,D,E),S=E,p.current.lanes=S,Kr(p,S),Eo(p),f[ps]=p.current,Kj(f),new lv(p)},_h.version="19.1.0",_h}var PM;function xJ(){if(PM)return vN.exports;PM=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),vN.exports=gJ(),vN.exports}var vJ=xJ(),SN={exports:{}},jN={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MM;function yJ(){if(MM)return jN;MM=1;var e=fc();function t(d,u){return d===u&&(d!==0||1/d===1/u)||d!==d&&u!==u}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,o=e.useEffect,l=e.useMemo,c=e.useDebugValue;return jN.useSyncExternalStoreWithSelector=function(d,u,i,m,g){var x=a(null);if(x.current===null){var v={hasValue:!1,value:null};x.current=v}else v=x.current;x=l(function(){function h(_){if(!y){if(y=!0,w=_,_=m(_),g!==void 0&&v.hasValue){var k=v.value;if(g(k,_))return j=k}return j=_}if(k=j,r(w,_))return k;var A=m(_);return g!==void 0&&g(k,A)?(w=_,k):(w=_,j=A)}var y=!1,w,j,C=i===void 0?null:i;return[function(){return h(u())},C===null?void 0:function(){return h(C())}]},[u,i,m,g]);var N=n(d,x[0],x[1]);return o(function(){v.hasValue=!0,v.value=N},[N]),c(N),N},jN}var OM;function bJ(){return OM||(OM=1,SN.exports=yJ()),SN.exports}var wJ=bJ();function SJ(e){e()}function jJ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){SJ(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var IM={notify(){},get:()=>[]};function NJ(e,t){let r,n=IM,a=0,o=!1;function l(N){i();const h=n.subscribe(N);let y=!1;return()=>{y||(y=!0,h(),m())}}function c(){n.notify()}function d(){v.onStateChange&&v.onStateChange()}function u(){return o}function i(){a++,r||(r=e.subscribe(d),n=jJ())}function m(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=IM)}function g(){o||(o=!0,i())}function x(){o&&(o=!1,m())}const v={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:u,trySubscribe:g,tryUnsubscribe:x,getListeners:()=>n};return v}var CJ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",EJ=CJ(),_J=()=>typeof navigator<"u"&&navigator.product==="ReactNative",AJ=_J(),kJ=()=>EJ||AJ?b.useLayoutEffect:b.useEffect,DJ=kJ(),TJ=Symbol.for("react-redux-context"),RJ=typeof globalThis<"u"?globalThis:{};function PJ(){if(!b.createContext)return{};const e=RJ[TJ]??=new Map;let t=e.get(b.createContext);return t||(t=b.createContext(null),e.set(b.createContext,t)),t}var rc=PJ();function MJ(e){const{children:t,context:r,serverState:n,store:a}=e,o=b.useMemo(()=>{const d=NJ(a);return{store:a,subscription:d,getServerState:n?()=>n:void 0}},[a,n]),l=b.useMemo(()=>a.getState(),[a]);DJ(()=>{const{subscription:d}=o;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==a.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[o,l]);const c=r||rc;return b.createElement(c.Provider,{value:o},t)}var d8=MJ;function m2(e=rc){return function(){return b.useContext(e)}}var u8=m2();function f8(e=rc){const t=e===rc?u8:m2(e),r=()=>{const{store:n}=t();return n};return Object.assign(r,{withTypes:()=>r}),r}var OJ=f8();function IJ(e=rc){const t=e===rc?OJ:f8(e),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var Mt=IJ(),LJ=(e,t)=>e===t;function BJ(e=rc){const t=e===rc?u8:m2(e),r=(n,a={})=>{const{equalityFn:o=LJ}=typeof a=="function"?{equalityFn:a}:a,l=t(),{store:c,subscription:d,getServerState:u}=l;b.useRef(!0);const i=b.useCallback({[n.name](g){return n(g)}}[n.name],[n]),m=wJ.useSyncExternalStoreWithSelector(d.addNestedSub,c.getState,u||c.getState,i,o);return b.useDebugValue(m),m};return Object.assign(r,{withTypes:()=>r}),r}var ue=BJ();function Jn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var FJ=typeof Symbol=="function"&&Symbol.observable||"@@observable",LM=FJ,NN=()=>Math.random().toString(36).substring(7).split("").join("."),UJ={INIT:`@@redux/INIT${NN()}`,REPLACE:`@@redux/REPLACE${NN()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${NN()}`},tb=UJ;function h2(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function m8(e,t,r){if(typeof e!="function")throw new Error(Jn(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Jn(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Jn(1));return r(m8)(e,t)}let n=e,a=t,o=new Map,l=o,c=0,d=!1;function u(){l===o&&(l=new Map,o.forEach((h,y)=>{l.set(y,h)}))}function i(){if(d)throw new Error(Jn(3));return a}function m(h){if(typeof h!="function")throw new Error(Jn(4));if(d)throw new Error(Jn(5));let y=!0;u();const w=c++;return l.set(w,h),function(){if(y){if(d)throw new Error(Jn(6));y=!1,u(),l.delete(w),o=null}}}function g(h){if(!h2(h))throw new Error(Jn(7));if(typeof h.type>"u")throw new Error(Jn(8));if(typeof h.type!="string")throw new Error(Jn(17));if(d)throw new Error(Jn(9));try{d=!0,a=n(a,h)}finally{d=!1}return(o=l).forEach(w=>{w()}),h}function x(h){if(typeof h!="function")throw new Error(Jn(10));n=h,g({type:tb.REPLACE})}function v(){const h=m;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(Jn(11));function w(){const C=y;C.next&&C.next(i())}return w(),{unsubscribe:h(w)}},[LM](){return this}}}return g({type:tb.INIT}),{dispatch:g,subscribe:m,getState:i,replaceReducer:x,[LM]:v}}function $J(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:tb.INIT})>"u")throw new Error(Jn(12));if(typeof r(void 0,{type:tb.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Jn(13))})}function h8(e){const t=Object.keys(e),r={};for(let o=0;o<t.length;o++){const l=t[o];typeof e[l]=="function"&&(r[l]=e[l])}const n=Object.keys(r);let a;try{$J(r)}catch(o){a=o}return function(l={},c){if(a)throw a;let d=!1;const u={};for(let i=0;i<n.length;i++){const m=n[i],g=r[m],x=l[m],v=g(x,c);if(typeof v>"u")throw c&&c.type,new Error(Jn(14));u[m]=v,d=d||v!==x}return d=d||n.length!==Object.keys(l).length,d?u:l}}function rb(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function HJ(...e){return t=>(r,n)=>{const a=t(r,n);let o=()=>{throw new Error(Jn(15))};const l={getState:a.getState,dispatch:(d,...u)=>o(d,...u)},c=e.map(d=>d(l));return o=rb(...c)(a.dispatch),{...a,dispatch:o}}}function p8(e){return h2(e)&&"type"in e&&typeof e.type=="string"}var g8=Symbol.for("immer-nothing"),BM=Symbol.for("immer-draftable"),da=Symbol.for("immer-state");function eo(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var kf=Object.getPrototypeOf;function Nd(e){return!!e&&!!e[da]}function Wi(e){return e?x8(e)||Array.isArray(e)||!!e[BM]||!!e.constructor?.[BM]||ww(e)||Sw(e):!1}var zJ=Object.prototype.constructor.toString();function x8(e){if(!e||typeof e!="object")return!1;const t=kf(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===zJ}function nb(e,t){bw(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function bw(e){const t=e[da];return t?t.type_:Array.isArray(e)?1:ww(e)?2:Sw(e)?3:0}function E_(e,t){return bw(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function v8(e,t,r){const n=bw(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function qJ(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ww(e){return e instanceof Map}function Sw(e){return e instanceof Set}function Jc(e){return e.copy_||e.base_}function __(e,t){if(ww(e))return new Map(e);if(Sw(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=x8(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[da];let a=Reflect.ownKeys(n);for(let o=0;o<a.length;o++){const l=a[o],c=n[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(n[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[l]})}return Object.create(kf(e),n)}else{const n=kf(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function p2(e,t=!1){return jw(e)||Nd(e)||!Wi(e)||(bw(e)>1&&(e.set=e.add=e.clear=e.delete=VJ),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>p2(n,!0))),e}function VJ(){eo(2)}function jw(e){return Object.isFrozen(e)}var WJ={};function Cd(e){const t=WJ[e];return t||eo(0,e),t}var kp;function y8(){return kp}function GJ(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function FM(e,t){t&&(Cd("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function A_(e){k_(e),e.drafts_.forEach(YJ),e.drafts_=null}function k_(e){e===kp&&(kp=e.parent_)}function UM(e){return kp=GJ(kp,e)}function YJ(e){const t=e[da];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function $M(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[da].modified_&&(A_(t),eo(4)),Wi(e)&&(e=sb(t,e),t.parent_||ab(t,e)),t.patches_&&Cd("Patches").generateReplacementPatches_(r[da].base_,e,t.patches_,t.inversePatches_)):e=sb(t,r,[]),A_(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==g8?e:void 0}function sb(e,t,r){if(jw(t))return t;const n=t[da];if(!n)return nb(t,(a,o)=>HM(e,n,t,a,o,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return ab(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let o=a,l=!1;n.type_===3&&(o=new Set(a),a.clear(),l=!0),nb(o,(c,d)=>HM(e,n,a,c,d,r,l)),ab(e,a,!1),r&&e.patches_&&Cd("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function HM(e,t,r,n,a,o,l){if(Nd(a)){const c=o&&t&&t.type_!==3&&!E_(t.assigned_,n)?o.concat(n):void 0,d=sb(e,a,c);if(v8(r,n,d),Nd(d))e.canAutoFreeze_=!1;else return}else l&&r.add(a);if(Wi(a)&&!jw(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;sb(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&ab(e,a)}}function ab(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&p2(t,r)}function ZJ(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:y8(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,o=g2;r&&(a=[n],o=Dp);const{revoke:l,proxy:c}=Proxy.revocable(a,o);return n.draft_=c,n.revoke_=l,c}var g2={get(e,t){if(t===da)return e;const r=Jc(e);if(!E_(r,t))return KJ(e,r,t);const n=r[t];return e.finalized_||!Wi(n)?n:n===CN(e.base_,t)?(EN(e),e.copy_[t]=T_(n,e)):n},has(e,t){return t in Jc(e)},ownKeys(e){return Reflect.ownKeys(Jc(e))},set(e,t,r){const n=b8(Jc(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=CN(Jc(e),t),o=a?.[da];if(o&&o.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(qJ(r,a)&&(r!==void 0||E_(e.base_,t)))return!0;EN(e),D_(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return CN(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,EN(e),D_(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Jc(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){eo(11)},getPrototypeOf(e){return kf(e.base_)},setPrototypeOf(){eo(12)}},Dp={};nb(g2,(e,t)=>{Dp[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Dp.deleteProperty=function(e,t){return Dp.set.call(this,e,t,void 0)};Dp.set=function(e,t,r){return g2.set.call(this,e[0],t,r,e[0])};function CN(e,t){const r=e[da];return(r?Jc(r):e)[t]}function KJ(e,t,r){const n=b8(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function b8(e,t){if(!(t in e))return;let r=kf(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=kf(r)}}function D_(e){e.modified_||(e.modified_=!0,e.parent_&&D_(e.parent_))}function EN(e){e.copy_||(e.copy_=__(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var XJ=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const o=r;r=t;const l=this;return function(d=o,...u){return l.produce(d,i=>r.call(this,i,...u))}}typeof r!="function"&&eo(6),n!==void 0&&typeof n!="function"&&eo(7);let a;if(Wi(t)){const o=UM(this),l=T_(t,void 0);let c=!0;try{a=r(l),c=!1}finally{c?A_(o):k_(o)}return FM(o,n),$M(a,o)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===g8&&(a=void 0),this.autoFreeze_&&p2(a,!0),n){const o=[],l=[];Cd("Patches").generateReplacementPatches_(t,a,o,l),n(o,l)}return a}else eo(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(l,...c)=>this.produceWithPatches(l,d=>t(d,...c));let n,a;return[this.produce(t,r,(l,c)=>{n=l,a=c}),n,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Wi(e)||eo(8),Nd(e)&&(e=Fi(e));const t=UM(this),r=T_(e,void 0);return r[da].isManual_=!0,k_(t),r}finishDraft(e,t){const r=e&&e[da];(!r||!r.isManual_)&&eo(9);const{scope_:n}=r;return FM(n,t),$M(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Cd("Patches").applyPatches_;return Nd(e)?n(e,t):this.produce(e,a=>n(a,t))}};function T_(e,t){const r=ww(e)?Cd("MapSet").proxyMap_(e,t):Sw(e)?Cd("MapSet").proxySet_(e,t):ZJ(e,t);return(t?t.scope_:y8()).drafts_.push(r),r}function Fi(e){return Nd(e)||eo(10,e),w8(e)}function w8(e){if(!Wi(e)||jw(e))return e;const t=e[da];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=__(e,t.scope_.immer_.useStrictShallowCopy_)}else r=__(e,!0);return nb(r,(n,a)=>{v8(r,n,w8(a))}),t&&(t.finalized_=!1),r}var ua=new XJ,S8=ua.produce;ua.produceWithPatches.bind(ua);ua.setAutoFreeze.bind(ua);ua.setUseStrictShallowCopy.bind(ua);ua.applyPatches.bind(ua);ua.createDraft.bind(ua);ua.finishDraft.bind(ua);function QJ(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function JJ(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function eee(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var zM=e=>Array.isArray(e)?e:[e];function tee(e){const t=Array.isArray(e[0])?e[0]:e;return eee(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function ree(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var nee=class{constructor(e){this.value=e}deref(){return this.value}},see=typeof WeakRef<"u"?WeakRef:nee,aee=0,qM=1;function dv(){return{s:aee,v:void 0,o:null,p:null}}function j8(e,t={}){let r=dv();const{resultEqualityCheck:n}=t;let a,o=0;function l(){let c=r;const{length:d}=arguments;for(let m=0,g=d;m<g;m++){const x=arguments[m];if(typeof x=="function"||typeof x=="object"&&x!==null){let v=c.o;v===null&&(c.o=v=new WeakMap);const N=v.get(x);N===void 0?(c=dv(),v.set(x,c)):c=N}else{let v=c.p;v===null&&(c.p=v=new Map);const N=v.get(x);N===void 0?(c=dv(),v.set(x,c)):c=N}}const u=c;let i;if(c.s===qM)i=c.v;else if(i=e.apply(null,arguments),o++,n){const m=a?.deref?.()??a;m!=null&&n(m,i)&&(i=m,o!==0&&o--),a=typeof i=="object"&&i!==null||typeof i=="function"?new see(i):i}return u.s=qM,u.v=i,i}return l.clearCache=()=>{r=dv(),l.resetResultsCount()},l.resultsCount=()=>o,l.resetResultsCount=()=>{o=0},l}function oee(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let o=0,l=0,c,d={},u=a.pop();typeof u=="object"&&(d=u,u=a.pop()),QJ(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const i={...r,...d},{memoize:m,memoizeOptions:g=[],argsMemoize:x=j8,argsMemoizeOptions:v=[]}=i,N=zM(g),h=zM(v),y=tee(a),w=m(function(){return o++,u.apply(null,arguments)},...N),j=x(function(){l++;const _=ree(y,arguments);return c=w.apply(null,_),c},...h);return Object.assign(j,{resultFunc:u,memoizedResultFunc:w,dependencies:y,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:m,argsMemoize:x})};return Object.assign(n,{withTypes:()=>n}),n}var he=oee(j8),iee=Object.assign((e,t=he)=>{JJ(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(o=>e[o]);return t(n,(...o)=>o.reduce((l,c,d)=>(l[r[d]]=c,l),{}))},{withTypes:()=>iee});function N8(e){return({dispatch:r,getState:n})=>a=>o=>typeof o=="function"?o(r,n,e):a(o)}var lee=N8(),cee=N8,dee=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?rb:rb.apply(null,arguments)},uee=e=>e&&typeof e.match=="function";function ws(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(ia(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>p8(n)&&n.type===e,r}var C8=class lp extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,lp.prototype)}static get[Symbol.species](){return lp}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new lp(...t[0].concat(this)):new lp(...t.concat(this))}};function VM(e){return Wi(e)?S8(e,()=>{}):e}function uv(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function fee(e){return typeof e=="boolean"}var mee=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:o=!0}=t??{};let l=new C8;return r&&(fee(r)?l.push(lee):l.push(cee(r.extraArgument))),l},hee="RTK_autoBatch",WM=e=>t=>{setTimeout(t,e)},pee=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,o=!1,l=!1;const c=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:WM(10):e.type==="callback"?e.queueNotification:WM(e.timeout),u=()=>{l=!1,o&&(o=!1,c.forEach(i=>i()))};return Object.assign({},n,{subscribe(i){const m=()=>a&&i(),g=n.subscribe(m);return c.add(i),()=>{g(),c.delete(i)}},dispatch(i){try{return a=!i?.meta?.[hee],o=!a,o&&(l||(l=!0,d(u))),n.dispatch(i)}finally{a=!0}}})},gee=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new C8(e);return n&&a.push(pee(typeof n=="object"?n:void 0)),a};function E8(e){const t=mee(),{reducer:r=void 0,middleware:n,devTools:a=!0,duplicateMiddlewareCheck:o=!0,preloadedState:l=void 0,enhancers:c=void 0}=e||{};let d;if(typeof r=="function")d=r;else if(h2(r))d=h8(r);else throw new Error(ia(1));let u;typeof n=="function"?u=n(t):u=t();let i=rb;a&&(i=dee({trace:!1,...typeof a=="object"&&a}));const m=HJ(...u),g=gee(m);let x=typeof c=="function"?c(g):g();const v=i(...x);return m8(d,l,v)}function _8(e){const t={},r=[];let n;const a={addCase(o,l){const c=typeof o=="string"?o:o.type;if(!c)throw new Error(ia(28));if(c in t)throw new Error(ia(29));return t[c]=l,a},addMatcher(o,l){return r.push({matcher:o,reducer:l}),a},addDefaultCase(o){return n=o,a}};return e(a),[t,r,n]}function xee(e){return typeof e=="function"}function vee(e,t){let[r,n,a]=_8(t),o;if(xee(e))o=()=>VM(e());else{const c=VM(e);o=()=>c}function l(c=o(),d){let u=[r[d.type],...n.filter(({matcher:i})=>i(d)).map(({reducer:i})=>i)];return u.filter(i=>!!i).length===0&&(u=[a]),u.reduce((i,m)=>{if(m)if(Nd(i)){const x=m(i,d);return x===void 0?i:x}else{if(Wi(i))return S8(i,g=>m(g,d));{const g=m(i,d);if(g===void 0){if(i===null)return i;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return i},c)}return l.getInitialState=o,l}var yee=(e,t)=>uee(e)?e.match(t):e(t);function bee(...e){return t=>e.some(r=>yee(r,t))}var wee="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",A8=(e=21)=>{let t="",r=e;for(;r--;)t+=wee[Math.random()*64|0];return t},See=["name","message","stack","code"],_N=class{constructor(e,t){this.payload=e,this.meta=t}_type},GM=class{constructor(e,t){this.payload=e,this.meta=t}_type},jee=e=>{if(typeof e=="object"&&e!==null){const t={};for(const r of See)typeof e[r]=="string"&&(t[r]=e[r]);return t}return{message:String(e)}},YM="External signal was aborted",Le=(()=>{function e(t,r,n){const a=ws(t+"/fulfilled",(d,u,i,m)=>({payload:d,meta:{...m||{},arg:i,requestId:u,requestStatus:"fulfilled"}})),o=ws(t+"/pending",(d,u,i)=>({payload:void 0,meta:{...i||{},arg:u,requestId:d,requestStatus:"pending"}})),l=ws(t+"/rejected",(d,u,i,m,g)=>({payload:m,error:(n&&n.serializeError||jee)(d||"Rejected"),meta:{...g||{},arg:i,requestId:u,rejectedWithValue:!!m,requestStatus:"rejected",aborted:d?.name==="AbortError",condition:d?.name==="ConditionError"}}));function c(d,{signal:u}={}){return(i,m,g)=>{const x=n?.idGenerator?n.idGenerator(d):A8(),v=new AbortController;let N,h;function y(j){h=j,v.abort()}u&&(u.aborted?y(YM):u.addEventListener("abort",()=>y(YM),{once:!0}));const w=async function(){let j;try{let _=n?.condition?.(d,{getState:m,extra:g});if(Nee(_)&&(_=await _),_===!1||v.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const k=new Promise((A,T)=>{N=()=>{T({name:"AbortError",message:h||"Aborted"})},v.signal.addEventListener("abort",N)});i(o(x,d,n?.getPendingMeta?.({requestId:x,arg:d},{getState:m,extra:g}))),j=await Promise.race([k,Promise.resolve(r(d,{dispatch:i,getState:m,extra:g,requestId:x,signal:v.signal,abort:y,rejectWithValue:(A,T)=>new _N(A,T),fulfillWithValue:(A,T)=>new GM(A,T)})).then(A=>{if(A instanceof _N)throw A;return A instanceof GM?a(A.payload,x,d,A.meta):a(A,x,d)})])}catch(_){j=_ instanceof _N?l(null,x,d,_.payload,_.meta):l(_,x,d)}finally{N&&v.signal.removeEventListener("abort",N)}return n&&!n.dispatchConditionRejection&&l.match(j)&&j.meta.condition||i(j),j}();return Object.assign(w,{abort:y,requestId:x,arg:d,unwrap(){return w.then(os)}})}}return Object.assign(c,{pending:o,rejected:l,fulfilled:a,settled:bee(l,a),typePrefix:t})}return e.withTypes=()=>e,e})();function os(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function Nee(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var Cee=Symbol.for("rtk-slice-createasyncthunk");function Eee(e,t){return`${e}/${t}`}function _ee({creators:e}={}){const t=e?.asyncThunk?.[Cee];return function(n){const{name:a,reducerPath:o=a}=n;if(!a)throw new Error(ia(11));const l=(typeof n.reducers=="function"?n.reducers(kee()):n.reducers)||{},c=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(j,C){const _=typeof j=="string"?j:j.type;if(!_)throw new Error(ia(12));if(_ in d.sliceCaseReducersByType)throw new Error(ia(13));return d.sliceCaseReducersByType[_]=C,u},addMatcher(j,C){return d.sliceMatchers.push({matcher:j,reducer:C}),u},exposeAction(j,C){return d.actionCreators[j]=C,u},exposeCaseReducer(j,C){return d.sliceCaseReducersByName[j]=C,u}};c.forEach(j=>{const C=l[j],_={reducerName:j,type:Eee(a,j),createNotation:typeof n.reducers=="function"};Tee(C)?Pee(_,C,u,t):Dee(_,C,u)});function i(){const[j={},C=[],_=void 0]=typeof n.extraReducers=="function"?_8(n.extraReducers):[n.extraReducers],k={...j,...d.sliceCaseReducersByType};return vee(n.initialState,A=>{for(let T in k)A.addCase(T,k[T]);for(let T of d.sliceMatchers)A.addMatcher(T.matcher,T.reducer);for(let T of C)A.addMatcher(T.matcher,T.reducer);_&&A.addDefaultCase(_)})}const m=j=>j,g=new Map,x=new WeakMap;let v;function N(j,C){return v||(v=i()),v(j,C)}function h(){return v||(v=i()),v.getInitialState()}function y(j,C=!1){function _(A){let T=A[j];return typeof T>"u"&&C&&(T=uv(x,_,h)),T}function k(A=m){const T=uv(g,C,()=>new WeakMap);return uv(T,A,()=>{const R={};for(const[P,M]of Object.entries(n.selectors??{}))R[P]=Aee(M,A,()=>uv(x,A,h),C);return R})}return{reducerPath:j,getSelectors:k,get selectors(){return k(_)},selectSlice:_}}const w={name:a,reducer:N,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:h,...y(o),injectInto(j,{reducerPath:C,..._}={}){const k=C??o;return j.inject({reducerPath:k,reducer:N},_),{...w,...y(k,!0)}}};return w}}function Aee(e,t,r,n){function a(o,...l){let c=t(o);return typeof c>"u"&&n&&(c=r()),e(c,...l)}return a.unwrapped=e,a}var Zt=_ee();function kee(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function Dee({type:e,reducerName:t,createNotation:r},n,a){let o,l;if("reducer"in n){if(r&&!Ree(n))throw new Error(ia(17));o=n.reducer,l=n.prepare}else o=n;a.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,l?ws(e,l):ws(e))}function Tee(e){return e._reducerDefinitionType==="asyncThunk"}function Ree(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Pee({type:e,reducerName:t},r,n,a){if(!a)throw new Error(ia(18));const{payloadCreator:o,fulfilled:l,pending:c,rejected:d,settled:u,options:i}=r,m=a(e,o,i);n.exposeAction(t,m),l&&n.addCase(m.fulfilled,l),c&&n.addCase(m.pending,c),d&&n.addCase(m.rejected,d),u&&n.addMatcher(m.settled,u),n.exposeCaseReducer(t,{fulfilled:l||fv,pending:c||fv,rejected:d||fv,settled:u||fv})}function fv(){}var Mee="task",k8="listener",D8="completed",x2="cancelled",Oee=`task-${x2}`,Iee=`task-${D8}`,R_=`${k8}-${x2}`,Lee=`${k8}-${D8}`,Nw=class{constructor(e){this.code=e,this.message=`${Mee} ${x2} (reason: ${e})`}name="TaskAbortError";message},v2=(e,t)=>{if(typeof e!="function")throw new TypeError(ia(32))},ob=()=>{},T8=(e,t=ob)=>(e.catch(t),e),R8=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),pd=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},gd=e=>{if(e.aborted){const{reason:t}=e;throw new Nw(t)}};function P8(e,t){let r=ob;return new Promise((n,a)=>{const o=()=>a(new Nw(e.reason));if(e.aborted){o();return}r=R8(e,o),t.finally(()=>r()).then(n,a)}).finally(()=>{r=ob})}var Bee=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Nw?"cancelled":"rejected",error:r}}finally{t?.()}},ib=e=>t=>T8(P8(e,t).then(r=>(gd(e),r))),M8=e=>{const t=ib(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:bf}=Object,ZM={},Cw="listenerMiddleware",Fee=(e,t)=>{const r=n=>R8(e,()=>pd(n,e.reason));return(n,a)=>{v2(n);const o=new AbortController;r(o);const l=Bee(async()=>{gd(e),gd(o.signal);const c=await n({pause:ib(o.signal),delay:M8(o.signal),signal:o.signal});return gd(o.signal),c},()=>pd(o,Iee));return a?.autoJoin&&t.push(l.catch(ob)),{result:ib(e)(l),cancel(){pd(o,Oee)}}}},Uee=(e,t)=>{const r=async(n,a)=>{gd(t);let o=()=>{};const c=[new Promise((d,u)=>{let i=e({predicate:n,effect:(m,g)=>{g.unsubscribe(),d([m,g.getState(),g.getOriginalState()])}});o=()=>{i(),u()}})];a!=null&&c.push(new Promise(d=>setTimeout(d,a,null)));try{const d=await P8(t,Promise.race(c));return gd(t),d}finally{o()}};return(n,a)=>T8(r(n,a))},O8=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:o}=e;if(t)a=ws(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(ia(21));return v2(o),{predicate:a,type:t,effect:o}},I8=bf(e=>{const{type:t,predicate:r,effect:n}=O8(e);return{id:A8(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(ia(22))}}},{withTypes:()=>I8}),KM=(e,t)=>{const{type:r,effect:n,predicate:a}=O8(t);return Array.from(e.values()).find(o=>(typeof r=="string"?o.type===r:o.predicate===a)&&o.effect===n)},P_=e=>{e.pending.forEach(t=>{pd(t,R_)})},$ee=e=>()=>{e.forEach(P_),e.clear()},XM=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},L8=bf(ws(`${Cw}/add`),{withTypes:()=>L8}),Hee=ws(`${Cw}/removeAll`),B8=bf(ws(`${Cw}/remove`),{withTypes:()=>B8}),zee=(...e)=>{console.error(`${Cw}/error`,...e)},Zp=(e={})=>{const t=new Map,{extra:r,onError:n=zee}=e;v2(n);const a=i=>(i.unsubscribe=()=>t.delete(i.id),t.set(i.id,i),m=>{i.unsubscribe(),m?.cancelActive&&P_(i)}),o=i=>{const m=KM(t,i)??I8(i);return a(m)};bf(o,{withTypes:()=>o});const l=i=>{const m=KM(t,i);return m&&(m.unsubscribe(),i.cancelActive&&P_(m)),!!m};bf(l,{withTypes:()=>l});const c=async(i,m,g,x)=>{const v=new AbortController,N=Uee(o,v.signal),h=[];try{i.pending.add(v),await Promise.resolve(i.effect(m,bf({},g,{getOriginalState:x,condition:(y,w)=>N(y,w).then(Boolean),take:N,delay:M8(v.signal),pause:ib(v.signal),extra:r,signal:v.signal,fork:Fee(v.signal,h),unsubscribe:i.unsubscribe,subscribe:()=>{t.set(i.id,i)},cancelActiveListeners:()=>{i.pending.forEach((y,w,j)=>{y!==v&&(pd(y,R_),j.delete(y))})},cancel:()=>{pd(v,R_),i.pending.delete(v)},throwIfCancelled:()=>{gd(v.signal)}})))}catch(y){y instanceof Nw||XM(n,y,{raisedBy:"effect"})}finally{await Promise.all(h),pd(v,Lee),i.pending.delete(v)}},d=$ee(t);return{middleware:i=>m=>g=>{if(!p8(g))return m(g);if(L8.match(g))return o(g.payload);if(Hee.match(g)){d();return}if(B8.match(g))return l(g.payload);let x=i.getState();const v=()=>{if(x===ZM)throw new Error(ia(23));return x};let N;try{if(N=m(g),t.size>0){const h=i.getState(),y=Array.from(t.values());for(const w of y){let j=!1;try{j=w.predicate(g,h,x)}catch(C){j=!1,XM(n,C,{raisedBy:"predicate"})}j&&c(w,g,i,v)}}}finally{x=ZM}return N},startListening:o,stopListening:l,clearListeners:d}};function ia(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}function F8(e,t){return function(){return e.apply(t,arguments)}}const{toString:qee}=Object.prototype,{getPrototypeOf:y2}=Object,{iterator:Ew,toStringTag:U8}=Symbol,_w=(e=>t=>{const r=qee.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),fo=e=>(e=e.toLowerCase(),t=>_w(t)===e),Aw=e=>t=>typeof t===e,{isArray:Kf}=Array,Df=Aw("undefined");function Kp(e){return e!==null&&!Df(e)&&e.constructor!==null&&!Df(e.constructor)&&Fs(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const $8=fo("ArrayBuffer");function Vee(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&$8(e.buffer),t}const Wee=Aw("string"),Fs=Aw("function"),H8=Aw("number"),Xp=e=>e!==null&&typeof e=="object",Gee=e=>e===!0||e===!1,Qv=e=>{if(_w(e)!=="object")return!1;const t=y2(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(U8 in e)&&!(Ew in e)},Yee=e=>{if(!Xp(e)||Kp(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Zee=fo("Date"),Kee=fo("File"),Xee=fo("Blob"),Qee=fo("FileList"),Jee=e=>Xp(e)&&Fs(e.pipe),ete=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Fs(e.append)&&((t=_w(e))==="formdata"||t==="object"&&Fs(e.toString)&&e.toString()==="[object FormData]"))},tte=fo("URLSearchParams"),[rte,nte,ste,ate]=["ReadableStream","Request","Response","Headers"].map(fo),ote=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Qp(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),Kf(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(Kp(e))return;const o=r?Object.getOwnPropertyNames(e):Object.keys(e),l=o.length;let c;for(n=0;n<l;n++)c=o[n],t.call(null,e[c],c,e)}}function z8(e,t){if(Kp(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const cd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,q8=e=>!Df(e)&&e!==cd;function M_(){const{caseless:e,skipUndefined:t}=q8(this)&&this||{},r={},n=(a,o)=>{const l=e&&z8(r,o)||o;Qv(r[l])&&Qv(a)?r[l]=M_(r[l],a):Qv(a)?r[l]=M_({},a):Kf(a)?r[l]=a.slice():(!t||!Df(a))&&(r[l]=a)};for(let a=0,o=arguments.length;a<o;a++)arguments[a]&&Qp(arguments[a],n);return r}const ite=(e,t,r,{allOwnKeys:n}={})=>(Qp(t,(a,o)=>{r&&Fs(a)?e[o]=F8(a,r):e[o]=a},{allOwnKeys:n}),e),lte=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),cte=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},dte=(e,t,r,n)=>{let a,o,l;const c={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),o=a.length;o-- >0;)l=a[o],(!n||n(l,e,t))&&!c[l]&&(t[l]=e[l],c[l]=!0);e=r!==!1&&y2(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},ute=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},fte=e=>{if(!e)return null;if(Kf(e))return e;let t=e.length;if(!H8(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},mte=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&y2(Uint8Array)),hte=(e,t)=>{const n=(e&&e[Ew]).call(e);let a;for(;(a=n.next())&&!a.done;){const o=a.value;t.call(e,o[0],o[1])}},pte=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},gte=fo("HTMLFormElement"),xte=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),QM=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),vte=fo("RegExp"),V8=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Qp(r,(a,o)=>{let l;(l=t(a,o,e))!==!1&&(n[o]=l||a)}),Object.defineProperties(e,n)},yte=e=>{V8(e,(t,r)=>{if(Fs(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Fs(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},bte=(e,t)=>{const r={},n=a=>{a.forEach(o=>{r[o]=!0})};return Kf(e)?n(e):n(String(e).split(t)),r},wte=()=>{},Ste=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function jte(e){return!!(e&&Fs(e.append)&&e[U8]==="FormData"&&e[Ew])}const Nte=e=>{const t=new Array(10),r=(n,a)=>{if(Xp(n)){if(t.indexOf(n)>=0)return;if(Kp(n))return n;if(!("toJSON"in n)){t[a]=n;const o=Kf(n)?[]:{};return Qp(n,(l,c)=>{const d=r(l,a+1);!Df(d)&&(o[c]=d)}),t[a]=void 0,o}}return n};return r(e,0)},Cte=fo("AsyncFunction"),Ete=e=>e&&(Xp(e)||Fs(e))&&Fs(e.then)&&Fs(e.catch),W8=((e,t)=>e?setImmediate:t?((r,n)=>(cd.addEventListener("message",({source:a,data:o})=>{a===cd&&o===r&&n.length&&n.shift()()},!1),a=>{n.push(a),cd.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Fs(cd.postMessage)),_te=typeof queueMicrotask<"u"?queueMicrotask.bind(cd):typeof process<"u"&&process.nextTick||W8,Ate=e=>e!=null&&Fs(e[Ew]),je={isArray:Kf,isArrayBuffer:$8,isBuffer:Kp,isFormData:ete,isArrayBufferView:Vee,isString:Wee,isNumber:H8,isBoolean:Gee,isObject:Xp,isPlainObject:Qv,isEmptyObject:Yee,isReadableStream:rte,isRequest:nte,isResponse:ste,isHeaders:ate,isUndefined:Df,isDate:Zee,isFile:Kee,isBlob:Xee,isRegExp:vte,isFunction:Fs,isStream:Jee,isURLSearchParams:tte,isTypedArray:mte,isFileList:Qee,forEach:Qp,merge:M_,extend:ite,trim:ote,stripBOM:lte,inherits:cte,toFlatObject:dte,kindOf:_w,kindOfTest:fo,endsWith:ute,toArray:fte,forEachEntry:hte,matchAll:pte,isHTMLForm:gte,hasOwnProperty:QM,hasOwnProp:QM,reduceDescriptors:V8,freezeMethods:yte,toObjectSet:bte,toCamelCase:xte,noop:wte,toFiniteNumber:Ste,findKey:z8,global:cd,isContextDefined:q8,isSpecCompliantForm:jte,toJSONObject:Nte,isAsyncFn:Cte,isThenable:Ete,setImmediate:W8,asap:_te,isIterable:Ate};function Et(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}je.inherits(Et,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:je.toJSONObject(this.config),code:this.code,status:this.status}}});const G8=Et.prototype,Y8={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Y8[e]={value:e}});Object.defineProperties(Et,Y8);Object.defineProperty(G8,"isAxiosError",{value:!0});Et.from=(e,t,r,n,a,o)=>{const l=Object.create(G8);je.toFlatObject(e,l,function(i){return i!==Error.prototype},u=>u!=="isAxiosError");const c=e&&e.message?e.message:"Error",d=t==null&&e?e.code:t;return Et.call(l,c,d,r,n,a),e&&l.cause==null&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",o&&Object.assign(l,o),l};const kte=null;function O_(e){return je.isPlainObject(e)||je.isArray(e)}function Z8(e){return je.endsWith(e,"[]")?e.slice(0,-2):e}function JM(e,t,r){return e?e.concat(t).map(function(a,o){return a=Z8(a),!r&&o?"["+a+"]":a}).join(r?".":""):t}function Dte(e){return je.isArray(e)&&!e.some(O_)}const Tte=je.toFlatObject(je,{},null,function(t){return/^is[A-Z]/.test(t)});function kw(e,t,r){if(!je.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=je.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,h){return!je.isUndefined(h[N])});const n=r.metaTokens,a=r.visitor||i,o=r.dots,l=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&je.isSpecCompliantForm(t);if(!je.isFunction(a))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(je.isDate(v))return v.toISOString();if(je.isBoolean(v))return v.toString();if(!d&&je.isBlob(v))throw new Et("Blob is not supported. Use a Buffer instead.");return je.isArrayBuffer(v)||je.isTypedArray(v)?d&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function i(v,N,h){let y=v;if(v&&!h&&typeof v=="object"){if(je.endsWith(N,"{}"))N=n?N:N.slice(0,-2),v=JSON.stringify(v);else if(je.isArray(v)&&Dte(v)||(je.isFileList(v)||je.endsWith(N,"[]"))&&(y=je.toArray(v)))return N=Z8(N),y.forEach(function(j,C){!(je.isUndefined(j)||j===null)&&t.append(l===!0?JM([N],C,o):l===null?N:N+"[]",u(j))}),!1}return O_(v)?!0:(t.append(JM(h,N,o),u(v)),!1)}const m=[],g=Object.assign(Tte,{defaultVisitor:i,convertValue:u,isVisitable:O_});function x(v,N){if(!je.isUndefined(v)){if(m.indexOf(v)!==-1)throw Error("Circular reference detected in "+N.join("."));m.push(v),je.forEach(v,function(y,w){(!(je.isUndefined(y)||y===null)&&a.call(t,y,je.isString(w)?w.trim():w,N,g))===!0&&x(y,N?N.concat(w):[w])}),m.pop()}}if(!je.isObject(e))throw new TypeError("data must be an object");return x(e),t}function eO(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function b2(e,t){this._pairs=[],e&&kw(e,this,t)}const K8=b2.prototype;K8.append=function(t,r){this._pairs.push([t,r])};K8.toString=function(t){const r=t?function(n){return t.call(this,n,eO)}:eO;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Rte(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function X8(e,t,r){if(!t)return e;const n=r&&r.encode||Rte;je.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let o;if(a?o=a(t,r):o=je.isURLSearchParams(t)?t.toString():new b2(t,r).toString(n),o){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class tO{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){je.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Q8={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Pte=typeof URLSearchParams<"u"?URLSearchParams:b2,Mte=typeof FormData<"u"?FormData:null,Ote=typeof Blob<"u"?Blob:null,Ite={isBrowser:!0,classes:{URLSearchParams:Pte,FormData:Mte,Blob:Ote},protocols:["http","https","file","blob","url","data"]},w2=typeof window<"u"&&typeof document<"u",I_=typeof navigator=="object"&&navigator||void 0,Lte=w2&&(!I_||["ReactNative","NativeScript","NS"].indexOf(I_.product)<0),Bte=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Fte=w2&&window.location.href||"http://localhost",Ute=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:w2,hasStandardBrowserEnv:Lte,hasStandardBrowserWebWorkerEnv:Bte,navigator:I_,origin:Fte},Symbol.toStringTag,{value:"Module"})),is={...Ute,...Ite};function $te(e,t){return kw(e,new is.classes.URLSearchParams,{visitor:function(r,n,a,o){return is.isNode&&je.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function Hte(e){return je.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function zte(e){const t={},r=Object.keys(e);let n;const a=r.length;let o;for(n=0;n<a;n++)o=r[n],t[o]=e[o];return t}function J8(e){function t(r,n,a,o){let l=r[o++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),d=o>=r.length;return l=!l&&je.isArray(a)?a.length:l,d?(je.hasOwnProp(a,l)?a[l]=[a[l],n]:a[l]=n,!c):((!a[l]||!je.isObject(a[l]))&&(a[l]=[]),t(r,n,a[l],o)&&je.isArray(a[l])&&(a[l]=zte(a[l])),!c)}if(je.isFormData(e)&&je.isFunction(e.entries)){const r={};return je.forEachEntry(e,(n,a)=>{t(Hte(n),a,r,0)}),r}return null}function qte(e,t,r){if(je.isString(e))try{return(t||JSON.parse)(e),je.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Jp={transitional:Q8,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,o=je.isObject(t);if(o&&je.isHTMLForm(t)&&(t=new FormData(t)),je.isFormData(t))return a?JSON.stringify(J8(t)):t;if(je.isArrayBuffer(t)||je.isBuffer(t)||je.isStream(t)||je.isFile(t)||je.isBlob(t)||je.isReadableStream(t))return t;if(je.isArrayBufferView(t))return t.buffer;if(je.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return $te(t,this.formSerializer).toString();if((c=je.isFileList(t))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return kw(c?{"files[]":t}:t,d&&new d,this.formSerializer)}}return o||a?(r.setContentType("application/json",!1),qte(t)):t}],transformResponse:[function(t){const r=this.transitional||Jp.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(je.isResponse(t)||je.isReadableStream(t))return t;if(t&&je.isString(t)&&(n&&!this.responseType||a)){const l=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(c){if(l)throw c.name==="SyntaxError"?Et.from(c,Et.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:is.classes.FormData,Blob:is.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};je.forEach(["delete","get","head","post","put","patch"],e=>{Jp.headers[e]={}});const Vte=je.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Wte=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(l){a=l.indexOf(":"),r=l.substring(0,a).trim().toLowerCase(),n=l.substring(a+1).trim(),!(!r||t[r]&&Vte[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},rO=Symbol("internals");function Ah(e){return e&&String(e).trim().toLowerCase()}function Jv(e){return e===!1||e==null?e:je.isArray(e)?e.map(Jv):String(e)}function Gte(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const Yte=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function AN(e,t,r,n,a){if(je.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!je.isString(t)){if(je.isString(n))return t.indexOf(n)!==-1;if(je.isRegExp(n))return n.test(t)}}function Zte(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Kte(e,t){const r=je.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,o,l){return this[n].call(this,t,a,o,l)},configurable:!0})})}let Us=class{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function o(c,d,u){const i=Ah(d);if(!i)throw new Error("header name must be a non-empty string");const m=je.findKey(a,i);(!m||a[m]===void 0||u===!0||u===void 0&&a[m]!==!1)&&(a[m||d]=Jv(c))}const l=(c,d)=>je.forEach(c,(u,i)=>o(u,i,d));if(je.isPlainObject(t)||t instanceof this.constructor)l(t,r);else if(je.isString(t)&&(t=t.trim())&&!Yte(t))l(Wte(t),r);else if(je.isObject(t)&&je.isIterable(t)){let c={},d,u;for(const i of t){if(!je.isArray(i))throw TypeError("Object iterator must return a key-value pair");c[u=i[0]]=(d=c[u])?je.isArray(d)?[...d,i[1]]:[d,i[1]]:i[1]}l(c,r)}else t!=null&&o(r,t,n);return this}get(t,r){if(t=Ah(t),t){const n=je.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return Gte(a);if(je.isFunction(r))return r.call(this,a,n);if(je.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Ah(t),t){const n=je.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||AN(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function o(l){if(l=Ah(l),l){const c=je.findKey(n,l);c&&(!r||AN(n,n[c],c,r))&&(delete n[c],a=!0)}}return je.isArray(t)?t.forEach(o):o(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const o=r[n];(!t||AN(this,this[o],o,t,!0))&&(delete this[o],a=!0)}return a}normalize(t){const r=this,n={};return je.forEach(this,(a,o)=>{const l=je.findKey(n,o);if(l){r[l]=Jv(a),delete r[o];return}const c=t?Zte(o):String(o).trim();c!==o&&delete r[o],r[c]=Jv(a),n[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return je.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&je.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[rO]=this[rO]={accessors:{}}).accessors,a=this.prototype;function o(l){const c=Ah(l);n[c]||(Kte(a,l),n[c]=!0)}return je.isArray(t)?t.forEach(o):o(t),this}};Us.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);je.reduceDescriptors(Us.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});je.freezeMethods(Us);function kN(e,t){const r=this||Jp,n=t||r,a=Us.from(n.headers);let o=n.data;return je.forEach(e,function(c){o=c.call(r,o,a.normalize(),t?t.status:void 0)}),a.normalize(),o}function eF(e){return!!(e&&e.__CANCEL__)}function Xf(e,t,r){Et.call(this,e??"canceled",Et.ERR_CANCELED,t,r),this.name="CanceledError"}je.inherits(Xf,Et,{__CANCEL__:!0});function tF(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Et("Request failed with status code "+r.status,[Et.ERR_BAD_REQUEST,Et.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Xte(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Qte(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,o=0,l;return t=t!==void 0?t:1e3,function(d){const u=Date.now(),i=n[o];l||(l=u),r[a]=d,n[a]=u;let m=o,g=0;for(;m!==a;)g+=r[m++],m=m%e;if(a=(a+1)%e,a===o&&(o=(o+1)%e),u-l<t)return;const x=i&&u-i;return x?Math.round(g*1e3/x):void 0}}function Jte(e,t){let r=0,n=1e3/t,a,o;const l=(u,i=Date.now())=>{r=i,a=null,o&&(clearTimeout(o),o=null),e(...u)};return[(...u)=>{const i=Date.now(),m=i-r;m>=n?l(u,i):(a=u,o||(o=setTimeout(()=>{o=null,l(a)},n-m)))},()=>a&&l(a)]}const lb=(e,t,r=3)=>{let n=0;const a=Qte(50,250);return Jte(o=>{const l=o.loaded,c=o.lengthComputable?o.total:void 0,d=l-n,u=a(d),i=l<=c;n=l;const m={loaded:l,total:c,progress:c?l/c:void 0,bytes:d,rate:u||void 0,estimated:u&&c&&i?(c-l)/u:void 0,event:o,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(m)},r)},nO=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},sO=e=>(...t)=>je.asap(()=>e(...t)),ere=is.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,is.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(is.origin),is.navigator&&/(msie|trident)/i.test(is.navigator.userAgent)):()=>!0,tre=is.hasStandardBrowserEnv?{write(e,t,r,n,a,o){const l=[e+"="+encodeURIComponent(t)];je.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),je.isString(n)&&l.push("path="+n),je.isString(a)&&l.push("domain="+a),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function rre(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function nre(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function rF(e,t,r){let n=!rre(t);return e&&(n||r==!1)?nre(e,t):t}const aO=e=>e instanceof Us?{...e}:e;function Ed(e,t){t=t||{};const r={};function n(u,i,m,g){return je.isPlainObject(u)&&je.isPlainObject(i)?je.merge.call({caseless:g},u,i):je.isPlainObject(i)?je.merge({},i):je.isArray(i)?i.slice():i}function a(u,i,m,g){if(je.isUndefined(i)){if(!je.isUndefined(u))return n(void 0,u,m,g)}else return n(u,i,m,g)}function o(u,i){if(!je.isUndefined(i))return n(void 0,i)}function l(u,i){if(je.isUndefined(i)){if(!je.isUndefined(u))return n(void 0,u)}else return n(void 0,i)}function c(u,i,m){if(m in t)return n(u,i);if(m in e)return n(void 0,u)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(u,i,m)=>a(aO(u),aO(i),m,!0)};return je.forEach(Object.keys({...e,...t}),function(i){const m=d[i]||a,g=m(e[i],t[i],i);je.isUndefined(g)&&m!==c||(r[i]=g)}),r}const nF=e=>{const t=Ed({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:o,headers:l,auth:c}=t;if(t.headers=l=Us.from(l),t.url=X8(rF(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),je.isFormData(r)){if(is.hasStandardBrowserEnv||is.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(je.isFunction(r.getHeaders)){const d=r.getHeaders(),u=["content-type","content-length"];Object.entries(d).forEach(([i,m])=>{u.includes(i.toLowerCase())&&l.set(i,m)})}}if(is.hasStandardBrowserEnv&&(n&&je.isFunction(n)&&(n=n(t)),n||n!==!1&&ere(t.url))){const d=a&&o&&tre.read(o);d&&l.set(a,d)}return t},sre=typeof XMLHttpRequest<"u",are=sre&&function(e){return new Promise(function(r,n){const a=nF(e);let o=a.data;const l=Us.from(a.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:u}=a,i,m,g,x,v;function N(){x&&x(),v&&v(),a.cancelToken&&a.cancelToken.unsubscribe(i),a.signal&&a.signal.removeEventListener("abort",i)}let h=new XMLHttpRequest;h.open(a.method.toUpperCase(),a.url,!0),h.timeout=a.timeout;function y(){if(!h)return;const j=Us.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),_={data:!c||c==="text"||c==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:j,config:e,request:h};tF(function(A){r(A),N()},function(A){n(A),N()},_),h=null}"onloadend"in h?h.onloadend=y:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(y)},h.onabort=function(){h&&(n(new Et("Request aborted",Et.ECONNABORTED,e,h)),h=null)},h.onerror=function(C){const _=C&&C.message?C.message:"Network Error",k=new Et(_,Et.ERR_NETWORK,e,h);k.event=C||null,n(k),h=null},h.ontimeout=function(){let C=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const _=a.transitional||Q8;a.timeoutErrorMessage&&(C=a.timeoutErrorMessage),n(new Et(C,_.clarifyTimeoutError?Et.ETIMEDOUT:Et.ECONNABORTED,e,h)),h=null},o===void 0&&l.setContentType(null),"setRequestHeader"in h&&je.forEach(l.toJSON(),function(C,_){h.setRequestHeader(_,C)}),je.isUndefined(a.withCredentials)||(h.withCredentials=!!a.withCredentials),c&&c!=="json"&&(h.responseType=a.responseType),u&&([g,v]=lb(u,!0),h.addEventListener("progress",g)),d&&h.upload&&([m,x]=lb(d),h.upload.addEventListener("progress",m),h.upload.addEventListener("loadend",x)),(a.cancelToken||a.signal)&&(i=j=>{h&&(n(!j||j.type?new Xf(null,e,h):j),h.abort(),h=null)},a.cancelToken&&a.cancelToken.subscribe(i),a.signal&&(a.signal.aborted?i():a.signal.addEventListener("abort",i)));const w=Xte(a.url);if(w&&is.protocols.indexOf(w)===-1){n(new Et("Unsupported protocol "+w+":",Et.ERR_BAD_REQUEST,e));return}h.send(o||null)})},ore=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const o=function(u){if(!a){a=!0,c();const i=u instanceof Error?u:this.reason;n.abort(i instanceof Et?i:new Xf(i instanceof Error?i.message:i))}};let l=t&&setTimeout(()=>{l=null,o(new Et(`timeout ${t} of ms exceeded`,Et.ETIMEDOUT))},t);const c=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),e=null)};e.forEach(u=>u.addEventListener("abort",o));const{signal:d}=n;return d.unsubscribe=()=>je.asap(c),d}},ire=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},lre=async function*(e,t){for await(const r of cre(e))yield*ire(r,t)},cre=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},oO=(e,t,r,n)=>{const a=lre(e,t);let o=0,l,c=d=>{l||(l=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:u,value:i}=await a.next();if(u){c(),d.close();return}let m=i.byteLength;if(r){let g=o+=m;r(g)}d.enqueue(new Uint8Array(i))}catch(u){throw c(u),u}},cancel(d){return c(d),a.return()}},{highWaterMark:2})},iO=64*1024,{isFunction:mv}=je,dre=(({Request:e,Response:t})=>({Request:e,Response:t}))(je.global),{ReadableStream:lO,TextEncoder:cO}=je.global,dO=(e,...t)=>{try{return!!e(...t)}catch{return!1}},ure=e=>{e=je.merge.call({skipUndefined:!0},dre,e);const{fetch:t,Request:r,Response:n}=e,a=t?mv(t):typeof fetch=="function",o=mv(r),l=mv(n);if(!a)return!1;const c=a&&mv(lO),d=a&&(typeof cO=="function"?(v=>N=>v.encode(N))(new cO):async v=>new Uint8Array(await new r(v).arrayBuffer())),u=o&&c&&dO(()=>{let v=!1;const N=new r(is.origin,{body:new lO,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!N}),i=l&&c&&dO(()=>je.isReadableStream(new n("").body)),m={stream:i&&(v=>v.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!m[v]&&(m[v]=(N,h)=>{let y=N&&N[v];if(y)return y.call(N);throw new Et(`Response type '${v}' is not supported`,Et.ERR_NOT_SUPPORT,h)})});const g=async v=>{if(v==null)return 0;if(je.isBlob(v))return v.size;if(je.isSpecCompliantForm(v))return(await new r(is.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(je.isArrayBufferView(v)||je.isArrayBuffer(v))return v.byteLength;if(je.isURLSearchParams(v)&&(v=v+""),je.isString(v))return(await d(v)).byteLength},x=async(v,N)=>{const h=je.toFiniteNumber(v.getContentLength());return h??g(N)};return async v=>{let{url:N,method:h,data:y,signal:w,cancelToken:j,timeout:C,onDownloadProgress:_,onUploadProgress:k,responseType:A,headers:T,withCredentials:R="same-origin",fetchOptions:P}=nF(v),M=t||fetch;A=A?(A+"").toLowerCase():"text";let I=ore([w,j&&j.toAbortSignal()],C),L=null;const B=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let U;try{if(k&&u&&h!=="get"&&h!=="head"&&(U=await x(T,y))!==0){let G=new r(N,{method:"POST",body:y,duplex:"half"}),z;if(je.isFormData(y)&&(z=G.headers.get("content-type"))&&T.setContentType(z),G.body){const[K,Z]=nO(U,lb(sO(k)));y=oO(G.body,iO,K,Z)}}je.isString(R)||(R=R?"include":"omit");const F=o&&"credentials"in r.prototype,H={...P,signal:I,method:h.toUpperCase(),headers:T.normalize().toJSON(),body:y,duplex:"half",credentials:F?R:void 0};L=o&&new r(N,H);let W=await(o?M(L,P):M(N,H));const J=i&&(A==="stream"||A==="response");if(i&&(_||J&&B)){const G={};["status","statusText","headers"].forEach(ie=>{G[ie]=W[ie]});const z=je.toFiniteNumber(W.headers.get("content-length")),[K,Z]=_&&nO(z,lb(sO(_),!0))||[];W=new n(oO(W.body,iO,K,()=>{Z&&Z(),B&&B()}),G)}A=A||"text";let q=await m[je.findKey(m,A)||"text"](W,v);return!J&&B&&B(),await new Promise((G,z)=>{tF(G,z,{data:q,headers:Us.from(W.headers),status:W.status,statusText:W.statusText,config:v,request:L})})}catch(F){throw B&&B(),F&&F.name==="TypeError"&&/Load failed|fetch/i.test(F.message)?Object.assign(new Et("Network Error",Et.ERR_NETWORK,v,L),{cause:F.cause||F}):Et.from(F,F&&F.code,v,L)}}},fre=new Map,sF=e=>{let t=e?e.env:{};const{fetch:r,Request:n,Response:a}=t,o=[n,a,r];let l=o.length,c=l,d,u,i=fre;for(;c--;)d=o[c],u=i.get(d),u===void 0&&i.set(d,u=c?new Map:ure(t)),i=u;return u};sF();const L_={http:kte,xhr:are,fetch:{get:sF}};je.forEach(L_,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const uO=e=>`- ${e}`,mre=e=>je.isFunction(e)||e===null||e===!1,aF={getAdapter:(e,t)=>{e=je.isArray(e)?e:[e];const{length:r}=e;let n,a;const o={};for(let l=0;l<r;l++){n=e[l];let c;if(a=n,!mre(n)&&(a=L_[(c=String(n)).toLowerCase()],a===void 0))throw new Et(`Unknown adapter '${c}'`);if(a&&(je.isFunction(a)||(a=a.get(t))))break;o[c||"#"+l]=a}if(!a){const l=Object.entries(o).map(([d,u])=>`adapter ${d} `+(u===!1?"is not supported by the environment":"is not available in the build"));let c=r?l.length>1?`since :
`+l.map(uO).join(`
`):" "+uO(l[0]):"as no adapter specified";throw new Et("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return a},adapters:L_};function DN(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Xf(null,e)}function fO(e){return DN(e),e.headers=Us.from(e.headers),e.data=kN.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),aF.getAdapter(e.adapter||Jp.adapter,e)(e).then(function(n){return DN(e),n.data=kN.call(e,e.transformResponse,n),n.headers=Us.from(n.headers),n},function(n){return eF(n)||(DN(e),n&&n.response&&(n.response.data=kN.call(e,e.transformResponse,n.response),n.response.headers=Us.from(n.response.headers))),Promise.reject(n)})}const oF="1.12.2",Dw={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Dw[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const mO={};Dw.transitional=function(t,r,n){function a(o,l){return"[Axios v"+oF+"] Transitional option '"+o+"'"+l+(n?". "+n:"")}return(o,l,c)=>{if(t===!1)throw new Et(a(l," has been removed"+(r?" in "+r:"")),Et.ERR_DEPRECATED);return r&&!mO[l]&&(mO[l]=!0,console.warn(a(l," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,l,c):!0}};Dw.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function hre(e,t,r){if(typeof e!="object")throw new Et("options must be an object",Et.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const o=n[a],l=t[o];if(l){const c=e[o],d=c===void 0||l(c,o,e);if(d!==!0)throw new Et("option "+o+" must be "+d,Et.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Et("Unknown option "+o,Et.ERR_BAD_OPTION)}}const e0={assertOptions:hre,validators:Dw},_o=e0.validators;let xd=class{constructor(t){this.defaults=t||{},this.interceptors={request:new tO,response:new tO}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const o=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Ed(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:o}=r;n!==void 0&&e0.assertOptions(n,{silentJSONParsing:_o.transitional(_o.boolean),forcedJSONParsing:_o.transitional(_o.boolean),clarifyTimeoutError:_o.transitional(_o.boolean)},!1),a!=null&&(je.isFunction(a)?r.paramsSerializer={serialize:a}:e0.assertOptions(a,{encode:_o.function,serialize:_o.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),e0.assertOptions(r,{baseUrl:_o.spelling("baseURL"),withXsrfToken:_o.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=o&&je.merge(o.common,o[r.method]);o&&je.forEach(["delete","get","head","post","put","patch","common"],v=>{delete o[v]}),r.headers=Us.concat(l,o);const c=[];let d=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(r)===!1||(d=d&&N.synchronous,c.unshift(N.fulfilled,N.rejected))});const u=[];this.interceptors.response.forEach(function(N){u.push(N.fulfilled,N.rejected)});let i,m=0,g;if(!d){const v=[fO.bind(this),void 0];for(v.unshift(...c),v.push(...u),g=v.length,i=Promise.resolve(r);m<g;)i=i.then(v[m++],v[m++]);return i}g=c.length;let x=r;for(;m<g;){const v=c[m++],N=c[m++];try{x=v(x)}catch(h){N.call(this,h);break}}try{i=fO.call(this,x)}catch(v){return Promise.reject(v)}for(m=0,g=u.length;m<g;)i=i.then(u[m++],u[m++]);return i}getUri(t){t=Ed(this.defaults,t);const r=rF(t.baseURL,t.url,t.allowAbsoluteUrls);return X8(r,t.params,t.paramsSerializer)}};je.forEach(["delete","get","head","options"],function(t){xd.prototype[t]=function(r,n){return this.request(Ed(n||{},{method:t,url:r,data:(n||{}).data}))}});je.forEach(["post","put","patch"],function(t){function r(n){return function(o,l,c){return this.request(Ed(c||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}xd.prototype[t]=r(),xd.prototype[t+"Form"]=r(!0)});let pre=class iF{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const n=this;this.promise.then(a=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](a);n._listeners=null}),this.promise.then=a=>{let o;const l=new Promise(c=>{n.subscribe(c),o=c}).then(a);return l.cancel=function(){n.unsubscribe(o)},l},t(function(o,l,c){n.reason||(n.reason=new Xf(o,l,c),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new iF(function(a){t=a}),cancel:t}}};function gre(e){return function(r){return e.apply(null,r)}}function xre(e){return je.isObject(e)&&e.isAxiosError===!0}const B_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(B_).forEach(([e,t])=>{B_[t]=e});function lF(e){const t=new xd(e),r=F8(xd.prototype.request,t);return je.extend(r,xd.prototype,t,{allOwnKeys:!0}),je.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return lF(Ed(e,a))},r}const ft=lF(Jp);ft.Axios=xd;ft.CanceledError=Xf;ft.CancelToken=pre;ft.isCancel=eF;ft.VERSION=oF;ft.toFormData=kw;ft.AxiosError=Et;ft.Cancel=ft.CanceledError;ft.all=function(t){return Promise.all(t)};ft.spread=gre;ft.isAxiosError=xre;ft.mergeConfig=Ed;ft.AxiosHeaders=Us;ft.formToJSON=e=>J8(je.isHTMLForm(e)?new FormData(e):e);ft.getAdapter=aF.getAdapter;ft.HttpStatusCode=B_;ft.default=ft;const{Axios:uHe,AxiosError:fHe,CanceledError:mHe,isCancel:hHe,CancelToken:pHe,VERSION:gHe,all:xHe,Cancel:vHe,isAxiosError:gp,spread:yHe,toFormData:bHe,AxiosHeaders:wHe,HttpStatusCode:SHe,formToJSON:jHe,getAdapter:NHe,mergeConfig:CHe}=ft;var t0={exports:{}};function vre(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var r0={exports:{}};const yre={},bre=Object.freeze(Object.defineProperty({__proto__:null,default:yre},Symbol.toStringTag,{value:"Module"})),wre=cJ(bre);var Sre=r0.exports,hO;function Xt(){return hO||(hO=1,function(e,t){(function(r,n){e.exports=n()})(Sre,function(){var r=r||function(n,a){var o;if(typeof window<"u"&&window.crypto&&(o=window.crypto),typeof self<"u"&&self.crypto&&(o=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(o=globalThis.crypto),!o&&typeof window<"u"&&window.msCrypto&&(o=window.msCrypto),!o&&typeof pN<"u"&&pN.crypto&&(o=pN.crypto),!o&&typeof vre=="function")try{o=wre}catch{}var l=function(){if(o){if(typeof o.getRandomValues=="function")try{return o.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof o.randomBytes=="function")try{return o.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},c=Object.create||function(){function w(){}return function(j){var C;return w.prototype=j,C=new w,w.prototype=null,C}}(),d={},u=d.lib={},i=u.Base=function(){return{extend:function(w){var j=c(this);return w&&j.mixIn(w),(!j.hasOwnProperty("init")||this.init===j.init)&&(j.init=function(){j.$super.init.apply(this,arguments)}),j.init.prototype=j,j.$super=this,j},create:function(){var w=this.extend();return w.init.apply(w,arguments),w},init:function(){},mixIn:function(w){for(var j in w)w.hasOwnProperty(j)&&(this[j]=w[j]);w.hasOwnProperty("toString")&&(this.toString=w.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),m=u.WordArray=i.extend({init:function(w,j){w=this.words=w||[],j!=a?this.sigBytes=j:this.sigBytes=w.length*4},toString:function(w){return(w||x).stringify(this)},concat:function(w){var j=this.words,C=w.words,_=this.sigBytes,k=w.sigBytes;if(this.clamp(),_%4)for(var A=0;A<k;A++){var T=C[A>>>2]>>>24-A%4*8&255;j[_+A>>>2]|=T<<24-(_+A)%4*8}else for(var R=0;R<k;R+=4)j[_+R>>>2]=C[R>>>2];return this.sigBytes+=k,this},clamp:function(){var w=this.words,j=this.sigBytes;w[j>>>2]&=4294967295<<32-j%4*8,w.length=n.ceil(j/4)},clone:function(){var w=i.clone.call(this);return w.words=this.words.slice(0),w},random:function(w){for(var j=[],C=0;C<w;C+=4)j.push(l());return new m.init(j,w)}}),g=d.enc={},x=g.Hex={stringify:function(w){for(var j=w.words,C=w.sigBytes,_=[],k=0;k<C;k++){var A=j[k>>>2]>>>24-k%4*8&255;_.push((A>>>4).toString(16)),_.push((A&15).toString(16))}return _.join("")},parse:function(w){for(var j=w.length,C=[],_=0;_<j;_+=2)C[_>>>3]|=parseInt(w.substr(_,2),16)<<24-_%8*4;return new m.init(C,j/2)}},v=g.Latin1={stringify:function(w){for(var j=w.words,C=w.sigBytes,_=[],k=0;k<C;k++){var A=j[k>>>2]>>>24-k%4*8&255;_.push(String.fromCharCode(A))}return _.join("")},parse:function(w){for(var j=w.length,C=[],_=0;_<j;_++)C[_>>>2]|=(w.charCodeAt(_)&255)<<24-_%4*8;return new m.init(C,j)}},N=g.Utf8={stringify:function(w){try{return decodeURIComponent(escape(v.stringify(w)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(w){return v.parse(unescape(encodeURIComponent(w)))}},h=u.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new m.init,this._nDataBytes=0},_append:function(w){typeof w=="string"&&(w=N.parse(w)),this._data.concat(w),this._nDataBytes+=w.sigBytes},_process:function(w){var j,C=this._data,_=C.words,k=C.sigBytes,A=this.blockSize,T=A*4,R=k/T;w?R=n.ceil(R):R=n.max((R|0)-this._minBufferSize,0);var P=R*A,M=n.min(P*4,k);if(P){for(var I=0;I<P;I+=A)this._doProcessBlock(_,I);j=_.splice(0,P),C.sigBytes-=M}return new m.init(j,M)},clone:function(){var w=i.clone.call(this);return w._data=this._data.clone(),w},_minBufferSize:0});u.Hasher=h.extend({cfg:i.extend(),init:function(w){this.cfg=this.cfg.extend(w),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(w){return this._append(w),this._process(),this},finalize:function(w){w&&this._append(w);var j=this._doFinalize();return j},blockSize:16,_createHelper:function(w){return function(j,C){return new w.init(C).finalize(j)}},_createHmacHelper:function(w){return function(j,C){return new y.HMAC.init(w,C).finalize(j)}}});var y=d.algo={};return d}(Math);return r})}(r0)),r0.exports}var n0={exports:{}},jre=n0.exports,pO;function Tw(){return pO||(pO=1,function(e,t){(function(r,n){e.exports=n(Xt())})(jre,function(r){return function(n){var a=r,o=a.lib,l=o.Base,c=o.WordArray,d=a.x64={};d.Word=l.extend({init:function(u,i){this.high=u,this.low=i}}),d.WordArray=l.extend({init:function(u,i){u=this.words=u||[],i!=n?this.sigBytes=i:this.sigBytes=u.length*8},toX32:function(){for(var u=this.words,i=u.length,m=[],g=0;g<i;g++){var x=u[g];m.push(x.high),m.push(x.low)}return c.create(m,this.sigBytes)},clone:function(){for(var u=l.clone.call(this),i=u.words=this.words.slice(0),m=i.length,g=0;g<m;g++)i[g]=i[g].clone();return u}})}(),r})}(n0)),n0.exports}var s0={exports:{}},Nre=s0.exports,gO;function Cre(){return gO||(gO=1,function(e,t){(function(r,n){e.exports=n(Xt())})(Nre,function(r){return function(){if(typeof ArrayBuffer=="function"){var n=r,a=n.lib,o=a.WordArray,l=o.init,c=o.init=function(d){if(d instanceof ArrayBuffer&&(d=new Uint8Array(d)),(d instanceof Int8Array||typeof Uint8ClampedArray<"u"&&d instanceof Uint8ClampedArray||d instanceof Int16Array||d instanceof Uint16Array||d instanceof Int32Array||d instanceof Uint32Array||d instanceof Float32Array||d instanceof Float64Array)&&(d=new Uint8Array(d.buffer,d.byteOffset,d.byteLength)),d instanceof Uint8Array){for(var u=d.byteLength,i=[],m=0;m<u;m++)i[m>>>2]|=d[m]<<24-m%4*8;l.call(this,i,u)}else l.apply(this,arguments)};c.prototype=o}}(),r.lib.WordArray})}(s0)),s0.exports}var a0={exports:{}},Ere=a0.exports,xO;function _re(){return xO||(xO=1,function(e,t){(function(r,n){e.exports=n(Xt())})(Ere,function(r){return function(){var n=r,a=n.lib,o=a.WordArray,l=n.enc;l.Utf16=l.Utf16BE={stringify:function(d){for(var u=d.words,i=d.sigBytes,m=[],g=0;g<i;g+=2){var x=u[g>>>2]>>>16-g%4*8&65535;m.push(String.fromCharCode(x))}return m.join("")},parse:function(d){for(var u=d.length,i=[],m=0;m<u;m++)i[m>>>1]|=d.charCodeAt(m)<<16-m%2*16;return o.create(i,u*2)}},l.Utf16LE={stringify:function(d){for(var u=d.words,i=d.sigBytes,m=[],g=0;g<i;g+=2){var x=c(u[g>>>2]>>>16-g%4*8&65535);m.push(String.fromCharCode(x))}return m.join("")},parse:function(d){for(var u=d.length,i=[],m=0;m<u;m++)i[m>>>1]|=c(d.charCodeAt(m)<<16-m%2*16);return o.create(i,u*2)}};function c(d){return d<<8&4278255360|d>>>8&16711935}}(),r.enc.Utf16})}(a0)),a0.exports}var o0={exports:{}},Are=o0.exports,vO;function Ld(){return vO||(vO=1,function(e,t){(function(r,n){e.exports=n(Xt())})(Are,function(r){return function(){var n=r,a=n.lib,o=a.WordArray,l=n.enc;l.Base64={stringify:function(d){var u=d.words,i=d.sigBytes,m=this._map;d.clamp();for(var g=[],x=0;x<i;x+=3)for(var v=u[x>>>2]>>>24-x%4*8&255,N=u[x+1>>>2]>>>24-(x+1)%4*8&255,h=u[x+2>>>2]>>>24-(x+2)%4*8&255,y=v<<16|N<<8|h,w=0;w<4&&x+w*.75<i;w++)g.push(m.charAt(y>>>6*(3-w)&63));var j=m.charAt(64);if(j)for(;g.length%4;)g.push(j);return g.join("")},parse:function(d){var u=d.length,i=this._map,m=this._reverseMap;if(!m){m=this._reverseMap=[];for(var g=0;g<i.length;g++)m[i.charCodeAt(g)]=g}var x=i.charAt(64);if(x){var v=d.indexOf(x);v!==-1&&(u=v)}return c(d,u,m)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function c(d,u,i){for(var m=[],g=0,x=0;x<u;x++)if(x%4){var v=i[d.charCodeAt(x-1)]<<x%4*2,N=i[d.charCodeAt(x)]>>>6-x%4*2,h=v|N;m[g>>>2]|=h<<24-g%4*8,g++}return o.create(m,g)}}(),r.enc.Base64})}(o0)),o0.exports}var i0={exports:{}},kre=i0.exports,yO;function Dre(){return yO||(yO=1,function(e,t){(function(r,n){e.exports=n(Xt())})(kre,function(r){return function(){var n=r,a=n.lib,o=a.WordArray,l=n.enc;l.Base64url={stringify:function(d,u){u===void 0&&(u=!0);var i=d.words,m=d.sigBytes,g=u?this._safe_map:this._map;d.clamp();for(var x=[],v=0;v<m;v+=3)for(var N=i[v>>>2]>>>24-v%4*8&255,h=i[v+1>>>2]>>>24-(v+1)%4*8&255,y=i[v+2>>>2]>>>24-(v+2)%4*8&255,w=N<<16|h<<8|y,j=0;j<4&&v+j*.75<m;j++)x.push(g.charAt(w>>>6*(3-j)&63));var C=g.charAt(64);if(C)for(;x.length%4;)x.push(C);return x.join("")},parse:function(d,u){u===void 0&&(u=!0);var i=d.length,m=u?this._safe_map:this._map,g=this._reverseMap;if(!g){g=this._reverseMap=[];for(var x=0;x<m.length;x++)g[m.charCodeAt(x)]=x}var v=m.charAt(64);if(v){var N=d.indexOf(v);N!==-1&&(i=N)}return c(d,i,g)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function c(d,u,i){for(var m=[],g=0,x=0;x<u;x++)if(x%4){var v=i[d.charCodeAt(x-1)]<<x%4*2,N=i[d.charCodeAt(x)]>>>6-x%4*2,h=v|N;m[g>>>2]|=h<<24-g%4*8,g++}return o.create(m,g)}}(),r.enc.Base64url})}(i0)),i0.exports}var l0={exports:{}},Tre=l0.exports,bO;function Bd(){return bO||(bO=1,function(e,t){(function(r,n){e.exports=n(Xt())})(Tre,function(r){return function(n){var a=r,o=a.lib,l=o.WordArray,c=o.Hasher,d=a.algo,u=[];(function(){for(var N=0;N<64;N++)u[N]=n.abs(n.sin(N+1))*4294967296|0})();var i=d.MD5=c.extend({_doReset:function(){this._hash=new l.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(N,h){for(var y=0;y<16;y++){var w=h+y,j=N[w];N[w]=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360}var C=this._hash.words,_=N[h+0],k=N[h+1],A=N[h+2],T=N[h+3],R=N[h+4],P=N[h+5],M=N[h+6],I=N[h+7],L=N[h+8],B=N[h+9],U=N[h+10],F=N[h+11],H=N[h+12],W=N[h+13],J=N[h+14],q=N[h+15],G=C[0],z=C[1],K=C[2],Z=C[3];G=m(G,z,K,Z,_,7,u[0]),Z=m(Z,G,z,K,k,12,u[1]),K=m(K,Z,G,z,A,17,u[2]),z=m(z,K,Z,G,T,22,u[3]),G=m(G,z,K,Z,R,7,u[4]),Z=m(Z,G,z,K,P,12,u[5]),K=m(K,Z,G,z,M,17,u[6]),z=m(z,K,Z,G,I,22,u[7]),G=m(G,z,K,Z,L,7,u[8]),Z=m(Z,G,z,K,B,12,u[9]),K=m(K,Z,G,z,U,17,u[10]),z=m(z,K,Z,G,F,22,u[11]),G=m(G,z,K,Z,H,7,u[12]),Z=m(Z,G,z,K,W,12,u[13]),K=m(K,Z,G,z,J,17,u[14]),z=m(z,K,Z,G,q,22,u[15]),G=g(G,z,K,Z,k,5,u[16]),Z=g(Z,G,z,K,M,9,u[17]),K=g(K,Z,G,z,F,14,u[18]),z=g(z,K,Z,G,_,20,u[19]),G=g(G,z,K,Z,P,5,u[20]),Z=g(Z,G,z,K,U,9,u[21]),K=g(K,Z,G,z,q,14,u[22]),z=g(z,K,Z,G,R,20,u[23]),G=g(G,z,K,Z,B,5,u[24]),Z=g(Z,G,z,K,J,9,u[25]),K=g(K,Z,G,z,T,14,u[26]),z=g(z,K,Z,G,L,20,u[27]),G=g(G,z,K,Z,W,5,u[28]),Z=g(Z,G,z,K,A,9,u[29]),K=g(K,Z,G,z,I,14,u[30]),z=g(z,K,Z,G,H,20,u[31]),G=x(G,z,K,Z,P,4,u[32]),Z=x(Z,G,z,K,L,11,u[33]),K=x(K,Z,G,z,F,16,u[34]),z=x(z,K,Z,G,J,23,u[35]),G=x(G,z,K,Z,k,4,u[36]),Z=x(Z,G,z,K,R,11,u[37]),K=x(K,Z,G,z,I,16,u[38]),z=x(z,K,Z,G,U,23,u[39]),G=x(G,z,K,Z,W,4,u[40]),Z=x(Z,G,z,K,_,11,u[41]),K=x(K,Z,G,z,T,16,u[42]),z=x(z,K,Z,G,M,23,u[43]),G=x(G,z,K,Z,B,4,u[44]),Z=x(Z,G,z,K,H,11,u[45]),K=x(K,Z,G,z,q,16,u[46]),z=x(z,K,Z,G,A,23,u[47]),G=v(G,z,K,Z,_,6,u[48]),Z=v(Z,G,z,K,I,10,u[49]),K=v(K,Z,G,z,J,15,u[50]),z=v(z,K,Z,G,P,21,u[51]),G=v(G,z,K,Z,H,6,u[52]),Z=v(Z,G,z,K,T,10,u[53]),K=v(K,Z,G,z,U,15,u[54]),z=v(z,K,Z,G,k,21,u[55]),G=v(G,z,K,Z,L,6,u[56]),Z=v(Z,G,z,K,q,10,u[57]),K=v(K,Z,G,z,M,15,u[58]),z=v(z,K,Z,G,W,21,u[59]),G=v(G,z,K,Z,R,6,u[60]),Z=v(Z,G,z,K,F,10,u[61]),K=v(K,Z,G,z,A,15,u[62]),z=v(z,K,Z,G,B,21,u[63]),C[0]=C[0]+G|0,C[1]=C[1]+z|0,C[2]=C[2]+K|0,C[3]=C[3]+Z|0},_doFinalize:function(){var N=this._data,h=N.words,y=this._nDataBytes*8,w=N.sigBytes*8;h[w>>>5]|=128<<24-w%32;var j=n.floor(y/4294967296),C=y;h[(w+64>>>9<<4)+15]=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,h[(w+64>>>9<<4)+14]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,N.sigBytes=(h.length+1)*4,this._process();for(var _=this._hash,k=_.words,A=0;A<4;A++){var T=k[A];k[A]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360}return _},clone:function(){var N=c.clone.call(this);return N._hash=this._hash.clone(),N}});function m(N,h,y,w,j,C,_){var k=N+(h&y|~h&w)+j+_;return(k<<C|k>>>32-C)+h}function g(N,h,y,w,j,C,_){var k=N+(h&w|y&~w)+j+_;return(k<<C|k>>>32-C)+h}function x(N,h,y,w,j,C,_){var k=N+(h^y^w)+j+_;return(k<<C|k>>>32-C)+h}function v(N,h,y,w,j,C,_){var k=N+(y^(h|~w))+j+_;return(k<<C|k>>>32-C)+h}a.MD5=c._createHelper(i),a.HmacMD5=c._createHmacHelper(i)}(Math),r.MD5})}(l0)),l0.exports}var c0={exports:{}},Rre=c0.exports,wO;function cF(){return wO||(wO=1,function(e,t){(function(r,n){e.exports=n(Xt())})(Rre,function(r){return function(){var n=r,a=n.lib,o=a.WordArray,l=a.Hasher,c=n.algo,d=[],u=c.SHA1=l.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(i,m){for(var g=this._hash.words,x=g[0],v=g[1],N=g[2],h=g[3],y=g[4],w=0;w<80;w++){if(w<16)d[w]=i[m+w]|0;else{var j=d[w-3]^d[w-8]^d[w-14]^d[w-16];d[w]=j<<1|j>>>31}var C=(x<<5|x>>>27)+y+d[w];w<20?C+=(v&N|~v&h)+1518500249:w<40?C+=(v^N^h)+1859775393:w<60?C+=(v&N|v&h|N&h)-1894007588:C+=(v^N^h)-899497514,y=h,h=N,N=v<<30|v>>>2,v=x,x=C}g[0]=g[0]+x|0,g[1]=g[1]+v|0,g[2]=g[2]+N|0,g[3]=g[3]+h|0,g[4]=g[4]+y|0},_doFinalize:function(){var i=this._data,m=i.words,g=this._nDataBytes*8,x=i.sigBytes*8;return m[x>>>5]|=128<<24-x%32,m[(x+64>>>9<<4)+14]=Math.floor(g/4294967296),m[(x+64>>>9<<4)+15]=g,i.sigBytes=m.length*4,this._process(),this._hash},clone:function(){var i=l.clone.call(this);return i._hash=this._hash.clone(),i}});n.SHA1=l._createHelper(u),n.HmacSHA1=l._createHmacHelper(u)}(),r.SHA1})}(c0)),c0.exports}var d0={exports:{}},Pre=d0.exports,SO;function S2(){return SO||(SO=1,function(e,t){(function(r,n){e.exports=n(Xt())})(Pre,function(r){return function(n){var a=r,o=a.lib,l=o.WordArray,c=o.Hasher,d=a.algo,u=[],i=[];(function(){function x(y){for(var w=n.sqrt(y),j=2;j<=w;j++)if(!(y%j))return!1;return!0}function v(y){return(y-(y|0))*4294967296|0}for(var N=2,h=0;h<64;)x(N)&&(h<8&&(u[h]=v(n.pow(N,1/2))),i[h]=v(n.pow(N,1/3)),h++),N++})();var m=[],g=d.SHA256=c.extend({_doReset:function(){this._hash=new l.init(u.slice(0))},_doProcessBlock:function(x,v){for(var N=this._hash.words,h=N[0],y=N[1],w=N[2],j=N[3],C=N[4],_=N[5],k=N[6],A=N[7],T=0;T<64;T++){if(T<16)m[T]=x[v+T]|0;else{var R=m[T-15],P=(R<<25|R>>>7)^(R<<14|R>>>18)^R>>>3,M=m[T-2],I=(M<<15|M>>>17)^(M<<13|M>>>19)^M>>>10;m[T]=P+m[T-7]+I+m[T-16]}var L=C&_^~C&k,B=h&y^h&w^y&w,U=(h<<30|h>>>2)^(h<<19|h>>>13)^(h<<10|h>>>22),F=(C<<26|C>>>6)^(C<<21|C>>>11)^(C<<7|C>>>25),H=A+F+L+i[T]+m[T],W=U+B;A=k,k=_,_=C,C=j+H|0,j=w,w=y,y=h,h=H+W|0}N[0]=N[0]+h|0,N[1]=N[1]+y|0,N[2]=N[2]+w|0,N[3]=N[3]+j|0,N[4]=N[4]+C|0,N[5]=N[5]+_|0,N[6]=N[6]+k|0,N[7]=N[7]+A|0},_doFinalize:function(){var x=this._data,v=x.words,N=this._nDataBytes*8,h=x.sigBytes*8;return v[h>>>5]|=128<<24-h%32,v[(h+64>>>9<<4)+14]=n.floor(N/4294967296),v[(h+64>>>9<<4)+15]=N,x.sigBytes=v.length*4,this._process(),this._hash},clone:function(){var x=c.clone.call(this);return x._hash=this._hash.clone(),x}});a.SHA256=c._createHelper(g),a.HmacSHA256=c._createHmacHelper(g)}(Math),r.SHA256})}(d0)),d0.exports}var u0={exports:{}},Mre=u0.exports,jO;function Ore(){return jO||(jO=1,function(e,t){(function(r,n,a){e.exports=n(Xt(),S2())})(Mre,function(r){return function(){var n=r,a=n.lib,o=a.WordArray,l=n.algo,c=l.SHA256,d=l.SHA224=c.extend({_doReset:function(){this._hash=new o.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var u=c._doFinalize.call(this);return u.sigBytes-=4,u}});n.SHA224=c._createHelper(d),n.HmacSHA224=c._createHmacHelper(d)}(),r.SHA224})}(u0)),u0.exports}var f0={exports:{}},Ire=f0.exports,NO;function dF(){return NO||(NO=1,function(e,t){(function(r,n,a){e.exports=n(Xt(),Tw())})(Ire,function(r){return function(){var n=r,a=n.lib,o=a.Hasher,l=n.x64,c=l.Word,d=l.WordArray,u=n.algo;function i(){return c.create.apply(c,arguments)}var m=[i(1116352408,3609767458),i(1899447441,602891725),i(3049323471,3964484399),i(3921009573,2173295548),i(961987163,4081628472),i(1508970993,3053834265),i(2453635748,2937671579),i(2870763221,3664609560),i(3624381080,2734883394),i(310598401,1164996542),i(607225278,1323610764),i(1426881987,3590304994),i(1925078388,4068182383),i(2162078206,991336113),i(2614888103,633803317),i(3248222580,3479774868),i(3835390401,2666613458),i(4022224774,944711139),i(264347078,2341262773),i(604807628,2007800933),i(770255983,1495990901),i(1249150122,1856431235),i(1555081692,3175218132),i(1996064986,2198950837),i(2554220882,3999719339),i(2821834349,766784016),i(2952996808,2566594879),i(3210313671,3203337956),i(3336571891,1034457026),i(3584528711,2466948901),i(113926993,3758326383),i(338241895,168717936),i(666307205,1188179964),i(773529912,1546045734),i(1294757372,1522805485),i(1396182291,2643833823),i(1695183700,2343527390),i(1986661051,1014477480),i(2177026350,1206759142),i(2456956037,344077627),i(2730485921,1290863460),i(2820302411,3158454273),i(3259730800,3505952657),i(3345764771,106217008),i(3516065817,3606008344),i(3600352804,1432725776),i(4094571909,1467031594),i(275423344,851169720),i(430227734,3100823752),i(506948616,1363258195),i(659060556,3750685593),i(883997877,3785050280),i(958139571,3318307427),i(1322822218,3812723403),i(1537002063,2003034995),i(1747873779,3602036899),i(1955562222,1575990012),i(2024104815,1125592928),i(2227730452,2716904306),i(2361852424,442776044),i(2428436474,593698344),i(2756734187,3733110249),i(3204031479,2999351573),i(3329325298,3815920427),i(3391569614,3928383900),i(3515267271,566280711),i(3940187606,3454069534),i(4118630271,4000239992),i(116418474,1914138554),i(174292421,2731055270),i(289380356,3203993006),i(460393269,320620315),i(685471733,587496836),i(852142971,1086792851),i(1017036298,365543100),i(1126000580,2618297676),i(1288033470,3409855158),i(1501505948,4234509866),i(1607167915,987167468),i(1816402316,1246189591)],g=[];(function(){for(var v=0;v<80;v++)g[v]=i()})();var x=u.SHA512=o.extend({_doReset:function(){this._hash=new d.init([new c.init(1779033703,4089235720),new c.init(3144134277,2227873595),new c.init(1013904242,4271175723),new c.init(2773480762,1595750129),new c.init(1359893119,2917565137),new c.init(2600822924,725511199),new c.init(528734635,4215389547),new c.init(1541459225,327033209)])},_doProcessBlock:function(v,N){for(var h=this._hash.words,y=h[0],w=h[1],j=h[2],C=h[3],_=h[4],k=h[5],A=h[6],T=h[7],R=y.high,P=y.low,M=w.high,I=w.low,L=j.high,B=j.low,U=C.high,F=C.low,H=_.high,W=_.low,J=k.high,q=k.low,G=A.high,z=A.low,K=T.high,Z=T.low,ie=R,ye=P,de=M,xe=I,ne=L,ge=B,Ce=U,ce=F,Oe=H,Pe=W,ae=J,$e=q,nt=G,oe=z,Fe=K,Q=Z,Y=0;Y<80;Y++){var re,we,_e=g[Y];if(Y<16)we=_e.high=v[N+Y*2]|0,re=_e.low=v[N+Y*2+1]|0;else{var Ee=g[Y-15],qe=Ee.high,mt=Ee.low,yt=(qe>>>1|mt<<31)^(qe>>>8|mt<<24)^qe>>>7,Ft=(mt>>>1|qe<<31)^(mt>>>8|qe<<24)^(mt>>>7|qe<<25),Zn=g[Y-2],Nn=Zn.high,Ga=Zn.low,ga=(Nn>>>19|Ga<<13)^(Nn<<3|Ga>>>29)^Nn>>>6,Vs=(Ga>>>19|Nn<<13)^(Ga<<3|Nn>>>29)^(Ga>>>6|Nn<<26),As=g[Y-7],xa=As.high,Ya=As.low,jt=g[Y-16],lr=jt.high,bt=jt.low;re=Ft+Ya,we=yt+xa+(re>>>0<Ft>>>0?1:0),re=re+Vs,we=we+ga+(re>>>0<Vs>>>0?1:0),re=re+bt,we=we+lr+(re>>>0<bt>>>0?1:0),_e.high=we,_e.low=re}var Jt=Oe&ae^~Oe&nt,Kr=Pe&$e^~Pe&oe,Kt=ie&de^ie&ne^de&ne,ru=ye&xe^ye&ge^xe&ge,nu=(ie>>>28|ye<<4)^(ie<<30|ye>>>2)^(ie<<25|ye>>>7),ml=(ye>>>28|ie<<4)^(ye<<30|ie>>>2)^(ye<<25|ie>>>7),li=(Oe>>>14|Pe<<18)^(Oe>>>18|Pe<<14)^(Oe<<23|Pe>>>9),hl=(Pe>>>14|Oe<<18)^(Pe>>>18|Oe<<14)^(Pe<<23|Oe>>>9),Jg=m[Y],wo=Jg.high,Cn=Jg.low,mr=Q+hl,ps=Fe+li+(mr>>>0<Q>>>0?1:0),mr=mr+Kr,ps=ps+Jt+(mr>>>0<Kr>>>0?1:0),mr=mr+Cn,ps=ps+wo+(mr>>>0<Cn>>>0?1:0),mr=mr+re,ps=ps+we+(mr>>>0<re>>>0?1:0),su=ml+ru,iS=nu+Kt+(su>>>0<ml>>>0?1:0);Fe=nt,Q=oe,nt=ae,oe=$e,ae=Oe,$e=Pe,Pe=ce+mr|0,Oe=Ce+ps+(Pe>>>0<ce>>>0?1:0)|0,Ce=ne,ce=ge,ne=de,ge=xe,de=ie,xe=ye,ye=mr+su|0,ie=ps+iS+(ye>>>0<mr>>>0?1:0)|0}P=y.low=P+ye,y.high=R+ie+(P>>>0<ye>>>0?1:0),I=w.low=I+xe,w.high=M+de+(I>>>0<xe>>>0?1:0),B=j.low=B+ge,j.high=L+ne+(B>>>0<ge>>>0?1:0),F=C.low=F+ce,C.high=U+Ce+(F>>>0<ce>>>0?1:0),W=_.low=W+Pe,_.high=H+Oe+(W>>>0<Pe>>>0?1:0),q=k.low=q+$e,k.high=J+ae+(q>>>0<$e>>>0?1:0),z=A.low=z+oe,A.high=G+nt+(z>>>0<oe>>>0?1:0),Z=T.low=Z+Q,T.high=K+Fe+(Z>>>0<Q>>>0?1:0)},_doFinalize:function(){var v=this._data,N=v.words,h=this._nDataBytes*8,y=v.sigBytes*8;N[y>>>5]|=128<<24-y%32,N[(y+128>>>10<<5)+30]=Math.floor(h/4294967296),N[(y+128>>>10<<5)+31]=h,v.sigBytes=N.length*4,this._process();var w=this._hash.toX32();return w},clone:function(){var v=o.clone.call(this);return v._hash=this._hash.clone(),v},blockSize:1024/32});n.SHA512=o._createHelper(x),n.HmacSHA512=o._createHmacHelper(x)}(),r.SHA512})}(f0)),f0.exports}var m0={exports:{}},Lre=m0.exports,CO;function Bre(){return CO||(CO=1,function(e,t){(function(r,n,a){e.exports=n(Xt(),Tw(),dF())})(Lre,function(r){return function(){var n=r,a=n.x64,o=a.Word,l=a.WordArray,c=n.algo,d=c.SHA512,u=c.SHA384=d.extend({_doReset:function(){this._hash=new l.init([new o.init(3418070365,3238371032),new o.init(1654270250,914150663),new o.init(2438529370,812702999),new o.init(355462360,4144912697),new o.init(1731405415,4290775857),new o.init(2394180231,1750603025),new o.init(3675008525,1694076839),new o.init(1203062813,3204075428)])},_doFinalize:function(){var i=d._doFinalize.call(this);return i.sigBytes-=16,i}});n.SHA384=d._createHelper(u),n.HmacSHA384=d._createHmacHelper(u)}(),r.SHA384})}(m0)),m0.exports}var h0={exports:{}},Fre=h0.exports,EO;function Ure(){return EO||(EO=1,function(e,t){(function(r,n,a){e.exports=n(Xt(),Tw())})(Fre,function(r){return function(n){var a=r,o=a.lib,l=o.WordArray,c=o.Hasher,d=a.x64,u=d.Word,i=a.algo,m=[],g=[],x=[];(function(){for(var h=1,y=0,w=0;w<24;w++){m[h+5*y]=(w+1)*(w+2)/2%64;var j=y%5,C=(2*h+3*y)%5;h=j,y=C}for(var h=0;h<5;h++)for(var y=0;y<5;y++)g[h+5*y]=y+(2*h+3*y)%5*5;for(var _=1,k=0;k<24;k++){for(var A=0,T=0,R=0;R<7;R++){if(_&1){var P=(1<<R)-1;P<32?T^=1<<P:A^=1<<P-32}_&128?_=_<<1^113:_<<=1}x[k]=u.create(A,T)}})();var v=[];(function(){for(var h=0;h<25;h++)v[h]=u.create()})();var N=i.SHA3=c.extend({cfg:c.cfg.extend({outputLength:512}),_doReset:function(){for(var h=this._state=[],y=0;y<25;y++)h[y]=new u.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(h,y){for(var w=this._state,j=this.blockSize/2,C=0;C<j;C++){var _=h[y+2*C],k=h[y+2*C+1];_=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,k=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360;var A=w[C];A.high^=k,A.low^=_}for(var T=0;T<24;T++){for(var R=0;R<5;R++){for(var P=0,M=0,I=0;I<5;I++){var A=w[R+5*I];P^=A.high,M^=A.low}var L=v[R];L.high=P,L.low=M}for(var R=0;R<5;R++)for(var B=v[(R+4)%5],U=v[(R+1)%5],F=U.high,H=U.low,P=B.high^(F<<1|H>>>31),M=B.low^(H<<1|F>>>31),I=0;I<5;I++){var A=w[R+5*I];A.high^=P,A.low^=M}for(var W=1;W<25;W++){var P,M,A=w[W],J=A.high,q=A.low,G=m[W];G<32?(P=J<<G|q>>>32-G,M=q<<G|J>>>32-G):(P=q<<G-32|J>>>64-G,M=J<<G-32|q>>>64-G);var z=v[g[W]];z.high=P,z.low=M}var K=v[0],Z=w[0];K.high=Z.high,K.low=Z.low;for(var R=0;R<5;R++)for(var I=0;I<5;I++){var W=R+5*I,A=w[W],ie=v[W],ye=v[(R+1)%5+5*I],de=v[(R+2)%5+5*I];A.high=ie.high^~ye.high&de.high,A.low=ie.low^~ye.low&de.low}var A=w[0],xe=x[T];A.high^=xe.high,A.low^=xe.low}},_doFinalize:function(){var h=this._data,y=h.words;this._nDataBytes*8;var w=h.sigBytes*8,j=this.blockSize*32;y[w>>>5]|=1<<24-w%32,y[(n.ceil((w+1)/j)*j>>>5)-1]|=128,h.sigBytes=y.length*4,this._process();for(var C=this._state,_=this.cfg.outputLength/8,k=_/8,A=[],T=0;T<k;T++){var R=C[T],P=R.high,M=R.low;P=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,M=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360,A.push(M),A.push(P)}return new l.init(A,_)},clone:function(){for(var h=c.clone.call(this),y=h._state=this._state.slice(0),w=0;w<25;w++)y[w]=y[w].clone();return h}});a.SHA3=c._createHelper(N),a.HmacSHA3=c._createHmacHelper(N)}(Math),r.SHA3})}(h0)),h0.exports}var p0={exports:{}},$re=p0.exports,_O;function Hre(){return _O||(_O=1,function(e,t){(function(r,n){e.exports=n(Xt())})($re,function(r){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(n){var a=r,o=a.lib,l=o.WordArray,c=o.Hasher,d=a.algo,u=l.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),i=l.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),m=l.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),g=l.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),x=l.create([0,1518500249,1859775393,2400959708,2840853838]),v=l.create([1352829926,1548603684,1836072691,2053994217,0]),N=d.RIPEMD160=c.extend({_doReset:function(){this._hash=l.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(k,A){for(var T=0;T<16;T++){var R=A+T,P=k[R];k[R]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360}var M=this._hash.words,I=x.words,L=v.words,B=u.words,U=i.words,F=m.words,H=g.words,W,J,q,G,z,K,Z,ie,ye,de;K=W=M[0],Z=J=M[1],ie=q=M[2],ye=G=M[3],de=z=M[4];for(var xe,T=0;T<80;T+=1)xe=W+k[A+B[T]]|0,T<16?xe+=h(J,q,G)+I[0]:T<32?xe+=y(J,q,G)+I[1]:T<48?xe+=w(J,q,G)+I[2]:T<64?xe+=j(J,q,G)+I[3]:xe+=C(J,q,G)+I[4],xe=xe|0,xe=_(xe,F[T]),xe=xe+z|0,W=z,z=G,G=_(q,10),q=J,J=xe,xe=K+k[A+U[T]]|0,T<16?xe+=C(Z,ie,ye)+L[0]:T<32?xe+=j(Z,ie,ye)+L[1]:T<48?xe+=w(Z,ie,ye)+L[2]:T<64?xe+=y(Z,ie,ye)+L[3]:xe+=h(Z,ie,ye)+L[4],xe=xe|0,xe=_(xe,H[T]),xe=xe+de|0,K=de,de=ye,ye=_(ie,10),ie=Z,Z=xe;xe=M[1]+q+ye|0,M[1]=M[2]+G+de|0,M[2]=M[3]+z+K|0,M[3]=M[4]+W+Z|0,M[4]=M[0]+J+ie|0,M[0]=xe},_doFinalize:function(){var k=this._data,A=k.words,T=this._nDataBytes*8,R=k.sigBytes*8;A[R>>>5]|=128<<24-R%32,A[(R+64>>>9<<4)+14]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,k.sigBytes=(A.length+1)*4,this._process();for(var P=this._hash,M=P.words,I=0;I<5;I++){var L=M[I];M[I]=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360}return P},clone:function(){var k=c.clone.call(this);return k._hash=this._hash.clone(),k}});function h(k,A,T){return k^A^T}function y(k,A,T){return k&A|~k&T}function w(k,A,T){return(k|~A)^T}function j(k,A,T){return k&T|A&~T}function C(k,A,T){return k^(A|~T)}function _(k,A){return k<<A|k>>>32-A}a.RIPEMD160=c._createHelper(N),a.HmacRIPEMD160=c._createHmacHelper(N)}(),r.RIPEMD160})}(p0)),p0.exports}var g0={exports:{}},zre=g0.exports,AO;function j2(){return AO||(AO=1,function(e,t){(function(r,n){e.exports=n(Xt())})(zre,function(r){(function(){var n=r,a=n.lib,o=a.Base,l=n.enc,c=l.Utf8,d=n.algo;d.HMAC=o.extend({init:function(u,i){u=this._hasher=new u.init,typeof i=="string"&&(i=c.parse(i));var m=u.blockSize,g=m*4;i.sigBytes>g&&(i=u.finalize(i)),i.clamp();for(var x=this._oKey=i.clone(),v=this._iKey=i.clone(),N=x.words,h=v.words,y=0;y<m;y++)N[y]^=1549556828,h[y]^=909522486;x.sigBytes=v.sigBytes=g,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var i=this._hasher,m=i.finalize(u);i.reset();var g=i.finalize(this._oKey.clone().concat(m));return g}})})()})}(g0)),g0.exports}var x0={exports:{}},qre=x0.exports,kO;function Vre(){return kO||(kO=1,function(e,t){(function(r,n,a){e.exports=n(Xt(),S2(),j2())})(qre,function(r){return function(){var n=r,a=n.lib,o=a.Base,l=a.WordArray,c=n.algo,d=c.SHA256,u=c.HMAC,i=c.PBKDF2=o.extend({cfg:o.extend({keySize:128/32,hasher:d,iterations:25e4}),init:function(m){this.cfg=this.cfg.extend(m)},compute:function(m,g){for(var x=this.cfg,v=u.create(x.hasher,m),N=l.create(),h=l.create([1]),y=N.words,w=h.words,j=x.keySize,C=x.iterations;y.length<j;){var _=v.update(g).finalize(h);v.reset();for(var k=_.words,A=k.length,T=_,R=1;R<C;R++){T=v.finalize(T),v.reset();for(var P=T.words,M=0;M<A;M++)k[M]^=P[M]}N.concat(_),w[0]++}return N.sigBytes=j*4,N}});n.PBKDF2=function(m,g,x){return i.create(x).compute(m,g)}}(),r.PBKDF2})}(x0)),x0.exports}var v0={exports:{}},Wre=v0.exports,DO;function mc(){return DO||(DO=1,function(e,t){(function(r,n,a){e.exports=n(Xt(),cF(),j2())})(Wre,function(r){return function(){var n=r,a=n.lib,o=a.Base,l=a.WordArray,c=n.algo,d=c.MD5,u=c.EvpKDF=o.extend({cfg:o.extend({keySize:128/32,hasher:d,iterations:1}),init:function(i){this.cfg=this.cfg.extend(i)},compute:function(i,m){for(var g,x=this.cfg,v=x.hasher.create(),N=l.create(),h=N.words,y=x.keySize,w=x.iterations;h.length<y;){g&&v.update(g),g=v.update(i).finalize(m),v.reset();for(var j=1;j<w;j++)g=v.finalize(g),v.reset();N.concat(g)}return N.sigBytes=y*4,N}});n.EvpKDF=function(i,m,g){return u.create(g).compute(i,m)}}(),r.EvpKDF})}(v0)),v0.exports}var y0={exports:{}},Gre=y0.exports,TO;function zn(){return TO||(TO=1,function(e,t){(function(r,n,a){e.exports=n(Xt(),mc())})(Gre,function(r){r.lib.Cipher||function(n){var a=r,o=a.lib,l=o.Base,c=o.WordArray,d=o.BufferedBlockAlgorithm,u=a.enc;u.Utf8;var i=u.Base64,m=a.algo,g=m.EvpKDF,x=o.Cipher=d.extend({cfg:l.extend(),createEncryptor:function(P,M){return this.create(this._ENC_XFORM_MODE,P,M)},createDecryptor:function(P,M){return this.create(this._DEC_XFORM_MODE,P,M)},init:function(P,M,I){this.cfg=this.cfg.extend(I),this._xformMode=P,this._key=M,this.reset()},reset:function(){d.reset.call(this),this._doReset()},process:function(P){return this._append(P),this._process()},finalize:function(P){P&&this._append(P);var M=this._doFinalize();return M},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function P(M){return typeof M=="string"?R:k}return function(M){return{encrypt:function(I,L,B){return P(L).encrypt(M,I,L,B)},decrypt:function(I,L,B){return P(L).decrypt(M,I,L,B)}}}}()});o.StreamCipher=x.extend({_doFinalize:function(){var P=this._process(!0);return P},blockSize:1});var v=a.mode={},N=o.BlockCipherMode=l.extend({createEncryptor:function(P,M){return this.Encryptor.create(P,M)},createDecryptor:function(P,M){return this.Decryptor.create(P,M)},init:function(P,M){this._cipher=P,this._iv=M}}),h=v.CBC=function(){var P=N.extend();P.Encryptor=P.extend({processBlock:function(I,L){var B=this._cipher,U=B.blockSize;M.call(this,I,L,U),B.encryptBlock(I,L),this._prevBlock=I.slice(L,L+U)}}),P.Decryptor=P.extend({processBlock:function(I,L){var B=this._cipher,U=B.blockSize,F=I.slice(L,L+U);B.decryptBlock(I,L),M.call(this,I,L,U),this._prevBlock=F}});function M(I,L,B){var U,F=this._iv;F?(U=F,this._iv=n):U=this._prevBlock;for(var H=0;H<B;H++)I[L+H]^=U[H]}return P}(),y=a.pad={},w=y.Pkcs7={pad:function(P,M){for(var I=M*4,L=I-P.sigBytes%I,B=L<<24|L<<16|L<<8|L,U=[],F=0;F<L;F+=4)U.push(B);var H=c.create(U,L);P.concat(H)},unpad:function(P){var M=P.words[P.sigBytes-1>>>2]&255;P.sigBytes-=M}};o.BlockCipher=x.extend({cfg:x.cfg.extend({mode:h,padding:w}),reset:function(){var P;x.reset.call(this);var M=this.cfg,I=M.iv,L=M.mode;this._xformMode==this._ENC_XFORM_MODE?P=L.createEncryptor:(P=L.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==P?this._mode.init(this,I&&I.words):(this._mode=P.call(L,this,I&&I.words),this._mode.__creator=P)},_doProcessBlock:function(P,M){this._mode.processBlock(P,M)},_doFinalize:function(){var P,M=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(M.pad(this._data,this.blockSize),P=this._process(!0)):(P=this._process(!0),M.unpad(P)),P},blockSize:128/32});var j=o.CipherParams=l.extend({init:function(P){this.mixIn(P)},toString:function(P){return(P||this.formatter).stringify(this)}}),C=a.format={},_=C.OpenSSL={stringify:function(P){var M,I=P.ciphertext,L=P.salt;return L?M=c.create([1398893684,1701076831]).concat(L).concat(I):M=I,M.toString(i)},parse:function(P){var M,I=i.parse(P),L=I.words;return L[0]==1398893684&&L[1]==1701076831&&(M=c.create(L.slice(2,4)),L.splice(0,4),I.sigBytes-=16),j.create({ciphertext:I,salt:M})}},k=o.SerializableCipher=l.extend({cfg:l.extend({format:_}),encrypt:function(P,M,I,L){L=this.cfg.extend(L);var B=P.createEncryptor(I,L),U=B.finalize(M),F=B.cfg;return j.create({ciphertext:U,key:I,iv:F.iv,algorithm:P,mode:F.mode,padding:F.padding,blockSize:P.blockSize,formatter:L.format})},decrypt:function(P,M,I,L){L=this.cfg.extend(L),M=this._parse(M,L.format);var B=P.createDecryptor(I,L).finalize(M.ciphertext);return B},_parse:function(P,M){return typeof P=="string"?M.parse(P,this):P}}),A=a.kdf={},T=A.OpenSSL={execute:function(P,M,I,L,B){if(L||(L=c.random(64/8)),B)var U=g.create({keySize:M+I,hasher:B}).compute(P,L);else var U=g.create({keySize:M+I}).compute(P,L);var F=c.create(U.words.slice(M),I*4);return U.sigBytes=M*4,j.create({key:U,iv:F,salt:L})}},R=o.PasswordBasedCipher=k.extend({cfg:k.cfg.extend({kdf:T}),encrypt:function(P,M,I,L){L=this.cfg.extend(L);var B=L.kdf.execute(I,P.keySize,P.ivSize,L.salt,L.hasher);L.iv=B.iv;var U=k.encrypt.call(this,P,M,B.key,L);return U.mixIn(B),U},decrypt:function(P,M,I,L){L=this.cfg.extend(L),M=this._parse(M,L.format);var B=L.kdf.execute(I,P.keySize,P.ivSize,M.salt,L.hasher);L.iv=B.iv;var U=k.decrypt.call(this,P,M,B.key,L);return U}})}()})}(y0)),y0.exports}var b0={exports:{}},Yre=b0.exports,RO;function Zre(){return RO||(RO=1,function(e,t){(function(r,n,a){e.exports=n(Xt(),zn())})(Yre,function(r){return r.mode.CFB=function(){var n=r.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(o,l){var c=this._cipher,d=c.blockSize;a.call(this,o,l,d,c),this._prevBlock=o.slice(l,l+d)}}),n.Decryptor=n.extend({processBlock:function(o,l){var c=this._cipher,d=c.blockSize,u=o.slice(l,l+d);a.call(this,o,l,d,c),this._prevBlock=u}});function a(o,l,c,d){var u,i=this._iv;i?(u=i.slice(0),this._iv=void 0):u=this._prevBlock,d.encryptBlock(u,0);for(var m=0;m<c;m++)o[l+m]^=u[m]}return n}(),r.mode.CFB})}(b0)),b0.exports}var w0={exports:{}},Kre=w0.exports,PO;function Xre(){return PO||(PO=1,function(e,t){(function(r,n,a){e.exports=n(Xt(),zn())})(Kre,function(r){return r.mode.CTR=function(){var n=r.lib.BlockCipherMode.extend(),a=n.Encryptor=n.extend({processBlock:function(o,l){var c=this._cipher,d=c.blockSize,u=this._iv,i=this._counter;u&&(i=this._counter=u.slice(0),this._iv=void 0);var m=i.slice(0);c.encryptBlock(m,0),i[d-1]=i[d-1]+1|0;for(var g=0;g<d;g++)o[l+g]^=m[g]}});return n.Decryptor=a,n}(),r.mode.CTR})}(w0)),w0.exports}var S0={exports:{}},Qre=S0.exports,MO;function Jre(){return MO||(MO=1,function(e,t){(function(r,n,a){e.exports=n(Xt(),zn())})(Qre,function(r){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return r.mode.CTRGladman=function(){var n=r.lib.BlockCipherMode.extend();function a(c){if((c>>24&255)===255){var d=c>>16&255,u=c>>8&255,i=c&255;d===255?(d=0,u===255?(u=0,i===255?i=0:++i):++u):++d,c=0,c+=d<<16,c+=u<<8,c+=i}else c+=1<<24;return c}function o(c){return(c[0]=a(c[0]))===0&&(c[1]=a(c[1])),c}var l=n.Encryptor=n.extend({processBlock:function(c,d){var u=this._cipher,i=u.blockSize,m=this._iv,g=this._counter;m&&(g=this._counter=m.slice(0),this._iv=void 0),o(g);var x=g.slice(0);u.encryptBlock(x,0);for(var v=0;v<i;v++)c[d+v]^=x[v]}});return n.Decryptor=l,n}(),r.mode.CTRGladman})}(S0)),S0.exports}var j0={exports:{}},ene=j0.exports,OO;function tne(){return OO||(OO=1,function(e,t){(function(r,n,a){e.exports=n(Xt(),zn())})(ene,function(r){return r.mode.OFB=function(){var n=r.lib.BlockCipherMode.extend(),a=n.Encryptor=n.extend({processBlock:function(o,l){var c=this._cipher,d=c.blockSize,u=this._iv,i=this._keystream;u&&(i=this._keystream=u.slice(0),this._iv=void 0),c.encryptBlock(i,0);for(var m=0;m<d;m++)o[l+m]^=i[m]}});return n.Decryptor=a,n}(),r.mode.OFB})}(j0)),j0.exports}var N0={exports:{}},rne=N0.exports,IO;function nne(){return IO||(IO=1,function(e,t){(function(r,n,a){e.exports=n(Xt(),zn())})(rne,function(r){return r.mode.ECB=function(){var n=r.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(a,o){this._cipher.encryptBlock(a,o)}}),n.Decryptor=n.extend({processBlock:function(a,o){this._cipher.decryptBlock(a,o)}}),n}(),r.mode.ECB})}(N0)),N0.exports}var C0={exports:{}},sne=C0.exports,LO;function ane(){return LO||(LO=1,function(e,t){(function(r,n,a){e.exports=n(Xt(),zn())})(sne,function(r){return r.pad.AnsiX923={pad:function(n,a){var o=n.sigBytes,l=a*4,c=l-o%l,d=o+c-1;n.clamp(),n.words[d>>>2]|=c<<24-d%4*8,n.sigBytes+=c},unpad:function(n){var a=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=a}},r.pad.Ansix923})}(C0)),C0.exports}var E0={exports:{}},one=E0.exports,BO;function ine(){return BO||(BO=1,function(e,t){(function(r,n,a){e.exports=n(Xt(),zn())})(one,function(r){return r.pad.Iso10126={pad:function(n,a){var o=a*4,l=o-n.sigBytes%o;n.concat(r.lib.WordArray.random(l-1)).concat(r.lib.WordArray.create([l<<24],1))},unpad:function(n){var a=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=a}},r.pad.Iso10126})}(E0)),E0.exports}var _0={exports:{}},lne=_0.exports,FO;function cne(){return FO||(FO=1,function(e,t){(function(r,n,a){e.exports=n(Xt(),zn())})(lne,function(r){return r.pad.Iso97971={pad:function(n,a){n.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(n,a)},unpad:function(n){r.pad.ZeroPadding.unpad(n),n.sigBytes--}},r.pad.Iso97971})}(_0)),_0.exports}var A0={exports:{}},dne=A0.exports,UO;function une(){return UO||(UO=1,function(e,t){(function(r,n,a){e.exports=n(Xt(),zn())})(dne,function(r){return r.pad.ZeroPadding={pad:function(n,a){var o=a*4;n.clamp(),n.sigBytes+=o-(n.sigBytes%o||o)},unpad:function(n){for(var a=n.words,o=n.sigBytes-1,o=n.sigBytes-1;o>=0;o--)if(a[o>>>2]>>>24-o%4*8&255){n.sigBytes=o+1;break}}},r.pad.ZeroPadding})}(A0)),A0.exports}var k0={exports:{}},fne=k0.exports,$O;function mne(){return $O||($O=1,function(e,t){(function(r,n,a){e.exports=n(Xt(),zn())})(fne,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})}(k0)),k0.exports}var D0={exports:{}},hne=D0.exports,HO;function pne(){return HO||(HO=1,function(e,t){(function(r,n,a){e.exports=n(Xt(),zn())})(hne,function(r){return function(n){var a=r,o=a.lib,l=o.CipherParams,c=a.enc,d=c.Hex,u=a.format;u.Hex={stringify:function(i){return i.ciphertext.toString(d)},parse:function(i){var m=d.parse(i);return l.create({ciphertext:m})}}}(),r.format.Hex})}(D0)),D0.exports}var T0={exports:{}},gne=T0.exports,zO;function xne(){return zO||(zO=1,function(e,t){(function(r,n,a){e.exports=n(Xt(),Ld(),Bd(),mc(),zn())})(gne,function(r){return function(){var n=r,a=n.lib,o=a.BlockCipher,l=n.algo,c=[],d=[],u=[],i=[],m=[],g=[],x=[],v=[],N=[],h=[];(function(){for(var j=[],C=0;C<256;C++)C<128?j[C]=C<<1:j[C]=C<<1^283;for(var _=0,k=0,C=0;C<256;C++){var A=k^k<<1^k<<2^k<<3^k<<4;A=A>>>8^A&255^99,c[_]=A,d[A]=_;var T=j[_],R=j[T],P=j[R],M=j[A]*257^A*16843008;u[_]=M<<24|M>>>8,i[_]=M<<16|M>>>16,m[_]=M<<8|M>>>24,g[_]=M;var M=P*16843009^R*65537^T*257^_*16843008;x[A]=M<<24|M>>>8,v[A]=M<<16|M>>>16,N[A]=M<<8|M>>>24,h[A]=M,_?(_=T^j[j[j[P^T]]],k^=j[j[k]]):_=k=1}})();var y=[0,1,2,4,8,16,32,64,128,27,54],w=l.AES=o.extend({_doReset:function(){var j;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var C=this._keyPriorReset=this._key,_=C.words,k=C.sigBytes/4,A=this._nRounds=k+6,T=(A+1)*4,R=this._keySchedule=[],P=0;P<T;P++)P<k?R[P]=_[P]:(j=R[P-1],P%k?k>6&&P%k==4&&(j=c[j>>>24]<<24|c[j>>>16&255]<<16|c[j>>>8&255]<<8|c[j&255]):(j=j<<8|j>>>24,j=c[j>>>24]<<24|c[j>>>16&255]<<16|c[j>>>8&255]<<8|c[j&255],j^=y[P/k|0]<<24),R[P]=R[P-k]^j);for(var M=this._invKeySchedule=[],I=0;I<T;I++){var P=T-I;if(I%4)var j=R[P];else var j=R[P-4];I<4||P<=4?M[I]=j:M[I]=x[c[j>>>24]]^v[c[j>>>16&255]]^N[c[j>>>8&255]]^h[c[j&255]]}}},encryptBlock:function(j,C){this._doCryptBlock(j,C,this._keySchedule,u,i,m,g,c)},decryptBlock:function(j,C){var _=j[C+1];j[C+1]=j[C+3],j[C+3]=_,this._doCryptBlock(j,C,this._invKeySchedule,x,v,N,h,d);var _=j[C+1];j[C+1]=j[C+3],j[C+3]=_},_doCryptBlock:function(j,C,_,k,A,T,R,P){for(var M=this._nRounds,I=j[C]^_[0],L=j[C+1]^_[1],B=j[C+2]^_[2],U=j[C+3]^_[3],F=4,H=1;H<M;H++){var W=k[I>>>24]^A[L>>>16&255]^T[B>>>8&255]^R[U&255]^_[F++],J=k[L>>>24]^A[B>>>16&255]^T[U>>>8&255]^R[I&255]^_[F++],q=k[B>>>24]^A[U>>>16&255]^T[I>>>8&255]^R[L&255]^_[F++],G=k[U>>>24]^A[I>>>16&255]^T[L>>>8&255]^R[B&255]^_[F++];I=W,L=J,B=q,U=G}var W=(P[I>>>24]<<24|P[L>>>16&255]<<16|P[B>>>8&255]<<8|P[U&255])^_[F++],J=(P[L>>>24]<<24|P[B>>>16&255]<<16|P[U>>>8&255]<<8|P[I&255])^_[F++],q=(P[B>>>24]<<24|P[U>>>16&255]<<16|P[I>>>8&255]<<8|P[L&255])^_[F++],G=(P[U>>>24]<<24|P[I>>>16&255]<<16|P[L>>>8&255]<<8|P[B&255])^_[F++];j[C]=W,j[C+1]=J,j[C+2]=q,j[C+3]=G},keySize:256/32});n.AES=o._createHelper(w)}(),r.AES})}(T0)),T0.exports}var R0={exports:{}},vne=R0.exports,qO;function yne(){return qO||(qO=1,function(e,t){(function(r,n,a){e.exports=n(Xt(),Ld(),Bd(),mc(),zn())})(vne,function(r){return function(){var n=r,a=n.lib,o=a.WordArray,l=a.BlockCipher,c=n.algo,d=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],u=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],i=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],m=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],g=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],x=c.DES=l.extend({_doReset:function(){for(var y=this._key,w=y.words,j=[],C=0;C<56;C++){var _=d[C]-1;j[C]=w[_>>>5]>>>31-_%32&1}for(var k=this._subKeys=[],A=0;A<16;A++){for(var T=k[A]=[],R=i[A],C=0;C<24;C++)T[C/6|0]|=j[(u[C]-1+R)%28]<<31-C%6,T[4+(C/6|0)]|=j[28+(u[C+24]-1+R)%28]<<31-C%6;T[0]=T[0]<<1|T[0]>>>31;for(var C=1;C<7;C++)T[C]=T[C]>>>(C-1)*4+3;T[7]=T[7]<<5|T[7]>>>27}for(var P=this._invSubKeys=[],C=0;C<16;C++)P[C]=k[15-C]},encryptBlock:function(y,w){this._doCryptBlock(y,w,this._subKeys)},decryptBlock:function(y,w){this._doCryptBlock(y,w,this._invSubKeys)},_doCryptBlock:function(y,w,j){this._lBlock=y[w],this._rBlock=y[w+1],v.call(this,4,252645135),v.call(this,16,65535),N.call(this,2,858993459),N.call(this,8,16711935),v.call(this,1,1431655765);for(var C=0;C<16;C++){for(var _=j[C],k=this._lBlock,A=this._rBlock,T=0,R=0;R<8;R++)T|=m[R][((A^_[R])&g[R])>>>0];this._lBlock=A,this._rBlock=k^T}var P=this._lBlock;this._lBlock=this._rBlock,this._rBlock=P,v.call(this,1,1431655765),N.call(this,8,16711935),N.call(this,2,858993459),v.call(this,16,65535),v.call(this,4,252645135),y[w]=this._lBlock,y[w+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function v(y,w){var j=(this._lBlock>>>y^this._rBlock)&w;this._rBlock^=j,this._lBlock^=j<<y}function N(y,w){var j=(this._rBlock>>>y^this._lBlock)&w;this._lBlock^=j,this._rBlock^=j<<y}n.DES=l._createHelper(x);var h=c.TripleDES=l.extend({_doReset:function(){var y=this._key,w=y.words;if(w.length!==2&&w.length!==4&&w.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var j=w.slice(0,2),C=w.length<4?w.slice(0,2):w.slice(2,4),_=w.length<6?w.slice(0,2):w.slice(4,6);this._des1=x.createEncryptor(o.create(j)),this._des2=x.createEncryptor(o.create(C)),this._des3=x.createEncryptor(o.create(_))},encryptBlock:function(y,w){this._des1.encryptBlock(y,w),this._des2.decryptBlock(y,w),this._des3.encryptBlock(y,w)},decryptBlock:function(y,w){this._des3.decryptBlock(y,w),this._des2.encryptBlock(y,w),this._des1.decryptBlock(y,w)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=l._createHelper(h)}(),r.TripleDES})}(R0)),R0.exports}var P0={exports:{}},bne=P0.exports,VO;function wne(){return VO||(VO=1,function(e,t){(function(r,n,a){e.exports=n(Xt(),Ld(),Bd(),mc(),zn())})(bne,function(r){return function(){var n=r,a=n.lib,o=a.StreamCipher,l=n.algo,c=l.RC4=o.extend({_doReset:function(){for(var i=this._key,m=i.words,g=i.sigBytes,x=this._S=[],v=0;v<256;v++)x[v]=v;for(var v=0,N=0;v<256;v++){var h=v%g,y=m[h>>>2]>>>24-h%4*8&255;N=(N+x[v]+y)%256;var w=x[v];x[v]=x[N],x[N]=w}this._i=this._j=0},_doProcessBlock:function(i,m){i[m]^=d.call(this)},keySize:256/32,ivSize:0});function d(){for(var i=this._S,m=this._i,g=this._j,x=0,v=0;v<4;v++){m=(m+1)%256,g=(g+i[m])%256;var N=i[m];i[m]=i[g],i[g]=N,x|=i[(i[m]+i[g])%256]<<24-v*8}return this._i=m,this._j=g,x}n.RC4=o._createHelper(c);var u=l.RC4Drop=c.extend({cfg:c.cfg.extend({drop:192}),_doReset:function(){c._doReset.call(this);for(var i=this.cfg.drop;i>0;i--)d.call(this)}});n.RC4Drop=o._createHelper(u)}(),r.RC4})}(P0)),P0.exports}var M0={exports:{}},Sne=M0.exports,WO;function jne(){return WO||(WO=1,function(e,t){(function(r,n,a){e.exports=n(Xt(),Ld(),Bd(),mc(),zn())})(Sne,function(r){return function(){var n=r,a=n.lib,o=a.StreamCipher,l=n.algo,c=[],d=[],u=[],i=l.Rabbit=o.extend({_doReset:function(){for(var g=this._key.words,x=this.cfg.iv,v=0;v<4;v++)g[v]=(g[v]<<8|g[v]>>>24)&16711935|(g[v]<<24|g[v]>>>8)&4278255360;var N=this._X=[g[0],g[3]<<16|g[2]>>>16,g[1],g[0]<<16|g[3]>>>16,g[2],g[1]<<16|g[0]>>>16,g[3],g[2]<<16|g[1]>>>16],h=this._C=[g[2]<<16|g[2]>>>16,g[0]&4294901760|g[1]&65535,g[3]<<16|g[3]>>>16,g[1]&4294901760|g[2]&65535,g[0]<<16|g[0]>>>16,g[2]&4294901760|g[3]&65535,g[1]<<16|g[1]>>>16,g[3]&4294901760|g[0]&65535];this._b=0;for(var v=0;v<4;v++)m.call(this);for(var v=0;v<8;v++)h[v]^=N[v+4&7];if(x){var y=x.words,w=y[0],j=y[1],C=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,_=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,k=C>>>16|_&4294901760,A=_<<16|C&65535;h[0]^=C,h[1]^=k,h[2]^=_,h[3]^=A,h[4]^=C,h[5]^=k,h[6]^=_,h[7]^=A;for(var v=0;v<4;v++)m.call(this)}},_doProcessBlock:function(g,x){var v=this._X;m.call(this),c[0]=v[0]^v[5]>>>16^v[3]<<16,c[1]=v[2]^v[7]>>>16^v[5]<<16,c[2]=v[4]^v[1]>>>16^v[7]<<16,c[3]=v[6]^v[3]>>>16^v[1]<<16;for(var N=0;N<4;N++)c[N]=(c[N]<<8|c[N]>>>24)&16711935|(c[N]<<24|c[N]>>>8)&4278255360,g[x+N]^=c[N]},blockSize:128/32,ivSize:64/32});function m(){for(var g=this._X,x=this._C,v=0;v<8;v++)d[v]=x[v];x[0]=x[0]+1295307597+this._b|0,x[1]=x[1]+3545052371+(x[0]>>>0<d[0]>>>0?1:0)|0,x[2]=x[2]+886263092+(x[1]>>>0<d[1]>>>0?1:0)|0,x[3]=x[3]+1295307597+(x[2]>>>0<d[2]>>>0?1:0)|0,x[4]=x[4]+3545052371+(x[3]>>>0<d[3]>>>0?1:0)|0,x[5]=x[5]+886263092+(x[4]>>>0<d[4]>>>0?1:0)|0,x[6]=x[6]+1295307597+(x[5]>>>0<d[5]>>>0?1:0)|0,x[7]=x[7]+3545052371+(x[6]>>>0<d[6]>>>0?1:0)|0,this._b=x[7]>>>0<d[7]>>>0?1:0;for(var v=0;v<8;v++){var N=g[v]+x[v],h=N&65535,y=N>>>16,w=((h*h>>>17)+h*y>>>15)+y*y,j=((N&4294901760)*N|0)+((N&65535)*N|0);u[v]=w^j}g[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,g[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,g[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,g[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,g[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,g[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,g[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,g[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}n.Rabbit=o._createHelper(i)}(),r.Rabbit})}(M0)),M0.exports}var O0={exports:{}},Nne=O0.exports,GO;function Cne(){return GO||(GO=1,function(e,t){(function(r,n,a){e.exports=n(Xt(),Ld(),Bd(),mc(),zn())})(Nne,function(r){return function(){var n=r,a=n.lib,o=a.StreamCipher,l=n.algo,c=[],d=[],u=[],i=l.RabbitLegacy=o.extend({_doReset:function(){var g=this._key.words,x=this.cfg.iv,v=this._X=[g[0],g[3]<<16|g[2]>>>16,g[1],g[0]<<16|g[3]>>>16,g[2],g[1]<<16|g[0]>>>16,g[3],g[2]<<16|g[1]>>>16],N=this._C=[g[2]<<16|g[2]>>>16,g[0]&4294901760|g[1]&65535,g[3]<<16|g[3]>>>16,g[1]&4294901760|g[2]&65535,g[0]<<16|g[0]>>>16,g[2]&4294901760|g[3]&65535,g[1]<<16|g[1]>>>16,g[3]&4294901760|g[0]&65535];this._b=0;for(var h=0;h<4;h++)m.call(this);for(var h=0;h<8;h++)N[h]^=v[h+4&7];if(x){var y=x.words,w=y[0],j=y[1],C=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,_=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,k=C>>>16|_&4294901760,A=_<<16|C&65535;N[0]^=C,N[1]^=k,N[2]^=_,N[3]^=A,N[4]^=C,N[5]^=k,N[6]^=_,N[7]^=A;for(var h=0;h<4;h++)m.call(this)}},_doProcessBlock:function(g,x){var v=this._X;m.call(this),c[0]=v[0]^v[5]>>>16^v[3]<<16,c[1]=v[2]^v[7]>>>16^v[5]<<16,c[2]=v[4]^v[1]>>>16^v[7]<<16,c[3]=v[6]^v[3]>>>16^v[1]<<16;for(var N=0;N<4;N++)c[N]=(c[N]<<8|c[N]>>>24)&16711935|(c[N]<<24|c[N]>>>8)&4278255360,g[x+N]^=c[N]},blockSize:128/32,ivSize:64/32});function m(){for(var g=this._X,x=this._C,v=0;v<8;v++)d[v]=x[v];x[0]=x[0]+1295307597+this._b|0,x[1]=x[1]+3545052371+(x[0]>>>0<d[0]>>>0?1:0)|0,x[2]=x[2]+886263092+(x[1]>>>0<d[1]>>>0?1:0)|0,x[3]=x[3]+1295307597+(x[2]>>>0<d[2]>>>0?1:0)|0,x[4]=x[4]+3545052371+(x[3]>>>0<d[3]>>>0?1:0)|0,x[5]=x[5]+886263092+(x[4]>>>0<d[4]>>>0?1:0)|0,x[6]=x[6]+1295307597+(x[5]>>>0<d[5]>>>0?1:0)|0,x[7]=x[7]+3545052371+(x[6]>>>0<d[6]>>>0?1:0)|0,this._b=x[7]>>>0<d[7]>>>0?1:0;for(var v=0;v<8;v++){var N=g[v]+x[v],h=N&65535,y=N>>>16,w=((h*h>>>17)+h*y>>>15)+y*y,j=((N&4294901760)*N|0)+((N&65535)*N|0);u[v]=w^j}g[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,g[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,g[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,g[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,g[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,g[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,g[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,g[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}n.RabbitLegacy=o._createHelper(i)}(),r.RabbitLegacy})}(O0)),O0.exports}var I0={exports:{}},Ene=I0.exports,YO;function _ne(){return YO||(YO=1,function(e,t){(function(r,n,a){e.exports=n(Xt(),Ld(),Bd(),mc(),zn())})(Ene,function(r){return function(){var n=r,a=n.lib,o=a.BlockCipher,l=n.algo;const c=16,d=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],u=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var i={pbox:[],sbox:[]};function m(h,y){let w=y>>24&255,j=y>>16&255,C=y>>8&255,_=y&255,k=h.sbox[0][w]+h.sbox[1][j];return k=k^h.sbox[2][C],k=k+h.sbox[3][_],k}function g(h,y,w){let j=y,C=w,_;for(let k=0;k<c;++k)j=j^h.pbox[k],C=m(h,j)^C,_=j,j=C,C=_;return _=j,j=C,C=_,C=C^h.pbox[c],j=j^h.pbox[c+1],{left:j,right:C}}function x(h,y,w){let j=y,C=w,_;for(let k=c+1;k>1;--k)j=j^h.pbox[k],C=m(h,j)^C,_=j,j=C,C=_;return _=j,j=C,C=_,C=C^h.pbox[1],j=j^h.pbox[0],{left:j,right:C}}function v(h,y,w){for(let A=0;A<4;A++){h.sbox[A]=[];for(let T=0;T<256;T++)h.sbox[A][T]=u[A][T]}let j=0;for(let A=0;A<c+2;A++)h.pbox[A]=d[A]^y[j],j++,j>=w&&(j=0);let C=0,_=0,k=0;for(let A=0;A<c+2;A+=2)k=g(h,C,_),C=k.left,_=k.right,h.pbox[A]=C,h.pbox[A+1]=_;for(let A=0;A<4;A++)for(let T=0;T<256;T+=2)k=g(h,C,_),C=k.left,_=k.right,h.sbox[A][T]=C,h.sbox[A][T+1]=_;return!0}var N=l.Blowfish=o.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var h=this._keyPriorReset=this._key,y=h.words,w=h.sigBytes/4;v(i,y,w)}},encryptBlock:function(h,y){var w=g(i,h[y],h[y+1]);h[y]=w.left,h[y+1]=w.right},decryptBlock:function(h,y){var w=x(i,h[y],h[y+1]);h[y]=w.left,h[y+1]=w.right},blockSize:64/32,keySize:128/32,ivSize:64/32});n.Blowfish=o._createHelper(N)}(),r.Blowfish})}(I0)),I0.exports}var Ane=t0.exports,ZO;function kne(){return ZO||(ZO=1,function(e,t){(function(r,n,a){e.exports=n(Xt(),Tw(),Cre(),_re(),Ld(),Dre(),Bd(),cF(),S2(),Ore(),dF(),Bre(),Ure(),Hre(),j2(),Vre(),mc(),zn(),Zre(),Xre(),Jre(),tne(),nne(),ane(),ine(),cne(),une(),mne(),pne(),xne(),yne(),wne(),jne(),Cne(),_ne())})(Ane,function(r){return r})}(t0)),t0.exports}var Dne=kne();const F_=uo(Dne),N2="auth_token_encrypted",uF="something0924242457ioioyuyu!qq@@zmxncbvalskdjfhgqpwoeiruty019283",fF=e=>{try{if(!e){cb();return}const t=F_.AES.encrypt(e,uF).toString();localStorage.setItem(N2,t)}catch(t){console.error("Failed to save encrypted token:",t)}},qn=()=>{try{const e=localStorage.getItem(N2);if(!e)return null;const r=F_.AES.decrypt(e,uF).toString(F_.enc.Utf8);return r||(cb(),null)}catch(e){return console.error("Failed to load encrypted token:",e),cb(),null}},cb=()=>{try{localStorage.removeItem(N2)}catch(e){console.error("Failed to clear token:",e)}},Tne="https://auth.pnepizza.com/api/v1",To=ft.create({baseURL:Tne,timeout:3e4,headers:{Accept:"application/json","Content-Type":"application/json"}}),Rne=()=>{const t=Vn.getState().auth?.token;return t||qn()};To.interceptors.request.use(e=>{const t=Rne();return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));const rl={register:async e=>await To.post("/auth/register",e),verifyEmail:async e=>await To.post("/auth/verify-email",e),resendVerificationOTP:async e=>await To.post("/auth/resend-verification-otp",e),login:async e=>await To.post("/auth/login",e),forgotPassword:async e=>await To.post("/auth/forgot-password",e),resetPassword:async e=>await To.post("/auth/reset-password",e),getUserProfile:async()=>await To.get("/auth/me"),refreshToken:async()=>await To.post("/auth/refresh-token"),logout:async()=>await To.post("/auth/logout")},db=e=>e?.response?.status===401,hc=e=>{if(!e||!e.response)return e?.message?e.message:"Network error. Please check your connection.";const{status:t,data:r}=e.response;if(t===422&&r?.errors){const n=[];return Object.keys(r.errors).forEach(a=>{const o=r.errors[a];Array.isArray(o)?n.push(...o):typeof o=="string"&&n.push(o)}),n.length>0?n.length===1?n[0]:n.join(", "):r.message||"Invalid data provided"}return t===401?r?.message?r.message.includes("Invalid credentials")?"Invalid email or password":r.message.includes("verify your email")?"Please verify your email before logging in":r.message.includes("Unauthenticated")?"Your session has expired. Please login again":r.message:"Authentication required. Please login":t===400?r?.message?r.message.includes("Invalid or expired OTP")?"The verification code is invalid or has expired":r.message.includes("already been taken")?"This email address is already registered":r.message.includes("already verified")?"Your email is already verified":r.message:"Invalid request":t===403?r?.message||"You do not have permission to perform this action":t===404?r?.message||"The requested resource was not found":t===429?"Too many requests. Please try again later":t>=500?"Server error. Please try again later":r?.message?r.message:r?.error?r.error:"An unexpected error occurred"},mF=e=>{if(!e?.response?.data?.errors)return{};const{errors:t}=e.response.data,r={};return Object.keys(t).forEach(n=>{const a=t[n];Array.isArray(a)?r[n]=a:typeof a=="string"&&(r[n]=[a])}),r},C2="auth_permissions_and_roles",hF=e=>{try{const t=JSON.stringify(e);localStorage.setItem(C2,t)}catch(t){console.error("Failed to save permissions and roles:",t)}},Rw=()=>{try{const e=localStorage.getItem(C2);if(!e)return null;const t=JSON.parse(e);return!t||typeof t!="object"?(U_(),null):t}catch(e){return console.error("Failed to load permissions and roles:",e),U_(),null}},U_=()=>{try{localStorage.removeItem(C2)}catch(e){console.error("Failed to clear permissions and roles:",e)}},E2=()=>{const e=Rw();return!e||!e.global_roles?[]:e.global_roles.map(t=>t.name)},Pne=()=>Rw()?.stores||[],Mne=e=>e?E2().includes(e):!1,One=e=>{if(!e||e.length===0)return!1;const t=E2();return e.some(r=>t.includes(r))},Ine=e=>{if(!e||e.length===0)return!1;const t=E2();return e.every(r=>t.includes(r))},ub=2,Kl="authRetryCount",hv={user:null,token:null,permissions:[],roles:[],isLoading:!1,error:null,isAuthenticated:!1,isInitialized:!1},TN=e=>{const t=e.all_permissions?.map(n=>n.name)||[],r=e.global_roles?.map(n=>n.name)||[];return{permissions:t,roles:r}},Lne=(e,t)=>{fF(t);const r={cached_at:new Date().toISOString(),expires_at:new Date(Date.now()+30*60*1e3).toISOString(),all_permissions:e.all_permissions||[],global_roles:e.global_roles||[],global_permissions:e.global_permissions||[],roles_permissions:e.all_permissions||[],stores:e.stores||[],summary:e.summary};hF(r)},xp=Le("auth/refreshToken",async(e,t)=>{try{const r=await rl.refreshToken();if(r.data.success&&r.data.data?.token){const n=r.data.data.token;return fF(n),localStorage.removeItem(Kl),n}return t.rejectWithValue("Failed to refresh token")}catch(r){return t.rejectWithValue(hc(r))}}),L0=Le("auth/register",async(e,t)=>{try{const r=await rl.register(e);return r.data.success&&r.data.data?.user?{...r.data.data.user,global_roles:[],global_permissions:[],all_permissions:[],stores:[],summary:{total_stores:0,total_roles:0,total_permissions:0,manageable_users_count:0}}:t.rejectWithValue(r.data.message||"Registration failed")}catch(r){return t.rejectWithValue(hc(r))}}),B0=Le("auth/verifyEmailOTP",async(e,t)=>{let r=parseInt(localStorage.getItem(Kl)||"0");const n=async()=>{try{const a=await rl.verifyEmail(e);if(a.data.success){localStorage.removeItem(Kl);return}throw new Error(a.data.message||"Verification failed")}catch(a){if(db(a)&&r<ub){if(r++,localStorage.setItem(Kl,r.toString()),(await t.dispatch(xp())).meta.requestStatus==="fulfilled")return n();throw t.dispatch(Xl()),new Error("Session expired. Please login again.")}throw r>=ub&&db(a)?(t.dispatch(Xl()),new Error("Session expired. Please login again.")):a}};try{return await n()}catch(a){return t.rejectWithValue(hc(a))}}),F0=Le("auth/resendVerificationOTP",async(e,t)=>{try{const r=await rl.resendVerificationOTP(e);return r.data.success?void 0:t.rejectWithValue(r.data.message||"Resend OTP failed")}catch(r){return t.rejectWithValue(hc(r))}}),U0=Le("auth/login",async(e,t)=>{try{const r=await rl.login(e);if(r.data.success&&r.data.data?.user&&r.data.data?.token){const n=r.data.data;return Lne(n.user,n.token),n}return t.rejectWithValue(r.data.message||"Login failed")}catch(r){return t.rejectWithValue(hc(r))}}),$0=Le("auth/forgotPassword",async(e,t)=>{try{const r=await rl.forgotPassword(e);return r.data.success?void 0:t.rejectWithValue(r.data.message||"Forgot password failed")}catch(r){return t.rejectWithValue(hc(r))}}),H0=Le("auth/resetPassword",async(e,t)=>{try{const r=await rl.resetPassword(e);return r.data.success?void 0:t.rejectWithValue(r.data.message||"Reset password failed")}catch(r){return t.rejectWithValue(hc(r))}}),z0=Le("auth/getUserProfile",async(e,t)=>{let r=parseInt(localStorage.getItem(Kl)||"0");const n=async()=>{try{const a=await rl.getUserProfile();if(a.data.success&&a.data.data?.user)return localStorage.removeItem(Kl),a.data.data.user;throw new Error("Failed to load profile")}catch(a){if(db(a)&&r<ub){if(r++,localStorage.setItem(Kl,r.toString()),(await t.dispatch(xp())).meta.requestStatus==="fulfilled")return n();throw t.dispatch(Xl()),new Error("Session expired. Please login again.")}throw r>=ub&&db(a)?(t.dispatch(Xl()),new Error("Session expired. Please login again.")):a}};try{return await n()}catch(a){return t.rejectWithValue(hc(a))}}),Xl=Le("auth/logout",async()=>{try{await rl.logout()}catch{}cb(),U_(),localStorage.removeItem(Kl)}),pF=Zt({name:"auth",initialState:hv,reducers:{initializeAuth:e=>{const t=qn(),r=Rw();if(t&&r&&(e.token=t,e.isAuthenticated=!0,r.all_permissions||r.global_roles)){e.user={id:0,name:"",email:"",email_verified_at:null,created_at:"",updated_at:"",global_roles:r.global_roles||[],global_permissions:r.global_permissions||[],all_permissions:r.all_permissions||[],stores:r.stores||[],summary:r.summary||{total_stores:0,total_roles:0,total_permissions:0,manageable_users_count:0}};const{permissions:n,roles:a}=TN(e.user);e.permissions=n,e.roles=a}e.isInitialized=!0},clearError:e=>{e.error=null}},extraReducers:e=>{e.addCase(L0.pending,t=>{t.isLoading=!0,t.error=null}).addCase(L0.fulfilled,(t,r)=>{t.isLoading=!1,t.error=null,t.user=r.payload}).addCase(L0.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload??"Registration failed"}).addCase(B0.pending,t=>{t.isLoading=!0,t.error=null}).addCase(B0.fulfilled,t=>{t.isLoading=!1,t.error=null}).addCase(B0.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload??"Email verification failed"}).addCase(F0.pending,t=>{t.isLoading=!0,t.error=null}).addCase(F0.fulfilled,t=>{t.isLoading=!1,t.error=null}).addCase(F0.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload??"Resend OTP failed"}).addCase(U0.pending,t=>{t.isLoading=!0,t.error=null}).addCase(U0.fulfilled,(t,r)=>{t.isLoading=!1,t.error=null,t.user=r.payload.user,t.token=r.payload.token,t.isAuthenticated=!0;const{permissions:n,roles:a}=TN(r.payload.user);t.permissions=n,t.roles=a}).addCase(U0.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload??"Login failed",t.isAuthenticated=!1}).addCase($0.pending,t=>{t.isLoading=!0,t.error=null}).addCase($0.fulfilled,t=>{t.isLoading=!1,t.error=null}).addCase($0.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload??"Forgot password failed"}).addCase(H0.pending,t=>{t.isLoading=!0,t.error=null}).addCase(H0.fulfilled,t=>{t.isLoading=!1,t.error=null}).addCase(H0.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload??"Reset password failed"}).addCase(z0.pending,t=>{t.isLoading=!0,t.error=null}).addCase(z0.fulfilled,(t,r)=>{t.isLoading=!1,t.error=null,t.user=r.payload,t.isAuthenticated=!0;const{permissions:n,roles:a}=TN(r.payload);t.permissions=n,t.roles=a;const o={cached_at:new Date().toISOString(),expires_at:new Date(Date.now()+30*60*1e3).toISOString(),all_permissions:r.payload.all_permissions||[],global_roles:r.payload.global_roles||[],global_permissions:r.payload.global_permissions||[],roles_permissions:r.payload.all_permissions||[],stores:r.payload.stores||[],summary:r.payload.summary};hF(o)}).addCase(z0.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload??"Failed to load profile"}).addCase(xp.pending,t=>{}).addCase(xp.fulfilled,(t,r)=>{t.token=r.payload,t.error=null}).addCase(xp.rejected,t=>{Object.assign(t,hv)}).addCase(Xl.pending,t=>{t.isLoading=!0}).addCase(Xl.fulfilled,t=>{Object.assign(t,hv)}).addCase(Xl.rejected,t=>{Object.assign(t,hv)})}}),{initializeAuth:Bne,clearError:Fne}=pF.actions,Une=pF.reducer,$ne="https://auth.pnepizza.com/api/v1",fb=ft.create({baseURL:$ne,headers:{Accept:"application/json","Content-Type":"application/json"},timeout:3e4}),gF=()=>{try{const t=Vn.getState().auth?.token;return t||qn()}catch(e){return console.error("Error retrieving auth token:",e),null}};fb.interceptors.request.use(e=>{const t=gF();return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>(console.error("Request interceptor error:",e),Promise.reject(e)));fb.interceptors.response.use(e=>e,e=>{const t=Hne(e);return Promise.reject(t)});const Hne=e=>{const t=e.response?.status,r=e.response?.data;switch(t){case 401:return{type:"UNAUTHORIZED",message:"Authentication failed. Please log in again.",statusCode:401};case 403:return{type:"UNAUTHORIZED",message:"You do not have permission to perform this action.",statusCode:403};case 422:const n=r?.errors;return{type:"VALIDATION_ERROR",message:(n?Object.values(n)[0]?.[0]:null)||r?.message||"Validation failed",statusCode:422};case 409:return{type:"PERMISSION_EXISTS",message:"A permission with this name already exists.",statusCode:409};case 500:case 502:case 503:return{type:"NETWORK_ERROR",message:"Server error. Please try again later.",statusCode:t};default:return{type:"UNKNOWN_ERROR",message:r?.message||e.message||"An unexpected error occurred",statusCode:t}}},zne=e=>{const t=new URLSearchParams;e.page!==void 0&&t.append("page",e.page.toString()),e.per_page!==void 0&&t.append("per_page",e.per_page.toString()),e.search&&e.search.trim()&&t.append("search",e.search.trim());const r=t.toString();return r?`?${r}`:""};class qne{async getPermissions(t={}){try{const r=zne(t),n=await fb.get(`/permissions${r}`);if(!n.data.success)throw new Error("API returned success: false");return n.data}catch(r){throw console.error("Failed to fetch permissions:",r),r}}async createPermission(t){try{if(!t.name?.trim())throw{type:"VALIDATION_ERROR",message:"Permission name is required",field:"name"};if(!t.guard_name?.trim())throw{type:"VALIDATION_ERROR",message:"Guard name is required",field:"guard_name"};const r=await fb.post("/permissions",{name:t.name.trim(),guard_name:t.guard_name.trim()});if(!r.data.success)throw new Error("API returned success: false");return r.data.data.permission}catch(r){throw console.error("Failed to create permission:",r),r}}async checkHealth(){try{return gF()?(await this.getPermissions({per_page:1}),!0):!1}catch(t){return console.error("Health check failed:",t),!1}}async getPermissionsForSelect(){try{return(await this.getPermissions()).data.data.map(r=>({value:r.id,label:r.name,permission:r}))}catch(t){throw console.error("Failed to fetch permissions for select:",t),t}}async searchPermissions(t){try{return t.trim()?(await this.getPermissions({search:t.trim(),per_page:50})).data.data:(await this.getPermissions()).data.data}catch(r){throw console.error("Failed to search permissions:",r),r}}}const Pw=new qne,{getPermissions:EHe,createPermission:_He,checkHealth:AHe,getPermissionsForSelect:kHe,searchPermissions:DHe}=Pw,KO={permissions:[],loading:!1,error:null,pagination:null,createLoading:!1,createError:null},vp=Le("permissions/fetchPermissions",async(e={},{rejectWithValue:t})=>{try{const r=await Pw.getPermissions(e),n={currentPage:r.data.current_page,lastPage:r.data.last_page,perPage:r.data.per_page,total:r.data.total,from:r.data.from,to:r.data.to};return{permissions:r.data.data,pagination:n}}catch(r){return r&&typeof r=="object"&&"message"in r?t(r.message):t("Failed to fetch permissions. Please try again.")}}),q0=Le("permissions/createPermission",async(e,{rejectWithValue:t,dispatch:r})=>{try{const n=await Pw.createPermission(e);return r(vp({per_page:15})),n}catch(n){return n&&typeof n=="object"&&"message"in n?t(n.message):t("Failed to create permission. Please try again.")}}),RN=Le("permissions/searchPermissions",async(e,{rejectWithValue:t})=>{try{return await Pw.searchPermissions(e)}catch(r){return r&&typeof r=="object"&&"message"in r?t(r.message):t("Failed to search permissions. Please try again.")}}),xF=Zt({name:"permissions",initialState:KO,reducers:{clearErrors:e=>{e.error=null,e.createError=null},clearFetchError:e=>{e.error=null},clearCreateError:e=>{e.createError=null},resetPermissionsState:()=>KO,addPermissionOptimistic:(e,t)=>{e.permissions.unshift(t.payload),e.pagination&&(e.pagination.total+=1)},removePermissionOptimistic:(e,t)=>{e.permissions=e.permissions.filter(r=>r.id!==t.payload),e.pagination&&(e.pagination.total=Math.max(0,e.pagination.total-1))},updatePermission:(e,t)=>{const r=e.permissions.findIndex(n=>n.id===t.payload.id);r!==-1&&(e.permissions[r]=t.payload)},setLoading:(e,t)=>{e.loading=t.payload},setCreateLoading:(e,t)=>{e.createLoading=t.payload}},extraReducers:e=>{e.addCase(vp.pending,t=>{t.loading=!0,t.error=null}).addCase(vp.fulfilled,(t,r)=>{t.loading=!1,t.error=null,t.permissions=r.payload.permissions,t.pagination=r.payload.pagination}).addCase(vp.rejected,(t,r)=>{t.loading=!1,t.error=r.payload||"Failed to fetch permissions"}),e.addCase(q0.pending,t=>{t.createLoading=!0,t.createError=null}).addCase(q0.fulfilled,(t,r)=>{t.createLoading=!1,t.createError=null,t.permissions.findIndex(a=>a.id===r.payload.id)===-1&&(t.permissions.unshift(r.payload),t.pagination&&(t.pagination.total+=1))}).addCase(q0.rejected,(t,r)=>{t.createLoading=!1,t.createError=r.payload||"Failed to create permission"}),e.addCase(RN.pending,t=>{t.loading=!0,t.error=null}).addCase(RN.fulfilled,(t,r)=>{t.loading=!1,t.error=null,t.permissions=r.payload,t.pagination=null}).addCase(RN.rejected,(t,r)=>{t.loading=!1,t.error=r.payload||"Failed to search permissions"})}}),{clearErrors:THe,clearFetchError:Vne,clearCreateError:Wne,resetPermissionsState:RHe,addPermissionOptimistic:Gne,removePermissionOptimistic:XO,updatePermission:PHe,setLoading:MHe,setCreateLoading:OHe}=xF.actions,Yne=xF.reducer,Zne=e=>e.permissions.permissions,Kne=e=>e.permissions.loading,Xne=e=>e.permissions.error,Qne=e=>e.permissions.pagination,Jne=e=>e.permissions.createLoading,ese=e=>e.permissions.createError,tse=e=>e.permissions.permissions.length>0,rse=e=>!e.permissions.loading&&e.permissions.permissions.length===0,nse=e=>e.permissions.pagination?.total??e.permissions.permissions.length,Mw={WEB:"web",API:"api"},zu={NAME_MIN_LENGTH:3,NAME_MAX_LENGTH:255,MAX_PERMISSIONS_PER_ROLE:50},pv={GET_ALL:"/roles",CREATE:"/roles",GET_BY_ID:e=>`/roles/${e}`,UPDATE:e=>`/roles/${e}`,DELETE:e=>`/roles/${e}`,ASSIGN_PERMISSIONS:e=>`/roles/${e}/permissions/assign`,REVOKE_PERMISSIONS:e=>`/roles/${e}/permissions/revoke`},sse="https://auth.pnepizza.com/api/v1",cf=ft.create({baseURL:sse,headers:{Accept:"application/json","Content-Type":"application/json"},timeout:3e4}),vF=()=>{try{const t=Vn.getState().auth?.token;return t||qn()}catch(e){return console.error("Error retrieving auth token:",e),null}};cf.interceptors.request.use(e=>{const t=vF();return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>(console.error("Request interceptor error:",e),Promise.reject(e)));cf.interceptors.response.use(e=>e,e=>{const t=ase(e);return Promise.reject(t)});const ase=e=>{const t=e.response?.status,r=e.response?.data;switch(t){case 401:return{type:"UNAUTHORIZED",message:"Authentication failed. Please log in again.",statusCode:401};case 403:return{type:"UNAUTHORIZED",message:"You do not have permission to perform this action.",statusCode:403};case 404:return{type:"ROLE_NOT_FOUND",message:"The requested role was not found.",statusCode:404};case 422:const n=r?.errors;return n?.name?.includes("The name has already been taken.")?{type:"ROLE_EXISTS",message:"A role with this name already exists.",statusCode:422}:n?.permissions?{type:"PERMISSION_NOT_FOUND",message:"One or more selected permissions are invalid.",statusCode:422}:{type:"VALIDATION_ERROR",message:(n?Object.values(n)[0]?.[0]:null)||r?.message||"Validation failed",statusCode:422};case 500:case 502:case 503:return{type:"NETWORK_ERROR",message:"Server error. Please try again later.",statusCode:t};default:return{type:"UNKNOWN_ERROR",message:r?.message||e.message||"An unexpected error occurred",statusCode:t}}},ose=e=>{const t=new URLSearchParams;e.page!==void 0&&t.append("page",e.page.toString()),e.per_page!==void 0&&t.append("per_page",e.per_page.toString()),e.search&&e.search.trim()&&t.append("search",e.search.trim());const r=t.toString();return r?`?${r}`:""};class ise{async getRoles(t={}){try{const r=ose(t),n=await cf.get(`${pv.GET_ALL}${r}`);if(!n.data.success)throw new Error("API returned success: false");return n.data}catch(r){throw console.error("Failed to fetch roles:",r),r}}async createRole(t){try{if(!t.name?.trim())throw{type:"VALIDATION_ERROR",message:"Role name is required",field:"name"};if(!t.guard_name?.trim())throw{type:"VALIDATION_ERROR",message:"Guard name is required",field:"guard_name"};if(!Array.isArray(t.permissions))throw{type:"VALIDATION_ERROR",message:"Permissions must be an array",field:"permissions"};const r=await cf.post(pv.CREATE,{name:t.name.trim(),guard_name:t.guard_name.trim(),permissions:t.permissions});if(!r.data.success)throw new Error("API returned success: false");return r.data.data.role}catch(r){throw console.error("Failed to create role:",r),r}}async assignPermissionsToRole(t,r){try{if(!t||t<=0)throw{type:"VALIDATION_ERROR",message:"Valid role ID is required",field:"roleId"};if(!Array.isArray(r))throw{type:"VALIDATION_ERROR",message:"Permissions must be an array",field:"permissions"};if(r.length===0)throw{type:"VALIDATION_ERROR",message:"At least one permission must be provided",field:"permissions"};const n={permissions:r.filter(o=>o.trim())},a=await cf.post(pv.ASSIGN_PERMISSIONS(t),n);if(!a.data.success)throw new Error("API returned success: false");return a.data.data.role}catch(n){throw console.error("Failed to assign permissions to role:",n),n}}async getRoleById(t){try{if(!t||t<=0)throw{type:"VALIDATION_ERROR",message:"Valid role ID is required",field:"roleId"};const r=await cf.get(pv.GET_BY_ID(t));if(!r.data.success)throw new Error("API returned success: false");return r.data.data.role}catch(r){throw console.error("Failed to fetch role by ID:",r),r}}async searchRoles(t){try{return t.trim()?(await this.getRoles({search:t.trim(),per_page:50})).data.data:(await this.getRoles()).data.data}catch(r){throw console.error("Failed to search roles:",r),r}}async getRolesForSelect(){try{return(await this.getRoles()).data.data.map(r=>({value:r.id,label:r.name,role:r}))}catch(t){throw console.error("Failed to fetch roles for select:",t),t}}async checkHealth(){try{return vF()?(await this.getRoles({per_page:1}),!0):!1}catch(t){return console.error("Health check failed:",t),!1}}async getRolesWithPermissionCounts(){try{return(await this.getRoles()).data.data.map(r=>({...r,permission_count:r.permissions?.length||0}))}catch(t){throw console.error("Failed to fetch roles with permission counts:",t),t}}async bulkAssignPermissions(t,r){try{if(!Array.isArray(t)||t.length===0)throw{type:"VALIDATION_ERROR",message:"At least one role ID must be provided",field:"roleIds"};const n=await Promise.allSettled(t.map(l=>this.assignPermissionsToRole(l,r))),a=[],o=[];return n.forEach((l,c)=>{l.status==="fulfilled"?a.push(l.value):o.push({roleId:t[c],error:l.reason})}),o.length>0&&console.warn("Some bulk assignments failed:",o),a}catch(n){throw console.error("Failed to bulk assign permissions:",n),n}}}const Qf=new ise,{getRoles:IHe,createRole:LHe,assignPermissionsToRole:BHe,getRoleById:FHe,searchRoles:UHe,getRolesForSelect:$He,checkHealth:HHe,getRolesWithPermissionCounts:zHe,bulkAssignPermissions:qHe}=Qf,QO={roles:[],loading:!1,error:null,pagination:null,createLoading:!1,createError:null,assignLoading:!1,assignError:null,selectedRoleId:null},yp=Le("roles/fetchRoles",async(e={},{rejectWithValue:t})=>{try{const r=await Qf.getRoles(e),n={currentPage:r.data.current_page,lastPage:r.data.last_page,perPage:r.data.per_page,total:r.data.total,from:r.data.from,to:r.data.to};return{roles:r.data.data,pagination:n}}catch(r){return r&&typeof r=="object"&&"message"in r?t(r.message):t("Failed to fetch roles. Please try again.")}}),V0=Le("roles/createRole",async(e,{rejectWithValue:t,dispatch:r})=>{try{const n=await Qf.createRole(e);return r(yp({per_page:15})),n}catch(n){return n&&typeof n=="object"&&"message"in n?t(n.message):t("Failed to create role. Please try again.")}}),W0=Le("roles/assignPermissionsToRole",async({roleId:e,permissions:t},{rejectWithValue:r})=>{try{return await Qf.assignPermissionsToRole(e,t)}catch(n){return n&&typeof n=="object"&&"message"in n?r(n.message):r("Failed to assign permissions to role. Please try again.")}}),PN=Le("roles/searchRoles",async(e,{rejectWithValue:t})=>{try{return await Qf.searchRoles(e)}catch(r){return r&&typeof r=="object"&&"message"in r?t(r.message):t("Failed to search roles. Please try again.")}}),MN=Le("roles/fetchRoleById",async(e,{rejectWithValue:t})=>{try{return await Qf.getRoleById(e)}catch(r){return r&&typeof r=="object"&&"message"in r?t(r.message):t("Failed to fetch role. Please try again.")}}),yF=Zt({name:"roles",initialState:QO,reducers:{clearErrors:e=>{e.error=null,e.createError=null,e.assignError=null},clearFetchError:e=>{e.error=null},clearCreateError:e=>{e.createError=null},clearAssignError:e=>{e.assignError=null},resetRolesState:()=>QO,setSelectedRoleId:(e,t)=>{e.selectedRoleId=t.payload},addRoleOptimistic:(e,t)=>{e.roles.unshift(t.payload),e.pagination&&(e.pagination.total+=1)},removeRoleOptimistic:(e,t)=>{e.roles=e.roles.filter(r=>r.id!==t.payload),e.pagination&&(e.pagination.total=Math.max(0,e.pagination.total-1))},updateRole:(e,t)=>{const r=e.roles.findIndex(n=>n.id===t.payload.id);r!==-1&&(e.roles[r]=t.payload)},updateRolePermissions:(e,t)=>{const{roleId:r}=t.payload,n=e.roles.findIndex(a=>a.id===r);n!==-1&&(e.roles[n]={...e.roles[n],updated_at:new Date().toISOString()})},setLoading:(e,t)=>{e.loading=t.payload},setCreateLoading:(e,t)=>{e.createLoading=t.payload},setAssignLoading:(e,t)=>{e.assignLoading=t.payload}},extraReducers:e=>{e.addCase(yp.pending,t=>{t.loading=!0,t.error=null}).addCase(yp.fulfilled,(t,r)=>{t.loading=!1,t.error=null,t.roles=r.payload.roles,t.pagination=r.payload.pagination}).addCase(yp.rejected,(t,r)=>{t.loading=!1,t.error=r.payload||"Failed to fetch roles"}),e.addCase(V0.pending,t=>{t.createLoading=!0,t.createError=null}).addCase(V0.fulfilled,(t,r)=>{t.createLoading=!1,t.createError=null,t.roles.findIndex(a=>a.id===r.payload.id)===-1&&(t.roles.unshift(r.payload),t.pagination&&(t.pagination.total+=1))}).addCase(V0.rejected,(t,r)=>{t.createLoading=!1,t.createError=r.payload||"Failed to create role"}),e.addCase(W0.pending,t=>{t.assignLoading=!0,t.assignError=null}).addCase(W0.fulfilled,(t,r)=>{t.assignLoading=!1,t.assignError=null;const n=t.roles.findIndex(a=>a.id===r.payload.id);n!==-1&&(t.roles[n]=r.payload)}).addCase(W0.rejected,(t,r)=>{t.assignLoading=!1,t.assignError=r.payload||"Failed to assign permissions to role"}),e.addCase(PN.pending,t=>{t.loading=!0,t.error=null}).addCase(PN.fulfilled,(t,r)=>{t.loading=!1,t.error=null,t.roles=r.payload,t.pagination=null}).addCase(PN.rejected,(t,r)=>{t.loading=!1,t.error=r.payload||"Failed to search roles"}),e.addCase(MN.pending,t=>{t.loading=!0,t.error=null}).addCase(MN.fulfilled,(t,r)=>{t.loading=!1,t.error=null;const n=t.roles.findIndex(a=>a.id===r.payload.id);n!==-1?t.roles[n]=r.payload:t.roles.push(r.payload)}).addCase(MN.rejected,(t,r)=>{t.loading=!1,t.error=r.payload||"Failed to fetch role"})}}),{clearErrors:VHe,clearFetchError:lse,clearCreateError:cse,clearAssignError:dse,resetRolesState:WHe,setSelectedRoleId:GHe,addRoleOptimistic:use,removeRoleOptimistic:JO,updateRole:YHe,updateRolePermissions:ZHe,setLoading:KHe,setCreateLoading:XHe,setAssignLoading:QHe}=yF.actions,fse=yF.reducer,mse=e=>e.roles.roles,hse=e=>e.roles.loading,pse=e=>e.roles.error,gse=e=>e.roles.pagination,xse=e=>e.roles.createLoading,vse=e=>e.roles.createError,yse=e=>e.roles.assignLoading,bse=e=>e.roles.assignError,wse=e=>e.roles.roles.map(t=>({...t,permission_count:t.permissions?.length||0})),Sse=e=>e.roles.roles.length>0,jse=e=>!e.roles.loading&&e.roles.roles.length===0,Nse=e=>e.roles.pagination?.total??e.roles.roles.length,Js={NAME_MIN_LENGTH:2,NAME_MAX_LENGTH:255,EMAIL_MAX_LENGTH:255,PASSWORD_MIN_LENGTH:8,PASSWORD_MAX_LENGTH:255,MAX_ROLES_PER_USER:10,MAX_PERMISSIONS_PER_USER:50},Yc={GET_ALL:"/users",CREATE:"/users",GET_BY_ID:e=>`/users/${e}`,UPDATE:e=>`/users/${e}`,DELETE:e=>`/users/${e}`,ASSIGN_ROLES:e=>`/users/${e}/roles/assign`,REVOKE_ROLES:e=>`/users/${e}/roles/revoke`,GIVE_PERMISSIONS:e=>`/users/${e}/permissions/give`,REVOKE_PERMISSIONS:e=>`/users/${e}/permissions/revoke`},Cse="https://auth.pnepizza.com/api/v1",Ai=ft.create({baseURL:Cse,headers:{Accept:"application/json","Content-Type":"application/json"},timeout:3e4}),bF=()=>{try{const t=Vn.getState().auth?.token;return t||qn()}catch(e){return console.error("Error retrieving auth token:",e),null}};Ai.interceptors.request.use(e=>{const t=bF();return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>(console.error("Request interceptor error:",e),Promise.reject(e)));Ai.interceptors.response.use(e=>e,e=>{const t=Ese(e);return Promise.reject(t)});const Ese=e=>{const t=e.response?.status,r=e.response?.data;switch(t){case 401:return{type:"UNAUTHORIZED",message:"Authentication failed. Please log in again.",statusCode:401};case 403:return{type:"UNAUTHORIZED",message:"You do not have permission to perform this action.",statusCode:403};case 404:return{type:"USER_NOT_FOUND",message:"The requested user was not found.",statusCode:404};case 422:const n=r?.errors;return n?.email?.includes("The email has already been taken.")?{type:"EMAIL_TAKEN",message:"This email address is already registered.",statusCode:422}:n?.password?.some(o=>o.toLowerCase().includes("at least 8 characters"))?{type:"WEAK_PASSWORD",message:"Password must be at least 8 characters long.",statusCode:422}:n?.password_confirmation?{type:"PASSWORD_MISMATCH",message:"Password confirmation does not match.",statusCode:422}:n?.roles?.some(o=>o.includes("invalid"))?{type:"ROLE_NOT_FOUND",message:"One or more selected roles are invalid.",statusCode:422}:n?.permissions?.some(o=>o.includes("invalid"))?{type:"PERMISSION_NOT_FOUND",message:"One or more selected permissions are invalid.",statusCode:422}:{type:"VALIDATION_ERROR",message:(n?Object.values(n)[0]?.[0]:null)||r?.message||"Validation failed",statusCode:422};case 400:return r?.message&&r.message.toLowerCase().includes("cannot delete user")?{type:"CANNOT_DELETE_USER",message:r.message,statusCode:400}:{type:"VALIDATION_ERROR",message:r?.message||"Bad request",statusCode:400};case 500:case 502:case 503:return{type:"NETWORK_ERROR",message:"Server error. Please try again later.",statusCode:t};default:return{type:"UNKNOWN_ERROR",message:r?.message||e.message||"An unexpected error occurred",statusCode:t}}},_se=e=>{const t=new URLSearchParams;e.page!==void 0&&t.append("page",e.page.toString()),e.per_page!==void 0&&t.append("per_page",e.per_page.toString()),e.search&&e.search.trim()&&t.append("search",e.search.trim()),e.role&&e.role.trim()&&t.append("role",e.role.trim());const r=t.toString();return r?`?${r}`:""};class Ase{async getUsers(t={}){try{const r=_se(t),n=await Ai.get(`${Yc.GET_ALL}${r}`);if(!n.data.success)throw new Error("API returned success: false");return n.data}catch(r){throw console.error("Failed to fetch users:",r),r}}async createUser(t){try{if(!t.name?.trim())throw{type:"VALIDATION_ERROR",message:"User name is required",field:"name"};if(!t.email?.trim())throw{type:"VALIDATION_ERROR",message:"Email is required",field:"email"};if(!t.password||t.password.length<8)throw{type:"WEAK_PASSWORD",message:"Password must be at least 8 characters long",field:"password"};if(t.password!==t.password_confirmation)throw{type:"PASSWORD_MISMATCH",message:"Password confirmation does not match",field:"password_confirmation"};if(!Array.isArray(t.roles))throw{type:"VALIDATION_ERROR",message:"Roles must be an array",field:"roles"};if(!Array.isArray(t.permissions))throw{type:"VALIDATION_ERROR",message:"Permissions must be an array",field:"permissions"};const r=await Ai.post(Yc.CREATE,{name:t.name.trim(),email:t.email.trim(),password:t.password,password_confirmation:t.password_confirmation,roles:t.roles,permissions:t.permissions});if(!r.data.success)throw new Error("API returned success: false");return r.data.data.user}catch(r){throw console.error("Failed to create user:",r),r}}async getUserById(t){try{if(!t||t<=0)throw{type:"VALIDATION_ERROR",message:"Valid user ID is required",field:"userId"};const r=await Ai.get(Yc.GET_BY_ID(t));if(!r.data.success)throw new Error("API returned success: false");return r.data.data.user}catch(r){throw console.error("Failed to fetch user by ID:",r),r}}async updateUser(t,r){try{if(!t||t<=0)throw{type:"VALIDATION_ERROR",message:"Valid user ID is required",field:"userId"};if(r.password&&r.password.length<8)throw{type:"WEAK_PASSWORD",message:"Password must be at least 8 characters long",field:"password"};if(r.password&&r.password!==r.password_confirmation)throw{type:"PASSWORD_MISMATCH",message:"Password confirmation does not match",field:"password_confirmation"};const n=await Ai.put(Yc.UPDATE(t),r);if(!n.data.success)throw new Error("API returned success: false");return n.data.data.user}catch(n){throw console.error("Failed to update user:",n),n}}async deleteUser(t){try{if(!t||t<=0)throw{type:"VALIDATION_ERROR",message:"Valid user ID is required",field:"userId"};if(!(await Ai.delete(Yc.DELETE(t))).data.success)throw new Error("API returned success: false")}catch(r){throw console.error("Failed to delete user:",r),r}}async assignRolesToUser(t,r){try{if(!t||t<=0)throw{type:"VALIDATION_ERROR",message:"Valid user ID is required",field:"userId"};if(!Array.isArray(r))throw{type:"VALIDATION_ERROR",message:"Roles must be an array",field:"roles"};const n={roles:r.filter(o=>o.trim())},a=await Ai.post(Yc.ASSIGN_ROLES(t),n);if(!a.data.success)throw new Error("API returned success: false");return a.data.data.user}catch(n){throw console.error("Failed to assign roles to user:",n),n}}async givePermissionsToUser(t,r){try{if(!t||t<=0)throw{type:"VALIDATION_ERROR",message:"Valid user ID is required",field:"userId"};if(!Array.isArray(r))throw{type:"VALIDATION_ERROR",message:"Permissions must be an array",field:"permissions"};const n={permissions:r.filter(o=>o.trim())},a=await Ai.post(Yc.GIVE_PERMISSIONS(t),n);if(!a.data.success)throw new Error("API returned success: false");return a.data.data.user}catch(n){throw console.error("Failed to give permissions to user:",n),n}}async searchUsers(t){try{return t.trim()?(await this.getUsers({search:t.trim(),per_page:50})).data.data:(await this.getUsers()).data.data}catch(r){throw console.error("Failed to search users:",r),r}}async getUsersForSelect(){try{return(await this.getUsers()).data.data.map(r=>({value:r.id,label:`${r.name} (${r.email})`,user:r}))}catch(t){throw console.error("Failed to fetch users for select:",t),t}}async checkHealth(){try{return bF()?(await this.getUsers({per_page:1}),!0):!1}catch(t){return console.error("Health check failed:",t),!1}}async getUsersWithCounts(){try{return(await this.getUsers()).data.data.map(r=>({...r,role_count:r.roles?.length||0,permission_count:r.permissions?.length||0,store_count:r.stores?.length||0}))}catch(t){throw console.error("Failed to fetch users with counts:",t),t}}async bulkAssignRoles(t,r){try{if(!Array.isArray(t)||t.length===0)throw{type:"VALIDATION_ERROR",message:"At least one user ID must be provided",field:"userIds"};const n=await Promise.allSettled(t.map(l=>this.assignRolesToUser(l,r))),a=[],o=[];return n.forEach((l,c)=>{l.status==="fulfilled"?a.push(l.value):o.push({userId:t[c],error:l.reason})}),o.length>0&&console.warn("Some bulk assignments failed:",o),a}catch(n){throw console.error("Failed to bulk assign roles:",n),n}}}const nl=new Ase,{getUsers:JHe,createUser:eze,getUserById:tze,updateUser:rze,deleteUser:nze,assignRolesToUser:sze,givePermissionsToUser:aze,searchUsers:oze,getUsersForSelect:ize,checkHealth:lze,getUsersWithCounts:cze,bulkAssignRoles:dze}=nl,eI={users:[],loading:!1,error:null,pagination:null,perPage:10,createLoading:!1,createError:null,updateLoading:!1,updateError:null,deleteLoading:!1,deleteError:null,assignRolesLoading:!1,assignRolesError:null,givePermissionsLoading:!1,givePermissionsError:null,selectedUserId:null,searchTerm:"",filters:{}},Ui=Le("users/fetchUsers",async(e={},{rejectWithValue:t})=>{try{const r=await nl.getUsers(e),n={currentPage:r.data.current_page,lastPage:r.data.last_page,perPage:r.data.per_page,total:r.data.total,from:r.data.from,to:r.data.to};return{users:r.data.data,pagination:n}}catch(r){return r&&typeof r=="object"&&"message"in r?t(r.message):t("Failed to fetch users. Please try again.")}}),G0=Le("users/createUser",async(e,{rejectWithValue:t,dispatch:r})=>{try{const n=await nl.createUser(e);return r(Ui({per_page:5})),n}catch(n){return n&&typeof n=="object"&&"message"in n?t(n.message):t("Failed to create user. Please try again.")}}),Y0=Le("users/updateUser",async({userId:e,data:t},{rejectWithValue:r})=>{try{return await nl.updateUser(e,t)}catch(n){return n&&typeof n=="object"&&"message"in n?r(n.message):r("Failed to update user. Please try again.")}}),Z0=Le("users/deleteUser",async(e,{rejectWithValue:t})=>{try{return await nl.deleteUser(e),e}catch(r){return r&&typeof r=="object"&&"message"in r?t(r.message):t("Failed to delete user. Please try again.")}}),ON=Le("users/assignRolesToUser",async({userId:e,roles:t},{rejectWithValue:r})=>{try{return await nl.assignRolesToUser(e,t)}catch(n){return n&&typeof n=="object"&&"message"in n?r(n.message):r("Failed to assign roles to user. Please try again.")}}),IN=Le("users/givePermissionsToUser",async({userId:e,permissions:t},{rejectWithValue:r})=>{try{return await nl.givePermissionsToUser(e,t)}catch(n){return n&&typeof n=="object"&&"message"in n?r(n.message):r("Failed to give permissions to user. Please try again.")}}),LN=Le("users/searchUsers",async(e,{rejectWithValue:t})=>{try{return await nl.searchUsers(e)}catch(r){return r&&typeof r=="object"&&"message"in r?t(r.message):t("Failed to search users. Please try again.")}}),K0=Le("users/fetchUserById",async(e,{rejectWithValue:t})=>{try{return await nl.getUserById(e)}catch(r){return r&&typeof r=="object"&&"message"in r?t(r.message):t("Failed to fetch user. Please try again.")}}),wF=Zt({name:"users",initialState:eI,reducers:{clearErrors:e=>{e.error=null,e.createError=null,e.updateError=null,e.deleteError=null,e.assignRolesError=null,e.givePermissionsError=null},clearFetchError:e=>{e.error=null},clearCreateError:e=>{e.createError=null},clearUpdateError:e=>{e.updateError=null},clearDeleteError:e=>{e.deleteError=null},clearAssignRolesError:e=>{e.assignRolesError=null},clearGivePermissionsError:e=>{e.givePermissionsError=null},resetUsersState:()=>eI,setSelectedUserId:(e,t)=>{e.selectedUserId=t.payload},setSearchTerm:(e,t)=>{e.searchTerm=t.payload},setFilters:(e,t)=>{e.filters=t.payload},setPerPage:(e,t)=>{e.perPage=t.payload},updateUserInState:(e,t)=>{const r=e.users.findIndex(n=>n.id===t.payload.id);r!==-1&&(e.users[r]=t.payload)},removeUserFromState:(e,t)=>{e.users=e.users.filter(r=>r.id!==t.payload),e.pagination&&(e.pagination.total=Math.max(0,e.pagination.total-1))},setLoading:(e,t)=>{e.loading=t.payload},setCreateLoading:(e,t)=>{e.createLoading=t.payload},setUpdateLoading:(e,t)=>{e.updateLoading=t.payload},setDeleteLoading:(e,t)=>{e.deleteLoading=t.payload}},extraReducers:e=>{e.addCase(Ui.pending,t=>{t.loading=!0,t.error=null}).addCase(Ui.fulfilled,(t,r)=>{t.loading=!1,t.error=null,t.users=r.payload.users,t.pagination=r.payload.pagination}).addCase(Ui.rejected,(t,r)=>{t.loading=!1,t.error=r.payload||"Failed to fetch users"}),e.addCase(G0.pending,t=>{t.createLoading=!0,t.createError=null}).addCase(G0.fulfilled,(t,r)=>{t.createLoading=!1,t.createError=null,t.users.findIndex(a=>a.id===r.payload.id)===-1&&(t.users.unshift(r.payload),t.pagination&&(t.pagination.total+=1))}).addCase(G0.rejected,(t,r)=>{t.createLoading=!1,t.createError=r.payload||"Failed to create user"}),e.addCase(Y0.pending,t=>{t.updateLoading=!0,t.updateError=null}).addCase(Y0.fulfilled,(t,r)=>{t.updateLoading=!1,t.updateError=null;const n=t.users.findIndex(a=>a.id===r.payload.id);n!==-1&&(t.users[n]=r.payload)}).addCase(Y0.rejected,(t,r)=>{t.updateLoading=!1,t.updateError=r.payload||"Failed to update user"}),e.addCase(Z0.pending,t=>{t.deleteLoading=!0,t.deleteError=null}).addCase(Z0.fulfilled,(t,r)=>{t.deleteLoading=!1,t.deleteError=null,t.users=t.users.filter(n=>n.id!==r.payload),t.pagination&&(t.pagination.total=Math.max(0,t.pagination.total-1)),t.selectedUserId===r.payload&&(t.selectedUserId=null)}).addCase(Z0.rejected,(t,r)=>{t.deleteLoading=!1,t.deleteError=r.payload||"Failed to delete user"}),e.addCase(ON.pending,t=>{t.assignRolesLoading=!0,t.assignRolesError=null}).addCase(ON.fulfilled,(t,r)=>{t.assignRolesLoading=!1,t.assignRolesError=null;const n=t.users.findIndex(a=>a.id===r.payload.id);n!==-1&&(t.users[n]=r.payload)}).addCase(ON.rejected,(t,r)=>{t.assignRolesLoading=!1,t.assignRolesError=r.payload||"Failed to assign roles to user"}),e.addCase(IN.pending,t=>{t.givePermissionsLoading=!0,t.givePermissionsError=null}).addCase(IN.fulfilled,(t,r)=>{t.givePermissionsLoading=!1,t.givePermissionsError=null;const n=t.users.findIndex(a=>a.id===r.payload.id);n!==-1&&(t.users[n]=r.payload)}).addCase(IN.rejected,(t,r)=>{t.givePermissionsLoading=!1,t.givePermissionsError=r.payload||"Failed to give permissions to user"}),e.addCase(LN.pending,t=>{t.loading=!0,t.error=null}).addCase(LN.fulfilled,(t,r)=>{t.loading=!1,t.error=null,t.users=r.payload,t.pagination=null}).addCase(LN.rejected,(t,r)=>{t.loading=!1,t.error=r.payload||"Failed to search users"}),e.addCase(K0.pending,t=>{t.loading=!0,t.error=null}).addCase(K0.fulfilled,(t,r)=>{t.loading=!1,t.error=null;const n=t.users.findIndex(a=>a.id===r.payload.id);n!==-1?t.users[n]=r.payload:t.users.push(r.payload)}).addCase(K0.rejected,(t,r)=>{t.loading=!1,t.error=r.payload||"Failed to fetch user"})}}),{clearErrors:uze,clearFetchError:kse,clearCreateError:Dse,clearUpdateError:Tse,clearDeleteError:Rse,clearAssignRolesError:fze,clearGivePermissionsError:mze,resetUsersState:hze,setSelectedUserId:pze,setSearchTerm:Pse,setFilters:gze,setPerPage:SF,updateUserInState:xze,removeUserFromState:vze,setLoading:yze,setCreateLoading:bze,setUpdateLoading:wze,setDeleteLoading:Sze}=wF.actions,Mse=wF.reducer,Ose=e=>e.users.users,jF=e=>e.users.loading,NF=e=>e.users.error,Ise=e=>e.users.pagination,Lse=e=>e.users.createLoading,Bse=e=>e.users.createError,Fse=e=>e.users.updateLoading,Use=e=>e.users.updateError,$se=e=>e.users.deleteLoading,Hse=e=>e.users.deleteError,zse=e=>e.users.searchTerm,qse=e=>e.users.filters,CF=e=>e.users.perPage,Vse=(e,t)=>e.users.users.find(r=>r.id===t),Wse=e=>e.users.users.map(t=>({...t,role_count:t.roles?.length||0,permission_count:t.permissions?.length||0,store_count:t.stores?.length||0})),Gse=e=>e.users.users.length>0,Yse=e=>!e.users.loading&&e.users.users.length===0,Zse=e=>e.users.pagination?.total??e.users.users.length,kh=e=>e.success===!1,Kse="https://auth.pnepizza.com/api/v1",Xse=()=>{try{const t=Vn.getState().auth?.token;return t||qn()}catch(e){return console.error("Error retrieving auth token:",e),null}},nd=ft.create({baseURL:Kse,timeout:3e4,headers:{Accept:"application/json","Content-Type":"application/json"}});nd.interceptors.request.use(e=>{const t=Xse();return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),console.log(`🚀 API Request: ${e.method?.toUpperCase()} ${e.url}`,{headers:e.headers,data:e.data}),e},e=>(console.error("Request interceptor error:",e),Promise.reject(e)));nd.interceptors.response.use(e=>(console.log(`✅ API Response: ${e.config.method?.toUpperCase()} ${e.config.url}`,e.data),e),e=>{console.error("API Error:",e);const t=Qse(e);return Promise.reject(t)});const Qse=e=>{if(!e.response)return{type:"network_error",message:"Network error - please check your connection",details:e.message};const{status:t,data:r}=e.response,n=r;switch(t){case 400:return{type:"invalid_dsl",message:kh(n)?n.message:"Invalid request",details:kh(n)?n.error:void 0,statusCode:t};case 401:return{type:"unauthorized",message:"Authentication required - please login again",statusCode:t};case 403:return{type:"forbidden",message:"Insufficient permissions to perform this action",statusCode:t};case 404:return{type:"not_found",message:"The requested resource was not found",statusCode:t};case 422:const a=[];return kh(n)&&n.errors&&Object.entries(n.errors).forEach(([o,l])=>{a.push({field:o,messages:l})}),{type:"validation",message:"Please fix the validation errors and try again",validationErrors:a,statusCode:t};case 500:case 502:case 503:case 504:return{type:"server_error",message:"Server error - please try again later",details:kh(n)?n.message:void 0,statusCode:t};default:return{type:"unknown",message:"An unexpected error occurred",details:kh(n)?n.message:void 0,statusCode:t}}},Ow={async fetchAuthRules(e={}){try{return(await nd.get("/auth-rules",{params:{service:e.service||"",search:e.search||"",page:e.page||1,per_page:e.per_page||15}})).data}catch(t){throw console.error("Failed to fetch auth rules:",t),t}},async createAuthRule(e){try{const t=e.roles_any?.length&&e.roles_any.length>0,r=e.permissions_any?.length&&e.permissions_any.length>0,n=e.permissions_all?.length&&e.permissions_all.length>0;if(!t&&!r&&!n)throw new Error("At least one authorization requirement must be specified (roles_any, permissions_any, or permissions_all)");return(await nd.post("/auth-rules",e)).data}catch(t){throw console.error("Failed to create auth rule:",t),t}},async testAuthRule(e){try{return(await nd.post("/auth-rules/test",e)).data}catch(t){throw console.error("Failed to test auth rule:",t),t}},async toggleAuthRuleStatus(e){try{if(!e||e<=0)throw new Error("Valid rule ID is required");return(await nd.post(`/auth-rules/${e}/toggle-status`)).data}catch(t){throw console.error(`Failed to toggle auth rule status for ID ${e}:`,t),t}},async deleteAuthRule(e){try{if(!e||e<=0)throw new Error("Valid rule ID is required");return(await nd.delete(`/auth-rules/${e}`)).data}catch(t){throw console.error(`Failed to delete auth rule with ID ${e}:`,t),t}}},BN=(e,t)=>e?.type===t,Jse=(e,t)=>{if(!e||e.type!=="validation"||!e.validationErrors)return[];const r=e.validationErrors.find(n=>n.field===t);return r?r.messages:[]},tI=e=>{if(!e)return"";switch(e.type){case"validation":return"Please fix the highlighted errors and try again.";case"unauthorized":return"Your session has expired. Please login again.";case"forbidden":return"You don't have permission to perform this action.";case"network_error":return"Connection failed. Please check your internet connection.";case"server_error":return"Server error. Please try again in a moment.";case"invalid_dsl":return e.details||"Invalid path pattern syntax.";default:return e.message||"An unexpected error occurred."}},FN={rules:[],pagination:null,testResult:null,loading:{fetching:!1,creating:!1,testing:!1,toggling:{}},error:null,successMessage:null,filters:{service:"",search:"",currentPage:1,perPage:15}},ki=Le("authRules/fetchAuthRules",async(e={},{rejectWithValue:t})=>{try{return await Ow.fetchAuthRules(e)}catch(r){return t(r)}}),X0=Le("authRules/createAuthRule",async(e,{rejectWithValue:t,dispatch:r,getState:n})=>{try{const a=await Ow.createAuthRule(e),o=n(),{filters:l}=o.authRules;return r(ki({service:l.service,search:l.search,page:l.currentPage,per_page:l.perPage})),a}catch(a){return t(a)}}),Q0=Le("authRules/testAuthRule",async(e,{rejectWithValue:t})=>{try{return await Ow.testAuthRule(e)}catch(r){return t(r)}}),bp=Le("authRules/toggleAuthRuleStatus",async(e,{rejectWithValue:t})=>{try{return await Ow.toggleAuthRuleStatus(e)}catch(r){return t({...r,ruleId:e})}}),J0=Le("authRules/batchToggleAuthRules",async(e,{dispatch:t,rejectWithValue:r})=>{try{const n=e.map(a=>t(bp(a)));await Promise.all(n)}catch(n){return r(n)}}),EF=Zt({name:"authRules",initialState:FN,reducers:{clearError:e=>{e.error=null},clearSuccessMessage:e=>{e.successMessage=null},clearTestResult:e=>{e.testResult=null},updateFilters:(e,t)=>{e.filters={...e.filters,...t.payload},e.error=null},resetFilters:e=>{e.filters=FN.filters},resetState:()=>FN,optimisticallyUpdateRule:(e,t)=>{const{id:r,...n}=t.payload,a=e.rules.findIndex(o=>o.id===r);a!==-1&&(e.rules[a]={...e.rules[a],...n})}},extraReducers:e=>{e.addCase(ki.pending,t=>{t.loading.fetching=!0,t.error=null}).addCase(ki.fulfilled,(t,r)=>{t.loading.fetching=!1,t.rules=r.payload.data.data,t.pagination={current_page:r.payload.data.current_page,first_page_url:r.payload.data.first_page_url,from:r.payload.data.from,last_page:r.payload.data.last_page,last_page_url:r.payload.data.last_page_url,links:r.payload.data.links,next_page_url:r.payload.data.next_page_url,path:r.payload.data.path,per_page:r.payload.data.per_page,prev_page_url:r.payload.data.prev_page_url,to:r.payload.data.to,total:r.payload.data.total},t.filters.currentPage=r.payload.data.current_page}).addCase(ki.rejected,(t,r)=>{t.loading.fetching=!1,t.error=r.payload||null}).addCase(X0.pending,t=>{t.loading.creating=!0,t.error=null,t.successMessage=null}).addCase(X0.fulfilled,(t,r)=>{t.loading.creating=!1,t.successMessage=r.payload.message||"Authorization rule created successfully"}).addCase(X0.rejected,(t,r)=>{t.loading.creating=!1,t.error=r.payload||null}).addCase(Q0.pending,t=>{t.loading.testing=!0,t.error=null,t.testResult=null}).addCase(Q0.fulfilled,(t,r)=>{t.loading.testing=!1,t.testResult=r.payload.data}).addCase(Q0.rejected,(t,r)=>{t.loading.testing=!1,t.error=r.payload||null,t.testResult=null}).addCase(bp.pending,(t,r)=>{const n=r.meta.arg;t.loading.toggling[n]=!0,t.error=null;const a=t.rules.findIndex(o=>o.id===n);a!==-1&&(t.rules[a].is_active=!t.rules[a].is_active)}).addCase(bp.fulfilled,(t,r)=>{const n=r.payload.data.rule.id;delete t.loading.toggling[n];const a=t.rules.findIndex(o=>o.id===n);a!==-1&&(t.rules[a]=r.payload.data.rule),t.successMessage=r.payload.message||"Rule status updated successfully"}).addCase(bp.rejected,(t,r)=>{const n=r.payload?.ruleId||r.meta.arg;delete t.loading.toggling[n],t.error=r.payload||null;const a=t.rules.findIndex(o=>o.id===n);a!==-1&&(t.rules[a].is_active=!t.rules[a].is_active)}).addCase(J0.pending,t=>{t.error=null}).addCase(J0.fulfilled,t=>{t.successMessage="Selected rules updated successfully"}).addCase(J0.rejected,(t,r)=>{t.error=r.payload||null})}}),{clearError:rI,clearSuccessMessage:nI,clearTestResult:eae,updateFilters:tae,resetFilters:rae,resetState:nae,optimisticallyUpdateRule:jze}=EF.actions,sae=EF.reducer,eg=e=>e.authRules,aae=e=>e.authRules.rules,oae=e=>e.authRules.pagination,iae=e=>e.authRules.testResult,lae=e=>e.authRules.filters,cae=e=>e.authRules.error,dae=e=>e.authRules.successMessage,uae=e=>e.authRules.loading.fetching,fae=e=>e.authRules.loading.creating,mae=e=>e.authRules.loading.testing,hae=e=>e.authRules.loading.toggling,pae=he([eg],e=>e.rules.filter(t=>t.is_active)),gae=he([eg],e=>e.rules.filter(t=>!t.is_active)),xae=he([eg],e=>e.rules.length>0),vae=he([eg],e=>e.pagination?.total||0);he([eg],e=>e.filters.currentPage);const xs={selectRules:aae,selectPagination:oae,selectTestResult:iae,selectIsFetching:uae,selectIsCreating:fae,selectIsTesting:mae,selectTogglingStates:hae,selectError:cae,selectSuccessMessage:dae,selectFilters:lae,selectActiveRules:pae,selectInactiveRules:gae,selectHasRules:xae,selectTotalRules:vae},sI={PER_PAGE:3,PAGE:1},Iw={SERVICE_CLIENTS:"/api/v1/service-clients",ROTATE_TOKEN:e=>`/api/v1/service-clients/${e}/rotate-token`,TOGGLE_STATUS:e=>`/api/v1/service-clients/${e}/toggle-status`},yae="https://auth.pnepizza.com",bae=()=>{try{const t=Vn.getState().auth?.token;return t||qn()}catch(e){return console.error("Error retrieving auth token:",e),null}},Jf=ft.create({baseURL:yae,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"}});Jf.interceptors.request.use(e=>{const t=bae();return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>(console.error("Request interceptor error:",e),Promise.reject(e)));Jf.interceptors.response.use(e=>e,e=>{if(e.response){const{status:t,data:r}=e.response;switch(t){case 401:console.warn("Unauthorized request - token may be expired");break;case 403:console.warn("Forbidden request - insufficient permissions");break;case 422:console.warn("Validation error:",r);break;case 500:console.error("Internal server error");break;default:console.error(`HTTP ${t} error:`,r)}}else e.request?console.error("Network error - no response received:",e.request):console.error("Request configuration error:",e.message);return Promise.reject(e)});const wae=e=>{const t=new URLSearchParams;return Object.entries(e).forEach(([r,n])=>{n!=null&&n!==""&&t.append(r,String(n))}),t.toString()},Sae=async e=>{try{const t={per_page:e?.per_page||sI.PER_PAGE,page:e?.page||sI.PAGE,...e?.search&&{search:e.search}},r=wae(t),n=`${Iw.SERVICE_CLIENTS}${r?`?${r}`:""}`;return console.log("🔍 Fetching service clients:",{url:n,params:t}),await Jf.get(n)}catch(t){throw console.error("Error fetching service clients:",t),t}},jae=async e=>{try{if(console.log("🆕 Creating service client:",e),!e.name||!e.name.trim())throw new Error("Service client name is required");const t=await Jf.post(Iw.SERVICE_CLIENTS,e);return console.log("✅ Service client created successfully"),t}catch(t){throw console.error("Error creating service client:",t),t}},Nae=async(e,t)=>{try{if(console.log("🔄 Rotating token for client:",{clientId:e,data:t}),!e||e<=0)throw new Error("Valid client ID is required");const r=Iw.ROTATE_TOKEN(e),n=t||{},a=await Jf.post(r,n);return console.log("✅ Token rotated successfully"),a}catch(r){throw console.error("Error rotating service token:",r),r}},Cae=async e=>{try{if(console.log("🔄 Toggling status for client:",e),!e||e<=0)throw new Error("Valid client ID is required");const t=Iw.TOGGLE_STATUS(e),r=await Jf.post(t);return console.log("✅ Status toggled successfully"),r}catch(t){throw console.error("Error toggling service status:",t),t}},aI={clients:[],pagination:null,loading:{fetching:!1,creating:!1,rotating:!1,toggling:!1},errors:{fetch:null,create:null,rotate:null,toggle:null},selectedClient:null,lastCreatedToken:null},Lw=e=>{if(e?.response?.data){const t=e.response.data;if("errors"in t&&t.errors){const r=t,n=Object.keys(r.errors)[0];return r.errors[n]?.[0]||r.message||"Validation error occurred"}if("success"in t&&!t.success)return t.message||"An error occurred";if("message"in t)return t.message}return e?.message?e.message:"An unexpected error occurred"},ey=Le("serviceClients/fetchClients",async(e,{rejectWithValue:t})=>{try{return(await Sae(e)).data.data}catch(r){const n=Lw(r);return t(n)}}),ty=Le("serviceClients/createClient",async(e,{rejectWithValue:t})=>{try{const r=await jae(e);return{client:r.data.data.service,token:r.data.data.token}}catch(r){const n=Lw(r);return t(n)}}),ry=Le("serviceClients/rotateToken",async({clientId:e,data:t},{rejectWithValue:r})=>{try{const n=await Nae(e,t);return{client:n.data.data.service,token:n.data.data.token}}catch(n){const a=Lw(n);return r(a)}}),ny=Le("serviceClients/toggleStatus",async(e,{rejectWithValue:t})=>{try{return{client:(await Cae(e)).data.data.service}}catch(r){const n=Lw(r);return t(n)}}),_F=Zt({name:"serviceClients",initialState:aI,reducers:{selectClient:(e,t)=>{e.selectedClient=t.payload},clearErrors:e=>{e.errors={fetch:null,create:null,rotate:null,toggle:null}},clearError:(e,t)=>{e.errors[t.payload]=null},clearLastCreatedToken:e=>{e.lastCreatedToken=null},updateClient:(e,t)=>{const r=e.clients.findIndex(n=>n.id===t.payload.id);r!==-1&&(e.clients[r]=t.payload),e.selectedClient?.id===t.payload.id&&(e.selectedClient=t.payload)},removeClient:(e,t)=>{e.clients=e.clients.filter(r=>r.id!==t.payload),e.selectedClient?.id===t.payload&&(e.selectedClient=null)},resetState:()=>aI},extraReducers:e=>{e.addCase(ey.pending,t=>{t.loading.fetching=!0,t.errors.fetch=null}).addCase(ey.fulfilled,(t,r)=>{t.loading.fetching=!1,t.clients=r.payload.data;const{data:n,...a}=r.payload;t.pagination=a,t.errors.fetch=null}).addCase(ey.rejected,(t,r)=>{t.loading.fetching=!1,t.errors.fetch=r.payload}),e.addCase(ty.pending,t=>{t.loading.creating=!0,t.errors.create=null,t.lastCreatedToken=null}).addCase(ty.fulfilled,(t,r)=>{t.loading.creating=!1,t.clients.unshift(r.payload.client),t.lastCreatedToken=r.payload.token,t.pagination&&(t.pagination.total+=1),t.errors.create=null}).addCase(ty.rejected,(t,r)=>{t.loading.creating=!1,t.errors.create=r.payload}),e.addCase(ry.pending,t=>{t.loading.rotating=!0,t.errors.rotate=null}).addCase(ry.fulfilled,(t,r)=>{t.loading.rotating=!1;const n=t.clients.findIndex(a=>a.id===r.payload.client.id);n!==-1&&(t.clients[n]=r.payload.client),t.selectedClient?.id===r.payload.client.id&&(t.selectedClient=r.payload.client),t.lastCreatedToken=r.payload.token,t.errors.rotate=null}).addCase(ry.rejected,(t,r)=>{t.loading.rotating=!1,t.errors.rotate=r.payload}),e.addCase(ny.pending,t=>{t.loading.toggling=!0,t.errors.toggle=null}).addCase(ny.fulfilled,(t,r)=>{t.loading.toggling=!1;const n=t.clients.findIndex(a=>a.id===r.payload.client.id);n!==-1&&(t.clients[n]=r.payload.client),t.selectedClient?.id===r.payload.client.id&&(t.selectedClient=r.payload.client),t.errors.toggle=null}).addCase(ny.rejected,(t,r)=>{t.loading.toggling=!1,t.errors.toggle=r.payload})}}),{selectClient:Eae,clearErrors:_ae,clearError:Nze,clearLastCreatedToken:Aae,updateClient:Cze,removeClient:Eze,resetState:_ze}=_F.actions,kae=e=>e.serviceClients.clients,Dae=e=>e.serviceClients.pagination,Tae=e=>e.serviceClients.loading,Rae=e=>e.serviceClients.errors,Pae=e=>e.serviceClients.selectedClient,Mae=e=>e.serviceClients.lastCreatedToken,Oae=_F.reducer,mb={page:1,perPage:5},qu={STORES:"/api/v1/stores",STORE_DETAIL:e=>`/api/v1/stores/${e}`,STORE_USERS:e=>`/api/v1/stores/${e}/users`,STORE_ROLES:e=>`/api/v1/stores/${e}/roles`},Iae="https://auth.pnepizza.com",Vl=ft.create({baseURL:Iae,timeout:1e4,headers:{Accept:"application/json","Content-Type":"application/json"}}),Lae=()=>{try{const t=Vn.getState().auth?.token;return t||qn()}catch(e){return console.error("Error retrieving auth token:",e),null}};Vl.interceptors.request.use(e=>{const t=Lae();return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>(console.error("Request interceptor error:",e),Promise.reject(e)));Vl.interceptors.response.use(e=>e,e=>(e.response?.status===401&&console.warn("Authentication failed - token may be expired"),Promise.reject(e)));const Bae=e=>{if(ft.isAxiosError(e)){const t=e;return{message:t.response?.data?.message||t.message||"An unexpected error occurred",status:t.response?.status,errors:t.response?.data?.errors||{}}}return e instanceof Error?{message:e.message}:{message:"An unknown error occurred"}},Vu=async(e,t)=>{try{const r=await e();if(!r.data)throw new Error(`Invalid response structure from ${t}`);return r.data}catch(r){const n=Bae(r);throw console.error(`${t} failed:`,n),n}};class Fae{async getStores(t={}){const{per_page:r=5,page:n=1,search:a="",is_active:o}=t,l={per_page:r,page:n,search:a};o!==void 0&&(l.is_active=o);const c=await Vu(()=>Vl.get(qu.STORES,{params:l}),"getStores");if(!c.success||!c.data)throw new Error("Invalid stores response format");return{stores:c.data.data,pagination:{current_page:c.data.current_page,first_page_url:c.data.first_page_url,from:c.data.from,last_page:c.data.last_page,last_page_url:c.data.last_page_url,links:c.data.links,next_page_url:c.data.next_page_url,path:c.data.path,per_page:c.data.per_page,prev_page_url:c.data.prev_page_url,to:c.data.to,total:c.data.total}}}async getStore(t){if(!t||t.trim()==="")throw new Error("Store ID is required");const r=await Vu(()=>Vl.get(qu.STORE_DETAIL(t)),`getStore(${t})`);if(!r.success||!r.data?.store)throw new Error("Invalid store response format");return r.data.store}async createStore(t){if(!t.id||!t.name)throw new Error("Store ID and name are required");if(!t.metadata)throw new Error("Store metadata is required");const r=await Vu(()=>Vl.post(qu.STORES,t),"createStore");if(!r.success||!r.data?.store)throw new Error("Invalid create store response format");return r.data.store}async updateStore(t,r){if(!t||t.trim()==="")throw new Error("Store ID is required");if(!r.name)throw new Error("Store name is required");if(!r.metadata)throw new Error("Store metadata is required");const n=await Vu(()=>Vl.put(qu.STORE_DETAIL(t),r),`updateStore(${t})`);if(!n.success||!n.data?.store)throw new Error("Invalid update store response format");return n.data.store}async getStoreUsers(t){if(!t||t.trim()==="")throw new Error("Store ID is required");const r=await Vu(()=>Vl.get(qu.STORE_USERS(t)),`getStoreUsers(${t})`);if(!r.success||!r.data?.users)throw new Error("Invalid store users response format");return r.data.users}async getStoreRoles(t){if(!t||t.trim()==="")throw new Error("Store ID is required");const r=await Vu(()=>Vl.get(qu.STORE_ROLES(t)),`getStoreRoles(${t})`);if(!r.success||!r.data?.roles)throw new Error("Invalid store roles response format");return r.data.roles}async storeExists(t){try{return await this.getStore(t),!0}catch(r){if(r.status===404)return!1;throw r}}async getStoresBatch(t){if(!t.length)return[];const r=t.map(n=>this.getStore(n));try{return await Promise.all(r)}catch(n){throw console.error("Batch store fetch failed:",n),new Error("Failed to fetch one or more stores")}}async searchStores(t,r={}){return this.getStores({...r,search:t.trim()})}}const Fd=new Fae,Wu={loading:!1,error:null},oI={stores:null,currentStore:null,storeUsers:{},storeRoles:{},asyncStates:{fetchStores:{...Wu},fetchStore:{...Wu},createStore:{...Wu},updateStore:{...Wu},fetchStoreUsers:{...Wu},fetchStoreRoles:{...Wu}},selectedStoreId:null,searchQuery:"",currentPage:mb.page,perPage:mb.perPage},wf=Le("stores/fetchStores",async(e={},{rejectWithValue:t})=>{try{return await Fd.getStores(e)}catch(r){const n=r;return t({message:n.message||"Failed to fetch stores",status:n.status,timestamp:new Date().toISOString()})}}),wp=Le("stores/fetchStoreById",async(e,{rejectWithValue:t})=>{try{if(!e.trim())throw new Error("Store ID is required");return await Fd.getStore(e)}catch(r){const n=r;return t({message:n.message||`Failed to fetch store ${e}`,status:n.status,timestamp:new Date().toISOString()})}}),sy=Le("stores/createStore",async(e,{rejectWithValue:t,dispatch:r,getState:n})=>{try{if(!e.id||!e.name)throw new Error("Store ID and name are required");const a=await Fd.createStore(e),o=n();return r(wf({page:o.stores.currentPage,per_page:o.stores.perPage,search:o.stores.searchQuery})),a}catch(a){const o=a;return t({message:o.message||"Failed to create store",status:o.status,timestamp:new Date().toISOString()})}}),ay=Le("stores/updateStore",async({storeId:e,payload:t},{rejectWithValue:r,dispatch:n,getState:a})=>{try{if(!e.trim())throw new Error("Store ID is required");const o=await Fd.updateStore(e,t),l=a();return n(wf({page:l.stores.currentPage,per_page:l.stores.perPage,search:l.stores.searchQuery})),o}catch(o){const l=o;return r({message:l.message||`Failed to update store ${e}`,status:l.status,timestamp:new Date().toISOString()})}}),UN=Le("stores/fetchStoreUsers",async(e,{rejectWithValue:t})=>{try{if(!e.trim())throw new Error("Store ID is required");const r=await Fd.getStoreUsers(e);return{storeId:e,users:r}}catch(r){const n=r;return t({message:n.message||`Failed to fetch users for store ${e}`,status:n.status,timestamp:new Date().toISOString()})}}),$N=Le("stores/fetchStoreRoles",async(e,{rejectWithValue:t})=>{try{if(!e.trim())throw new Error("Store ID is required");const r=await Fd.getStoreRoles(e);return{storeId:e,roles:r}}catch(r){const n=r;return t({message:n.message||`Failed to fetch roles for store ${e}`,status:n.status,timestamp:new Date().toISOString()})}}),HN=Le("stores/searchStores",async({query:e,page:t=1},{rejectWithValue:r,getState:n})=>{try{const a=n();return await Fd.searchStores(e,{page:t,per_page:a.stores.perPage})}catch(a){const o=a;return r({message:o.message||"Failed to search stores",status:o.status,timestamp:new Date().toISOString()})}}),AF=Zt({name:"stores",initialState:oI,reducers:{clearErrors:e=>{Object.keys(e.asyncStates).forEach(t=>{const r=e.asyncStates[t];r.error=null})},clearError:(e,t)=>{e.asyncStates[t.payload].error=null},setSelectedStoreId:(e,t)=>{e.selectedStoreId=t.payload},setSearchQuery:(e,t)=>{e.searchQuery=t.payload},setCurrentPage:(e,t)=>{e.currentPage=Math.max(1,t.payload)},setPerPage:(e,t)=>{e.perPage=Math.max(1,Math.min(100,t.payload)),e.currentPage=1},resetStoresState:()=>({...oI}),resetPagination:e=>{e.currentPage=mb.page,e.perPage=mb.perPage,e.searchQuery=""},clearCurrentStore:e=>{e.currentStore=null},clearStoreUsers:(e,t)=>{t.payload?delete e.storeUsers[t.payload]:e.storeUsers={}},clearStoreRoles:(e,t)=>{t.payload?delete e.storeRoles[t.payload]:e.storeRoles={}},updateStoreInList:(e,t)=>{if(e.stores?.stores){const r=e.stores.stores.findIndex(n=>n.id===t.payload.id);r!==-1&&(e.stores.stores[r]=t.payload)}},removeStoreFromList:(e,t)=>{e.stores?.stores&&(e.stores.stores=e.stores.stores.filter(r=>r.id!==t.payload),e.stores.pagination&&(e.stores.pagination.total=Math.max(0,e.stores.pagination.total-1)))}},extraReducers:e=>{e.addCase(wf.pending,t=>{t.asyncStates.fetchStores.loading=!0,t.asyncStates.fetchStores.error=null}).addCase(wf.fulfilled,(t,r)=>{t.asyncStates.fetchStores.loading=!1,t.stores=r.payload,t.currentPage=r.payload.pagination.current_page}).addCase(wf.rejected,(t,r)=>{t.asyncStates.fetchStores.loading=!1,t.asyncStates.fetchStores.error=r.payload?.message||"Failed to fetch stores"}),e.addCase(wp.pending,t=>{t.asyncStates.fetchStore.loading=!0,t.asyncStates.fetchStore.error=null}).addCase(wp.fulfilled,(t,r)=>{t.asyncStates.fetchStore.loading=!1,t.currentStore=r.payload,t.selectedStoreId=r.payload.id}).addCase(wp.rejected,(t,r)=>{t.asyncStates.fetchStore.loading=!1,t.asyncStates.fetchStore.error=r.payload?.message||"Failed to fetch store",t.currentStore=null}),e.addCase(sy.pending,t=>{t.asyncStates.createStore.loading=!0,t.asyncStates.createStore.error=null}).addCase(sy.fulfilled,(t,r)=>{t.asyncStates.createStore.loading=!1,t.stores?.stores&&(t.stores.stores.unshift(r.payload),t.stores.pagination&&(t.stores.pagination.total+=1))}).addCase(sy.rejected,(t,r)=>{t.asyncStates.createStore.loading=!1,t.asyncStates.createStore.error=r.payload?.message||"Failed to create store"}),e.addCase(ay.pending,t=>{t.asyncStates.updateStore.loading=!0,t.asyncStates.updateStore.error=null}).addCase(ay.fulfilled,(t,r)=>{if(t.asyncStates.updateStore.loading=!1,t.currentStore?.id===r.payload.id&&(t.currentStore=r.payload),t.stores?.stores){const n=t.stores.stores.findIndex(a=>a.id===r.payload.id);n!==-1&&(t.stores.stores[n]=r.payload)}}).addCase(ay.rejected,(t,r)=>{t.asyncStates.updateStore.loading=!1,t.asyncStates.updateStore.error=r.payload?.message||"Failed to update store"}),e.addCase(UN.pending,t=>{t.asyncStates.fetchStoreUsers.loading=!0,t.asyncStates.fetchStoreUsers.error=null}).addCase(UN.fulfilled,(t,r)=>{t.asyncStates.fetchStoreUsers.loading=!1,t.storeUsers[r.payload.storeId]=r.payload.users}).addCase(UN.rejected,(t,r)=>{t.asyncStates.fetchStoreUsers.loading=!1,t.asyncStates.fetchStoreUsers.error=r.payload?.message||"Failed to fetch store users"}),e.addCase($N.pending,t=>{t.asyncStates.fetchStoreRoles.loading=!0,t.asyncStates.fetchStoreRoles.error=null}).addCase($N.fulfilled,(t,r)=>{t.asyncStates.fetchStoreRoles.loading=!1,t.storeRoles[r.payload.storeId]=r.payload.roles}).addCase($N.rejected,(t,r)=>{t.asyncStates.fetchStoreRoles.loading=!1,t.asyncStates.fetchStoreRoles.error=r.payload?.message||"Failed to fetch store roles"}),e.addCase(HN.pending,t=>{t.asyncStates.fetchStores.loading=!0,t.asyncStates.fetchStores.error=null}).addCase(HN.fulfilled,(t,r)=>{t.asyncStates.fetchStores.loading=!1,t.stores=r.payload,t.currentPage=r.payload.pagination.current_page}).addCase(HN.rejected,(t,r)=>{t.asyncStates.fetchStores.loading=!1,t.asyncStates.fetchStores.error=r.payload?.message||"Failed to search stores"})}}),{clearErrors:Aze,clearError:kF,setSelectedStoreId:kze,setSearchQuery:Dze,setCurrentPage:Uae,setPerPage:Bw,resetStoresState:Tze,resetPagination:Rze,clearCurrentStore:$ae,clearStoreUsers:Pze,clearStoreRoles:Mze,updateStoreInList:Oze,removeStoreFromList:Ize}=AF.actions,Hae=AF.reducer,zae=e=>e.stores.stores?.stores||[],qae=e=>e.stores.stores?.pagination,Vae=e=>e.stores.currentStore,Wae=e=>e.stores.selectedStoreId,Gae=e=>e.stores.searchQuery,Yae=e=>e.stores.currentPage,tg=e=>e.stores.perPage,Zae=e=>e.stores.asyncStates.fetchStores.loading,Kae=e=>e.stores.asyncStates.fetchStore.loading,Xae=e=>e.stores.asyncStates.fetchStores.error,Qae=e=>e.stores.asyncStates.fetchStore.error,Jae=e=>t=>t.stores.stores?.stores.find(r=>r.id===e)||null,em={ASSIGN:"/api/v1/user-role-store/assign",REMOVE:"/api/v1/user-role-store/remove",TOGGLE:"/api/v1/user-role-store/toggle",BULK_ASSIGN:"/api/v1/user-role-store/bulk-assign",STORE_ASSIGNMENTS:"/api/v1/user-role-store/store-assignments",USER_ASSIGNMENTS:"/api/v1/user-role-store/user-assignments"},tm={GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE",PATCH:"PATCH"},eoe="https://auth.pnepizza.com",toe=3e4,iI=3,roe=()=>{try{const t=Vn.getState().auth?.token;return t||qn()}catch(e){return console.error("Error retrieving auth token:",e),null}},_2=ft.create({baseURL:eoe,timeout:toe,headers:{Accept:"application/json","Content-Type":"application/json"}});_2.interceptors.request.use(e=>{const t=roe();return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>(console.error("Request interceptor error:",e),Promise.reject(e)));_2.interceptors.response.use(e=>e,e=>{const t=noe(e);return Promise.reject(t)});const noe=e=>{const t=new Date().toISOString();if(!e.response)return{message:e.message||"Network error occurred",code:"NETWORK_ERROR",details:{originalError:e.message,stack:e.stack},timestamp:t};const{status:r,data:n}=e.response,a=n;switch(r){case 401:return{message:"Authentication required. Please log in again.",code:"UNAUTHORIZED",details:a,timestamp:t};case 403:return{message:"Access forbidden. You do not have permission to perform this action.",code:"FORBIDDEN",details:a,timestamp:t};case 404:return{message:"Resource not found.",code:"NOT_FOUND",details:a,timestamp:t};case 422:return{message:a?.message||"Validation error occurred.",code:"VALIDATION_ERROR",details:a?.errors||a,timestamp:t};case 429:return{message:"Too many requests. Please try again later.",code:"RATE_LIMITED",details:a,timestamp:t};case 500:return{message:"Internal server error. Please try again later.",code:"INTERNAL_SERVER_ERROR",details:a,timestamp:t};default:return{message:a?.message||e.message||"An unexpected error occurred",code:r.toString(),details:a,timestamp:t}}},Ud=async(e,t=iI)=>{try{return await e()}catch(r){if(t>0){const n=(iI-t+1)*1e3;return await new Promise(a=>setTimeout(a,n)),Ud(e,t-1)}throw r}},rm=async(e,t,r,n)=>{try{return{success:!0,data:(await _2({url:e,method:t,data:r,params:n})).data}}catch(a){return{success:!1,error:a}}},soe=async e=>Ud(()=>rm(em.ASSIGN,tm.POST,e)),aoe=async e=>Ud(()=>rm(em.REMOVE,tm.POST,e)),ooe=async e=>Ud(()=>rm(em.TOGGLE,tm.POST,e)),ioe=async e=>Ud(()=>rm(em.BULK_ASSIGN,tm.POST,e)),loe=async e=>Ud(()=>rm(em.STORE_ASSIGNMENTS,tm.GET,void 0,e)),coe=async e=>Ud(()=>rm(em.USER_ASSIGNMENTS,tm.GET,void 0,e)),Gu=()=>({loading:"idle",error:null}),lI={assignments:[],storeAssignments:{},userAssignments:{},operations:{assign:Gu(),remove:Gu(),toggle:Gu(),bulkAssign:Gu(),fetchStoreAssignments:Gu(),fetchUserAssignments:Gu()},isLoading:!1,lastUpdated:{assignments:null,storeAssignments:{},userAssignments:{}}},oy=Le("userRolesStoresAssignment/assignUserRole",async(e,{rejectWithValue:t})=>{const r=await soe(e);return r.success?r.data:t(r.error)}),iy=Le("userRolesStoresAssignment/removeUserRole",async(e,{rejectWithValue:t})=>{const r=await aoe(e);return r.success?r.data:t(r.error)}),ly=Le("userRolesStoresAssignment/toggleUserRoleStatus",async(e,{rejectWithValue:t})=>{const r=await ooe(e);return r.success?r.data:t(r.error)}),cy=Le("userRolesStoresAssignment/bulkAssignUserRole",async(e,{rejectWithValue:t})=>{const r=await ioe(e);return r.success?r.data:t(r.error)}),dy=Le("userRolesStoresAssignment/fetchStoreAssignments",async(e,{rejectWithValue:t})=>{const r=await loe(e);return r.success?r.data:t(r.error)}),uy=Le("userRolesStoresAssignment/fetchUserAssignments",async(e,{rejectWithValue:t})=>{const r=await coe(e);return r.success?r.data:t(r.error)}),DF=Zt({name:"userRolesStoresAssignment",initialState:lI,reducers:{clearErrors:e=>{Object.keys(e.operations).forEach(t=>{const r=t;e.operations[r].error=null})},clearOperationError:(e,t)=>{e.operations[t.payload].error=null},clearAssignments:e=>{e.assignments=[],e.storeAssignments={},e.userAssignments={},e.lastUpdated={assignments:null,storeAssignments:{},userAssignments:{}}},clearStoreAssignments:(e,t)=>{const r=t.payload;delete e.storeAssignments[r],delete e.lastUpdated.storeAssignments[r]},clearUserAssignments:(e,t)=>{const r=t.payload;delete e.userAssignments[r],delete e.lastUpdated.userAssignments[r]},resetState:()=>lI},extraReducers:e=>{e.addCase(oy.pending,t=>{t.operations.assign.loading="pending",t.operations.assign.error=null,t.isLoading=!0}).addCase(oy.fulfilled,(t,r)=>{t.operations.assign.loading="fulfilled",t.operations.assign.error=null,t.isLoading=!1;const n=r.payload.data.assignment;t.assignments.push(n);const a=n.store_id;t.storeAssignments[a]||(t.storeAssignments[a]=[]),t.storeAssignments[a].push(n);const o=n.user_id;t.userAssignments[o]||(t.userAssignments[o]=[]),t.userAssignments[o].push(n);const l=new Date().toISOString();t.lastUpdated.assignments=l,t.lastUpdated.storeAssignments[a]=l,t.lastUpdated.userAssignments[o]=l}).addCase(oy.rejected,(t,r)=>{t.operations.assign.loading="rejected",t.operations.assign.error=r.payload||{message:"Failed to assign user role",timestamp:new Date().toISOString()},t.isLoading=!1}),e.addCase(iy.pending,t=>{t.operations.remove.loading="pending",t.operations.remove.error=null,t.isLoading=!0}).addCase(iy.fulfilled,t=>{t.operations.remove.loading="fulfilled",t.operations.remove.error=null,t.isLoading=!1,t.lastUpdated.assignments=null}).addCase(iy.rejected,(t,r)=>{t.operations.remove.loading="rejected",t.operations.remove.error=r.payload||{message:"Failed to remove user role",timestamp:new Date().toISOString()},t.isLoading=!1}),e.addCase(ly.pending,t=>{t.operations.toggle.loading="pending",t.operations.toggle.error=null,t.isLoading=!0}).addCase(ly.fulfilled,t=>{t.operations.toggle.loading="fulfilled",t.operations.toggle.error=null,t.isLoading=!1,t.lastUpdated.assignments=null}).addCase(ly.rejected,(t,r)=>{t.operations.toggle.loading="rejected",t.operations.toggle.error=r.payload||{message:"Failed to toggle user role status",timestamp:new Date().toISOString()},t.isLoading=!1}),e.addCase(cy.pending,t=>{t.operations.bulkAssign.loading="pending",t.operations.bulkAssign.error=null,t.isLoading=!0}).addCase(cy.fulfilled,(t,r)=>{t.operations.bulkAssign.loading="fulfilled",t.operations.bulkAssign.error=null,t.isLoading=!1;const n=r.payload.data.assignments;t.assignments.push(...n);const a=new Date().toISOString();t.lastUpdated.assignments=a,n.forEach(o=>{const l=o.store_id,c=o.user_id;t.storeAssignments[l]||(t.storeAssignments[l]=[]),t.storeAssignments[l].push(o),t.lastUpdated.storeAssignments[l]=a,t.userAssignments[c]||(t.userAssignments[c]=[]),t.userAssignments[c].push(o),t.lastUpdated.userAssignments[c]=a})}).addCase(cy.rejected,(t,r)=>{t.operations.bulkAssign.loading="rejected",t.operations.bulkAssign.error=r.payload||{message:"Failed to bulk assign user roles",timestamp:new Date().toISOString()},t.isLoading=!1}),e.addCase(dy.pending,t=>{t.operations.fetchStoreAssignments.loading="pending",t.operations.fetchStoreAssignments.error=null,t.isLoading=!0}).addCase(dy.fulfilled,(t,r)=>{t.operations.fetchStoreAssignments.loading="fulfilled",t.operations.fetchStoreAssignments.error=null,t.isLoading=!1;const n=r.payload.data.assignments;if(n.length>0){const a=n[0].store_id;t.storeAssignments[a]=n,t.lastUpdated.storeAssignments[a]=new Date().toISOString()}}).addCase(dy.rejected,(t,r)=>{t.operations.fetchStoreAssignments.loading="rejected",t.operations.fetchStoreAssignments.error=r.payload||{message:"Failed to fetch store assignments",timestamp:new Date().toISOString()},t.isLoading=!1}),e.addCase(uy.pending,t=>{t.operations.fetchUserAssignments.loading="pending",t.operations.fetchUserAssignments.error=null,t.isLoading=!0}).addCase(uy.fulfilled,(t,r)=>{t.operations.fetchUserAssignments.loading="fulfilled",t.operations.fetchUserAssignments.error=null,t.isLoading=!1;const n=r.payload.data.assignments;if(n.length>0){const a=n[0].user_id;t.userAssignments[a]=n,t.lastUpdated.userAssignments[a]=new Date().toISOString()}}).addCase(uy.rejected,(t,r)=>{t.operations.fetchUserAssignments.loading="rejected",t.operations.fetchUserAssignments.error=r.payload||{message:"Failed to fetch user assignments",timestamp:new Date().toISOString()},t.isLoading=!1})}}),{clearErrors:Lze,clearOperationError:Bze,clearAssignments:Fze,clearStoreAssignments:Uze,clearUserAssignments:$ze,resetState:Hze}=DF.actions,doe=DF.reducer,uoe=e=>e.userRolesStoresAssignment,foe=e=>e.userRolesStoresAssignment.isLoading,df=e=>t=>t.userRolesStoresAssignment.operations[e].loading,uf=e=>t=>t.userRolesStoresAssignment.operations[e].error,hb={BASE_URL:"https://auth.pnepizza.com/api/v1",TIMEOUT:15e3,RETRY_ATTEMPTS:3,RETRY_DELAY:1e3},moe=()=>{try{const t=Vn.getState().auth?.token;return t&&typeof t=="string"?t:qn()}catch(e){return console.warn("Failed to retrieve auth token:",e),null}},nm=ft.create({baseURL:hb.BASE_URL,timeout:hb.TIMEOUT,headers:{Accept:"application/json","Content-Type":"application/json"}});nm.interceptors.request.use(e=>{const t=moe();return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e.metadata={startTime:Date.now()},e},e=>Promise.reject(e));nm.interceptors.response.use(e=>e,e=>Promise.reject(e));const Fw=e=>{if(ft.isAxiosError(e)){const t=e;if(t.response){const{status:r,data:n}=t.response;return{code:r,message:n?.message||hoe(r),details:n?.error?.details,validation_errors:n?.error?.validation_errors}}return t.request?{code:"NETWORK_ERROR",message:"Network error - please check your connection and try again",details:{originalError:t.message}}:{code:"REQUEST_SETUP_ERROR",message:"Request configuration error",details:{originalError:t.message}}}return{code:"UNKNOWN_ERROR",message:e instanceof Error?e.message:"An unexpected error occurred",details:{originalError:String(e)}}},hoe=e=>({400:"Invalid request data - please check your input",401:"Authentication required - please log in again",403:"You do not have permission to perform this action",404:"The requested resource was not found",409:"Conflict - this operation cannot be completed",422:"Validation failed - please check your input data",429:"Too many requests - please try again later",500:"Server error - please try again later",502:"Service temporarily unavailable",503:"Service maintenance in progress"})[e]||`Request failed with status ${e}`,rg=async(e,t=hb.RETRY_ATTEMPTS,r=hb.RETRY_DELAY)=>{try{return await e()}catch(n){if(t>0&&poe(n))return await new Promise(a=>setTimeout(a,r)),rg(e,t-1,r*2);throw n}},poe=e=>ft.isAxiosError(e)?!e.response||e.response.status>=500:!1,goe=async e=>{try{const t=await rg(async()=>await nm.post("/role-hierarchy",e));if(t.data.success&&t.data.data)return t.data.data;throw new Error(t.data.message||"Failed to create role hierarchy")}catch(t){throw Fw(t)}},xoe=async e=>{if(!e||typeof e!="string")throw{code:"INVALID_STORE_ID",message:"Store ID is required and must be a valid string"};try{const t=await rg(async()=>await nm.get(`/role-hierarchy/store?store_id=${encodeURIComponent(e)}`));if(t.data.success&&t.data.data)return t.data.data;throw new Error(t.data.message||"Failed to fetch store hierarchies")}catch(t){throw Fw(t)}},voe=async e=>{if(!e||typeof e!="string")throw{code:"INVALID_STORE_ID",message:"Store ID is required and must be a valid string"};try{const t=await rg(async()=>await nm.get(`/role-hierarchy/tree?store_id=${encodeURIComponent(e)}`));if(t.data.success&&t.data.data)return t.data.data;throw new Error(t.data.message||"Failed to fetch hierarchy tree")}catch(t){throw Fw(t)}},yoe=async e=>{try{const t=await rg(async()=>await nm.post("/role-hierarchy/remove",e));if(!t.data.success)throw new Error(t.data.message||"Failed to remove role hierarchy");return}catch(t){throw Fw(t)}},boe=e=>{const t=(r,n=0,a=[])=>{const o=[...a,r.role.id];return{...r,children:r.children.map(l=>t(l,n+1,o)),treeMetadata:{depth:n,path:o,isExpanded:n<2,isSelected:!1,isLoading:!1,hasError:!1}}};return e.map(r=>t(r))},woe=e=>{const t=[],r=(n,a="")=>{n.forEach(o=>{const l=a?`${a} > ${o.role.name}`:o.role.name;t.push({...o,flatPath:l}),o.children.length>0&&r(o.children,l)})};return r(e),t},Soe=e=>{const t=[],r=new Set;return e.forEach((n,a)=>{r.has(n.higher_role_id)&&r.has(n.lower_role_id)&&t.push(`Potential circular reference detected in hierarchy ${a+1}`),r.add(n.higher_role_id),r.add(n.lower_role_id),n.higher_role_id===n.lower_role_id&&t.push(`Self-referencing hierarchy detected in hierarchy ${a+1}`),n.store_id||t.push(`Missing store_id in hierarchy ${a+1}`)}),{isValid:t.length===0,issues:t}},$i={createRoleHierarchy:goe,getStoreHierarchy:xoe,getStoreHierarchyTree:voe,removeRoleHierarchy:yoe,transformApiTreeToNormalized:boe,flattenTree:woe,validateHierarchyData:Soe},joe={hierarchiesById:{},hierarchiesByStore:{},treesByStore:{},rolesById:{},permissionsById:{},storesById:{},loading:{creating:!1,fetchingHierarchies:!1,fetchingTree:!1,removing:!1},errors:{createError:null,fetchError:null,treeError:null,removeError:null},lastUpdated:{},selectedStoreId:null},Sp=Le("roleHierarchy/createHierarchy",async(e,{rejectWithValue:t})=>{try{return(await $i.createRoleHierarchy(e)).hierarchy}catch(r){return t(r)}}),vd=Le("roleHierarchy/fetchStoreHierarchies",async(e,{rejectWithValue:t,getState:r})=>{try{const n=r(),a=n.roleHierarchy.lastUpdated[`hierarchies_${e}`];return a&&Date.now()-a<3e5&&n.roleHierarchy.hierarchiesByStore[e]?.length>0?n.roleHierarchy.hierarchiesByStore[e].map(d=>n.roleHierarchy.hierarchiesById[d]).filter(Boolean):(await $i.getStoreHierarchy(e)).hierarchies}catch(n){return t(n)}}),yd=Le("roleHierarchy/fetchHierarchyTree",async(e,{rejectWithValue:t,getState:r})=>{try{const n=r(),a=n.roleHierarchy.lastUpdated[`tree_${e}`];if(a&&Date.now()-a<3e5&&n.roleHierarchy.treesByStore[e]?.length>0)return n.roleHierarchy.treesByStore[e];const l=await $i.getStoreHierarchyTree(e);return $i.transformApiTreeToNormalized(l.hierarchy_tree)}catch(n){return t(n)}}),jp=Le("roleHierarchy/removeHierarchy",async(e,{rejectWithValue:t,dispatch:r})=>{try{return await $i.removeRoleHierarchy(e),r(vd(e.store_id)),r(yd(e.store_id)),e}catch(n){return t(n)}}),zN=Le("roleHierarchy/refreshStoreData",async(e,{rejectWithValue:t})=>{try{const[r,n]=await Promise.all([$i.getStoreHierarchy(e),$i.getStoreHierarchyTree(e)]);return{hierarchies:r.hierarchies,tree:$i.transformApiTreeToNormalized(n.hierarchy_tree)}}catch(r){return t(r)}}),TF=Zt({name:"roleHierarchy",initialState:joe,reducers:{setSelectedStoreId:(e,t)=>{e.selectedStoreId=t.payload},clearErrors:e=>{e.errors={createError:null,fetchError:null,treeError:null,removeError:null}},clearError:(e,t)=>{e.errors[t.payload]=null},updateTreeNodeMetadata:(e,t)=>{const{storeId:r,roleId:n,metadata:a}=t.payload,o=e.treesByStore[r];if(o){const l=c=>{c.forEach(d=>{d.role.id===n?d.treeMetadata={...d.treeMetadata,...a}:d.children.length>0&&l(d.children)})};l(o)}},invalidateStoreCache:(e,t)=>{const r=t.payload;delete e.lastUpdated[`hierarchies_${r}`],delete e.lastUpdated[`tree_${r}`]},normalizeEntities:(e,t)=>{const{roles:r,permissions:n,stores:a}=t.payload;r&&r.forEach(o=>{e.rolesById[o.id]=o}),n&&n.forEach(o=>{e.permissionsById[o.id]=o}),a&&a.forEach(o=>{e.storesById[o.id]=o})}},extraReducers:e=>{e.addCase(Sp.pending,t=>{t.loading.creating=!0,t.errors.createError=null}).addCase(Sp.fulfilled,(t,r)=>{t.loading.creating=!1,t.errors.createError=null;const n=r.payload;t.hierarchiesById[n.id]=n;const a=n.store_id;t.hierarchiesByStore[a]||(t.hierarchiesByStore[a]=[]),t.hierarchiesByStore[a].includes(n.id)||t.hierarchiesByStore[a].push(n.id),n.higher_role&&(t.rolesById[n.higher_role.id]=n.higher_role),n.lower_role&&(t.rolesById[n.lower_role.id]=n.lower_role),n.store&&(t.storesById[n.store.id]=n.store),t.lastUpdated[`hierarchies_${a}`]=Date.now()}).addCase(Sp.rejected,(t,r)=>{t.loading.creating=!1,t.errors.createError=r.payload||{code:"CREATE_FAILED",message:"Failed to create hierarchy"}}).addCase(vd.pending,t=>{t.loading.fetchingHierarchies=!0,t.errors.fetchError=null}).addCase(vd.fulfilled,(t,r)=>{t.loading.fetchingHierarchies=!1,t.errors.fetchError=null;const n=r.payload,a=r.meta.arg;t.hierarchiesByStore[a]=[],n.forEach(o=>{t.hierarchiesById[o.id]=o,t.hierarchiesByStore[a].push(o.id),o.higher_role&&(t.rolesById[o.higher_role.id]=o.higher_role),o.lower_role&&(t.rolesById[o.lower_role.id]=o.lower_role)}),!t.selectedStoreId&&n.length>0&&(t.selectedStoreId=a),t.lastUpdated[`hierarchies_${a}`]=Date.now()}).addCase(vd.rejected,(t,r)=>{t.loading.fetchingHierarchies=!1,t.errors.fetchError=r.payload||{code:"FETCH_FAILED",message:"Failed to fetch store hierarchies"}}).addCase(yd.pending,t=>{t.loading.fetchingTree=!0,t.errors.treeError=null}).addCase(yd.fulfilled,(t,r)=>{t.loading.fetchingTree=!1,t.errors.treeError=null;const n=r.payload,a=r.meta.arg;t.treesByStore[a]=n;const o=l=>{l.forEach(c=>{t.rolesById[c.role.id]=c.role,c.permissions?.forEach(d=>{t.permissionsById[d.id]=d}),c.children.length>0&&o(c.children)})};o(n),t.lastUpdated[`tree_${a}`]=Date.now()}).addCase(yd.rejected,(t,r)=>{t.loading.fetchingTree=!1,t.errors.treeError=r.payload||{code:"TREE_FETCH_FAILED",message:"Failed to fetch hierarchy tree"}}).addCase(jp.pending,t=>{t.loading.removing=!0,t.errors.removeError=null}).addCase(jp.fulfilled,(t,r)=>{t.loading.removing=!1,t.errors.removeError=null;const{store_id:n}=r.payload;delete t.lastUpdated[`hierarchies_${n}`],delete t.lastUpdated[`tree_${n}`]}).addCase(jp.rejected,(t,r)=>{t.loading.removing=!1,t.errors.removeError=r.payload||{code:"REMOVE_FAILED",message:"Failed to remove hierarchy"}}).addCase(zN.pending,t=>{t.loading.fetchingHierarchies=!0,t.loading.fetchingTree=!0}).addCase(zN.fulfilled,(t,r)=>{t.loading.fetchingHierarchies=!1,t.loading.fetchingTree=!1;const{hierarchies:n,tree:a}=r.payload,o=r.meta.arg;t.hierarchiesByStore[o]=[],n.forEach(c=>{t.hierarchiesById[c.id]=c,t.hierarchiesByStore[o].push(c.id)}),t.treesByStore[o]=a;const l=Date.now();t.lastUpdated[`hierarchies_${o}`]=l,t.lastUpdated[`tree_${o}`]=l}).addCase(zN.rejected,(t,r)=>{t.loading.fetchingHierarchies=!1,t.loading.fetchingTree=!1,t.errors.fetchError=r.payload||{code:"REFRESH_FAILED",message:"Failed to refresh store data"}})}}),Yo=e=>e.roleHierarchy,ng=he([Yo],e=>e.loading);he([ng],e=>Object.values(e).some(Boolean));const sg=he([Yo],e=>e.errors);he([sg],e=>Object.values(e).some(Boolean));const Noe=he([Yo],e=>e.selectedStoreId);he([Yo],e=>Object.values(e.hierarchiesById));const Coe=()=>he([Yo,(e,t)=>t],(e,t)=>(e.hierarchiesByStore[t]||[]).map(n=>e.hierarchiesById[n]).filter(Boolean).sort((n,a)=>new Date(a.created_at).getTime()-new Date(n.created_at).getTime())),Eoe=he([Yo,Noe],(e,t)=>t?e.treesByStore[t]||[]:[]),_oe=()=>he([Yo,(e,t)=>t],(e,t)=>e.treesByStore[t]||[]);he([Yo],e=>Object.values(e.rolesById));he([Yo],e=>Object.values(e.permissionsById));he([Eoe],e=>e.length?$i.flattenTree(e):[]);const RF=()=>he([Yo,(e,t)=>t],(e,t)=>{const r=e.lastUpdated[`hierarchies_${t}`],n=e.lastUpdated[`tree_${t}`],a=Date.now(),o=3e5;return{hierarchiesIsFresh:r&&a-r<o,treeIsFresh:n&&a-n<o,lastUpdated:{hierarchies:r||null,tree:n||null}}}),{setSelectedStoreId:zze,clearErrors:qze,clearError:PF,updateTreeNodeMetadata:Vze,invalidateStoreCache:MF,normalizeEntities:Wze}=TF.actions,Aoe=TF.reducer,koe="http://127.0.0.1:8000/api",Dh="/positions",Doe=()=>{try{const t=Vn.getState().auth?.token;return t||qn()}catch(e){return console.error("Error retrieving auth token:",e),null}},sd=ft.create({baseURL:koe,timeout:3e4,headers:{Accept:"application/json"}});sd.interceptors.request.use(e=>{const t=Doe();return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>(console.error("Request interceptor error:",e),Promise.reject(e)));sd.interceptors.response.use(e=>e,e=>(console.error("❌ API Error:",{method:e.config?.method?.toUpperCase(),url:e.config?.url,status:e.response?.status,message:e.message,data:e.response?.data}),Promise.reject(e)));const Th=e=>{if(ft.isAxiosError(e)){const t=e,r=t.response?.data;return{message:r?.message||t.message||"An unexpected error occurred",status:t.response?.status||500,errors:r?.errors||void 0,code:r?.code||"UNKNOWN_ERROR"}}return e instanceof Error?{message:e.message,status:500,code:"NETWORK_ERROR"}:{message:"An unexpected error occurred",status:500,code:"UNKNOWN_ERROR"}},Toe=e=>{const t=new URLSearchParams;return Object.entries(e).forEach(([r,n])=>{n!=null&&n!==""&&t.append(r,n.toString())}),t.toString()};class Roe{async getAllPositions(t={}){try{console.log("📋 Fetching positions list with params:",t);const r=Toe(t),n=`${Dh}${r?`?${r}`:""}`,a=await sd.get(n);return console.log(`✅ Successfully fetched ${a.data.length} positions`),a.data}catch(r){const n=Th(r);throw console.error("❌ Failed to fetch positions:",n),n}}async getPositionById(t){try{console.log(`📄 Fetching position with ID: ${t}`);const r=await sd.get(`${Dh}/${t}`);return console.log(`✅ Successfully fetched position: ${r.data.name}`),r.data}catch(r){const n=Th(r);throw console.error(`❌ Failed to fetch position ${t}:`,n),n}}async createPosition(t){try{if(console.log("➕ Creating new position:",t),!t.name?.trim())throw{message:"Position name is required",status:400,errors:{name:["Position name is required"]},code:"VALIDATION_ERROR"};const r=await sd.post(Dh,t);return console.log(`✅ Successfully created position: ${r.data.name} (ID: ${r.data.id})`),r.data}catch(r){const n=Th(r);throw console.error("❌ Failed to create position:",n),n}}async updatePosition(t,r){try{if(console.log(`✏️ Updating position ${t}:`,r),!r.name?.trim())throw{message:"Position name is required",status:400,errors:{name:["Position name is required"]},code:"VALIDATION_ERROR"};const n=await sd.put(`${Dh}/${t}`,r);return console.log(`✅ Successfully updated position: ${n.data.name} (ID: ${n.data.id})`),n.data}catch(n){const a=Th(n);throw console.error(`❌ Failed to update position ${t}:`,a),a}}async deletePosition(t){try{console.log(`🗑️ Deleting position with ID: ${t}`),await sd.delete(`${Dh}/${t}`),console.log(`✅ Successfully deleted position with ID: ${t}`)}catch(r){const n=Th(r);throw console.error(`❌ Failed to delete position ${t}:`,n),n}}async isSlugAvailable(t,r){try{console.log(`🔍 Checking slug availability: ${t}`);const n={search:t},l=!(await this.getAllPositions(n)).find(c=>c.slug===t&&c.id!==r);return console.log(`${l?"✅":"❌"} Slug "${t}" is ${l?"available":"taken"}`),l}catch(n){return console.error("❌ Error checking slug availability:",n),!1}}}const sm=new Roe,{getAllPositions:Gze,getPositionById:Yze,createPosition:Zze,updatePosition:Kze,deletePosition:Xze,isSlugAvailable:Qze}=sm,cI={positions:[],selectedPosition:null,loading:{list:!1,single:!1,create:!1,update:!1,delete:!1},error:{list:null,single:null,create:null,update:null,delete:null},pagination:{currentPage:1,totalPages:1,perPage:10,total:0},ui:{isCreateModalOpen:!1,isEditModalOpen:!1,deletingId:null}},fy=Le("positions/fetchPositions",async(e={},{rejectWithValue:t})=>{try{console.log("🔄 Redux: Starting fetchPositions with params:",e);const r=await sm.getAllPositions(e);return console.log(`✅ Redux: Successfully fetched ${r.length} positions`),r}catch(r){const n=r;return console.error("❌ Redux: fetchPositions failed:",n),t(n)}}),my=Le("positions/fetchPositionById",async(e,{rejectWithValue:t})=>{try{console.log(`🔄 Redux: Starting fetchPositionById for ID: ${e}`);const r=await sm.getPositionById(e);return console.log(`✅ Redux: Successfully fetched position: ${r.name}`),r}catch(r){const n=r;return console.error(`❌ Redux: fetchPositionById failed for ID ${e}:`,n),t(n)}}),hy=Le("positions/createPosition",async(e,{rejectWithValue:t})=>{try{console.log("🔄 Redux: Starting createPosition with data:",e);const r=await sm.createPosition(e);return console.log(`✅ Redux: Successfully created position: ${r.name} (ID: ${r.id})`),r}catch(r){const n=r;return console.error("❌ Redux: createPosition failed:",n),t(n)}}),py=Le("positions/updatePosition",async({id:e,data:t},{rejectWithValue:r})=>{try{console.log(`🔄 Redux: Starting updatePosition for ID ${e} with data:`,t);const n=await sm.updatePosition(e,t);return console.log(`✅ Redux: Successfully updated position: ${n.name} (ID: ${n.id})`),n}catch(n){const a=n;return console.error(`❌ Redux: updatePosition failed for ID ${e}:`,a),r(a)}}),gy=Le("positions/deletePosition",async(e,{rejectWithValue:t})=>{try{return console.log(`🔄 Redux: Starting deletePosition for ID: ${e}`),await sm.deletePosition(e),console.log(`✅ Redux: Successfully deleted position with ID: ${e}`),e}catch(r){const n=r;return console.error(`❌ Redux: deletePosition failed for ID ${e}:`,n),t(n)}}),OF=Zt({name:"positions",initialState:cI,reducers:{setSelectedPosition:(e,t)=>{e.selectedPosition=t.payload,e.error.single=null},clearSelectedPosition:e=>{e.selectedPosition=null,e.error.single=null},openCreateModal:e=>{e.ui.isCreateModalOpen=!0,e.error.create=null},closeCreateModal:e=>{e.ui.isCreateModalOpen=!1,e.error.create=null},openEditModal:e=>{e.ui.isEditModalOpen=!0,e.error.update=null},closeEditModal:e=>{e.ui.isEditModalOpen=!1,e.error.update=null},setDeletingId:(e,t)=>{e.ui.deletingId=t.payload,t.payload===null&&(e.error.delete=null)},clearAllErrors:e=>{e.error={list:null,single:null,create:null,update:null,delete:null}},clearError:(e,t)=>{e.error[t.payload]=null},updatePagination:(e,t)=>{e.pagination={...e.pagination,...t.payload}},resetPositionsState:()=>cI},extraReducers:e=>{e.addCase(fy.pending,t=>{t.loading.list=!0,t.error.list=null}).addCase(fy.fulfilled,(t,r)=>{t.loading.list=!1,t.positions=r.payload,t.error.list=null,r.meta.arg?.per_page&&(t.pagination.perPage=r.meta.arg.per_page),t.pagination.total=r.payload.length}).addCase(fy.rejected,(t,r)=>{t.loading.list=!1,t.error.list=r.payload?.message||"Failed to fetch positions",console.error("❌ Redux: fetchPositions rejected:",r.payload)}),e.addCase(my.pending,t=>{t.loading.single=!0,t.error.single=null}).addCase(my.fulfilled,(t,r)=>{t.loading.single=!1,t.selectedPosition=r.payload,t.error.single=null}).addCase(my.rejected,(t,r)=>{t.loading.single=!1,t.selectedPosition=null,t.error.single=r.payload?.message||"Failed to fetch position",console.error("❌ Redux: fetchPositionById rejected:",r.payload)}),e.addCase(hy.pending,t=>{t.loading.create=!0,t.error.create=null}).addCase(hy.fulfilled,(t,r)=>{t.loading.create=!1,t.error.create=null,t.positions.unshift(r.payload),t.pagination.total+=1,t.ui.isCreateModalOpen=!1,t.selectedPosition=r.payload}).addCase(hy.rejected,(t,r)=>{t.loading.create=!1,t.error.create=r.payload?.message||"Failed to create position",console.error("❌ Redux: createPosition rejected:",r.payload)}),e.addCase(py.pending,t=>{t.loading.update=!0,t.error.update=null}).addCase(py.fulfilled,(t,r)=>{t.loading.update=!1,t.error.update=null;const n=t.positions.findIndex(a=>a.id===r.payload.id);n!==-1&&(t.positions[n]=r.payload),t.selectedPosition?.id===r.payload.id&&(t.selectedPosition=r.payload),t.ui.isEditModalOpen=!1}).addCase(py.rejected,(t,r)=>{t.loading.update=!1,t.error.update=r.payload?.message||"Failed to update position",console.error("❌ Redux: updatePosition rejected:",r.payload)}),e.addCase(gy.pending,t=>{t.loading.delete=!0,t.error.delete=null}).addCase(gy.fulfilled,(t,r)=>{t.loading.delete=!1,t.error.delete=null;const n=r.payload;t.positions=t.positions.filter(a=>a.id!==n),t.selectedPosition?.id===n&&(t.selectedPosition=null),t.pagination.total=Math.max(0,t.pagination.total-1),t.ui.deletingId=null}).addCase(gy.rejected,(t,r)=>{t.loading.delete=!1,t.error.delete=r.payload?.message||"Failed to delete position",t.ui.deletingId=null,console.error("❌ Redux: deletePosition rejected:",r.payload)})}}),{setSelectedPosition:Poe,clearSelectedPosition:Moe,openCreateModal:Ooe,closeCreateModal:Ioe,openEditModal:Loe,closeEditModal:Boe,setDeletingId:Foe,clearAllErrors:Uoe,clearError:$oe,updatePagination:Hoe,resetPositionsState:zoe}=OF.actions,qoe=e=>e.positions.positions,Voe=e=>e.positions.selectedPosition,Woe=e=>e.positions.loading,Goe=e=>e.positions.error,Yoe=e=>e.positions.pagination,Zoe=e=>e.positions.ui,Koe=e=>{const{loading:t}=e.positions;return t.list||t.single||t.create||t.update||t.delete},Xoe=OF.reducer,Rh={FETCH_ALL:"FETCH_ALL",FETCH_BY_ID:"FETCH_BY_ID",CREATE:"CREATE",UPDATE:"UPDATE",DELETE:"DELETE"},af={OK:200,CREATED:201,NO_CONTENT:204,BAD_REQUEST:400,UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,UNPROCESSABLE_ENTITY:422,INTERNAL_SERVER_ERROR:500},Ph="http://127.0.0.1:8000/api/statuses",Qoe=()=>{try{const t=Vn.getState().auth?.token;return t||qn()}catch(e){return console.error("Error retrieving auth token:",e),null}},Mh=(e=!1)=>{const t=Qoe();if(!t)throw new Error("Authentication token not found. Please log in again.");const r={Accept:"application/json",Authorization:`Bearer ${t}`};return e&&(r["Content-Type"]="application/json"),r},Oh=(e,t,r)=>{const n=new Date().toISOString();if(ft.isAxiosError(e)){const o=e,l=o.response?.status,c=o.response?.statusText,d=o.response?.data;let u=r||"An error occurred while processing your request";switch(l){case af.UNAUTHORIZED:u="Authentication failed. Please log in again.";break;case af.FORBIDDEN:u="You do not have permission to perform this action.";break;case af.NOT_FOUND:u="The requested status was not found.";break;case af.UNPROCESSABLE_ENTITY:u="Invalid data provided. Please check your input and try again.";break;case af.INTERNAL_SERVER_ERROR:u="Server error occurred. Please try again later.";break;default:u=r||`Request failed with status ${l}: ${c}`}return{message:u,status:l,operation:t,details:typeof d=="string"?d:JSON.stringify(d),timestamp:n}}const a=e instanceof Error?e.message:"Unknown error occurred";return console.error(`API Error [${t}]:`,{error:a,operation:t,timestamp:n}),{message:r||"Network error occurred. Please check your connection.",operation:t,details:a,timestamp:n}};class ag{static async getAllStatuses(){try{const t=Mh();return(await ft.get(Ph,{headers:t})).data}catch(t){throw Oh(t,Rh.FETCH_ALL,"Failed to fetch statuses")}}static async getStatusById(t){try{const r=Mh();return(await ft.get(`${Ph}/${t}`,{headers:r})).data}catch(r){throw Oh(r,Rh.FETCH_BY_ID,`Failed to fetch status with ID: ${t}`)}}static async createStatus(t){try{if(!t.description||t.description.trim()==="")throw new Error("Description is required");const r=Mh(!0);return(await ft.post(Ph,t,{headers:r})).data}catch(r){throw Oh(r,Rh.CREATE,"Failed to create status")}}static async updateStatus(t){try{const{id:r,data:n}=t;if(!n.description||n.description.trim()==="")throw new Error("Description is required");const a=Mh(!0);return(await ft.put(`${Ph}/${r}`,n,{headers:a})).data}catch(r){throw Oh(r,Rh.UPDATE,`Failed to update status with ID: ${t.id}`)}}static async deleteStatus(t){try{const{id:r}=t,n=Mh(),a=await ft.delete(`${Ph}/${r}`,{headers:n});a.status!==af.NO_CONTENT&&console.warn(`Unexpected status code for delete operation: ${a.status}`)}catch(r){throw Oh(r,Rh.DELETE,`Failed to delete status with ID: ${t.id}`)}}}const dI={entities:{},ids:[],loading:{fetchAll:!1,fetchById:!1,create:!1,update:!1,delete:!1},errors:{fetchAll:null,fetchById:null,create:null,update:null,delete:null},lastFetched:null,total:0},xy=Le("statuses/fetchAll",async(e,{rejectWithValue:t})=>{try{return await ag.getAllStatuses()}catch(r){return t(r)}}),qN=Le("statuses/fetchById",async(e,{rejectWithValue:t})=>{try{return await ag.getStatusById(e)}catch(r){return t(r)}}),vy=Le("statuses/create",async(e,{rejectWithValue:t})=>{try{return await ag.createStatus(e)}catch(r){return t(r)}}),yy=Le("statuses/update",async(e,{rejectWithValue:t})=>{try{return await ag.updateStatus(e)}catch(r){return t(r)}}),by=Le("statuses/delete",async(e,{rejectWithValue:t})=>{try{return await ag.deleteStatus(e),e.id}catch(r){return t(r)}}),Joe=e=>{const t={},r=[];return e.forEach(n=>{t[n.id]=n,r.push(n.id)}),{entities:t,ids:r}},uI=(e,t)=>{e.entities[t.id]=t,e.ids.includes(t.id)||(e.ids.push(t.id),e.ids.sort((r,n)=>n-r)),e.total=e.ids.length},eie=(e,t)=>{delete e.entities[t],e.ids=e.ids.filter(r=>r!==t),e.total=e.ids.length},IF=Zt({name:"statuses",initialState:dI,reducers:{clearErrors:e=>{e.errors={fetchAll:null,fetchById:null,create:null,update:null,delete:null}},clearError:(e,t)=>{e.errors[t.payload]=null},resetStatusesState:()=>dI,optimisticUpdateStatus:(e,t)=>{const r=t.payload;e.entities[r.id]=r}},extraReducers:e=>{e.addCase(xy.pending,t=>{t.loading.fetchAll=!0,t.errors.fetchAll=null}).addCase(xy.fulfilled,(t,r)=>{t.loading.fetchAll=!1;const{entities:n,ids:a}=Joe(r.payload);t.entities=n,t.ids=a,t.total=a.length,t.lastFetched=new Date().toISOString()}).addCase(xy.rejected,(t,r)=>{t.loading.fetchAll=!1,t.errors.fetchAll=r.payload?.message||"Failed to fetch statuses"}).addCase(qN.pending,t=>{t.loading.fetchById=!0,t.errors.fetchById=null}).addCase(qN.fulfilled,(t,r)=>{t.loading.fetchById=!1,uI(t,r.payload)}).addCase(qN.rejected,(t,r)=>{t.loading.fetchById=!1,t.errors.fetchById=r.payload?.message||"Failed to fetch status"}).addCase(vy.pending,t=>{t.loading.create=!0,t.errors.create=null}).addCase(vy.fulfilled,(t,r)=>{t.loading.create=!1,uI(t,r.payload)}).addCase(vy.rejected,(t,r)=>{t.loading.create=!1,t.errors.create=r.payload?.message||"Failed to create status"}).addCase(yy.pending,t=>{t.loading.update=!0,t.errors.update=null}).addCase(yy.fulfilled,(t,r)=>{t.loading.update=!1,t.entities[r.payload.id]=r.payload}).addCase(yy.rejected,(t,r)=>{t.loading.update=!1,t.errors.update=r.payload?.message||"Failed to update status"}).addCase(by.pending,t=>{t.loading.delete=!0,t.errors.delete=null}).addCase(by.fulfilled,(t,r)=>{t.loading.delete=!1,eie(t,r.payload)}).addCase(by.rejected,(t,r)=>{t.loading.delete=!1,t.errors.delete=r.payload?.message||"Failed to delete status"})}}),{clearErrors:tie,clearError:rie,resetStatusesState:nie,optimisticUpdateStatus:sie}=IF.actions,aie=e=>{const{entities:t,ids:r}=e.statuses;return r.map(n=>t[n])},oie=e=>e.statuses.loading,iie=e=>e.statuses.errors,lie=e=>({total:e.statuses.total,lastFetched:e.statuses.lastFetched}),cie=e=>{const t=e.statuses.loading;return Object.values(t).some(r=>r)},die=e=>{const t=e.statuses.errors;return Object.values(t).some(r=>r!==null)},uie=IF.reducer,fie="http://127.0.0.1:8000/api",Ih="/skills",mie=()=>{try{const t=Vn.getState().auth?.token;return t||qn()}catch(e){return console.error("Error retrieving auth token:",e),null}},ad=ft.create({baseURL:fie,timeout:3e4,headers:{Accept:"application/json"}});ad.interceptors.request.use(e=>{const t=mie();return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>(console.error("Request interceptor error:",e),Promise.reject(e)));ad.interceptors.response.use(e=>e,e=>(console.error("❌ API Error:",{method:e.config?.method?.toUpperCase(),url:e.config?.url,status:e.response?.status,message:e.message,data:e.response?.data}),Promise.reject(e)));const Lh=e=>{if(ft.isAxiosError(e)){const t=e,r=t.response?.data;return{message:r?.message||t.message||"An unexpected error occurred",status:t.response?.status||500,errors:r?.errors||void 0,code:r?.code||"UNKNOWN_ERROR",details:r||void 0}}return e instanceof Error?{message:e.message,status:500,code:"NETWORK_ERROR"}:{message:"An unexpected error occurred",status:500,code:"UNKNOWN_ERROR"}};class hie{async getAllSkills(){try{console.log("📋 Fetching all skills");const t=await ad.get(Ih);return console.log(`✅ Successfully fetched ${t.data.length} skills`),t.data}catch(t){const r=Lh(t);throw console.error("❌ Failed to fetch skills:",r),r}}async getSkillById(t){try{console.log(`📄 Fetching skill with ID: ${t}`);const r=await ad.get(`${Ih}/${t}`);return console.log(`✅ Successfully fetched skill: ${r.data.name}`),r.data}catch(r){const n=Lh(r);throw console.error(`❌ Failed to fetch skill ${t}:`,n),n}}async createSkill(t){try{if(console.log("➕ Creating new skill:",t),!t.name?.trim())throw{message:"Skill name is required",status:400,errors:{name:["Skill name is required"]},code:"VALIDATION_ERROR"};const r=await ad.post(Ih,t,{headers:{"Content-Type":"application/json"}});return console.log(`✅ Successfully created skill: ${r.data.name} (ID: ${r.data.id})`),r.data}catch(r){const n=Lh(r);throw console.error("❌ Failed to create skill:",n),n}}async updateSkill(t,r){try{if(console.log(`✏️ Updating skill ${t}:`,r),!r.name?.trim())throw{message:"Skill name is required",status:400,errors:{name:["Skill name is required"]},code:"VALIDATION_ERROR"};const n=await ad.put(`${Ih}/${t}`,r,{headers:{"Content-Type":"application/json"}});return console.log(`✅ Successfully updated skill: ${n.data.name} (ID: ${n.data.id})`),n.data}catch(n){const a=Lh(n);throw console.error(`❌ Failed to update skill ${t}:`,a),a}}async deleteSkill(t){try{console.log(`🗑️ Deleting skill with ID: ${t}`),await ad.delete(`${Ih}/${t}`),console.log(`✅ Successfully deleted skill with ID: ${t}`)}catch(r){const n=Lh(r);throw console.error(`❌ Failed to delete skill ${t}:`,n),n}}}const am=new hie,{getAllSkills:Jze,getSkillById:fI,createSkill:e9e,updateSkill:t9e,deleteSkill:r9e}=am,mI={skills:[],selectedSkill:null,loading:{list:!1,single:!1,create:!1,update:!1,delete:!1},error:{list:null,single:null,create:null,update:null,delete:null},ui:{isCreateModalOpen:!1,isEditModalOpen:!1,deletingId:null}},wy=Le("skills/fetchSkills",async(e,{rejectWithValue:t})=>{try{console.log("🔄 Redux: Starting fetchSkills");const r=await am.getAllSkills();return console.log(`✅ Redux: Successfully fetched ${r.length} skills`),r}catch(r){const n=r;return console.error("❌ Redux: fetchSkills failed:",n),t(n)}}),Sy=Le("skills/fetchSkillById",async(e,{rejectWithValue:t})=>{try{console.log(`🔄 Redux: Starting fetchSkillById for ID: ${e}`);const r=await am.getSkillById(e);return console.log(`✅ Redux: Successfully fetched skill: ${r.name}`),r}catch(r){const n=r;return console.error(`❌ Redux: fetchSkillById failed for ID ${e}:`,n),t(n)}}),jy=Le("skills/createSkill",async(e,{rejectWithValue:t})=>{try{console.log("🔄 Redux: Starting createSkill with data:",e);const r=await am.createSkill(e);return console.log(`✅ Redux: Successfully created skill: ${r.name} (ID: ${r.id})`),r}catch(r){const n=r;return console.error("❌ Redux: createSkill failed:",n),t(n)}}),Ny=Le("skills/updateSkill",async({id:e,data:t},{rejectWithValue:r})=>{try{console.log(`🔄 Redux: Starting updateSkill for ID ${e} with data:`,t);const n=await am.updateSkill(e,t);return console.log(`✅ Redux: Successfully updated skill: ${n.name} (ID: ${n.id})`),n}catch(n){const a=n;return console.error(`❌ Redux: updateSkill failed for ID ${e}:`,a),r(a)}}),Cy=Le("skills/deleteSkill",async(e,{rejectWithValue:t})=>{try{return console.log(`🔄 Redux: Starting deleteSkill for ID: ${e}`),await am.deleteSkill(e),console.log(`✅ Redux: Successfully deleted skill with ID: ${e}`),e}catch(r){const n=r;return console.error(`❌ Redux: deleteSkill failed for ID ${e}:`,n),t(n)}}),LF=Zt({name:"skills",initialState:mI,reducers:{setSelectedSkill:(e,t)=>{e.selectedSkill=t.payload,e.error.single=null},clearSelectedSkill:e=>{e.selectedSkill=null,e.error.single=null},openCreateModal:e=>{e.ui.isCreateModalOpen=!0,e.error.create=null},closeCreateModal:e=>{e.ui.isCreateModalOpen=!1,e.error.create=null},openEditModal:e=>{e.ui.isEditModalOpen=!0,e.error.update=null},closeEditModal:e=>{e.ui.isEditModalOpen=!1,e.error.update=null},setDeletingId:(e,t)=>{e.ui.deletingId=t.payload,t.payload===null&&(e.error.delete=null)},clearAllErrors:e=>{e.error={list:null,single:null,create:null,update:null,delete:null}},clearError:(e,t)=>{e.error[t.payload]=null},resetSkillsState:()=>mI},extraReducers:e=>{e.addCase(wy.pending,t=>{t.loading.list=!0,t.error.list=null}).addCase(wy.fulfilled,(t,r)=>{t.loading.list=!1,t.skills=r.payload,t.error.list=null}).addCase(wy.rejected,(t,r)=>{t.loading.list=!1,t.error.list=r.payload?.message||"Failed to fetch skills",console.error("❌ Redux: fetchSkills rejected:",r.payload)}).addCase(Sy.pending,t=>{t.loading.single=!0,t.error.single=null}).addCase(Sy.fulfilled,(t,r)=>{t.loading.single=!1,t.selectedSkill=r.payload,t.error.single=null}).addCase(Sy.rejected,(t,r)=>{t.loading.single=!1,t.selectedSkill=null,t.error.single=r.payload?.message||"Failed to fetch skill",console.error("❌ Redux: fetchSkillById rejected:",r.payload)}).addCase(jy.pending,t=>{t.loading.create=!0,t.error.create=null}).addCase(jy.fulfilled,(t,r)=>{t.loading.create=!1,t.error.create=null,t.skills.unshift(r.payload),t.ui.isCreateModalOpen=!1,t.selectedSkill={...r.payload,emp_infos:[]}}).addCase(jy.rejected,(t,r)=>{t.loading.create=!1,t.error.create=r.payload?.message||"Failed to create skill",console.error("❌ Redux: createSkill rejected:",r.payload)}).addCase(Ny.pending,t=>{t.loading.update=!0,t.error.update=null}).addCase(Ny.fulfilled,(t,r)=>{t.loading.update=!1,t.error.update=null;const n=t.skills.findIndex(a=>a.id===r.payload.id);n!==-1&&(t.skills[n]=r.payload),t.selectedSkill?.id===r.payload.id&&("emp_infos"in t.selectedSkill?t.selectedSkill={...r.payload,emp_infos:t.selectedSkill.emp_infos}:t.selectedSkill={...r.payload,emp_infos:[]}),t.ui.isEditModalOpen=!1}).addCase(Ny.rejected,(t,r)=>{t.loading.update=!1,t.error.update=r.payload?.message||"Failed to update skill",console.error("❌ Redux: updateSkill rejected:",r.payload)}).addCase(Cy.pending,t=>{t.loading.delete=!0,t.error.delete=null}).addCase(Cy.fulfilled,(t,r)=>{t.loading.delete=!1,t.error.delete=null;const n=r.payload;t.skills=t.skills.filter(a=>a.id!==n),t.selectedSkill?.id===n&&(t.selectedSkill=null),t.ui.deletingId=null}).addCase(Cy.rejected,(t,r)=>{t.loading.delete=!1,t.error.delete=r.payload?.message||"Failed to delete skill",t.ui.deletingId=null,console.error("❌ Redux: deleteSkill rejected:",r.payload)})}}),{setSelectedSkill:pie,clearSelectedSkill:gie,openCreateModal:xie,closeCreateModal:vie,openEditModal:yie,closeEditModal:bie,setDeletingId:wie,clearAllErrors:Sie,clearError:jie,resetSkillsState:Nie}=LF.actions,Cie=e=>e.skills.skills,Eie=e=>e.skills.selectedSkill,_ie=e=>e.skills.loading,Aie=e=>e.skills.error,kie=e=>e.skills.ui,Die=e=>{const t=e.skills.loading;return t.list||t.single||t.create||t.update||t.delete},Tie=LF.reducer,Rie="http://127.0.0.1:8000/api",Bh="/preferences",Pie=()=>{try{const t=Vn.getState().auth?.token;return t||qn()}catch(e){return console.error("Error retrieving auth token:",e),null}},od=ft.create({baseURL:Rie,timeout:3e4,headers:{Accept:"application/json"}});od.interceptors.request.use(e=>{const t=Pie();return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>(console.error("Request interceptor error:",e),Promise.reject(e)));od.interceptors.response.use(e=>e,e=>(console.error("❌ API Error:",{method:e.config?.method?.toUpperCase(),url:e.config?.url,status:e.response?.status,message:e.message,data:e.response?.data}),Promise.reject(e)));const Fh=e=>{if(ft.isAxiosError(e)){const t=e,r=t.response?.data;return{message:r?.message||t.message||"An unexpected error occurred",status:t.response?.status||500,errors:r?.errors||void 0,code:r?.code||"UNKNOWN_ERROR",details:r||void 0}}return e instanceof Error?{message:e.message,status:500,code:"NETWORK_ERROR"}:{message:"An unexpected error occurred",status:500,code:"UNKNOWN_ERROR"}};class Mie{async getAllPreferences(){try{console.log("📋 Fetching all preferences");const t=await od.get(Bh);return console.log(`✅ Successfully fetched ${t.data.length} preferences`),t.data}catch(t){const r=Fh(t);throw console.error("❌ Failed to fetch preferences:",r),r}}async getPreferenceById(t){try{console.log(`📄 Fetching preference with ID: ${t}`);const r=await od.get(`${Bh}/${t}`);return console.log(`✅ Successfully fetched preference: ${r.data.name}`),r.data}catch(r){const n=Fh(r);throw console.error(`❌ Failed to fetch preference ${t}:`,n),n}}async createPreference(t){try{if(console.log("➕ Creating new preference:",t),!t.name?.trim())throw{message:"Preference name is required",status:400,errors:{name:["Preference name is required"]},code:"VALIDATION_ERROR"};const r=await od.post(Bh,t,{headers:{"Content-Type":"application/json"}});return console.log(`✅ Successfully created preference: ${r.data.name} (ID: ${r.data.id})`),r.data}catch(r){const n=Fh(r);throw console.error("❌ Failed to create preference:",n),n}}async updatePreference(t,r){try{if(console.log(`✏️ Updating preference ${t}:`,r),!r.name?.trim())throw{message:"Preference name is required",status:400,errors:{name:["Preference name is required"]},code:"VALIDATION_ERROR"};const n=await od.put(`${Bh}/${t}`,r,{headers:{"Content-Type":"application/json"}});return console.log(`✅ Successfully updated preference: ${n.data.name} (ID: ${n.data.id})`),n.data}catch(n){const a=Fh(n);throw console.error(`❌ Failed to update preference ${t}:`,a),a}}async deletePreference(t){try{console.log(`🗑️ Deleting preference with ID: ${t}`),await od.delete(`${Bh}/${t}`),console.log(`✅ Successfully deleted preference with ID: ${t}`)}catch(r){const n=Fh(r);throw console.error(`❌ Failed to delete preference ${t}:`,n),n}}}const nc=new Mie,{getAllPreferences:n9e,getPreferenceById:s9e,createPreference:a9e,updatePreference:o9e,deletePreference:i9e}=nc,hI={preferences:[],selectedPreference:null,loading:{list:!1,single:!1,create:!1,update:!1,delete:!1},error:{list:null,single:null,create:null,update:null,delete:null},ui:{isCreateModalOpen:!1,isEditModalOpen:!1,deletingId:null}},Ey=Le("preferences/fetchPreferences",async(e,{rejectWithValue:t})=>{try{console.log("🔄 Redux: Starting fetchPreferences");const r=await nc.getAllPreferences();return console.log(`✅ Redux: Successfully fetched ${r.length} preferences`),r}catch(r){const n=r;return console.error("❌ Redux: fetchPreferences failed:",n),t(n)}}),_y=Le("preferences/fetchPreferenceById",async(e,{rejectWithValue:t})=>{try{console.log(`🔄 Redux: Starting fetchPreferenceById for ID: ${e}`);const r=await nc.getPreferenceById(e);return console.log(`✅ Redux: Successfully fetched preference: ${r.name}`),r}catch(r){const n=r;return console.error(`❌ Redux: fetchPreferenceById failed for ID ${e}:`,n),t(n)}}),Ay=Le("preferences/createPreference",async(e,{rejectWithValue:t})=>{try{console.log("🔄 Redux: Starting createPreference with data:",e);const r=await nc.createPreference(e);return console.log(`✅ Redux: Successfully created preference: ${r.name} (ID: ${r.id})`),r}catch(r){const n=r;return console.error("❌ Redux: createPreference failed:",n),t(n)}}),ky=Le("preferences/updatePreference",async({id:e,data:t},{rejectWithValue:r})=>{try{console.log(`🔄 Redux: Starting updatePreference for ID ${e} with data:`,t);const n=await nc.updatePreference(e,t);return console.log(`✅ Redux: Successfully updated preference: ${n.name} (ID: ${n.id})`),n}catch(n){const a=n;return console.error(`❌ Redux: updatePreference failed for ID ${e}:`,a),r(a)}}),Dy=Le("preferences/deletePreference",async(e,{rejectWithValue:t})=>{try{return console.log(`🔄 Redux: Starting deletePreference for ID: ${e}`),await nc.deletePreference(e),console.log(`✅ Redux: Successfully deleted preference with ID: ${e}`),e}catch(r){const n=r;return console.error(`❌ Redux: deletePreference failed for ID ${e}:`,n),t(n)}}),BF=Zt({name:"preferences",initialState:hI,reducers:{setSelectedPreference:(e,t)=>{e.selectedPreference=t.payload,e.error.single=null},clearSelectedPreference:e=>{e.selectedPreference=null,e.error.single=null},openCreateModal:e=>{e.ui.isCreateModalOpen=!0,e.error.create=null},closeCreateModal:e=>{e.ui.isCreateModalOpen=!1,e.error.create=null},openEditModal:e=>{e.ui.isEditModalOpen=!0,e.error.update=null},closeEditModal:e=>{e.ui.isEditModalOpen=!1,e.error.update=null},setDeletingId:(e,t)=>{e.ui.deletingId=t.payload,t.payload===null&&(e.error.delete=null)},clearAllErrors:e=>{e.error={list:null,single:null,create:null,update:null,delete:null}},clearError:(e,t)=>{e.error[t.payload]=null},resetPreferencesState:()=>hI},extraReducers:e=>{e.addCase(Ey.pending,t=>{t.loading.list=!0,t.error.list=null}).addCase(Ey.fulfilled,(t,r)=>{t.loading.list=!1,t.preferences=r.payload,t.error.list=null}).addCase(Ey.rejected,(t,r)=>{t.loading.list=!1,t.error.list=r.payload?.message||"Failed to fetch preferences",console.error("❌ Redux: fetchPreferences rejected:",r.payload)}).addCase(_y.pending,t=>{t.loading.single=!0,t.error.single=null}).addCase(_y.fulfilled,(t,r)=>{t.loading.single=!1,t.selectedPreference=r.payload,t.error.single=null}).addCase(_y.rejected,(t,r)=>{t.loading.single=!1,t.selectedPreference=null,t.error.single=r.payload?.message||"Failed to fetch preference",console.error("❌ Redux: fetchPreferenceById rejected:",r.payload)}).addCase(Ay.pending,t=>{t.loading.create=!0,t.error.create=null}).addCase(Ay.fulfilled,(t,r)=>{t.loading.create=!1,t.error.create=null,t.preferences.unshift(r.payload),t.ui.isCreateModalOpen=!1,t.selectedPreference=r.payload}).addCase(Ay.rejected,(t,r)=>{t.loading.create=!1,t.error.create=r.payload?.message||"Failed to create preference",console.error("❌ Redux: createPreference rejected:",r.payload)}).addCase(ky.pending,t=>{t.loading.update=!0,t.error.update=null}).addCase(ky.fulfilled,(t,r)=>{t.loading.update=!1,t.error.update=null;const n=t.preferences.findIndex(a=>a.id===r.payload.id);n!==-1&&(t.preferences[n]=r.payload),t.selectedPreference?.id===r.payload.id&&(t.selectedPreference=r.payload),t.ui.isEditModalOpen=!1}).addCase(ky.rejected,(t,r)=>{t.loading.update=!1,t.error.update=r.payload?.message||"Failed to update preference",console.error("❌ Redux: updatePreference rejected:",r.payload)}).addCase(Dy.pending,t=>{t.loading.delete=!0,t.error.delete=null}).addCase(Dy.fulfilled,(t,r)=>{t.loading.delete=!1,t.error.delete=null;const n=r.payload;t.preferences=t.preferences.filter(a=>a.id!==n),t.selectedPreference?.id===n&&(t.selectedPreference=null),t.ui.deletingId=null}).addCase(Dy.rejected,(t,r)=>{t.loading.delete=!1,t.error.delete=r.payload?.message||"Failed to delete preference",t.ui.deletingId=null,console.error("❌ Redux: deletePreference rejected:",r.payload)})}}),{setSelectedPreference:Oie,clearSelectedPreference:Iie,openCreateModal:Lie,closeCreateModal:Bie,openEditModal:Fie,closeEditModal:Uie,setDeletingId:$ie,clearAllErrors:Hie,clearError:zie,resetPreferencesState:qie}=BF.actions,Vie=e=>e.preferences.preferences,Wie=e=>e.preferences.selectedPreference,Gie=e=>e.preferences.loading,Yie=e=>e.preferences.error,Zie=e=>e.preferences.ui,Kie=e=>{const t=e.preferences.loading;return t.list||t.single||t.create||t.update||t.delete},Xie=BF.reducer,FF=e=>e&&typeof e=="object"&&"errors"in e&&typeof e.errors=="object",UF=e=>e&&typeof e=="object"&&"type"in e&&["UNAUTHORIZED","TOKEN_EXPIRED","FORBIDDEN"].includes(e.type),Qie=e=>e&&typeof e=="object"&&"type"in e&&["NETWORK_ERROR","TIMEOUT","CONNECTION_FAILED"].includes(e.type),Jie=5*60*1e3,ele={currentPage:1,totalPages:1,totalRecords:0,perPage:15,hasNextPage:!1,hasPrevPage:!1,availablePerPageOptions:[10,15,25,50,100],currentStoreId:void 0},Ao={EMPLOYEES:"/api/employees",EMPLOYEE_BY_ID:e=>`/api/employees/${e}`,EMPLOYEES_BY_STORE:e=>`/api/stores/${e}/employees`,EMPLOYEE_SKILL:(e,t)=>`/api/employees/${e}/skills/${t}`},pb={BASE_URL:"http://127.0.0.1:8000",TIMEOUT:3e4,MAX_RETRIES:3,RETRY_DELAY:1e3},gv={UNAUTHORIZED:401,FORBIDDEN:403,UNPROCESSABLE_ENTITY:422,SERVICE_UNAVAILABLE:503},tle=()=>{try{const t=Vn.getState().auth?.token;return t||qn()}catch(e){return console.error("Error retrieving auth token:",e),null}},vr={info:(e,t)=>{console.log(`[API] ${e}`,t||"")},error:(e,t)=>{console.error(`[API ERROR] ${e}`,t||"")},warn:(e,t)=>{console.warn(`[API WARNING] ${e}`,t||"")},debug:(e,t)=>{}},rle=e=>new Promise(t=>setTimeout(t,e)),nle=e=>e&&typeof e=="object",pI=(e={})=>{const{page:t=1,per_page:r}=e,n={page:t};return r&&r>0&&(n.per_page=r),n},sle=e=>{const{response:t,request:r,message:n}=e;if(!t)return{message:r?"Network error - no response received":"Network error - request failed",type:r?"NETWORK_ERROR":"CONNECTION_FAILED",status:0,details:{originalMessage:n}};const{status:a}=t,o=nle(t.data)?t.data:{};return a===gv.UNAUTHORIZED?{message:o.message||"Authentication required",type:"UNAUTHORIZED",status:a,details:o}:a===gv.FORBIDDEN?{message:o.message||"Access forbidden",type:"FORBIDDEN",status:a,details:o}:a===gv.UNPROCESSABLE_ENTITY&&o.errors?{message:o.message||"Validation failed",status:a,errors:o.errors,details:o}:a>=500?{message:o.message||"Internal server error",type:a===gv.SERVICE_UNAVAILABLE?"SERVICE_UNAVAILABLE":"INTERNAL_SERVER_ERROR",status:a,details:o}:{message:o.message||`HTTP ${a} error`,status:a,details:o}},ale=()=>{const e=ft.create({baseURL:pb.BASE_URL,timeout:pb.TIMEOUT,headers:{"Content-Type":"application/json",Accept:"application/json"}});return e.interceptors.request.use(t=>{const r=tle();return r&&(t.headers.Authorization=`Bearer ${r}`),vr.debug(`${t.method?.toUpperCase()} ${t.url}`,{headers:t.headers,data:t.data,params:t.params}),t},t=>(vr.error("Request interceptor error",t),Promise.reject(t))),e.interceptors.response.use(t=>(vr.debug(`Response ${t.status} from ${t.config.url}`,{data:t.data,headers:t.headers}),t),t=>{const r=sle(t);return vr.error(`API Error: ${r.message}`,r),Promise.reject(r)}),e},ko=ale(),Do=async(e,t,r=pb.MAX_RETRIES)=>{let n=null;for(let a=1;a<=r;a++)try{return vr.debug(`${t} - Attempt ${a}/${r}`),await e()}catch(o){if(n=o,UF(n)||FF(n)){vr.warn(`${t} - Not retrying due to auth/validation error`);break}if(a===r){vr.error(`${t} - All retry attempts failed`);break}const l=pb.RETRY_DELAY*Math.pow(2,a-1);vr.info(`${t} - Retrying in ${l}ms (attempt ${a+1}/${r})`),await rle(l)}throw n};class sl{static async getAllEmployees(){return Do(async()=>{vr.info("Fetching all employees");const t=await ko.get(Ao.EMPLOYEES);return vr.info(`Successfully fetched ${t.data.length} employees`),t.data},"getAllEmployees")}static async getEmployeeById(t){return Do(async()=>{vr.info(`Fetching employee with ID: ${t}`);const r=await ko.get(Ao.EMPLOYEE_BY_ID(t));return vr.info(`Successfully fetched employee: ${r.data.full_name}`),r.data},`getEmployeeById(${t})`)}static async createEmployee(t){return Do(async()=>{vr.info("Creating new employee",{name:t.full_name,store:t.store_id});const r=await ko.post(Ao.EMPLOYEES,t);return vr.info(`Successfully created employee: ${r.data.full_name} (ID: ${r.data.id})`),r.data},"createEmployee",1)}static async updateEmployee(t,r){return Do(async()=>{vr.info(`Updating employee ID: ${t}`,{name:r.full_name});const n=await ko.put(Ao.EMPLOYEE_BY_ID(t),r);return vr.info(`Successfully updated employee: ${n.data.full_name} (ID: ${t})`),n.data},`updateEmployee(${t})`,1)}static async deleteEmployee(t){return Do(async()=>{vr.info(`Deleting employee ID: ${t}`),await ko.delete(Ao.EMPLOYEE_BY_ID(t)),vr.info(`Successfully deleted employee ID: ${t}`)},`deleteEmployee(${t})`,1)}static async getEmployeesByStore(t,r={}){return Do(async()=>{const{page:n=1,per_page:a}=r;vr.info(`Fetching employees for store: ${t}`,{page:n,per_page:a||"default (server)"});const o=pI(r),l=await ko.get(Ao.EMPLOYEES_BY_STORE(t),{params:o});return vr.info(`Successfully fetched employees for store ${t}`,{returned:l.data.data.length,page:l.data.current_page,per_page:l.data.per_page,total:l.data.total,total_pages:l.data.last_page}),l.data},`getEmployeesByStore(${t}, page:${r.page||1}, per_page:${r.per_page||"default"})`)}static async getAllEmployeesPaginated(t={}){return Do(async()=>{const{page:r=1,per_page:n}=t;vr.info("Fetching all employees with pagination",{page:r,per_page:n||"default (server)"});const a=pI(t),o=await ko.get(Ao.EMPLOYEES,{params:a});return vr.info("Successfully fetched employees with pagination",{returned:o.data.data.length,page:o.data.current_page,per_page:o.data.per_page,total:o.data.total,total_pages:o.data.last_page}),o.data},`getAllEmployeesPaginated(page:${t.page||1}, per_page:${t.per_page||"default"})`)}static async attachSkill(t,r,n){return Do(async()=>{vr.info(`Attaching skill ${r} to employee ${t}`,{rating:n.rating}),await ko.post(Ao.EMPLOYEE_SKILL(t,r),n),vr.info(`Successfully attached skill ${r} to employee ${t} with rating ${n.rating}`)},`attachSkill(${t}, ${r})`,1)}static async updateSkill(t,r,n){return Do(async()=>{vr.info(`Updating skill ${r} for employee ${t}`,{rating:n.rating}),await ko.put(Ao.EMPLOYEE_SKILL(t,r),n),vr.info(`Successfully updated skill ${r} for employee ${t} to rating ${n.rating}`)},`updateSkill(${t}, ${r})`,1)}static async detachSkill(t,r){return Do(async()=>{vr.info(`Detaching skill ${r} from employee ${t}`),await ko.delete(Ao.EMPLOYEE_SKILL(t,r)),vr.info(`Successfully detached skill ${r} from employee ${t}`)},`detachSkill(${t}, ${r})`,1)}}const ole={employees:[],currentEmployee:null,loading:{fetchAll:{isLoading:!1},fetchById:{isLoading:!1},create:{isLoading:!1},update:{isLoading:!1},delete:{isLoading:!1},skills:{isLoading:!1},fetchByStore:{isLoading:!1}},errors:{fetchAll:{hasError:!1},fetchById:{hasError:!1},create:{hasError:!1},update:{hasError:!1},delete:{hasError:!1},skills:{hasError:!1},fetchByStore:{hasError:!1}},pagination:{...ele},cache:{lastFetch:null,cacheDuration:Jie,isStale:!1}},Ty=Le("employees/fetchAll",async(e,{rejectWithValue:t})=>{try{return await sl.getAllEmployees()}catch(r){return t(r)}}),Ry=Le("employees/fetchById",async(e,{rejectWithValue:t})=>{try{return await sl.getEmployeeById(e)}catch(r){return t(r)}}),Py=Le("employees/create",async(e,{rejectWithValue:t})=>{try{return await sl.createEmployee(e)}catch(r){return t(r)}}),My=Le("employees/update",async({id:e,data:t},{rejectWithValue:r})=>{try{const n=await sl.updateEmployee(e,t);return{id:e,data:n}}catch(n){return r(n)}}),Oy=Le("employees/delete",async(e,{rejectWithValue:t})=>{try{return await sl.deleteEmployee(e),e}catch(r){return t(r)}}),Iy=Le("employees/fetchByStore",async({storeId:e,options:t},{rejectWithValue:r})=>{try{const n=await sl.getEmployeesByStore(e,t);return{storeId:e,response:n,options:t}}catch(n){return r(n)}}),Ly=Le("employees/attachSkill",async({employeeId:e,skillId:t,data:r},{rejectWithValue:n})=>{try{return await sl.attachSkill(e,t,r),{employeeId:e,skillId:t,rating:r.rating}}catch(a){return n(a)}}),By=Le("employees/updateSkill",async({employeeId:e,skillId:t,data:r},{rejectWithValue:n})=>{try{return await sl.updateSkill(e,t,r),{employeeId:e,skillId:t,rating:r.rating}}catch(a){return n(a)}}),Fy=Le("employees/detachSkill",async({employeeId:e,skillId:t},{rejectWithValue:r})=>{try{return await sl.detachSkill(e,t),{employeeId:e,skillId:t}}catch(n){return r(n)}}),ile=e=>{if(FF(e))return Object.values(e.errors)[0]?.[0]||e.message;if(UF(e))switch(e.type){case"UNAUTHORIZED":return"Please log in to continue";case"FORBIDDEN":return"You do not have permission to perform this action";case"TOKEN_EXPIRED":return"Your session has expired. Please log in again";default:return e.message}if(Qie(e))switch(e.type){case"NETWORK_ERROR":return"Network error. Please check your connection";case"TIMEOUT":return"Request timed out. Please try again";case"CONNECTION_FAILED":return"Unable to connect to server";default:return e.message}return e.message||"An unexpected error occurred"},lle=(e,t,r)=>{t&&typeof t=="object"&&"current_page"in t&&(e.pagination={currentPage:t.current_page,totalPages:t.last_page,totalRecords:t.total,perPage:t.per_page,hasNextPage:t.next_page_url!==null,hasPrevPage:t.prev_page_url!==null,availablePerPageOptions:e.pagination.availablePerPageOptions,currentStoreId:r})},Ni=(e,t,r)=>{e.errors[t]={hasError:!0,message:ile(r),details:r}},Qa=(e,t)=>{e.errors[t]={hasError:!1,message:void 0,details:void 0}},wr=(e,t,r,n)=>{e.loading[t]={isLoading:r,operation:n}},$F=Zt({name:"employees",initialState:ole,reducers:{clearCurrentEmployee:e=>{e.currentEmployee=null},clearError:(e,t)=>{Qa(e,t.payload)},clearAllErrors:e=>{Object.keys(e.errors).forEach(t=>{Qa(e,t)})},updateCacheStatus:e=>{const t=Date.now();e.cache.isStale=e.cache.lastFetch?t-e.cache.lastFetch>e.cache.cacheDuration:!0},setPaginationOptions:(e,t)=>{e.pagination={...e.pagination,...t.payload}},optimisticUpdateEmployee:(e,t)=>{const{id:r,updates:n}=t.payload,a=e.employees.findIndex(o=>o.id===r);a!==-1&&(e.employees[a]={...e.employees[a],...n}),e.currentEmployee?.id===r&&(e.currentEmployee={...e.currentEmployee,...n})},optimisticDeleteEmployee:(e,t)=>{const r=t.payload;e.employees=e.employees.filter(n=>n.id!==r),e.currentEmployee?.id===r&&(e.currentEmployee=null),e.pagination.totalRecords=Math.max(0,e.pagination.totalRecords-1)}},extraReducers:e=>{e.addCase(Ty.pending,t=>{wr(t,"fetchAll",!0,"Fetching all employees"),Qa(t,"fetchAll")}).addCase(Ty.fulfilled,(t,r)=>{wr(t,"fetchAll",!1),t.employees=r.payload,t.cache.lastFetch=Date.now(),t.cache.isStale=!1}).addCase(Ty.rejected,(t,r)=>{wr(t,"fetchAll",!1),Ni(t,"fetchAll",r.payload)}),e.addCase(Ry.pending,t=>{wr(t,"fetchById",!0,"Fetching employee details"),Qa(t,"fetchById")}).addCase(Ry.fulfilled,(t,r)=>{wr(t,"fetchById",!1),t.currentEmployee=r.payload;const n=t.employees.findIndex(a=>a.id===r.payload.id);n!==-1&&(t.employees[n]=r.payload)}).addCase(Ry.rejected,(t,r)=>{wr(t,"fetchById",!1),Ni(t,"fetchById",r.payload),t.currentEmployee=null}),e.addCase(Py.pending,t=>{wr(t,"create",!0,"Creating new employee"),Qa(t,"create")}).addCase(Py.fulfilled,(t,r)=>{wr(t,"create",!1),t.pagination.currentStoreId===r.payload.store_id&&(t.pagination.totalRecords+=1)}).addCase(Py.rejected,(t,r)=>{wr(t,"create",!1),Ni(t,"create",r.payload)}),e.addCase(My.pending,t=>{wr(t,"update",!0,"Updating employee"),Qa(t,"update")}).addCase(My.fulfilled,(t,r)=>{wr(t,"update",!1);const{id:n,data:a}=r.payload,o=t.employees.findIndex(l=>l.id===n);o!==-1&&(t.employees[o]={...t.employees[o],...a}),t.currentEmployee?.id===n&&(t.currentEmployee={...t.currentEmployee,...a})}).addCase(My.rejected,(t,r)=>{wr(t,"update",!1),Ni(t,"update",r.payload)}),e.addCase(Oy.pending,t=>{wr(t,"delete",!0,"Deleting employee"),Qa(t,"delete")}).addCase(Oy.fulfilled,(t,r)=>{wr(t,"delete",!1);const n=r.payload;t.employees=t.employees.filter(a=>a.id!==n),t.currentEmployee?.id===n&&(t.currentEmployee=null),t.pagination.totalRecords=Math.max(0,t.pagination.totalRecords-1)}).addCase(Oy.rejected,(t,r)=>{wr(t,"delete",!1),Ni(t,"delete",r.payload)}),e.addCase(Iy.pending,t=>{wr(t,"fetchByStore",!0,"Fetching store employees"),Qa(t,"fetchByStore")}).addCase(Iy.fulfilled,(t,r)=>{wr(t,"fetchByStore",!1);const{storeId:n,response:a}=r.payload;t.employees=a.data,lle(t,a,n),t.cache.lastFetch=Date.now(),t.cache.isStale=!1}).addCase(Iy.rejected,(t,r)=>{wr(t,"fetchByStore",!1),Ni(t,"fetchByStore",r.payload)}),e.addCase(Ly.pending,t=>{wr(t,"skills",!0,"Attaching skill"),Qa(t,"skills")}).addCase(Ly.fulfilled,t=>{wr(t,"skills",!1)}).addCase(Ly.rejected,(t,r)=>{wr(t,"skills",!1),Ni(t,"skills",r.payload)}),e.addCase(By.pending,t=>{wr(t,"skills",!0,"Updating skill rating"),Qa(t,"skills")}).addCase(By.fulfilled,(t,r)=>{wr(t,"skills",!1);const{employeeId:n,skillId:a,rating:o}=r.payload;if(t.currentEmployee?.id===n){const c=t.currentEmployee.skills.findIndex(d=>d.id===a);c!==-1&&(t.currentEmployee.skills[c].pivot.rating=o)}const l=t.employees.findIndex(c=>c.id===n);if(l!==-1){const c=t.employees[l].skills.findIndex(d=>d.id===a);c!==-1&&(t.employees[l].skills[c].pivot.rating=o)}}).addCase(By.rejected,(t,r)=>{wr(t,"skills",!1),Ni(t,"skills",r.payload)}),e.addCase(Fy.pending,t=>{wr(t,"skills",!0,"Detaching skill"),Qa(t,"skills")}).addCase(Fy.fulfilled,(t,r)=>{wr(t,"skills",!1);const{employeeId:n,skillId:a}=r.payload;t.currentEmployee?.id===n&&(t.currentEmployee.skills=t.currentEmployee.skills.filter(l=>l.id!==a));const o=t.employees.findIndex(l=>l.id===n);o!==-1&&(t.employees[o].skills=t.employees[o].skills.filter(l=>l.id!==a))}).addCase(Fy.rejected,(t,r)=>{wr(t,"skills",!1),Ni(t,"skills",r.payload)})}}),{clearCurrentEmployee:cle,clearError:dle,clearAllErrors:ule,updateCacheStatus:fle,setPaginationOptions:gI,optimisticUpdateEmployee:l9e,optimisticDeleteEmployee:mle}=$F.actions,hle=$F.reducer,ple=e=>e.employees.employees,gle=e=>e.employees.currentEmployee,xle=e=>e.employees.loading,vle=e=>e.employees.errors,yle=e=>e.employees.pagination,ble=e=>e.employees.cache,wle=e=>Object.values(e.employees.loading).some(t=>t.isLoading),Sle=e=>Object.values(e.employees.errors).some(t=>t.hasError),_a={BASE_URL:"http://127.0.0.1:8000/api",ENDPOINTS:{SCHEDULE_PREFERENCES:"/schedule-preferences",SCHEDULE_PREFERENCE_BY_ID:e=>`/schedule-preferences/${e}`},TIMEOUT:1e4,RETRY_ATTEMPTS:3,RETRY_DELAY:1e3},$_={BAD_REQUEST:400,UNAUTHORIZED:401,UNPROCESSABLE_ENTITY:422},jle=e=>typeof e=="object"&&e!==null&&(typeof e.message=="string"||typeof e.errors=="object"||typeof e.details=="object"),xI=()=>{try{const t=Vn.getState().auth?.token;if(t)return console.debug("[SchedulePreferenceService] Token retrieved from Redux store"),t;const r=qn();return r?(console.debug("[SchedulePreferenceService] Token retrieved from localStorage"),r):(console.warn("[SchedulePreferenceService] No authentication token available"),null)}catch(e){return console.error("[SchedulePreferenceService] Error retrieving auth token:",e),null}},Nle=e=>({url:e.url,method:e.method,baseURL:e.baseURL,headers:e.headers,data:e.data,params:e.params,timeout:e.timeout,withCredentials:e.withCredentials,responseType:e.responseType,responseEncoding:e.responseEncoding,maxRedirects:e.maxRedirects,maxContentLength:e.maxContentLength,maxBodyLength:e.maxBodyLength,validateStatus:e.validateStatus,auth:e.auth,proxy:e.proxy,signal:e.signal,transformRequest:e.transformRequest,transformResponse:e.transformResponse}),Ll=e=>{const t={message:"An unexpected error occurred",status:500};if(gp(e))if(e.response){t.status=e.response.status;const r=e.response.data;jle(r)?(t.message=r.message||e.message||"Server error",t.details=r.details,e.response.status===$_.UNPROCESSABLE_ENTITY&&r.errors&&(t.errors=r.errors)):(t.message=e.message||"Server error",t.details=r)}else e.request?(t.message="Network error - please check your connection",t.status=0):t.message=e.message||"Request configuration error";else e instanceof Error?t.message=e.message||"Unknown error occurred":typeof e=="string"?t.message=e:(t.message="An unexpected error occurred",t.details={originalError:e});return t},Cle=e=>{if(gp(e)){const t={message:e.message,status:e.response?.status,url:e.config?.url,method:e.config?.method,data:e.response?.data};console.group(`[API Error] ${e.config?.method?.toUpperCase()} ${e.config?.url}`),console.error("Error details:",t),console.groupEnd()}else console.error("[API Error] Non-Axios error:",e)};class ff{axiosInstance;static instance;retryCountMap=new Map;constructor(){this.axiosInstance=ft.create({baseURL:_a.BASE_URL,timeout:_a.TIMEOUT,headers:{"Content-Type":"application/json",Accept:"application/json"}}),this.setupInterceptors()}static getInstance(){return ff.instance||(ff.instance=new ff),ff.instance}generateRetryKey(t="GET",r=""){return`${t.toUpperCase()}_${r}_${Date.now()}`}setupInterceptors(){this.axiosInstance.interceptors.request.use(t=>{const r=xI();return r&&(t.headers.Authorization=`Bearer ${r}`),t.metadata={...t.metadata,startTime:Date.now(),retryKey:this.generateRetryKey(t.method,t.url)},t},t=>(console.error("[SchedulePreferenceService] Request interceptor error:",t),Promise.reject(Ll(t)))),this.axiosInstance.interceptors.response.use(t=>{const r=Date.now()-(t.config.metadata?.startTime||0);return console.debug(`[SchedulePreferenceService] Request completed in ${r}ms`),t.config.metadata?.retryKey&&this.retryCountMap.delete(t.config.metadata.retryKey),t},async t=>(Cle(t),gp(t)&&this.shouldRetryRequest(t)?this.retryRequest(t):(gp(t)&&t.config?.metadata?.retryKey&&this.retryCountMap.delete(t.config.metadata.retryKey),gp(t)&&t.response?.status===$_.UNAUTHORIZED&&console.warn("[SchedulePreferenceService] Unauthorized access - token may be expired"),Promise.reject(Ll(t)))))}shouldRetryRequest(t){const n=t.config?.metadata?.retryKey;if(!n||(this.retryCountMap.get(n)||0)>=_a.RETRY_ATTEMPTS)return!1;if(!t.response)return!0;const o=t.response.status;return o>=500||o===$_.BAD_REQUEST}async retryRequest(t){const r=t.config;if(!r||!r.metadata?.retryKey)throw Ll(t);const n=r.metadata.retryKey,o=(this.retryCountMap.get(n)||0)+1,l=_a.RETRY_DELAY*Math.pow(2,o-1);console.warn(`[SchedulePreferenceService] Retrying request (attempt ${o}/${_a.RETRY_ATTEMPTS}) in ${l}ms`),this.retryCountMap.set(n,o),await new Promise(d=>setTimeout(d,l));const c=Nle(r);return this.axiosInstance.request(c)}async getAllSchedulePreferences(){try{console.info("[SchedulePreferenceService] Fetching all schedule preferences");const t=await this.axiosInstance.get(_a.ENDPOINTS.SCHEDULE_PREFERENCES);return console.info(`[SchedulePreferenceService] Successfully fetched ${t.data.length} schedule preferences`),t.data}catch(t){throw console.error("[SchedulePreferenceService] Failed to fetch schedule preferences:",t),Ll(t)}}async getSchedulePreferenceById(t){try{console.info(`[SchedulePreferenceService] Fetching schedule preference with ID: ${t}`);const r=await this.axiosInstance.get(_a.ENDPOINTS.SCHEDULE_PREFERENCE_BY_ID(t));return console.info(`[SchedulePreferenceService] Successfully fetched schedule preference ${t}`),r.data}catch(r){throw console.error(`[SchedulePreferenceService] Failed to fetch schedule preference ${t}:`,r),Ll(r)}}async createSchedulePreference(t){try{console.info("[SchedulePreferenceService] Creating new schedule preference"),console.debug("[SchedulePreferenceService] Create data:",t);const r=await this.axiosInstance.post(_a.ENDPOINTS.SCHEDULE_PREFERENCES,t);return console.info(`[SchedulePreferenceService] Successfully created schedule preference with ID: ${r.data.id}`),r.data}catch(r){throw console.error("[SchedulePreferenceService] Failed to create schedule preference:",r),Ll(r)}}async updateSchedulePreference(t,r){try{console.info(`[SchedulePreferenceService] Updating schedule preference ${t}`),console.debug("[SchedulePreferenceService] Update data:",r);const n=await this.axiosInstance.put(_a.ENDPOINTS.SCHEDULE_PREFERENCE_BY_ID(t),r);return console.info(`[SchedulePreferenceService] Successfully updated schedule preference ${t}`),n.data}catch(n){throw console.error(`[SchedulePreferenceService] Failed to update schedule preference ${t}:`,n),Ll(n)}}async deleteSchedulePreference(t){try{console.info(`[SchedulePreferenceService] Deleting schedule preference ${t}`),await this.axiosInstance.delete(_a.ENDPOINTS.SCHEDULE_PREFERENCE_BY_ID(t)),console.info(`[SchedulePreferenceService] Successfully deleted schedule preference ${t}`)}catch(r){throw console.error(`[SchedulePreferenceService] Failed to delete schedule preference ${t}:`,r),Ll(r)}}isAuthenticated(){return xI()!==null}getTimeout(){return _a.TIMEOUT}setTimeout(t){this.axiosInstance.defaults.timeout=t,console.info(`[SchedulePreferenceService] Request timeout updated to ${t}ms`)}getBaseUrl(){return _a.BASE_URL}clearRetryTracking(){this.retryCountMap.clear(),console.debug("[SchedulePreferenceService] Retry tracking data cleared")}}const og=ff.getInstance(),Nr={IDLE:"idle",LOADING:"loading",SUCCEEDED:"succeeded",FAILED:"failed"},vI={schedulePreferences:[],currentSchedulePreference:null,fetchAllStatus:Nr.IDLE,fetchByIdStatus:Nr.IDLE,createStatus:Nr.IDLE,updateStatus:Nr.IDLE,deleteStatus:Nr.IDLE,fetchAllError:null,fetchByIdError:null,createError:null,updateError:null,deleteError:null,lastFetch:null,totalCount:0},Ele=e=>e&&typeof e=="object"&&"message"in e?e.message:typeof e=="string"?e:"An unexpected error occurred",ig=(e,t)=>{const r=Ele(e);return`Failed to ${t} schedule preference: ${r}`},Sf=Le("schedulePreferences/fetchAll",async(e,{rejectWithValue:t})=>{try{console.info("[SchedulePreferenceSlice] Fetching all schedule preferences");const r=await og.getAllSchedulePreferences();return console.info(`[SchedulePreferenceSlice] Successfully fetched ${r.length} schedule preferences`),r}catch(r){return console.error("[SchedulePreferenceSlice] Failed to fetch all schedule preferences:",r),t(ig(r,"fetch all"))}}),VN=Le("schedulePreferences/fetchById",async({id:e},{rejectWithValue:t})=>{try{console.info(`[SchedulePreferenceSlice] Fetching schedule preference with ID: ${e}`);const r=await og.getSchedulePreferenceById(e);return console.info(`[SchedulePreferenceSlice] Successfully fetched schedule preference ${e}`),r}catch(r){return console.error(`[SchedulePreferenceSlice] Failed to fetch schedule preference ${e}:`,r),t(ig(r,`fetch by ID ${e}`))}}),Np=Le("schedulePreferences/create",async(e,{rejectWithValue:t})=>{try{console.info("[SchedulePreferenceSlice] Creating new schedule preference"),console.debug("[SchedulePreferenceSlice] Create data:",e);const r=await og.createSchedulePreference(e);return console.info(`[SchedulePreferenceSlice] Successfully created schedule preference with ID: ${r.id}`),r}catch(r){return console.error("[SchedulePreferenceSlice] Failed to create schedule preference:",r),t(ig(r,"create"))}}),Cp=Le("schedulePreferences/update",async({id:e,data:t},{rejectWithValue:r})=>{try{console.info(`[SchedulePreferenceSlice] Updating schedule preference ${e}`),console.debug("[SchedulePreferenceSlice] Update data:",t);const n=await og.updateSchedulePreference(e,t);return console.info(`[SchedulePreferenceSlice] Successfully updated schedule preference ${e}`),n}catch(n){return console.error(`[SchedulePreferenceSlice] Failed to update schedule preference ${e}:`,n),r(ig(n,`update ID ${e}`))}}),Ep=Le("schedulePreferences/delete",async({id:e},{rejectWithValue:t})=>{try{return console.info(`[SchedulePreferenceSlice] Deleting schedule preference ${e}`),await og.deleteSchedulePreference(e),console.info(`[SchedulePreferenceSlice] Successfully deleted schedule preference ${e}`),e}catch(r){return console.error(`[SchedulePreferenceSlice] Failed to delete schedule preference ${e}:`,r),t(ig(r,`delete ID ${e}`))}}),HF=Zt({name:"schedulePreferences",initialState:vI,reducers:{clearErrors:e=>{console.debug("[SchedulePreferenceSlice] Clearing all errors"),e.fetchAllError=null,e.fetchByIdError=null,e.createError=null,e.updateError=null,e.deleteError=null},clearError:(e,t)=>{switch(console.debug(`[SchedulePreferenceSlice] Clearing ${t.payload} error`),t.payload){case"fetchAll":e.fetchAllError=null;break;case"fetchById":e.fetchByIdError=null;break;case"create":e.createError=null;break;case"update":e.updateError=null;break;case"delete":e.deleteError=null;break}},resetLoadingStates:e=>{console.debug("[SchedulePreferenceSlice] Resetting all loading states to idle"),e.fetchAllStatus=Nr.IDLE,e.fetchByIdStatus=Nr.IDLE,e.createStatus=Nr.IDLE,e.updateStatus=Nr.IDLE,e.deleteStatus=Nr.IDLE},setCurrentSchedulePreference:(e,t)=>{console.debug("[SchedulePreferenceSlice] Setting current schedule preference:",t.payload?.id||"null"),e.currentSchedulePreference=t.payload},clearCurrentSchedulePreference:e=>{console.debug("[SchedulePreferenceSlice] Clearing current schedule preference"),e.currentSchedulePreference=null},resetSlice:()=>(console.debug("[SchedulePreferenceSlice] Resetting slice to initial state"),vI)},extraReducers:e=>{e.addCase(Sf.pending,t=>{console.debug("[SchedulePreferenceSlice] Fetch all pending"),t.fetchAllStatus=Nr.LOADING,t.fetchAllError=null}).addCase(Sf.fulfilled,(t,r)=>{console.debug(`[SchedulePreferenceSlice] Fetch all fulfilled with ${r.payload.length} items`),t.fetchAllStatus=Nr.SUCCEEDED,t.schedulePreferences=r.payload,t.totalCount=r.payload.length,t.lastFetch=new Date().toISOString(),t.fetchAllError=null}).addCase(Sf.rejected,(t,r)=>{console.error("[SchedulePreferenceSlice] Fetch all rejected:",r.payload),t.fetchAllStatus=Nr.FAILED,t.fetchAllError=r.payload||"Failed to fetch schedule preferences"}).addCase(VN.pending,t=>{console.debug("[SchedulePreferenceSlice] Fetch by ID pending"),t.fetchByIdStatus=Nr.LOADING,t.fetchByIdError=null}).addCase(VN.fulfilled,(t,r)=>{console.debug(`[SchedulePreferenceSlice] Fetch by ID fulfilled for ID: ${r.payload.id}`),t.fetchByIdStatus=Nr.SUCCEEDED,t.currentSchedulePreference=r.payload,t.fetchByIdError=null;const n=t.schedulePreferences.findIndex(a=>a.id===r.payload.id);n!==-1&&(t.schedulePreferences[n]=r.payload)}).addCase(VN.rejected,(t,r)=>{console.error("[SchedulePreferenceSlice] Fetch by ID rejected:",r.payload),t.fetchByIdStatus=Nr.FAILED,t.fetchByIdError=r.payload||"Failed to fetch schedule preference"}).addCase(Np.pending,t=>{console.debug("[SchedulePreferenceSlice] Create pending"),t.createStatus=Nr.LOADING,t.createError=null}).addCase(Np.fulfilled,(t,r)=>{console.debug(`[SchedulePreferenceSlice] Create fulfilled with ID: ${r.payload.id}`),t.createStatus=Nr.SUCCEEDED;const n={id:r.payload.id,emp_info_id:typeof r.payload.emp_info_id=="string"?parseInt(r.payload.emp_info_id):r.payload.emp_info_id,preference_id:typeof r.payload.preference_id=="string"?parseInt(r.payload.preference_id):r.payload.preference_id,maximum_hours:r.payload.maximum_hours,employment_type:r.payload.employment_type,created_at:r.payload.created_at,updated_at:r.payload.updated_at,emp_info:{},preference:{}};t.schedulePreferences.unshift(n),t.totalCount=t.schedulePreferences.length,t.createError=null}).addCase(Np.rejected,(t,r)=>{console.error("[SchedulePreferenceSlice] Create rejected:",r.payload),t.createStatus=Nr.FAILED,t.createError=r.payload||"Failed to create schedule preference"}).addCase(Cp.pending,t=>{console.debug("[SchedulePreferenceSlice] Update pending"),t.updateStatus=Nr.LOADING,t.updateError=null}).addCase(Cp.fulfilled,(t,r)=>{console.debug(`[SchedulePreferenceSlice] Update fulfilled for ID: ${r.payload.id}`),t.updateStatus=Nr.SUCCEEDED;const n=t.schedulePreferences.findIndex(a=>a.id===r.payload.id);n!==-1&&(t.schedulePreferences[n]={...t.schedulePreferences[n],emp_info_id:typeof r.payload.emp_info_id=="string"?parseInt(r.payload.emp_info_id):r.payload.emp_info_id,preference_id:typeof r.payload.preference_id=="string"?parseInt(r.payload.preference_id):r.payload.preference_id,maximum_hours:r.payload.maximum_hours,employment_type:r.payload.employment_type,updated_at:r.payload.updated_at}),t.currentSchedulePreference&&t.currentSchedulePreference.id===r.payload.id&&(t.currentSchedulePreference={...t.currentSchedulePreference,emp_info_id:typeof r.payload.emp_info_id=="string"?parseInt(r.payload.emp_info_id):r.payload.emp_info_id,preference_id:typeof r.payload.preference_id=="string"?parseInt(r.payload.preference_id):r.payload.preference_id,maximum_hours:r.payload.maximum_hours,employment_type:r.payload.employment_type,updated_at:r.payload.updated_at}),t.updateError=null}).addCase(Cp.rejected,(t,r)=>{console.error("[SchedulePreferenceSlice] Update rejected:",r.payload),t.updateStatus=Nr.FAILED,t.updateError=r.payload||"Failed to update schedule preference"}).addCase(Ep.pending,t=>{console.debug("[SchedulePreferenceSlice] Delete pending"),t.deleteStatus=Nr.LOADING,t.deleteError=null}).addCase(Ep.fulfilled,(t,r)=>{console.debug(`[SchedulePreferenceSlice] Delete fulfilled for ID: ${r.payload}`),t.deleteStatus=Nr.SUCCEEDED,t.schedulePreferences=t.schedulePreferences.filter(n=>n.id!==r.payload),t.totalCount=t.schedulePreferences.length,t.currentSchedulePreference&&t.currentSchedulePreference.id===r.payload&&(t.currentSchedulePreference=null),t.deleteError=null}).addCase(Ep.rejected,(t,r)=>{console.error("[SchedulePreferenceSlice] Delete rejected:",r.payload),t.deleteStatus=Nr.FAILED,t.deleteError=r.payload||"Failed to delete schedule preference"})}}),{clearErrors:c9e,clearError:d9e,resetLoadingStates:u9e,setCurrentSchedulePreference:f9e,clearCurrentSchedulePreference:m9e,resetSlice:h9e}=HF.actions,_le=HF.reducer,Ale=e=>e.schedulePreferences.schedulePreferences,kle=e=>e.schedulePreferences.totalCount,Dle=e=>({fetchAll:e.schedulePreferences.fetchAllStatus,fetchById:e.schedulePreferences.fetchByIdStatus,create:e.schedulePreferences.createStatus,update:e.schedulePreferences.updateStatus,delete:e.schedulePreferences.deleteStatus}),Tle=e=>({fetchAll:e.schedulePreferences.fetchAllError,fetchById:e.schedulePreferences.fetchByIdError,create:e.schedulePreferences.createError,update:e.schedulePreferences.updateError,delete:e.schedulePreferences.deleteError}),Rle=e=>{const{fetchAllStatus:t,fetchByIdStatus:r,createStatus:n,updateStatus:a,deleteStatus:o}=e.schedulePreferences;return[t,r,n,a,o].some(l=>l===Nr.LOADING)},H_={baseURL:"http://127.0.0.1:8000/api",timeout:1e4,headers:{"Content-Type":"application/json",Accept:"application/json"}},Yu={EMPLOYMENT_INFO:"/employment-info",EMPLOYMENT_INFO_BY_ID:e=>`/employment-info/${e}`},z_=()=>{try{const t=Vn.getState().auth?.token;return t||qn()}catch(e){return console.error("Error retrieving auth token:",e),null}},Ple=e=>{if(e.response?.data){const t=e.response.data;return{message:t.message||"An error occurred",code:e.response.status.toString(),errors:t.errors||void 0}}else return e.request?{message:"Network error - please check your connection",code:"NETWORK_ERROR"}:{message:e.message||"An unexpected error occurred",code:"UNKNOWN_ERROR"}},Uh=(e,t,r)=>{console.error(`[EmploymentInformationAPI] ${e} failed:`,{error:t,context:r,timestamp:new Date().toISOString()})},ld=ft.create(H_);ld.interceptors.request.use(e=>{const t=z_();return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>(console.error("[API Request Interceptor] Request setup failed:",e),Promise.reject(e)));ld.interceptors.response.use(e=>e,e=>{const t=Ple(e);switch(e.response?.status){case 401:console.warn("[API] Unauthorized access - token may be expired");break;case 403:console.warn("[API] Forbidden access - insufficient permissions");break;case 404:console.warn("[API] Resource not found");break;case 422:console.warn("[API] Validation error:",t.errors);break;case 500:console.error("[API] Internal server error");break;default:console.error("[API] Unexpected error:",t)}return Promise.reject(t)});class _d{static async getAll(){try{const t=await ld.get(Yu.EMPLOYMENT_INFO);return console.log(`[EmploymentInformationAPI] Successfully fetched ${t.data.length} records`),t.data}catch(t){const r=t;throw Uh("getAll",r),r}}static async getById(t){try{if(!t||t<=0)throw new Error("Invalid employment information ID provided");const r=await ld.get(Yu.EMPLOYMENT_INFO_BY_ID(t));return console.log(`[EmploymentInformationAPI] Successfully fetched record with ID: ${t}`),r.data}catch(r){const n=r instanceof Error?{message:r.message,code:"VALIDATION_ERROR"}:r;throw Uh("getById",n,{id:t}),n}}static async create(t){try{if(!t.emp_info_id)throw new Error("Employee info ID is required");if(!t.paychex_ids||t.paychex_ids.length===0)throw new Error("At least one Paychex ID is required");if(!t.employment_type)throw new Error("Employment type is required");const r=await ld.post(Yu.EMPLOYMENT_INFO,t);return console.log(`[EmploymentInformationAPI] Successfully created record with ID: ${r.data.id}`),r.data}catch(r){const n=r instanceof Error?{message:r.message,code:"VALIDATION_ERROR"}:r;throw Uh("create",n,{data:t}),n}}static async update(t,r){try{if(!t||t<=0)throw new Error("Invalid employment information ID provided");if(!r.emp_info_id)throw new Error("Employee info ID is required");if(!r.paychex_ids||r.paychex_ids.length===0)throw new Error("At least one Paychex ID is required");if(!r.employment_type)throw new Error("Employment type is required");const n=await ld.put(Yu.EMPLOYMENT_INFO_BY_ID(t),r);return console.log(`[EmploymentInformationAPI] Successfully updated record with ID: ${t}`),n.data}catch(n){const a=n instanceof Error?{message:n.message,code:"VALIDATION_ERROR"}:n;throw Uh("update",a,{id:t,data:r}),a}}static async delete(t){try{if(!t||t<=0)throw new Error("Invalid employment information ID provided");return await ld.delete(Yu.EMPLOYMENT_INFO_BY_ID(t)),console.log(`[EmploymentInformationAPI] Successfully deleted record with ID: ${t}`),!0}catch(r){const n=r instanceof Error?{message:r.message,code:"VALIDATION_ERROR"}:r;throw Uh("delete",n,{id:t}),n}}static validateEmploymentData(t){const r=[];return t.emp_info_id||r.push("Employee info ID is required"),(!t.paychex_ids||!Array.isArray(t.paychex_ids)||t.paychex_ids.length===0)&&r.push("At least one Paychex ID is required"),(!t.employment_type||!["1099","W2"].includes(t.employment_type))&&r.push('Employment type must be either "1099" or "W2"'),t.hired_date||r.push("Hired date is required"),(!t.base_pay||parseFloat(t.base_pay)<0)&&r.push("Base pay must be a positive number"),(!t.performance_pay||parseFloat(t.performance_pay)<0)&&r.push("Performance pay must be a positive number"),typeof t.has_uniform!="boolean"&&r.push("Has uniform must be a boolean value"),r}static isConfigured(){return z_()?!0:(console.warn("[EmploymentInformationAPI] No authentication token available"),!1)}static getConfig(){return{baseURL:H_.baseURL,timeout:H_.timeout,hasToken:!!z_(),endpoints:Yu}}}const yI={items:[],currentItem:null,listLoading:"idle",itemLoading:"idle",createLoading:"idle",updateLoading:"idle",deleteLoading:"idle",listError:null,itemError:null,createError:null,updateError:null,deleteError:null,lastFetch:null},bd=Le("employmentInformation/fetchAll",async(e,{rejectWithValue:t,getState:r})=>{try{const a=r().employmentInformation.lastFetch,o=Date.now();if(a&&o-a<5*60*1e3)return console.log("[EmploymentInformationSlice] Using cached data, skipping fetch"),null;console.log("[EmploymentInformationSlice] Fetching all employment information records");const l=await _d.getAll();return console.log(`[EmploymentInformationSlice] Successfully fetched ${l.length} records`),l}catch(n){const a=n;return console.error("[EmploymentInformationSlice] fetchAll failed:",a),t({message:a.message||"Failed to fetch employment information",code:a.code,errors:a.errors})}}),Uy=Le("employmentInformation/fetchById",async(e,{rejectWithValue:t})=>{try{if(!e||e<=0)throw new Error("Valid employment information ID is required");console.log(`[EmploymentInformationSlice] Fetching employment information with ID: ${e}`);const r=await _d.getById(e);return console.log(`[EmploymentInformationSlice] Successfully fetched employment information: ${e}`),r}catch(r){const n=r;return console.error(`[EmploymentInformationSlice] fetchById(${e}) failed:`,n),t({message:n.message||"Failed to fetch employment information",code:n.code,errors:n.errors})}}),$y=Le("employmentInformation/create",async(e,{rejectWithValue:t,dispatch:r})=>{try{const n=_d.validateEmploymentData(e);if(n.length>0)throw new Error(`Validation failed: ${n.join(", ")}`);console.log("[EmploymentInformationSlice] Creating new employment information");const a=await _d.create(e);return console.log(`[EmploymentInformationSlice] Successfully created employment information with ID: ${a.id}`),r(bd()),a}catch(n){const a=n;return console.error("[EmploymentInformationSlice] create failed:",a),t({message:a.message||"Failed to create employment information",code:a.code,errors:a.errors})}}),Hy=Le("employmentInformation/update",async(e,{rejectWithValue:t,dispatch:r})=>{try{const{id:n,data:a}=e;if(!n||n<=0)throw new Error("Valid employment information ID is required");const o=_d.validateEmploymentData(a);if(o.length>0)throw new Error(`Validation failed: ${o.join(", ")}`);console.log(`[EmploymentInformationSlice] Updating employment information with ID: ${n}`);const l=await _d.update(n,a);return console.log(`[EmploymentInformationSlice] Successfully updated employment information: ${n}`),r(bd()),l}catch(n){const a=n;return console.error(`[EmploymentInformationSlice] update(${e.id}) failed:`,a),t({message:a.message||"Failed to update employment information",code:a.code,errors:a.errors})}}),zy=Le("employmentInformation/delete",async(e,{rejectWithValue:t,dispatch:r})=>{try{if(!e||e<=0)throw new Error("Valid employment information ID is required");return console.log(`[EmploymentInformationSlice] Deleting employment information with ID: ${e}`),await _d.delete(e),console.log(`[EmploymentInformationSlice] Successfully deleted employment information: ${e}`),r(bd()),e}catch(n){const a=n;return console.error(`[EmploymentInformationSlice] delete(${e}) failed:`,a),t({message:a.message||"Failed to delete employment information",code:a.code,errors:a.errors})}}),zF=Zt({name:"employmentInformation",initialState:yI,reducers:{clearErrors:e=>{e.listError=null,e.itemError=null,e.createError=null,e.updateError=null,e.deleteError=null},clearCurrentItem:e=>{e.currentItem=null,e.itemError=null},setCurrentItem:(e,t)=>{e.currentItem=t.payload,e.itemError=null},clearError:(e,t)=>{switch(t.payload){case"list":e.listError=null;break;case"item":e.itemError=null;break;case"create":e.createError=null;break;case"update":e.updateError=null;break;case"delete":e.deleteError=null;break}},updateItemInList:(e,t)=>{const r=t.payload,n=e.items.findIndex(a=>a.id===r.id);n!==-1&&(e.items[n]=r,e.currentItem&&e.currentItem.id===r.id&&(e.currentItem=r))},removeItemFromList:(e,t)=>{const r=t.payload;e.items=e.items.filter(n=>n.id!==r),e.currentItem&&e.currentItem.id===r&&(e.currentItem=null)},resetState:()=>yI},extraReducers:e=>{e.addCase(bd.pending,t=>{t.listLoading="pending",t.listError=null}).addCase(bd.fulfilled,(t,r)=>{t.listLoading="succeeded",t.listError=null,r.payload!==null&&(t.items=r.payload,t.lastFetch=Date.now())}).addCase(bd.rejected,(t,r)=>{t.listLoading="failed";const n=r.payload;t.listError=n?.message||"Failed to fetch employment information",console.error("[EmploymentInformationSlice] fetchAll rejected:",n)}).addCase(Uy.pending,t=>{t.itemLoading="pending",t.itemError=null}).addCase(Uy.fulfilled,(t,r)=>{t.itemLoading="succeeded",t.itemError=null,t.currentItem=r.payload}).addCase(Uy.rejected,(t,r)=>{t.itemLoading="failed";const n=r.payload;t.itemError=n?.message||"Failed to fetch employment information",t.currentItem=null,console.error("[EmploymentInformationSlice] fetchById rejected:",n)}).addCase($y.pending,t=>{t.createLoading="pending",t.createError=null}).addCase($y.fulfilled,t=>{t.createLoading="succeeded",t.createError=null}).addCase($y.rejected,(t,r)=>{t.createLoading="failed";const n=r.payload;t.createError=n?.message||"Failed to create employment information",console.error("[EmploymentInformationSlice] create rejected:",n)}).addCase(Hy.pending,t=>{t.updateLoading="pending",t.updateError=null}).addCase(Hy.fulfilled,t=>{t.updateLoading="succeeded",t.updateError=null}).addCase(Hy.rejected,(t,r)=>{t.updateLoading="failed";const n=r.payload;t.updateError=n?.message||"Failed to update employment information",console.error("[EmploymentInformationSlice] update rejected:",n)}).addCase(zy.pending,t=>{t.deleteLoading="pending",t.deleteError=null}).addCase(zy.fulfilled,t=>{t.deleteLoading="succeeded",t.deleteError=null}).addCase(zy.rejected,(t,r)=>{t.deleteLoading="failed";const n=r.payload;t.deleteError=n?.message||"Failed to delete employment information",console.error("[EmploymentInformationSlice] delete rejected:",n)})}}),{clearErrors:Mle,clearCurrentItem:Ole,setCurrentItem:Ile,clearError:Lle,updateItemInList:p9e,removeItemFromList:g9e,resetState:Ble}=zF.actions,Fle=e=>e.employmentInformation.items,Ule=e=>e.employmentInformation.currentItem,$le=e=>({list:e.employmentInformation.listLoading==="pending",item:e.employmentInformation.itemLoading==="pending",create:e.employmentInformation.createLoading==="pending",update:e.employmentInformation.updateLoading==="pending",delete:e.employmentInformation.deleteLoading==="pending"}),Hle=e=>({list:e.employmentInformation.listError,item:e.employmentInformation.itemError,create:e.employmentInformation.createError,update:e.employmentInformation.updateError,delete:e.employmentInformation.deleteError}),zle=e=>{const t=e.employmentInformation.items;return{total:t.length,w2Count:t.filter(r=>r.employment_type==="W2").length,contractorCount:t.filter(r=>r.employment_type==="1099").length,withUniformCount:t.filter(r=>r.has_uniform).length,hasData:t.length>0,lastFetch:e.employmentInformation.lastFetch}},qle=zF.reducer;function De(e,t,r){function n(c,d){var u;Object.defineProperty(c,"_zod",{value:c._zod??{},enumerable:!1}),(u=c._zod).traits??(u.traits=new Set),c._zod.traits.add(e),t(c,d);for(const i in l.prototype)i in c||Object.defineProperty(c,i,{value:l.prototype[i].bind(c)});c._zod.constr=l,c._zod.def=d}const a=r?.Parent??Object;class o extends a{}Object.defineProperty(o,"name",{value:e});function l(c){var d;const u=r?.Parent?new o:this;n(u,c),(d=u._zod).deferred??(d.deferred=[]);for(const i of u._zod.deferred)i();return u}return Object.defineProperty(l,"init",{value:n}),Object.defineProperty(l,Symbol.hasInstance,{value:c=>r?.Parent&&c instanceof r.Parent?!0:c?._zod?.traits?.has(e)}),Object.defineProperty(l,"name",{value:e}),l}class jf extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class qF extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const VF={};function sc(e){return VF}function Vle(e){const t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,a])=>t.indexOf(+n)===-1).map(([n,a])=>a)}function q_(e,t){return typeof t=="bigint"?t.toString():t}function A2(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function k2(e){return e==null}function D2(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function Wle(e,t){const r=(e.toString().split(".")[1]||"").length,n=t.toString();let a=(n.split(".")[1]||"").length;if(a===0&&/\d?e-\d?/.test(n)){const d=n.match(/\d?e-(\d?)/);d?.[1]&&(a=Number.parseInt(d[1]))}const o=r>a?r:a,l=Number.parseInt(e.toFixed(o).replace(".","")),c=Number.parseInt(t.toFixed(o).replace(".",""));return l%c/10**o}const bI=Symbol("evaluating");function Er(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==bI)return n===void 0&&(n=bI,n=r()),n},set(a){Object.defineProperty(e,t,{value:a})},configurable:!0})}function Gle(e){return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))}function pc(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function om(...e){const t={};for(const r of e){const n=Object.getOwnPropertyDescriptors(r);Object.assign(t,n)}return Object.defineProperties({},t)}function wI(e){return JSON.stringify(e)}const WF="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function gb(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const Yle=A2(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Tf(e){if(gb(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(gb(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function GF(e){return Tf(e)?{...e}:e}const Zle=new Set(["string","number","symbol"]);function Rf(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function gc(e,t,r){const n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}function lt(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function Kle(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const Xle={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function Qle(e,t){const r=e._zod.def,n=om(e._zod.def,{get shape(){const a={};for(const o in t){if(!(o in r.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&(a[o]=r.shape[o])}return pc(this,"shape",a),a},checks:[]});return gc(e,n)}function Jle(e,t){const r=e._zod.def,n=om(e._zod.def,{get shape(){const a={...e._zod.def.shape};for(const o in t){if(!(o in r.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&delete a[o]}return pc(this,"shape",a),a},checks:[]});return gc(e,n)}function ece(e,t){if(!Tf(t))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const a=om(e._zod.def,{get shape(){const o={...e._zod.def.shape,...t};return pc(this,"shape",o),o},checks:[]});return gc(e,a)}function tce(e,t){if(!Tf(t))throw new Error("Invalid input to safeExtend: expected a plain object");const r={...e._zod.def,get shape(){const n={...e._zod.def.shape,...t};return pc(this,"shape",n),n},checks:e._zod.def.checks};return gc(e,r)}function rce(e,t){const r=om(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return pc(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return gc(e,r)}function nce(e,t,r){const n=om(t._zod.def,{get shape(){const a=t._zod.def.shape,o={...a};if(r)for(const l in r){if(!(l in a))throw new Error(`Unrecognized key: "${l}"`);r[l]&&(o[l]=e?new e({type:"optional",innerType:a[l]}):a[l])}else for(const l in a)o[l]=e?new e({type:"optional",innerType:a[l]}):a[l];return pc(this,"shape",o),o},checks:[]});return gc(t,n)}function sce(e,t,r){const n=om(t._zod.def,{get shape(){const a=t._zod.def.shape,o={...a};if(r)for(const l in r){if(!(l in o))throw new Error(`Unrecognized key: "${l}"`);r[l]&&(o[l]=new e({type:"nonoptional",innerType:a[l]}))}else for(const l in a)o[l]=new e({type:"nonoptional",innerType:a[l]});return pc(this,"shape",o),o},checks:[]});return gc(t,n)}function mf(e,t=0){if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function hf(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function xv(e){return typeof e=="string"?e:e?.message}function ac(e,t,r){const n={...e,path:e.path??[]};if(!e.message){const a=xv(e.inst?._zod.def?.error?.(e))??xv(t?.error?.(e))??xv(r.customError?.(e))??xv(r.localeError?.(e))??"Invalid input";n.message=a}return delete n.inst,delete n.continue,t?.reportInput||delete n.input,n}function T2(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Tp(...e){const[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}const YF=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,q_,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},R2=De("$ZodError",YF),Uw=De("$ZodError",YF,{Parent:Error});function ace(e,t=r=>r.message){const r={},n=[];for(const a of e.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):n.push(t(a));return{formErrors:n,fieldErrors:r}}function oce(e,t){const r=t||function(o){return o.message},n={_errors:[]},a=o=>{for(const l of o.issues)if(l.code==="invalid_union"&&l.errors.length)l.errors.map(c=>a({issues:c}));else if(l.code==="invalid_key")a({issues:l.issues});else if(l.code==="invalid_element")a({issues:l.issues});else if(l.path.length===0)n._errors.push(r(l));else{let c=n,d=0;for(;d<l.path.length;){const u=l.path[d];d===l.path.length-1?(c[u]=c[u]||{_errors:[]},c[u]._errors.push(r(l))):c[u]=c[u]||{_errors:[]},c=c[u],d++}}};return a(e),n}const $w=e=>(t,r,n,a)=>{const o=n?Object.assign(n,{async:!1}):{async:!1},l=t._zod.run({value:r,issues:[]},o);if(l instanceof Promise)throw new jf;if(l.issues.length){const c=new(a?.Err??e)(l.issues.map(d=>ac(d,o,sc())));throw WF(c,a?.callee),c}return l.value},ice=$w(Uw),Hw=e=>async(t,r,n,a)=>{const o=n?Object.assign(n,{async:!0}):{async:!0};let l=t._zod.run({value:r,issues:[]},o);if(l instanceof Promise&&(l=await l),l.issues.length){const c=new(a?.Err??e)(l.issues.map(d=>ac(d,o,sc())));throw WF(c,a?.callee),c}return l.value},lce=Hw(Uw),zw=e=>(t,r,n)=>{const a=n?{...n,async:!1}:{async:!1},o=t._zod.run({value:r,issues:[]},a);if(o instanceof Promise)throw new jf;return o.issues.length?{success:!1,error:new(e??R2)(o.issues.map(l=>ac(l,a,sc())))}:{success:!0,data:o.value}},cce=zw(Uw),qw=e=>async(t,r,n)=>{const a=n?Object.assign(n,{async:!0}):{async:!0};let o=t._zod.run({value:r,issues:[]},a);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map(l=>ac(l,a,sc())))}:{success:!0,data:o.value}},dce=qw(Uw),uce=e=>(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return $w(e)(t,r,a)},fce=e=>(t,r,n)=>$w(e)(t,r,n),mce=e=>async(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Hw(e)(t,r,a)},hce=e=>async(t,r,n)=>Hw(e)(t,r,n),pce=e=>(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return zw(e)(t,r,a)},gce=e=>(t,r,n)=>zw(e)(t,r,n),xce=e=>async(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return qw(e)(t,r,a)},vce=e=>async(t,r,n)=>qw(e)(t,r,n),yce=/^[cC][^\s-]{8,}$/,bce=/^[0-9a-z]+$/,wce=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Sce=/^[0-9a-vA-V]{20}$/,jce=/^[A-Za-z0-9]{27}$/,Nce=/^[a-zA-Z0-9_-]{21}$/,Cce=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Ece=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,SI=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,_ce=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Ace="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function kce(){return new RegExp(Ace,"u")}const Dce=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Tce=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,Rce=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Pce=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Mce=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,ZF=/^[A-Za-z0-9_-]*$/,Oce=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,Ice=/^\+(?:[0-9]){6,14}[0-9]$/,KF="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Lce=new RegExp(`^${KF}$`);function XF(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Bce(e){return new RegExp(`^${XF(e)}$`)}function Fce(e){const t=XF({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const n=`${t}(?:${r.join("|")})`;return new RegExp(`^${KF}T(?:${n})$`)}const Uce=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},$ce=/^\d+$/,Hce=/^-?\d+(?:\.\d+)?/i,zce=/true|false/i,qce=/^[^A-Z]*$/,Vce=/^[^a-z]*$/,Hs=De("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),QF={number:"number",bigint:"bigint",object:"date"},JF=De("$ZodCheckLessThan",(e,t)=>{Hs.init(e,t);const r=QF[typeof t.value];e._zod.onattach.push(n=>{const a=n._zod.bag,o=(t.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<o&&(t.inclusive?a.maximum=t.value:a.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),eU=De("$ZodCheckGreaterThan",(e,t)=>{Hs.init(e,t);const r=QF[typeof t.value];e._zod.onattach.push(n=>{const a=n._zod.bag,o=(t.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>o&&(t.inclusive?a.minimum=t.value:a.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Wce=De("$ZodCheckMultipleOf",(e,t)=>{Hs.init(e,t),e._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):Wle(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),Gce=De("$ZodCheckNumberFormat",(e,t)=>{Hs.init(e,t),t.format=t.format||"float64";const r=t.format?.includes("int"),n=r?"int":"number",[a,o]=Xle[t.format];e._zod.onattach.push(l=>{const c=l._zod.bag;c.format=t.format,c.minimum=a,c.maximum=o,r&&(c.pattern=$ce)}),e._zod.check=l=>{const c=l.value;if(r){if(!Number.isInteger(c)){l.issues.push({expected:n,format:t.format,code:"invalid_type",continue:!1,input:c,inst:e});return}if(!Number.isSafeInteger(c)){c>0?l.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort}):l.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort});return}}c<a&&l.issues.push({origin:"number",input:c,code:"too_small",minimum:a,inclusive:!0,inst:e,continue:!t.abort}),c>o&&l.issues.push({origin:"number",input:c,code:"too_big",maximum:o,inst:e})}}),Yce=De("$ZodCheckMaxLength",(e,t)=>{var r;Hs.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!k2(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<a&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const a=n.value;if(a.length<=t.maximum)return;const l=T2(a);n.issues.push({origin:l,code:"too_big",maximum:t.maximum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),Zce=De("$ZodCheckMinLength",(e,t)=>{var r;Hs.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!k2(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>a&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const a=n.value;if(a.length>=t.minimum)return;const l=T2(a);n.issues.push({origin:l,code:"too_small",minimum:t.minimum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),Kce=De("$ZodCheckLengthEquals",(e,t)=>{var r;Hs.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!k2(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag;a.minimum=t.length,a.maximum=t.length,a.length=t.length}),e._zod.check=n=>{const a=n.value,o=a.length;if(o===t.length)return;const l=T2(a),c=o>t.length;n.issues.push({origin:l,...c?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),Vw=De("$ZodCheckStringFormat",(e,t)=>{var r,n;Hs.init(e,t),e._zod.onattach.push(a=>{const o=a._zod.bag;o.format=t.format,t.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=a=>{t.pattern.lastIndex=0,!t.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:t.format,input:a.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),Xce=De("$ZodCheckRegex",(e,t)=>{Vw.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),Qce=De("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=qce),Vw.init(e,t)}),Jce=De("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=Vce),Vw.init(e,t)}),ede=De("$ZodCheckIncludes",(e,t)=>{Hs.init(e,t);const r=Rf(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(a=>{const o=a._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=a=>{a.value.includes(t.includes,t.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:a.value,inst:e,continue:!t.abort})}}),tde=De("$ZodCheckStartsWith",(e,t)=>{Hs.init(e,t);const r=new RegExp(`^${Rf(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const a=n._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),rde=De("$ZodCheckEndsWith",(e,t)=>{Hs.init(e,t);const r=new RegExp(`.*${Rf(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const a=n._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}),nde=De("$ZodCheckOverwrite",(e,t)=>{Hs.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class sde{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const n=t.split(`
`).filter(l=>l),a=Math.min(...n.map(l=>l.length-l.trimStart().length)),o=n.map(l=>l.slice(a)).map(l=>" ".repeat(this.indent*2)+l);for(const l of o)this.content.push(l)}compile(){const t=Function,r=this?.args,a=[...(this?.content??[""]).map(o=>`  ${o}`)];return new t(...r,a.join(`
`))}}const ade={major:4,minor:1,patch:5},Yr=De("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=ade;const n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(const a of n)for(const o of a._zod.onattach)o(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const a=(l,c,d)=>{let u=mf(l),i;for(const m of c){if(m._zod.def.when){if(!m._zod.def.when(l))continue}else if(u)continue;const g=l.issues.length,x=m._zod.check(l);if(x instanceof Promise&&d?.async===!1)throw new jf;if(i||x instanceof Promise)i=(i??Promise.resolve()).then(async()=>{await x,l.issues.length!==g&&(u||(u=mf(l,g)))});else{if(l.issues.length===g)continue;u||(u=mf(l,g))}}return i?i.then(()=>l):l},o=(l,c,d)=>{if(mf(l))return l.aborted=!0,l;const u=a(c,n,d);if(u instanceof Promise){if(d.async===!1)throw new jf;return u.then(i=>e._zod.parse(i,d))}return e._zod.parse(u,d)};e._zod.run=(l,c)=>{if(c.skipChecks)return e._zod.parse(l,c);if(c.direction==="backward"){const u=e._zod.parse({value:l.value,issues:[]},{...c,skipChecks:!0});return u instanceof Promise?u.then(i=>o(i,l,c)):o(u,l,c)}const d=e._zod.parse(l,c);if(d instanceof Promise){if(c.async===!1)throw new jf;return d.then(u=>a(u,n,c))}return a(d,n,c)}}e["~standard"]={validate:a=>{try{const o=cce(e,a);return o.success?{value:o.data}:{issues:o.error?.issues}}catch{return dce(e,a).then(l=>l.success?{value:l.data}:{issues:l.error?.issues})}},vendor:"zod",version:1}}),P2=De("$ZodString",(e,t)=>{Yr.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??Uce(e._zod.bag),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),Fr=De("$ZodStringFormat",(e,t)=>{Vw.init(e,t),P2.init(e,t)}),ode=De("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=Ece),Fr.init(e,t)}),ide=De("$ZodUUID",(e,t)=>{if(t.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=SI(n))}else t.pattern??(t.pattern=SI());Fr.init(e,t)}),lde=De("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=_ce),Fr.init(e,t)}),cde=De("$ZodURL",(e,t)=>{Fr.init(e,t),e._zod.check=r=>{try{const n=r.value.trim(),a=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(a.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:Oce.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=a.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),dde=De("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=kce()),Fr.init(e,t)}),ude=De("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=Nce),Fr.init(e,t)}),fde=De("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=yce),Fr.init(e,t)}),mde=De("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=bce),Fr.init(e,t)}),hde=De("$ZodULID",(e,t)=>{t.pattern??(t.pattern=wce),Fr.init(e,t)}),pde=De("$ZodXID",(e,t)=>{t.pattern??(t.pattern=Sce),Fr.init(e,t)}),gde=De("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=jce),Fr.init(e,t)}),xde=De("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=Fce(t)),Fr.init(e,t)}),vde=De("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=Lce),Fr.init(e,t)}),yde=De("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=Bce(t)),Fr.init(e,t)}),bde=De("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=Cce),Fr.init(e,t)}),wde=De("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=Dce),Fr.init(e,t),e._zod.onattach.push(r=>{const n=r._zod.bag;n.format="ipv4"})}),Sde=De("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=Tce),Fr.init(e,t),e._zod.onattach.push(r=>{const n=r._zod.bag;n.format="ipv6"}),e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),jde=De("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=Rce),Fr.init(e,t)}),Nde=De("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=Pce),Fr.init(e,t),e._zod.check=r=>{const[n,a]=r.value.split("/");try{if(!a)throw new Error;const o=Number(a);if(`${o}`!==a)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${n}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function tU(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const Cde=De("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=Mce),Fr.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),e._zod.check=r=>{tU(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function Ede(e){if(!ZF.test(e))return!1;const t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return tU(r)}const _de=De("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=ZF),Fr.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),e._zod.check=r=>{Ede(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),Ade=De("$ZodE164",(e,t)=>{t.pattern??(t.pattern=Ice),Fr.init(e,t)});function kde(e,t=null){try{const r=e.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const a=JSON.parse(atob(n));return!("typ"in a&&a?.typ!=="JWT"||!a.alg||t&&(!("alg"in a)||a.alg!==t))}catch{return!1}}const Dde=De("$ZodJWT",(e,t)=>{Fr.init(e,t),e._zod.check=r=>{kde(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),rU=De("$ZodNumber",(e,t)=>{Yr.init(e,t),e._zod.pattern=e._zod.bag.pattern??Hce,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}const a=r.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return r;const o=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:a,inst:e,...o?{received:o}:{}}),r}}),Tde=De("$ZodNumber",(e,t)=>{Gce.init(e,t),rU.init(e,t)}),Rde=De("$ZodBoolean",(e,t)=>{Yr.init(e,t),e._zod.pattern=zce,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=!!r.value}catch{}const a=r.value;return typeof a=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:a,inst:e}),r}}),Pde=De("$ZodUnknown",(e,t)=>{Yr.init(e,t),e._zod.parse=r=>r}),Mde=De("$ZodNever",(e,t)=>{Yr.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function jI(e,t,r){e.issues.length&&t.issues.push(...hf(r,e.issues)),t.value[r]=e.value}const Ode=De("$ZodArray",(e,t)=>{Yr.init(e,t),e._zod.parse=(r,n)=>{const a=r.value;if(!Array.isArray(a))return r.issues.push({expected:"array",code:"invalid_type",input:a,inst:e}),r;r.value=Array(a.length);const o=[];for(let l=0;l<a.length;l++){const c=a[l],d=t.element._zod.run({value:c,issues:[]},n);d instanceof Promise?o.push(d.then(u=>jI(u,r,l))):jI(d,r,l)}return o.length?Promise.all(o).then(()=>r):r}});function xb(e,t,r,n){e.issues.length&&t.issues.push(...hf(r,e.issues)),e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}function nU(e){const t=Object.keys(e.shape);for(const n of t)if(!e.shape[n]._zod.traits.has("$ZodType"))throw new Error(`Invalid element at key "${n}": expected a Zod schema`);const r=Kle(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function sU(e,t,r,n,a,o){const l=[],c=a.keySet,d=a.catchall._zod,u=d.def.type;for(const i of Object.keys(t)){if(c.has(i))continue;if(u==="never"){l.push(i);continue}const m=d.run({value:t[i],issues:[]},n);m instanceof Promise?e.push(m.then(g=>xb(g,r,i,t))):xb(m,r,i,t)}return l.length&&r.issues.push({code:"unrecognized_keys",keys:l,input:t,inst:o}),e.length?Promise.all(e).then(()=>r):r}const Ide=De("$ZodObject",(e,t)=>{Yr.init(e,t);const r=A2(()=>nU(t));Er(e._zod,"propValues",()=>{const l=t.shape,c={};for(const d in l){const u=l[d]._zod;if(u.values){c[d]??(c[d]=new Set);for(const i of u.values)c[d].add(i)}}return c});const n=gb,a=t.catchall;let o;e._zod.parse=(l,c)=>{o??(o=r.value);const d=l.value;if(!n(d))return l.issues.push({expected:"object",code:"invalid_type",input:d,inst:e}),l;l.value={};const u=[],i=o.shape;for(const m of o.keys){const x=i[m]._zod.run({value:d[m],issues:[]},c);x instanceof Promise?u.push(x.then(v=>xb(v,l,m,d))):xb(x,l,m,d)}return a?sU(u,d,l,c,r.value,e):u.length?Promise.all(u).then(()=>l):l}}),Lde=De("$ZodObjectJIT",(e,t)=>{Ide.init(e,t);const r=e._zod.parse,n=A2(()=>nU(t)),a=g=>{const x=new sde(["shape","payload","ctx"]),v=n.value,N=j=>{const C=wI(j);return`shape[${C}]._zod.run({ value: input[${C}], issues: [] }, ctx)`};x.write("const input = payload.value;");const h=Object.create(null);let y=0;for(const j of v.keys)h[j]=`key_${y++}`;x.write("const newResult = {}");for(const j of v.keys){const C=h[j],_=wI(j);x.write(`const ${C} = ${N(j)};`),x.write(`
        if (${C}.issues.length) {
          payload.issues = payload.issues.concat(${C}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${_}, ...iss.path] : [${_}]
          })));
        }
        
        if (${C}.value === undefined) {
          if (${_} in input) {
            newResult[${_}] = undefined;
          }
        } else {
          newResult[${_}] = ${C}.value;
        }
      `)}x.write("payload.value = newResult;"),x.write("return payload;");const w=x.compile();return(j,C)=>w(g,j,C)};let o;const l=gb,c=!VF.jitless,u=c&&Yle.value,i=t.catchall;let m;e._zod.parse=(g,x)=>{m??(m=n.value);const v=g.value;return l(v)?c&&u&&x?.async===!1&&x.jitless!==!0?(o||(o=a(t.shape)),g=o(g,x),i?sU([],v,g,x,m,e):g):r(g,x):(g.issues.push({expected:"object",code:"invalid_type",input:v,inst:e}),g)}});function NI(e,t,r,n){for(const o of e)if(o.issues.length===0)return t.value=o.value,t;const a=e.filter(o=>!mf(o));return a.length===1?(t.value=a[0].value,a[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(o=>o.issues.map(l=>ac(l,n,sc())))}),t)}const Bde=De("$ZodUnion",(e,t)=>{Yr.init(e,t),Er(e._zod,"optin",()=>t.options.some(a=>a._zod.optin==="optional")?"optional":void 0),Er(e._zod,"optout",()=>t.options.some(a=>a._zod.optout==="optional")?"optional":void 0),Er(e._zod,"values",()=>{if(t.options.every(a=>a._zod.values))return new Set(t.options.flatMap(a=>Array.from(a._zod.values)))}),Er(e._zod,"pattern",()=>{if(t.options.every(a=>a._zod.pattern)){const a=t.options.map(o=>o._zod.pattern);return new RegExp(`^(${a.map(o=>D2(o.source)).join("|")})$`)}});const r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(a,o)=>{if(r)return n(a,o);let l=!1;const c=[];for(const d of t.options){const u=d._zod.run({value:a.value,issues:[]},o);if(u instanceof Promise)c.push(u),l=!0;else{if(u.issues.length===0)return u;c.push(u)}}return l?Promise.all(c).then(d=>NI(d,a,e,o)):NI(c,a,e,o)}}),Fde=De("$ZodIntersection",(e,t)=>{Yr.init(e,t),e._zod.parse=(r,n)=>{const a=r.value,o=t.left._zod.run({value:a,issues:[]},n),l=t.right._zod.run({value:a,issues:[]},n);return o instanceof Promise||l instanceof Promise?Promise.all([o,l]).then(([d,u])=>CI(r,d,u)):CI(r,o,l)}});function V_(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Tf(e)&&Tf(t)){const r=Object.keys(t),n=Object.keys(e).filter(o=>r.indexOf(o)!==-1),a={...e,...t};for(const o of n){const l=V_(e[o],t[o]);if(!l.valid)return{valid:!1,mergeErrorPath:[o,...l.mergeErrorPath]};a[o]=l.data}return{valid:!0,data:a}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<e.length;n++){const a=e[n],o=t[n],l=V_(a,o);if(!l.valid)return{valid:!1,mergeErrorPath:[n,...l.mergeErrorPath]};r.push(l.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function CI(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),mf(e))return e;const n=V_(t.value,r.value);if(!n.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return e.value=n.data,e}const Ude=De("$ZodRecord",(e,t)=>{Yr.init(e,t),e._zod.parse=(r,n)=>{const a=r.value;if(!Tf(a))return r.issues.push({expected:"record",code:"invalid_type",input:a,inst:e}),r;const o=[];if(t.keyType._zod.values){const l=t.keyType._zod.values;r.value={};for(const d of l)if(typeof d=="string"||typeof d=="number"||typeof d=="symbol"){const u=t.valueType._zod.run({value:a[d],issues:[]},n);u instanceof Promise?o.push(u.then(i=>{i.issues.length&&r.issues.push(...hf(d,i.issues)),r.value[d]=i.value})):(u.issues.length&&r.issues.push(...hf(d,u.issues)),r.value[d]=u.value)}let c;for(const d in a)l.has(d)||(c=c??[],c.push(d));c&&c.length>0&&r.issues.push({code:"unrecognized_keys",input:a,inst:e,keys:c})}else{r.value={};for(const l of Reflect.ownKeys(a)){if(l==="__proto__")continue;const c=t.keyType._zod.run({value:l,issues:[]},n);if(c instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(c.issues.length){r.issues.push({code:"invalid_key",origin:"record",issues:c.issues.map(u=>ac(u,n,sc())),input:l,path:[l],inst:e}),r.value[c.value]=c.value;continue}const d=t.valueType._zod.run({value:a[l],issues:[]},n);d instanceof Promise?o.push(d.then(u=>{u.issues.length&&r.issues.push(...hf(l,u.issues)),r.value[c.value]=u.value})):(d.issues.length&&r.issues.push(...hf(l,d.issues)),r.value[c.value]=d.value)}}return o.length?Promise.all(o).then(()=>r):r}}),$de=De("$ZodEnum",(e,t)=>{Yr.init(e,t);const r=Vle(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=new RegExp(`^(${r.filter(a=>Zle.has(typeof a)).map(a=>typeof a=="string"?Rf(a):a.toString()).join("|")})$`),e._zod.parse=(a,o)=>{const l=a.value;return n.has(l)||a.issues.push({code:"invalid_value",values:r,input:l,inst:e}),a}}),Hde=De("$ZodLiteral",(e,t)=>{if(Yr.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");e._zod.values=new Set(t.values),e._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?Rf(r):r?Rf(r.toString()):String(r)).join("|")})$`),e._zod.parse=(r,n)=>{const a=r.value;return e._zod.values.has(a)||r.issues.push({code:"invalid_value",values:t.values,input:a,inst:e}),r}}),zde=De("$ZodTransform",(e,t)=>{Yr.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new qF(e.constructor.name);const a=t.transform(r.value,r);if(n.async)return(a instanceof Promise?a:Promise.resolve(a)).then(l=>(r.value=l,r));if(a instanceof Promise)throw new jf;return r.value=a,r}});function EI(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const qde=De("$ZodOptional",(e,t)=>{Yr.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Er(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Er(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${D2(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>{if(t.innerType._zod.optin==="optional"){const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(o=>EI(o,r.value)):EI(a,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,n)}}),Vde=De("$ZodNullable",(e,t)=>{Yr.init(e,t),Er(e._zod,"optin",()=>t.innerType._zod.optin),Er(e._zod,"optout",()=>t.innerType._zod.optout),Er(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${D2(r.source)}|null)$`):void 0}),Er(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),Wde=De("$ZodDefault",(e,t)=>{Yr.init(e,t),e._zod.optin="optional",Er(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);if(r.value===void 0)return r.value=t.defaultValue,r;const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(o=>_I(o,t)):_I(a,t)}});function _I(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const Gde=De("$ZodPrefault",(e,t)=>{Yr.init(e,t),e._zod.optin="optional",Er(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),Yde=De("$ZodNonOptional",(e,t)=>{Yr.init(e,t),Er(e._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(o=>AI(o,e)):AI(a,e)}});function AI(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const Zde=De("$ZodCatch",(e,t)=>{Yr.init(e,t),Er(e._zod,"optin",()=>t.innerType._zod.optin),Er(e._zod,"optout",()=>t.innerType._zod.optout),Er(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(o=>(r.value=o.value,o.issues.length&&(r.value=t.catchValue({...r,error:{issues:o.issues.map(l=>ac(l,n,sc()))},input:r.value}),r.issues=[]),r)):(r.value=a.value,a.issues.length&&(r.value=t.catchValue({...r,error:{issues:a.issues.map(o=>ac(o,n,sc()))},input:r.value}),r.issues=[]),r)}}),Kde=De("$ZodPipe",(e,t)=>{Yr.init(e,t),Er(e._zod,"values",()=>t.in._zod.values),Er(e._zod,"optin",()=>t.in._zod.optin),Er(e._zod,"optout",()=>t.out._zod.optout),Er(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if(n.direction==="backward"){const o=t.out._zod.run(r,n);return o instanceof Promise?o.then(l=>vv(l,t.in,n)):vv(o,t.in,n)}const a=t.in._zod.run(r,n);return a instanceof Promise?a.then(o=>vv(o,t.out,n)):vv(a,t.out,n)}});function vv(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}const Xde=De("$ZodReadonly",(e,t)=>{Yr.init(e,t),Er(e._zod,"propValues",()=>t.innerType._zod.propValues),Er(e._zod,"values",()=>t.innerType._zod.values),Er(e._zod,"optin",()=>t.innerType._zod.optin),Er(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(kI):kI(a)}});function kI(e){return e.value=Object.freeze(e.value),e}const Qde=De("$ZodCustom",(e,t)=>{Hs.init(e,t),Yr.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{const n=r.value,a=t.fn(n);if(a instanceof Promise)return a.then(o=>DI(o,r,n,e));DI(a,r,n,e)}});function DI(e,t,r,n){if(!e){const a={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(a.params=n._zod.def.params),t.issues.push(Tp(a))}}class Jde{constructor(){this._map=new Map,this._idmap=new Map}add(t,...r){const n=r[0];if(this._map.set(t,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,t)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const n={...this.get(r)??{}};delete n.id;const a={...n,...this._map.get(t)};return Object.keys(a).length?a:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function eue(){return new Jde}const yv=eue();function tue(e,t){return new e({type:"string",...lt(t)})}function rue(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...lt(t)})}function TI(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...lt(t)})}function nue(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...lt(t)})}function sue(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...lt(t)})}function aue(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...lt(t)})}function oue(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...lt(t)})}function iue(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...lt(t)})}function lue(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...lt(t)})}function cue(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...lt(t)})}function due(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...lt(t)})}function uue(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...lt(t)})}function fue(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...lt(t)})}function mue(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...lt(t)})}function hue(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...lt(t)})}function pue(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...lt(t)})}function gue(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...lt(t)})}function xue(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...lt(t)})}function vue(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...lt(t)})}function yue(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...lt(t)})}function bue(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...lt(t)})}function wue(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...lt(t)})}function Sue(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...lt(t)})}function jue(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...lt(t)})}function Nue(e,t){return new e({type:"string",format:"date",check:"string_format",...lt(t)})}function Cue(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...lt(t)})}function Eue(e,t){return new e({type:"string",format:"duration",check:"string_format",...lt(t)})}function _ue(e,t){return new e({type:"number",checks:[],...lt(t)})}function Aue(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...lt(t)})}function kue(e,t){return new e({type:"boolean",...lt(t)})}function Due(e){return new e({type:"unknown"})}function Tue(e,t){return new e({type:"never",...lt(t)})}function RI(e,t){return new JF({check:"less_than",...lt(t),value:e,inclusive:!1})}function WN(e,t){return new JF({check:"less_than",...lt(t),value:e,inclusive:!0})}function PI(e,t){return new eU({check:"greater_than",...lt(t),value:e,inclusive:!1})}function GN(e,t){return new eU({check:"greater_than",...lt(t),value:e,inclusive:!0})}function MI(e,t){return new Wce({check:"multiple_of",...lt(t),value:e})}function aU(e,t){return new Yce({check:"max_length",...lt(t),maximum:e})}function vb(e,t){return new Zce({check:"min_length",...lt(t),minimum:e})}function oU(e,t){return new Kce({check:"length_equals",...lt(t),length:e})}function Rue(e,t){return new Xce({check:"string_format",format:"regex",...lt(t),pattern:e})}function Pue(e){return new Qce({check:"string_format",format:"lowercase",...lt(e)})}function Mue(e){return new Jce({check:"string_format",format:"uppercase",...lt(e)})}function Oue(e,t){return new ede({check:"string_format",format:"includes",...lt(t),includes:e})}function Iue(e,t){return new tde({check:"string_format",format:"starts_with",...lt(t),prefix:e})}function Lue(e,t){return new rde({check:"string_format",format:"ends_with",...lt(t),suffix:e})}function lg(e){return new nde({check:"overwrite",tx:e})}function Bue(e){return lg(t=>t.normalize(e))}function Fue(){return lg(e=>e.trim())}function Uue(){return lg(e=>e.toLowerCase())}function $ue(){return lg(e=>e.toUpperCase())}function Hue(e,t,r){return new e({type:"array",element:t,...lt(r)})}function zue(e,t,r){return new e({type:"custom",check:"custom",fn:t,...lt(r)})}function que(e){const t=Vue(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(Tp(n,r.value,t._zod.def));else{const a=n;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=r.value),a.inst??(a.inst=t),a.continue??(a.continue=!t._zod.def.abort),r.issues.push(Tp(a))}},e(r.value,r)));return t}function Vue(e,t){const r=new Hs({check:"custom",...lt(t)});return r._zod.check=e,r}const Wue=De("ZodISODateTime",(e,t)=>{xde.init(e,t),Zr.init(e,t)});function Gue(e){return jue(Wue,e)}const Yue=De("ZodISODate",(e,t)=>{vde.init(e,t),Zr.init(e,t)});function Zue(e){return Nue(Yue,e)}const Kue=De("ZodISOTime",(e,t)=>{yde.init(e,t),Zr.init(e,t)});function Xue(e){return Cue(Kue,e)}const Que=De("ZodISODuration",(e,t)=>{bde.init(e,t),Zr.init(e,t)});function Jue(e){return Eue(Que,e)}const efe=(e,t)=>{R2.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>oce(e,r)},flatten:{value:r=>ace(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,q_,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,q_,2)}},isEmpty:{get(){return e.issues.length===0}}})},Ha=De("ZodError",efe,{Parent:Error}),tfe=$w(Ha),rfe=Hw(Ha),nfe=zw(Ha),sfe=qw(Ha),afe=uce(Ha),ofe=fce(Ha),ife=mce(Ha),lfe=hce(Ha),cfe=pce(Ha),dfe=gce(Ha),ufe=xce(Ha),ffe=vce(Ha),sn=De("ZodType",(e,t)=>(Yr.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone({...t,checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),e.clone=(r,n)=>gc(e,r,n),e.brand=()=>e,e.register=(r,n)=>(r.add(e,n),e),e.parse=(r,n)=>tfe(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>nfe(e,r,n),e.parseAsync=async(r,n)=>rfe(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>sfe(e,r,n),e.spa=e.safeParseAsync,e.encode=(r,n)=>afe(e,r,n),e.decode=(r,n)=>ofe(e,r,n),e.encodeAsync=async(r,n)=>ife(e,r,n),e.decodeAsync=async(r,n)=>lfe(e,r,n),e.safeEncode=(r,n)=>cfe(e,r,n),e.safeDecode=(r,n)=>dfe(e,r,n),e.safeEncodeAsync=async(r,n)=>ufe(e,r,n),e.safeDecodeAsync=async(r,n)=>ffe(e,r,n),e.refine=(r,n)=>e.check(sme(r,n)),e.superRefine=r=>e.check(ame(r)),e.overwrite=r=>e.check(lg(r)),e.optional=()=>LI(e),e.nullable=()=>BI(e),e.nullish=()=>LI(BI(e)),e.nonoptional=r=>Xfe(e,r),e.array=()=>tr(e),e.or=r=>cU([e,r]),e.and=r=>Ufe(e,r),e.transform=r=>FI(e,Vfe(r)),e.default=r=>Yfe(e,r),e.prefault=r=>Kfe(e,r),e.catch=r=>Jfe(e,r),e.pipe=r=>FI(e,r),e.readonly=()=>rme(e),e.describe=r=>{const n=e.clone();return yv.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){return yv.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return yv.get(e);const n=e.clone();return yv.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),iU=De("_ZodString",(e,t)=>{P2.init(e,t),sn.init(e,t);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(Rue(...n)),e.includes=(...n)=>e.check(Oue(...n)),e.startsWith=(...n)=>e.check(Iue(...n)),e.endsWith=(...n)=>e.check(Lue(...n)),e.min=(...n)=>e.check(vb(...n)),e.max=(...n)=>e.check(aU(...n)),e.length=(...n)=>e.check(oU(...n)),e.nonempty=(...n)=>e.check(vb(1,...n)),e.lowercase=n=>e.check(Pue(n)),e.uppercase=n=>e.check(Mue(n)),e.trim=()=>e.check(Fue()),e.normalize=(...n)=>e.check(Bue(...n)),e.toLowerCase=()=>e.check(Uue()),e.toUpperCase=()=>e.check($ue())}),mfe=De("ZodString",(e,t)=>{P2.init(e,t),iU.init(e,t),e.email=r=>e.check(rue(hfe,r)),e.url=r=>e.check(iue(pfe,r)),e.jwt=r=>e.check(Sue(Dfe,r)),e.emoji=r=>e.check(lue(gfe,r)),e.guid=r=>e.check(TI(OI,r)),e.uuid=r=>e.check(nue(bv,r)),e.uuidv4=r=>e.check(sue(bv,r)),e.uuidv6=r=>e.check(aue(bv,r)),e.uuidv7=r=>e.check(oue(bv,r)),e.nanoid=r=>e.check(cue(xfe,r)),e.guid=r=>e.check(TI(OI,r)),e.cuid=r=>e.check(due(vfe,r)),e.cuid2=r=>e.check(uue(yfe,r)),e.ulid=r=>e.check(fue(bfe,r)),e.base64=r=>e.check(yue(_fe,r)),e.base64url=r=>e.check(bue(Afe,r)),e.xid=r=>e.check(mue(wfe,r)),e.ksuid=r=>e.check(hue(Sfe,r)),e.ipv4=r=>e.check(pue(jfe,r)),e.ipv6=r=>e.check(gue(Nfe,r)),e.cidrv4=r=>e.check(xue(Cfe,r)),e.cidrv6=r=>e.check(vue(Efe,r)),e.e164=r=>e.check(wue(kfe,r)),e.datetime=r=>e.check(Gue(r)),e.date=r=>e.check(Zue(r)),e.time=r=>e.check(Xue(r)),e.duration=r=>e.check(Jue(r))});function Qe(e){return tue(mfe,e)}const Zr=De("ZodStringFormat",(e,t)=>{Fr.init(e,t),iU.init(e,t)}),hfe=De("ZodEmail",(e,t)=>{lde.init(e,t),Zr.init(e,t)}),OI=De("ZodGUID",(e,t)=>{ode.init(e,t),Zr.init(e,t)}),bv=De("ZodUUID",(e,t)=>{ide.init(e,t),Zr.init(e,t)}),pfe=De("ZodURL",(e,t)=>{cde.init(e,t),Zr.init(e,t)}),gfe=De("ZodEmoji",(e,t)=>{dde.init(e,t),Zr.init(e,t)}),xfe=De("ZodNanoID",(e,t)=>{ude.init(e,t),Zr.init(e,t)}),vfe=De("ZodCUID",(e,t)=>{fde.init(e,t),Zr.init(e,t)}),yfe=De("ZodCUID2",(e,t)=>{mde.init(e,t),Zr.init(e,t)}),bfe=De("ZodULID",(e,t)=>{hde.init(e,t),Zr.init(e,t)}),wfe=De("ZodXID",(e,t)=>{pde.init(e,t),Zr.init(e,t)}),Sfe=De("ZodKSUID",(e,t)=>{gde.init(e,t),Zr.init(e,t)}),jfe=De("ZodIPv4",(e,t)=>{wde.init(e,t),Zr.init(e,t)}),Nfe=De("ZodIPv6",(e,t)=>{Sde.init(e,t),Zr.init(e,t)}),Cfe=De("ZodCIDRv4",(e,t)=>{jde.init(e,t),Zr.init(e,t)}),Efe=De("ZodCIDRv6",(e,t)=>{Nde.init(e,t),Zr.init(e,t)}),_fe=De("ZodBase64",(e,t)=>{Cde.init(e,t),Zr.init(e,t)}),Afe=De("ZodBase64URL",(e,t)=>{_de.init(e,t),Zr.init(e,t)}),kfe=De("ZodE164",(e,t)=>{Ade.init(e,t),Zr.init(e,t)}),Dfe=De("ZodJWT",(e,t)=>{Dde.init(e,t),Zr.init(e,t)}),lU=De("ZodNumber",(e,t)=>{rU.init(e,t),sn.init(e,t),e.gt=(n,a)=>e.check(PI(n,a)),e.gte=(n,a)=>e.check(GN(n,a)),e.min=(n,a)=>e.check(GN(n,a)),e.lt=(n,a)=>e.check(RI(n,a)),e.lte=(n,a)=>e.check(WN(n,a)),e.max=(n,a)=>e.check(WN(n,a)),e.int=n=>e.check(II(n)),e.safe=n=>e.check(II(n)),e.positive=n=>e.check(PI(0,n)),e.nonnegative=n=>e.check(GN(0,n)),e.negative=n=>e.check(RI(0,n)),e.nonpositive=n=>e.check(WN(0,n)),e.multipleOf=(n,a)=>e.check(MI(n,a)),e.step=(n,a)=>e.check(MI(n,a)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function gt(e){return _ue(lU,e)}const Tfe=De("ZodNumberFormat",(e,t)=>{Tde.init(e,t),lU.init(e,t)});function II(e){return Aue(Tfe,e)}const Rfe=De("ZodBoolean",(e,t)=>{Rde.init(e,t),sn.init(e,t)});function tn(e){return kue(Rfe,e)}const Pfe=De("ZodUnknown",(e,t)=>{Pde.init(e,t),sn.init(e,t)});function Rp(){return Due(Pfe)}const Mfe=De("ZodNever",(e,t)=>{Mde.init(e,t),sn.init(e,t)});function Ofe(e){return Tue(Mfe,e)}const Ife=De("ZodArray",(e,t)=>{Ode.init(e,t),sn.init(e,t),e.element=t.element,e.min=(r,n)=>e.check(vb(r,n)),e.nonempty=r=>e.check(vb(1,r)),e.max=(r,n)=>e.check(aU(r,n)),e.length=(r,n)=>e.check(oU(r,n)),e.unwrap=()=>e.element});function tr(e,t){return Hue(Ife,e,t)}const Lfe=De("ZodObject",(e,t)=>{Lde.init(e,t),sn.init(e,t),Er(e,"shape",()=>t.shape),e.keyof=()=>Ww(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Rp()}),e.loose=()=>e.clone({...e._zod.def,catchall:Rp()}),e.strict=()=>e.clone({...e._zod.def,catchall:Ofe()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>ece(e,r),e.safeExtend=r=>tce(e,r),e.merge=r=>rce(e,r),e.pick=r=>Qle(e,r),e.omit=r=>Jle(e,r),e.partial=(...r)=>nce(dU,e,r[0]),e.required=(...r)=>sce(uU,e,r[0])});function ht(e,t){const r={type:"object",get shape(){return pc(this,"shape",e?Gle(e):{}),this.shape},...lt(t)};return new Lfe(r)}const Bfe=De("ZodUnion",(e,t)=>{Bde.init(e,t),sn.init(e,t),e.options=t.options});function cU(e,t){return new Bfe({type:"union",options:e,...lt(t)})}const Ffe=De("ZodIntersection",(e,t)=>{Fde.init(e,t),sn.init(e,t)});function Ufe(e,t){return new Ffe({type:"intersection",left:e,right:t})}const $fe=De("ZodRecord",(e,t)=>{Ude.init(e,t),sn.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function Pf(e,t,r){return new $fe({type:"record",keyType:e,valueType:t,...lt(r)})}const yb=De("ZodEnum",(e,t)=>{$de.init(e,t),sn.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(n,a)=>{const o={};for(const l of n)if(r.has(l))o[l]=t.entries[l];else throw new Error(`Key ${l} not found in enum`);return new yb({...t,checks:[],...lt(a),entries:o})},e.exclude=(n,a)=>{const o={...t.entries};for(const l of n)if(r.has(l))delete o[l];else throw new Error(`Key ${l} not found in enum`);return new yb({...t,checks:[],...lt(a),entries:o})}});function Ww(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new yb({type:"enum",entries:r,...lt(t)})}function Hfe(e,t){return new yb({type:"enum",entries:e,...lt(t)})}const zfe=De("ZodLiteral",(e,t)=>{Hde.init(e,t),sn.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function Zo(e,t){return new zfe({type:"literal",values:Array.isArray(e)?e:[e],...lt(t)})}const qfe=De("ZodTransform",(e,t)=>{zde.init(e,t),sn.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new qF(e.constructor.name);r.addIssue=o=>{if(typeof o=="string")r.issues.push(Tp(o,r.value,t));else{const l=o;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=r.value),l.inst??(l.inst=e),r.issues.push(Tp(l))}};const a=t.transform(r.value,r);return a instanceof Promise?a.then(o=>(r.value=o,r)):(r.value=a,r)}});function Vfe(e){return new qfe({type:"transform",transform:e})}const dU=De("ZodOptional",(e,t)=>{qde.init(e,t),sn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function LI(e){return new dU({type:"optional",innerType:e})}const Wfe=De("ZodNullable",(e,t)=>{Vde.init(e,t),sn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function BI(e){return new Wfe({type:"nullable",innerType:e})}const Gfe=De("ZodDefault",(e,t)=>{Wde.init(e,t),sn.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function Yfe(e,t){return new Gfe({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():GF(t)}})}const Zfe=De("ZodPrefault",(e,t)=>{Gde.init(e,t),sn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Kfe(e,t){return new Zfe({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():GF(t)}})}const uU=De("ZodNonOptional",(e,t)=>{Yde.init(e,t),sn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Xfe(e,t){return new uU({type:"nonoptional",innerType:e,...lt(t)})}const Qfe=De("ZodCatch",(e,t)=>{Zde.init(e,t),sn.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function Jfe(e,t){return new Qfe({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const eme=De("ZodPipe",(e,t)=>{Kde.init(e,t),sn.init(e,t),e.in=t.in,e.out=t.out});function FI(e,t){return new eme({type:"pipe",in:e,out:t})}const tme=De("ZodReadonly",(e,t)=>{Xde.init(e,t),sn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function rme(e){return new tme({type:"readonly",innerType:e})}const nme=De("ZodCustom",(e,t)=>{Qde.init(e,t),sn.init(e,t)});function sme(e,t={}){return zue(nme,e,t)}function ame(e){return que(e)}const bb={custom:"custom"},Zl=Qe().regex(/^([01]?[0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$/,"Time must be in HH:MM:SS format"),Ss=Qe().regex(/^\d{4}-\d{2}-\d{2}$/,"Date must be in YYYY-MM-DD format"),Ho=Qe().datetime(),ome=ht({emp_info_id:gt().optional(),daily_schedule_id:gt().optional(),skill_id:gt(),rating:Qe().optional(),is_required:tn().optional(),created_at:Qe(),updated_at:Qe()}),fU=ht({id:gt(),name:Qe(),slug:Qe(),created_at:Ho,updated_at:Ho,pivot:ome.optional()}),ime=ht({id:gt(),description:Qe(),slug:Qe(),created_at:Ho,updated_at:Ho}),lme=ht({id:gt(),store_id:Qe(),full_name:Qe(),date_of_birth:Ho,has_family:tn(),has_car:tn(),is_arabic_team:tn(),notes:Qe().nullable(),status:Qe(),created_at:Ho,updated_at:Ho,skills:tr(fU).optional()}),$d=ht({id:gt(),date_of_day:Ho,emp_info_id:gt(),scheduled_start_time:Zl,scheduled_end_time:Zl,actual_start_time:Zl.nullable(),actual_end_time:Zl.nullable(),vci:tn().nullable(),status_id:gt(),agree_on_exception:tn(),exception_notes:Qe().nullable(),scheduled_hours:gt().optional(),created_at:Ho,updated_at:Ho,emp_info:lme,status:ime,required_skills:tr(fU)}),mU=ht({valid:tn(),violations:tr(Qe())}),cme=ht({date:Ss,total_schedules:gt(),unique_employees:gt(),total_hours:gt(),schedules_with_exceptions:gt(),required_skills:tr(gt()),available_skills:tr(gt()),skill_coverage_complete:tn()}),hU=ht({required_skills:tr(gt()),available_skills:tr(gt()),missing_skills:tr(gt()),fully_covered:tn()}),pU=ht({employee_name:Qe(),total_scheduled_hours:gt(),max_weekly_hours:gt(),hours_remaining:gt(),is_over_limit:tn()}),dme=ht({week_start:Ss,week_end:Ss,total_schedules:gt(),unique_employees:gt(),employees_scheduled:gt(),unique_dates:gt(),total_hours:gt(),validation_status:Ww(["passed","failed"]),total_violations:gt(),skill_coverage_summary:Pf(Qe(),hU),hours_summary:Pf(Qe(),pU),conflicts_summary:tr(Rp())}),ume=ht({valid:tn(),violations:tr(Qe()),skill_coverage:Pf(Qe(),hU),hours_summary:Pf(Qe(),pU),conflicts:tr(Rp())}),cg=ht({emp_info_id:gt(),scheduled_start_time:Zl,scheduled_end_time:Zl,status_id:gt(),actual_start_time:Zl.optional(),actual_end_time:Zl.optional(),vci:tn().nullable().optional(),agree_on_exception:tn().optional(),exception_notes:Qe().optional(),required_skills:tr(gt()).optional()}).superRefine((e,t)=>{e.scheduled_end_time<=e.scheduled_start_time&&t.addIssue({code:bb.custom,message:"End time must be after start time",path:["scheduled_end_time"]})}),gU=ht({id:gt(),skills:tr(ht({id:gt()})),employment_info:ht({max_weekly_hours:gt()}).optional()}),fme=cg.merge(ht({employee:gU.optional()})),xU=ht({date_of_day:Ss}).merge(cg),mme=ht({date_of_day:Ss,schedules:tr(cg)}),hme=cU([ht({date_of_day:Ss,schedules:tr(fme)}),ht({date_of_day:Ss,employee:gU.optional()}).merge(cg)]),pme=ht({weekly_schedule:tr(hme).superRefine((e,t)=>{if(e.length===0)return;const r=e.map(l=>new Date(l.date_of_day)),n=new Date(Math.min(...r.map(l=>l.getTime())));(new Date(Math.max(...r.map(l=>l.getTime()))).getTime()-n.getTime())/(1e3*60*60*24)>6&&t.addIssue({code:bb.custom,message:"All dates must fall within a 7-day work week",path:["weekly_schedule"]})})}),gme=ht({date:Ss,total_schedules:gt(),total_employees:gt(),total_hours:gt(),required_skills:tr(gt()),available_skills:tr(gt()),missing_skills:tr(gt()),skill_coverage_complete:tn(),schedules:tr($d)}),xme=ht({total_hours:gt(),total_actual_hours:gt(),schedules_with_exceptions:gt()}),vme=ht({week_start:Ss,week_end:Ss,total_schedules:gt(),unique_employees:gt(),daily_analysis:Pf(Qe(),gme),week_totals:xme}),vU=ht({data:$d,validation_result:mU}),yme=ht({data:tr($d),validation_result:mU,day_summary:cme}),bme=ht({success:Zo(!0),message:Qe(),data:ht({schedules:tr($d),week_summary:dme}),validation_result:ume}),wme=ht({success:Zo(!0),data:vme}),Sme=ht({start_date:Ss.optional(),end_date:Ss.optional(),emp_info_id:gt().optional()}),jme=ht({date:Ss,emp_info_id:gt().optional()}),Nme=ht({date:Ss,emp_info_ids:tr(gt()).optional()}),Cme=ht({is_required:tn().optional()});ht({status:gt(),message:Qe(),fieldErrors:Pf(Qe(),tr(Qe())).optional(),raw:Rp().optional()});ht({weekly_schedule:tr(ht({date_of_day:Ss,schedules:tr(cg.merge(ht({employee_id:gt(),employee_skills:tr(gt()).optional()}))).superRefine((e,t)=>{const r=new Map;for(const n of e){r.has(n.emp_info_id)||r.set(n.emp_info_id,[]);const a=r.get(n.emp_info_id),o={start:n.scheduled_start_time,end:n.scheduled_end_time};for(const l of a)if(o.start<l.end&&o.end>l.start){t.addIssue({code:bb.custom,message:"Employee cannot have overlapping shifts on the same day",path:[e.indexOf(n)]});return}a.push(o)}})})).superRefine((e,t)=>{if(e.length===0)return;const r=e.map(l=>new Date(l.date_of_day)),n=new Date(Math.min(...r.map(l=>l.getTime())));(new Date(Math.max(...r.map(l=>l.getTime()))).getTime()-n.getTime())/(1e3*60*60*24)>6&&t.addIssue({code:bb.custom,message:"All dates must fall within a 7-day work week",path:["weekly_schedule"]})})});const la=(e,t,r,n)=>({status:e,message:t,fieldErrors:r,raw:n}),Eme=()=>{try{const t=Vn.getState().auth?.token;return t||qn()}catch(e){return console.error("Error retrieving auth token:",e),null}},_me=()=>{const e=ft.create({baseURL:"http://127.0.0.1:8000/api/daily-schedules",timeout:3e4,headers:{Accept:"application/json","Content-Type":"application/json"}});return e.interceptors.request.use(t=>{const r=Eme();return r&&(t.headers.Authorization=`Bearer ${r}`),t},t=>(console.error("Request interceptor error:",t),Promise.reject(t))),e.interceptors.response.use(t=>t,t=>Promise.reject(Ame(t))),e},Ame=e=>{if(ft.isAxiosError(e)){const t=e.response?.status||0;let r=e.message,n;if(e.response?.data){const a=e.response.data;t===422&&a.errors?(r=a.message||"Validation failed",n=a.errors):a.message?r=a.message:typeof a=="string"&&(r=a)}return t===401?r="Authentication required. Please log in again.":t===403?r="You do not have permission to perform this action.":t===404?r="The requested resource was not found.":t===429?r="Too many requests. Please try again later.":t>=500?r="A server error occurred. Please try again later.":t===0&&(r="Network error. Please check your connection."),la(t,r,n,e.response?.data)}return e instanceof Error?la(0,e.message,void 0,e):la(0,"An unexpected error occurred",void 0,e)},mo=_me(),ho=e=>({signal:e?.signal}),kme=async(e,t)=>{try{const r=e?Sme.parse(e):{},n=new URLSearchParams;r.start_date&&n.append("start_date",r.start_date),r.end_date&&n.append("end_date",r.end_date),r.emp_info_id&&n.append("emp_info_id",r.emp_info_id.toString());const a=n.toString(),o=a?`/daily-schedules?${a}`:"/daily-schedules";return(await mo.get(o,ho(t))).data.map((d,u)=>{try{return $d.parse(d)}catch(i){throw la(500,`Invalid schedule data at index ${u}`,void 0,i)}})}catch(r){throw r instanceof Error&&"issues"in r?la(400,"Parameter validation failed",void 0,r):r}},Dme=async(e,t)=>{try{const r=await mo.get(`/daily-schedules/${e}`,ho(t));return $d.parse(r.data)}catch(r){throw r}},Tme=async(e,t)=>{try{const r=mme.parse(e),n=await mo.post("/daily-schedules",r,ho(t));return yme.parse(n.data)}catch(r){throw r instanceof Error&&"issues"in r?la(400,"Request validation failed",void 0,r):r}},Rme=async(e,t)=>{try{const r=xU.parse(e),n=await mo.post("/daily-schedules",r,ho(t));return vU.parse(n.data)}catch(r){throw r instanceof Error&&"issues"in r?la(400,"Request validation failed",void 0,r):r}},Pme=async(e,t,r)=>{try{const n=xU.parse(t),a=await mo.put(`/daily-schedules/${e}`,n,ho(r));return vU.parse(a.data)}catch(n){throw n instanceof Error&&"issues"in n?la(400,"Request validation failed",void 0,n):n}},Mme=async(e,t)=>{try{await mo.delete(`/daily-schedules/${e}`,ho(t))}catch(r){throw r}},Ome=async(e,t,r,n)=>{try{const a=r?Cme.parse(r):{};await mo.post(`/daily-schedules/${e}/skills/${t}`,a,ho(n))}catch(a){throw a instanceof Error&&"issues"in a?la(400,"Request validation failed",void 0,a):a}},Ime=async(e,t,r)=>{try{await mo.delete(`/daily-schedules/${e}/skills/${t}`,ho(r))}catch(n){throw n}},Lme=async(e,t)=>{try{const r=jme.parse(e),n=new URLSearchParams;return n.append("date",r.date),r.emp_info_id&&n.append("emp_info_id",r.emp_info_id.toString()),(await mo.get(`/daily-schedules/weekly/0?${n.toString()}`,ho(t))).data.map((l,c)=>{try{return $d.parse(l)}catch(d){throw la(500,`Invalid schedule data at index ${c}`,void 0,d)}})}catch(r){throw r instanceof Error&&"issues"in r?la(400,"Parameter validation failed",void 0,r):r}},UI={entities:{},listIds:[],lastListParams:null,lastValidationResult:null,lastDaySummary:null,loading:{list:!1,get:!1,createDay:!1,createSingle:!1,update:!1,delete:!1,attachSkill:!1,detachSkill:!1,weeklyView:!1},error:{list:null,get:null,createDay:null,createSingle:null,update:null,delete:null,attachSkill:null,detachSkill:null,weeklyView:null},selectedScheduleId:null,currentRequestIds:{}},YN=Le("dailySchedules/list",async(e,{rejectWithValue:t,signal:r})=>{try{return await kme(e,{signal:r})}catch(n){return n&&typeof n=="object"&&"status"in n?t(n):t({status:0,message:n instanceof Error?n.message:"List operation failed",raw:n})}}),ZN=Le("dailySchedules/get",async(e,{rejectWithValue:t,signal:r})=>{try{return await Dme(e,{signal:r})}catch(n){return n&&typeof n=="object"&&"status"in n?t(n):t({status:0,message:n instanceof Error?n.message:"Get operation failed",raw:n})}}),KN=Le("dailySchedules/createDay",async(e,{rejectWithValue:t,signal:r})=>{try{return await Tme(e,{signal:r})}catch(n){return n&&typeof n=="object"&&"status"in n?t(n):t({status:0,message:n instanceof Error?n.message:"Create day operation failed",raw:n})}}),XN=Le("dailySchedules/createSingle",async(e,{rejectWithValue:t,signal:r})=>{try{return await Rme(e,{signal:r})}catch(n){return n&&typeof n=="object"&&"status"in n?t(n):t({status:0,message:n instanceof Error?n.message:"Create single operation failed",raw:n})}}),QN=Le("dailySchedules/update",async({id:e,body:t},{rejectWithValue:r,signal:n})=>{try{return await Pme(e,t,{signal:n})}catch(a){return a&&typeof a=="object"&&"status"in a?r(a):r({status:0,message:a instanceof Error?a.message:"Update operation failed",raw:a})}}),JN=Le("dailySchedules/delete",async(e,{rejectWithValue:t,signal:r})=>{try{return await Mme(e,{signal:r}),e}catch(n){return n&&typeof n=="object"&&"status"in n?t(n):t({status:0,message:n instanceof Error?n.message:"Delete operation failed",raw:n})}}),eC=Le("dailySchedules/attachSkill",async({dailyScheduleId:e,skillId:t,isRequired:r},{rejectWithValue:n,signal:a})=>{try{return await Ome(e,t,r!==void 0?{is_required:r}:void 0,{signal:a}),{dailyScheduleId:e,skillId:t}}catch(o){return o&&typeof o=="object"&&"status"in o?n(o):n({status:0,message:o instanceof Error?o.message:"Attach skill operation failed",raw:o})}}),tC=Le("dailySchedules/detachSkill",async({dailyScheduleId:e,skillId:t},{rejectWithValue:r,signal:n})=>{try{return await Ime(e,t,{signal:n}),{dailyScheduleId:e,skillId:t}}catch(a){return a&&typeof a=="object"&&"status"in a?r(a):r({status:0,message:a instanceof Error?a.message:"Detach skill operation failed",raw:a})}}),rC=Le("dailySchedules/getWeekly",async(e,{rejectWithValue:t,signal:r})=>{try{return await Lme(e,{signal:r})}catch(n){return n&&typeof n=="object"&&"status"in n?t(n):t({status:0,message:n instanceof Error?n.message:"Weekly view operation failed",raw:n})}}),yU=Zt({name:"dailySchedules",initialState:UI,reducers:{clearErrors:e=>{Object.keys(e.error).forEach(t=>{e.error[t]=null})},clearOperationError:(e,t)=>{e.error[t.payload]=null},clearValidationResult:e=>{e.lastValidationResult=null},clearDaySummary:e=>{e.lastDaySummary=null},setSelectedSchedule:(e,t)=>{e.selectedScheduleId=t.payload},resetState:()=>UI,upsertScheduleEntity:(e,t)=>{const r=t.payload;e.entities[r.id]=r,e.listIds.includes(r.id)||e.listIds.push(r.id)},removeScheduleEntity:(e,t)=>{const r=t.payload;delete e.entities[r],e.listIds=e.listIds.filter(n=>n!==r),e.selectedScheduleId===r&&(e.selectedScheduleId=null)}},extraReducers:e=>{e.addCase(YN.pending,(t,r)=>{t.loading.list=!0,t.error.list=null,t.currentRequestIds.list=r.meta.requestId}).addCase(YN.fulfilled,(t,r)=>{const{requestId:n}=r.meta;if(t.loading.list&&t.currentRequestIds.list===n){t.loading.list=!1,t.currentRequestIds.list=null;const a=r.payload;t.entities={},t.listIds=[],a.forEach(o=>{t.entities[o.id]=o,t.listIds.push(o.id)}),t.error.list=null}}).addCase(YN.rejected,(t,r)=>{const{requestId:n}=r.meta;t.loading.list&&t.currentRequestIds.list===n&&(t.loading.list=!1,t.currentRequestIds.list=null,t.error.list=r.payload||{status:0,message:"List failed"})}),e.addCase(ZN.pending,t=>{t.loading.get=!0,t.error.get=null}).addCase(ZN.fulfilled,(t,r)=>{t.loading.get=!1;const n=r.payload;t.entities[n.id]=n,t.listIds.includes(n.id)||t.listIds.push(n.id),t.error.get=null}).addCase(ZN.rejected,(t,r)=>{t.loading.get=!1,t.error.get=r.payload||{status:0,message:"Get failed"}}),e.addCase(KN.pending,t=>{t.loading.createDay=!0,t.error.createDay=null}).addCase(KN.fulfilled,(t,r)=>{t.loading.createDay=!1;const n=r.payload;n.data.forEach(a=>{t.entities[a.id]=a,t.listIds.includes(a.id)||t.listIds.push(a.id)}),t.lastValidationResult=n.validation_result,t.lastDaySummary=n.day_summary,t.error.createDay=null}).addCase(KN.rejected,(t,r)=>{t.loading.createDay=!1,t.error.createDay=r.payload||{status:0,message:"Create day failed"}}),e.addCase(XN.pending,t=>{t.loading.createSingle=!0,t.error.createSingle=null}).addCase(XN.fulfilled,(t,r)=>{t.loading.createSingle=!1;const n=r.payload,a=n.data;t.entities[a.id]=a,t.listIds.includes(a.id)||t.listIds.push(a.id),t.lastValidationResult=n.validation_result,t.error.createSingle=null}).addCase(XN.rejected,(t,r)=>{t.loading.createSingle=!1,t.error.createSingle=r.payload||{status:0,message:"Create single failed"}}),e.addCase(QN.pending,t=>{t.loading.update=!0,t.error.update=null}).addCase(QN.fulfilled,(t,r)=>{t.loading.update=!1;const n=r.payload,a=n.data;t.entities[a.id]=a,t.lastValidationResult=n.validation_result,t.error.update=null}).addCase(QN.rejected,(t,r)=>{t.loading.update=!1,t.error.update=r.payload||{status:0,message:"Update failed"}}),e.addCase(JN.pending,t=>{t.loading.delete=!0,t.error.delete=null}).addCase(JN.fulfilled,(t,r)=>{t.loading.delete=!1;const n=r.payload;delete t.entities[n],t.listIds=t.listIds.filter(a=>a!==n),t.selectedScheduleId===n&&(t.selectedScheduleId=null),t.error.delete=null}).addCase(JN.rejected,(t,r)=>{t.loading.delete=!1,t.error.delete=r.payload||{status:0,message:"Delete failed"}}),e.addCase(eC.pending,t=>{t.loading.attachSkill=!0,t.error.attachSkill=null}).addCase(eC.fulfilled,t=>{t.loading.attachSkill=!1,t.error.attachSkill=null}).addCase(eC.rejected,(t,r)=>{t.loading.attachSkill=!1,t.error.attachSkill=r.payload||{status:0,message:"Attach skill failed"}}),e.addCase(tC.pending,t=>{t.loading.detachSkill=!0,t.error.detachSkill=null}).addCase(tC.fulfilled,t=>{t.loading.detachSkill=!1,t.error.detachSkill=null}).addCase(tC.rejected,(t,r)=>{t.loading.detachSkill=!1,t.error.detachSkill=r.payload||{status:0,message:"Detach skill failed"}}),e.addCase(rC.pending,t=>{t.loading.weeklyView=!0,t.error.weeklyView=null}).addCase(rC.fulfilled,(t,r)=>{t.loading.weeklyView=!1,r.payload.forEach(a=>{t.entities[a.id]=a,t.listIds.includes(a.id)||t.listIds.push(a.id)}),t.error.weeklyView=null}).addCase(rC.rejected,(t,r)=>{t.loading.weeklyView=!1,t.error.weeklyView=r.payload||{status:0,message:"Weekly view failed"}})}}),{clearErrors:x9e,clearOperationError:v9e,clearValidationResult:y9e,clearDaySummary:b9e,setSelectedSchedule:w9e,resetState:S9e,upsertScheduleEntity:j9e,removeScheduleEntity:N9e}=yU.actions,Bme=yU.reducer,Fme=async(e,t)=>{try{const r=pme.parse(e),n=await mo.post("/weekly-schedules/process",r,ho(t));return bme.parse(n.data)}catch(r){throw r instanceof Error&&"issues"in r?la(400,"Request validation failed",void 0,r):r}},Ume=async(e,t)=>{try{const r=Nme.parse(e),n=new URLSearchParams;n.append("date",r.date),r.emp_info_ids&&r.emp_info_ids.length>0&&r.emp_info_ids.forEach(l=>{n.append("emp_info_ids[]",l.toString())});const a=await mo.get(`/weekly-schedules/analysis?${n.toString()}`,ho(t));return wme.parse(a.data)}catch(r){throw r instanceof Error&&"issues"in r?la(400,"Parameter validation failed",void 0,r):r}},$I={entities:{},ids:[],weekSummary:null,validationResult:null,analysis:null,loading:{processing:!1,analysis:!1},error:{processing:null,analysis:null},currentRequestId:null},nC=Le("weeklySchedules/process",async(e,{rejectWithValue:t,signal:r})=>{try{return await Fme(e,{signal:r})}catch(n){return n&&typeof n=="object"&&"status"in n?t(n):t({status:0,message:n instanceof Error?n.message:"An unexpected error occurred",raw:n})}}),sC=Le("weeklySchedules/getAnalysis",async(e,{rejectWithValue:t,signal:r})=>{try{return await Ume(e,{signal:r})}catch(n){return n&&typeof n=="object"&&"status"in n?t(n):t({status:0,message:n instanceof Error?n.message:"An unexpected error occurred",raw:n})}}),bU=Zt({name:"weeklySchedules",initialState:$I,reducers:{clearErrors:e=>{e.error.processing=null,e.error.analysis=null},clearProcessingError:e=>{e.error.processing=null},clearAnalysisError:e=>{e.error.analysis=null},clearValidationResult:e=>{e.validationResult=null},clearWeekSummary:e=>{e.weekSummary=null},clearAnalysis:e=>{e.analysis=null},resetState:()=>$I,updateScheduleEntity:(e,t)=>{const r=t.payload;e.entities[r.id]=r,e.ids.includes(r.id)||e.ids.push(r.id)},removeScheduleEntity:(e,t)=>{const r=t.payload;delete e.entities[r],e.ids=e.ids.filter(n=>n!==r)}},extraReducers:e=>{e.addCase(nC.pending,(t,r)=>{t.loading.processing=!0,t.error.processing=null,t.currentRequestId=r.meta.requestId}).addCase(nC.fulfilled,(t,r)=>{const{requestId:n}=r.meta;if(t.loading.processing&&t.currentRequestId===n){t.loading.processing=!1,t.currentRequestId=null;const a=r.payload;a.data.schedules.forEach(l=>{t.entities[l.id]=l,t.ids.includes(l.id)||t.ids.push(l.id)}),t.weekSummary=a.data.week_summary,t.validationResult=a.validation_result,t.error.processing=null}}).addCase(nC.rejected,(t,r)=>{const{requestId:n}=r.meta;t.loading.processing&&t.currentRequestId===n&&(t.loading.processing=!1,t.currentRequestId=null,t.error.processing=r.payload||{status:0,message:"Processing failed"})}),e.addCase(sC.pending,t=>{t.loading.analysis=!0,t.error.analysis=null}).addCase(sC.fulfilled,(t,r)=>{t.loading.analysis=!1,t.analysis=r.payload.data,t.error.analysis=null}).addCase(sC.rejected,(t,r)=>{t.loading.analysis=!1,t.error.analysis=r.payload||{status:0,message:"Analysis failed"}})}}),{clearErrors:C9e,clearProcessingError:E9e,clearAnalysisError:_9e,clearValidationResult:A9e,clearWeekSummary:k9e,clearAnalysis:D9e,resetState:T9e,updateScheduleEntity:R9e,removeScheduleEntity:P9e}=bU.actions,$me=bU.reducer,cp={IDLE:"idle",PENDING:"pending",FULFILLED:"fulfilled",REJECTED:"rejected"};class Un extends Error{status;code;details;timestamp;constructor(t,r,n,a){super(t),this.name="ApiError",this.status=r,this.code=n,this.details=a,this.timestamp=new Date().toISOString(),Object.setPrototypeOf(this,Un.prototype)}static fromError(t,r="An unknown error occurred"){return t instanceof Un?t:t instanceof Error?new Un(t.message):typeof t=="string"?new Un(t):new Un(r)}toJSON(){return{name:this.name,message:this.message,status:this.status,code:this.code,details:this.details,timestamp:this.timestamp}}}const wU=e=>e instanceof Un,Hme={baseUrl:"https://testapipizza.pnefoods.com/api",timeout:1e4,defaultHeaders:{"Content-Type":"application/json",Accept:"application/json"},enableLogging:!1},zme={itemsCacheDuration:5*60*1e3,maxCachedStores:10,persistToStorage:!0};class qme{axiosInstance;config;cacheConfig;cache=new Map;abortControllers=new Map;constructor(t={},r={}){this.config={...Hme,...t},this.cacheConfig={...zme,...r},this.axiosInstance=this.createAxiosInstance(),this.setupInterceptors(),this.initializeCache()}createAxiosInstance(){return ft.create({baseURL:this.config.baseUrl,timeout:this.config.timeout,headers:this.config.defaultHeaders})}setupInterceptors(){this.axiosInstance.interceptors.request.use(t=>(t.params?t.params._t=Date.now():t.params={_t:Date.now()},this.config.enableLogging&&console.log(`[API Request] ${t.method?.toUpperCase()} ${t.url}`,{params:t.params,headers:t.headers}),t),t=>(this.config.enableLogging&&console.error("[API Request Error]",t),Promise.reject(this.transformError(t)))),this.axiosInstance.interceptors.response.use(t=>(this.config.enableLogging&&console.log(`[API Response] ${t.config.method?.toUpperCase()} ${t.config.url}`,{status:t.status,data:t.data}),t),t=>(this.config.enableLogging&&console.error("[API Response Error]",t),Promise.reject(this.transformError(t))))}initializeCache(){if(this.cacheConfig.persistToStorage)try{const t=localStorage.getItem("pizzaStoreCache");if(t){const r=JSON.parse(t);Object.entries(r).forEach(([n,a])=>{this.isCacheValid(a.timestamp)&&this.cache.set(n,a)})}}catch(t){console.warn("Failed to load cache from localStorage:",t)}}persistCache(){if(this.cacheConfig.persistToStorage)try{const t=Object.fromEntries(this.cache.entries());localStorage.setItem("pizzaStoreCache",JSON.stringify(t))}catch(t){console.warn("Failed to persist cache to localStorage:",t)}}isCacheValid(t){return Date.now()-t<this.cacheConfig.itemsCacheDuration}transformError(t){if(t.response){const r=this.extractErrorMessage(t.response.data)||t.message;return new Un(r,t.response.status,`HTTP_${t.response.status}`,{statusText:t.response.statusText,data:t.response.data})}else return t.request?new Un("Network error - please check your connection",0,"NETWORK_ERROR"):new Un(t.message||"Request setup error",void 0,"REQUEST_ERROR")}extractErrorMessage(t){if(typeof t=="string")return t;if(typeof t=="object"&&t!==null){const r=t;return r.message||r.error||r.detail||""}return""}validateStoreId(t){if(!t||typeof t!="string")return{isValid:!1,error:"Store ID is required and must be a string"};const r=t.trim();return r.length===0?{isValid:!1,error:"Store ID cannot be empty"}:/^[\w-]+$/.test(r)?{isValid:!0,normalizedStoreId:r}:{isValid:!1,error:"Store ID contains invalid characters"}}cleanupCache(){const t=[];this.cache.forEach((r,n)=>{this.isCacheValid(r.timestamp)||t.push(n)}),t.forEach(r=>this.cache.delete(r)),this.cache.size>this.cacheConfig.maxCachedStores&&Array.from(this.cache.entries()).sort(([,a],[,o])=>a.timestamp-o.timestamp).slice(0,this.cache.size-this.cacheConfig.maxCachedStores).forEach(([a])=>this.cache.delete(a)),this.persistCache()}cancelRequest(t){const r=this.abortControllers.get(t);r&&(r.abort(),this.abortControllers.delete(t))}async fetchStoreItems(t,r=!1){const n=this.validateStoreId(t);if(!n.isValid)throw new Un(n.error||"Invalid store ID",400,"INVALID_STORE_ID");const a=n.normalizedStoreId;if(!r){const l=this.cache.get(a);if(l&&this.isCacheValid(l.timestamp))return this.config.enableLogging&&console.log(`[Cache Hit] Store items for ${a}`),l.data}this.cancelRequest(a);const o=new AbortController;this.abortControllers.set(a,o);try{const l=await this.axiosInstance.get(`/dspr-items/${a}`,{signal:o.signal});if(!l.data||typeof l.data!="object")throw new Un("Invalid response format from server",500,"INVALID_RESPONSE");const c=l.data;if(!c.store||!Array.isArray(c.items))throw new Un("Response missing required fields",500,"MISSING_FIELDS");const d={data:c,timestamp:Date.now(),storeId:a};return this.cache.set(a,d),this.cleanupCache(),c}catch(l){throw ft.isCancel(l)?new Un("Request was cancelled",0,"REQUEST_CANCELLED"):wU(l)?l:this.transformError(l)}finally{this.abortControllers.delete(a)}}clearCache(){this.cache.clear(),this.cacheConfig.persistToStorage&&localStorage.removeItem("pizzaStoreCache")}clearStoreCache(t){const r=this.validateStoreId(t);r.isValid&&r.normalizedStoreId&&(this.cache.delete(r.normalizedStoreId),this.persistCache())}getCacheStats(){const t=Date.now();return{size:this.cache.size,entries:Array.from(this.cache.values()).map(r=>({storeId:r.storeId,timestamp:r.timestamp,age:t-r.timestamp}))}}updateConfig(t){this.config={...this.config,...t},this.axiosInstance=this.createAxiosInstance(),this.setupInterceptors()}getConfig(){return{...this.config}}}const M2=new qme,Vme={loadingState:cp.IDLE,itemsByStore:{},storeMetadata:{},error:null,currentStoreId:null},aC=Le("pizzaStoreItems/fetchStoreItems",async(e,{rejectWithValue:t})=>{try{return await M2.fetchStoreItems(e.storeId,e.forceRefresh)}catch(r){return wU(r)?t(r):t(new Un("Failed to fetch store items",500,"FETCH_ERROR"))}}),HI=Le("pizzaStoreItems/clearStoreCache",async(e,{rejectWithValue:t})=>{try{return M2.clearStoreCache(e),e}catch{return t(new Un("Failed to clear store cache",500,"CLEAR_CACHE_ERROR"))}}),SU=Zt({name:"pizzaStoreItems",initialState:Vme,reducers:{setCurrentStoreId:(e,t)=>{e.currentStoreId=t.payload},clearError:e=>{e.error=null},clearStoreItems:(e,t)=>{const r=t.payload;delete e.itemsByStore[r],delete e.storeMetadata[r]},clearAllItems:e=>{e.itemsByStore={},e.storeMetadata={},e.currentStoreId=null,M2.clearCache()},resetLoadingState:e=>{e.loadingState=cp.IDLE}},extraReducers:e=>{e.addCase(aC.pending,(t,r)=>{t.loadingState=cp.PENDING,t.error=null,t.currentStoreId=r.meta.arg.storeId}).addCase(aC.fulfilled,(t,r)=>{t.loadingState=cp.FULFILLED,t.error=null;const n=r.payload,a=n.store;t.itemsByStore[a]=n.items,t.storeMetadata[a]={count:n.count,lastFetched:new Date().toISOString(),storeId:a},t.currentStoreId=a}).addCase(aC.rejected,(t,r)=>{t.loadingState=cp.REJECTED,t.error=r.payload||new Un("Unknown error occurred",500,"UNKNOWN_ERROR")}).addCase(HI.fulfilled,(t,r)=>{const n=r.payload;delete t.itemsByStore[n],delete t.storeMetadata[n],t.currentStoreId===n&&(t.currentStoreId=null)}).addCase(HI.rejected,(t,r)=>{t.error=r.payload||new Un("Failed to clear cache",500,"CLEAR_CACHE_ERROR")})}}),{setCurrentStoreId:M9e,clearError:O9e,clearStoreItems:I9e,clearAllItems:L9e,resetLoadingState:B9e}=SU.actions,Wme=SU.reducer,at={IDLE:"idle",LOADING:"loading",SUCCEEDED:"succeeded",FAILED:"failed"},jU=e=>/^\d{5}-\d{5}$/.test(e),NU=e=>/^\d{4}-\d{2}-\d{2}$/.test(e)&&!isNaN(Date.parse(e)),CU=e=>typeof e=="object"&&e!==null&&"message"in e&&typeof e.message=="string",Gme={maxAttempts:3,baseDelay:1e3,exponentialBackoff:!0},oC={baseURL:"https://testapipizza.pnefoods.com/api",timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"}};class Yme{axiosInstance;retryConfig;constructor(t=Gme){this.retryConfig=t,this.axiosInstance=this.createAxiosInstance(),this.setupInterceptors()}createAxiosInstance(){return ft.create(oC)}setupInterceptors(){this.axiosInstance.interceptors.request.use(t=>t,t=>(console.error("[DSPR API] Request interceptor error:",t),Promise.reject(this.transformError(t)))),this.axiosInstance.interceptors.response.use(t=>t,t=>(console.error("[DSPR API] Response interceptor error:",t),Promise.reject(this.transformError(t))))}async fetchDsprReport(t,r){try{this.validateRequest(t,r);const n=this.buildApiUrl(t),a=await this.makeRequestWithRetry(n,r);return this.validateAndTransformResponse(a)}catch(n){const a=this.transformError(n);throw console.error("[DSPR API] Request failed:",{params:t,requestBody:r,error:a}),a}}validateRequest(t,r){if(!jU(t.store))throw new Error(`Invalid store ID format: ${t.store}. Expected format: XXXXX-XXXXX`);if(!NU(t.date))throw new Error(`Invalid date format: ${t.date}. Expected format: YYYY-MM-DD`);if(r){if(!Array.isArray(r.items)||r.items.length===0)throw new Error("Items array must contain at least one item ID when body is provided");r.items.forEach((n,a)=>{if(n==null||n==="")throw new Error(`Invalid item ID at index ${a}: ${n}`)})}}buildApiUrl(t){return`/dspr-report/${t.store}/${t.date}`}async makeRequestWithRetry(t,r){let n=null;for(let a=1;a<=this.retryConfig.maxAttempts;a++)try{return r?await this.axiosInstance.post(t,r):await this.axiosInstance.post(t)}catch(o){n=o;const l=a===this.retryConfig.maxAttempts;if(this.shouldNotRetry(o)||l)throw o;const c=this.calculateRetryDelay(a);console.warn(`[DSPR API] Request failed (attempt ${a}/${this.retryConfig.maxAttempts}). Retrying in ${c}ms...`,{error:o.message}),await this.delay(c)}throw n||new Error("Request failed after all retry attempts")}shouldNotRetry(t){if(!ft.isAxiosError(t))return!1;const r=t.response?.status;return r&&r>=400&&r<500?r!==429&&r!==408:!1}calculateRetryDelay(t){const{baseDelay:r,exponentialBackoff:n}=this.retryConfig;return n?r*Math.pow(2,t-1):r}delay(t){return new Promise(r=>setTimeout(r,t))}validateAndTransformResponse(t){const{data:r,status:n}=t;if(n!==200)throw new Error(`Unexpected HTTP status: ${n}`);if(!r||typeof r!="object")throw new Error("Invalid response format: Expected object");if(!r["Filtering Values"])throw new Error("Invalid response format: Missing Filtering Values");if(!r.reports)throw new Error("Invalid response format: Missing reports");const{reports:a}=r;if(!a.daily)throw new Error("Invalid response format: Missing daily reports");return r}transformError(t){if(ft.isAxiosError(t)){const r=t;return{status:r.response?.status,message:this.getAxiosErrorMessage(r),details:r.message,code:r.code}}return CU(t)?t:t instanceof Error?{message:t.message,details:t.stack,code:"GENERIC_ERROR"}:{message:"An unknown error occurred",details:String(t),code:"UNKNOWN_ERROR"}}getAxiosErrorMessage(t){if(t.response?.data){const r=t.response.data;if(r.message)return r.message;if(r.error)return r.error}if(t.code==="NETWORK_ERROR")return"Network error: Please check your internet connection";if(t.code==="TIMEOUT")return"Request timeout: The server took too long to respond";if(t.response?.status){const r=t.response.status;switch(r){case 400:return"Bad Request: Invalid request parameters";case 401:return"Unauthorized: Authentication required";case 403:return"Forbidden: Access denied";case 404:return"Not Found: The requested resource was not found";case 429:return"Rate Limited: Too many requests, please try again later";case 500:return"Internal Server Error: Please try again later";case 502:return"Bad Gateway: Server is temporarily unavailable";case 503:return"Service Unavailable: Server is temporarily down";default:return`HTTP Error ${r}: ${t.message}`}}return t.message||"An unexpected error occurred"}getConfig(){return{baseURL:oC.baseURL,timeout:oC.timeout,retryConfig:this.retryConfig}}async testConnectivity(){try{return await this.axiosInstance.get("/health",{timeout:5e3}),!0}catch(t){return console.error("[DSPR API] Connectivity test failed:",t),!1}}}const EU=new Yme,_U=5*60*1e3,zI={data:null,status:at.IDLE,error:null,lastFetched:null,currentRequest:null,metadata:null,cache:{isFresh:!1,expiresAt:null,ttl:_U}},ls=Le("dsprApi/fetchData",async(e,{rejectWithValue:t,signal:r})=>{try{ihe(e);const n=new AbortController;r.addEventListener("abort",()=>{n.abort()}),console.log("[DSPR API Slice] Starting API request",{store:e.params.store,date:e.params.date,itemCount:e.body?.items?.length||0,hasBody:!!e.body,requestId:W_(e)});const a=await EU.fetchDsprReport(e.params,e.body);return console.log("[DSPR API Slice] API request successful",{store:e.params.store,date:e.params.date,hasData:!!a,filteringValues:!!a?.["Filtering Values"],reports:!!a?.reports}),a}catch(n){console.error("[DSPR API Slice] API request failed",{store:e.params.store,date:e.params.date,error:n});const a=DU(n);return t(a)}}),Ql=Le("dsprApi/refreshData",async(e,{dispatch:t,rejectWithValue:r})=>{try{return console.log("[DSPR API Slice] Refreshing data (cache bypass)",{store:e.params.store,date:e.params.date,hasBody:!!e.body}),t(kU()),await EU.fetchDsprReport(e.params,e.body)}catch(n){const a=DU(n);return r(a)}}),AU=Zt({name:"dsprApi",initialState:zI,reducers:{resetApiState:e=>{Object.assign(e,zI),console.log("[DSPR API Slice] API state reset")},clearError:e=>{e.error=null,e.status===at.FAILED&&(e.status=at.IDLE),console.log("[DSPR API Slice] Error state cleared")},clearCache:e=>{e.cache={isFresh:!1,expiresAt:null,ttl:_U},console.log("[DSPR API Slice] Cache cleared")},setCacheTTL:(e,t)=>{const r=t.payload;e.cache.ttl=r,e.lastFetched&&(e.cache.expiresAt=e.lastFetched+r,e.cache.isFresh=Date.now()<e.cache.expiresAt),console.log("[DSPR API Slice] Cache TTL updated",{newTTL:r})},invalidateCache:e=>{e.cache.isFresh=!1,e.cache.expiresAt=Date.now(),console.log("[DSPR API Slice] Cache invalidated")}},extraReducers:e=>{e.addCase(ls.pending,(t,r)=>{const n=r.meta.arg,a=Date.now();t.status=at.LOADING,t.error=null,t.currentRequest=n,t.metadata={requestStartTime:a,requestEndTime:null,duration:null,retryAttempts:0,requestId:W_(n)},console.log("[DSPR API Slice] Request started",{status:t.status,requestId:t.metadata.requestId})}).addCase(ls.fulfilled,(t,r)=>{const n=Date.now(),a=r.payload;t.status=at.SUCCEEDED,t.data=a,t.error=null,t.lastFetched=n,t.metadata&&(t.metadata.requestEndTime=n,t.metadata.duration=n-t.metadata.requestStartTime),t.cache={isFresh:!0,expiresAt:n+t.cache.ttl,ttl:t.cache.ttl},console.log("[DSPR API Slice] Request succeeded",{status:t.status,duration:t.metadata?.duration,dataSize:JSON.stringify(a).length,cacheExpiresAt:new Date(t.cache.expiresAt).toISOString()})}).addCase(ls.rejected,(t,r)=>{const n=Date.now(),a=r.payload;t.status=at.FAILED,t.error=a||{message:"Unknown error occurred",code:"UNKNOWN_ERROR"},t.data=null,t.metadata&&(t.metadata.requestEndTime=n,t.metadata.duration=n-t.metadata.requestStartTime),console.error("[DSPR API Slice] Request failed",{status:t.status,error:t.error,duration:t.metadata?.duration})}),e.addCase(Ql.pending,(t,r)=>{const n=r.meta.arg,a=Date.now();t.status=at.LOADING,t.error=null,t.currentRequest=n,t.metadata={requestStartTime:a,requestEndTime:null,duration:null,retryAttempts:0,requestId:W_(n)+"_refresh"},console.log("[DSPR API Slice] Refresh started",{status:t.status,requestId:t.metadata.requestId})}).addCase(Ql.fulfilled,(t,r)=>{const n=Date.now(),a=r.payload;t.status=at.SUCCEEDED,t.data=a,t.error=null,t.lastFetched=n,t.metadata&&(t.metadata.requestEndTime=n,t.metadata.duration=n-t.metadata.requestStartTime),t.cache={isFresh:!0,expiresAt:n+t.cache.ttl,ttl:t.cache.ttl},console.log("[DSPR API Slice] Refresh succeeded",{status:t.status,duration:t.metadata?.duration})}).addCase(Ql.rejected,(t,r)=>{const n=Date.now(),a=r.payload;t.status=at.FAILED,t.error=a||{message:"Refresh failed with unknown error",code:"REFRESH_ERROR"},t.metadata&&(t.metadata.requestEndTime=n,t.metadata.duration=n-t.metadata.requestStartTime),console.error("[DSPR API Slice] Refresh failed",{status:t.status,error:t.error})})}}),{resetApiState:Zme,clearError:wv,clearCache:kU,setCacheTTL:qI,invalidateCache:Kme}=AU.actions,Xme=e=>e.dsprApi,Qme=e=>e.dsprApi.data,Jme=e=>e.dsprApi.status,ehe=e=>e.dsprApi.error,the=e=>e.dsprApi.status===at.LOADING,rhe=e=>e.dsprApi.cache,nhe=e=>{const t=e.dsprApi.cache;return t.isFresh&&t.expiresAt&&Date.now()<t.expiresAt},she=e=>e.dsprApi.metadata,ahe=e=>e.dsprApi.data?.["Filtering Values"]||null,ohe=e=>e.dsprApi.data?.reports||null;function ihe(e){if(!e.params.store||!e.params.date)throw new Error("Store and date parameters are required");if(e.body&&(!Array.isArray(e.body.items)||e.body.items.length===0))throw new Error("Items array must contain at least one item when body is provided")}function W_(e){const{store:t,date:r}=e.params,n=e.body?.items?.join("-")||"no-items",a=Date.now();return`${t}_${r}_${n}_${a}`}function DU(e){return CU(e)?e:e instanceof Error?{message:e.message,details:e.stack,code:"REQUEST_ERROR"}:{message:"An unknown error occurred during the API request",details:String(e),code:"UNKNOWN_ERROR"}}const lhe=AU.reducer,Po={PHONE_SALES:"Phone_Sales",CALL_CENTER:"Call_Center_Agent",DRIVE_THRU:"Drive_Thru",WEBSITE:"Website",MOBILE:"Mobile"},che={MORNING:{startHour:6,endHour:11,label:"Morning (6AM-11AM)"},LUNCH:{startHour:11,endHour:14,label:"Lunch (11AM-2PM)"},AFTERNOON:{startHour:14,endHour:17,label:"Afternoon (2PM-5PM)"},DINNER:{startHour:17,endHour:21,label:"Dinner (5PM-9PM)"},LATE_NIGHT:{startHour:21,endHour:23,label:"Late Night (9PM-11PM)"},OVERNIGHT:{startHour:0,endHour:6,label:"Overnight (12AM-6AM)"}},dhe={minimumSalesThreshold:.01,excludedHours:[],includeZeroHours:!1,currencyPrecision:2,percentagePrecision:2},uhe=e=>!!(e.Total_Sales&&e.Total_Sales>0),VI={rawData:null,processedData:null,summary:null,periodAnalysis:null,trends:null,validation:null,currentFilter:null,currentSort:"hour_asc",status:at.IDLE,error:null,lastProcessed:null,config:dhe},TU=Zt({name:"hourlySales",initialState:VI,reducers:{resetHourlySalesState:e=>{Object.assign(e,VI),console.log("[Hourly Sales] State reset")},clearHourlySalesError:e=>{e.error=null,e.status===at.FAILED&&(e.status=at.IDLE)},setHourlySalesFilter:(e,t)=>{e.currentFilter=t.payload,console.log("[Hourly Sales] Filter updated",t.payload),e.rawData&&(e.status=at.LOADING)},setHourlySalesSort:(e,t)=>{e.currentSort=t.payload,console.log("[Hourly Sales] Sort updated",t.payload)},updateHourlySalesConfig:(e,t)=>{e.config={...e.config,...t.payload},console.log("[Hourly Sales] Configuration updated",t.payload),e.rawData&&(e.status=at.LOADING)},reprocessHourlySalesData:e=>{e.rawData&&(e.status=at.LOADING,e.error=null,console.log("[Hourly Sales] Manual reprocessing triggered"))}},extraReducers:e=>{e.addCase(ls.fulfilled,(t,r)=>{try{t.status=at.LOADING,t.error=null;const a=r.payload.reports?.daily?.dailyHourlySales;if(a){console.log("[Hourly Sales] Processing new data from API",{store:a.franchise_store,date:a.business_date,hourCount:a.hours.length}),t.rawData=a;const o=WI(a,t.config);t.processedData=o.processedData,t.summary=o.summary,t.periodAnalysis=o.periodAnalysis,t.trends=o.trends,t.validation=o.validation,t.lastProcessed=Date.now(),t.status=at.SUCCEEDED,console.log("[Hourly Sales] Data processing completed",{processedHours:t.processedData?.length||0,totalSales:t.summary?.totalDailySales||0,activeHours:t.summary?.activeHours||0,validationScore:t.validation?.completeness||0})}else t.status=at.FAILED,t.error="Hourly sales data not found in API response",console.warn("[Hourly Sales] No hourly sales data found in API response")}catch(n){t.status=at.FAILED,t.error=n instanceof Error?n.message:"Failed to process hourly sales data",console.error("[Hourly Sales] Processing error:",n)}}).addCase(Ql.fulfilled,(t,r)=>{try{t.status=at.LOADING,t.error=null;const a=r.payload.reports?.daily?.dailyHourlySales;if(a){console.log("[Hourly Sales] Processing refreshed data",{store:a.franchise_store,date:a.business_date}),t.rawData=a;const o=WI(a,t.config);t.processedData=o.processedData,t.summary=o.summary,t.periodAnalysis=o.periodAnalysis,t.trends=o.trends,t.validation=o.validation,t.lastProcessed=Date.now(),t.status=at.SUCCEEDED,console.log("[Hourly Sales] Refresh processing completed")}else t.status=at.FAILED,t.error="Hourly sales data not found in refreshed response"}catch(n){t.status=at.FAILED,t.error=n instanceof Error?n.message:"Failed to process refreshed hourly sales data",console.error("[Hourly Sales] Refresh processing error:",n)}}).addCase(ls.pending,t=>{t.status=at.LOADING,t.error=null}).addCase(ls.rejected,(t,r)=>{t.status=at.FAILED,t.error="Failed to fetch DSPR data",t.rawData=null,t.processedData=null,t.summary=null,t.periodAnalysis=null,t.trends=null,t.validation=null})}}),{resetHourlySalesState:F9e,clearHourlySalesError:U9e,setHourlySalesFilter:$9e,setHourlySalesSort:H9e,updateHourlySalesConfig:z9e,reprocessHourlySalesData:q9e}=TU.actions;function WI(e,t){console.log("[Hourly Sales] Starting data processing",{store:e.franchise_store,date:e.business_date,hourCount:e.hours.length});const r=e.hours.map((c,d)=>fhe(c,d)),n=hhe(e,r),a=ghe(r),o=xhe(r),l=vhe(e,r);return{processedData:r,summary:n,periodAnalysis:a,trends:o,validation:l}}function fhe(e,t,r){const n=e.Total_Sales||0,a=e.Order_Count||0,o=e.Website||0,l=e.Mobile||0,c=o+l;return{...e,hour:t,hasActivity:uhe(e),averageOrderValue:a>0?n/a:0,digitalSalesPercentage:n>0?c/n*100:0,primaryChannel:mhe(e)}}function mhe(e){const r=[{channel:Po.WEBSITE,value:e.Website||0},{channel:Po.MOBILE,value:e.Mobile||0},{channel:Po.PHONE_SALES,value:e.Phone_Sales||0},{channel:Po.DRIVE_THRU,value:e.Drive_Thru||0},{channel:Po.CALL_CENTER,value:e.Call_Center_Agent||0}].reduce((n,a)=>a.value>n.value?a:n);return r.value>0?r.channel:null}function hhe(e,t,r){const n=t.filter(i=>i.hasActivity),a=t.reduce((i,m)=>i+(m.Total_Sales||0),0),o=t.reduce((i,m)=>i+(m.Order_Count||0),0),l=t.reduce((i,m,g)=>(m.Total_Sales||0)>(i.sales||0)?{hour:g,sales:m.Total_Sales||0}:i,{hour:0,sales:0}),c=phe(t,a),d=c.website.amount+c.mobile.amount,u=a>0?d/a*100:0;return{storeId:e.franchise_store,date:e.business_date,totalDailySales:a,totalOrderCount:o,averageOrderValue:o>0?a/o:0,peakSalesHour:l.hour,peakSalesAmount:l.sales,activeHours:n.length,digitalSalesPercentage:u,channelBreakdown:c}}function phe(e,t){const r={phone:{amount:0,orderCount:0},callCenter:{amount:0,orderCount:0},driveThru:{amount:0,orderCount:0},website:{amount:0,orderCount:0},mobile:{amount:0,orderCount:0}};return e.forEach(n=>{if(r.phone.amount+=n.Phone_Sales||0,r.callCenter.amount+=n.Call_Center_Agent||0,r.driveThru.amount+=n.Drive_Thru||0,r.website.amount+=n.Website||0,r.mobile.amount+=n.Mobile||0,n.primaryChannel){const a=n.Order_Count||0;switch(n.primaryChannel){case Po.PHONE_SALES:r.phone.orderCount+=a;break;case Po.CALL_CENTER:r.callCenter.orderCount+=a;break;case Po.DRIVE_THRU:r.driveThru.orderCount+=a;break;case Po.WEBSITE:r.website.orderCount+=a;break;case Po.MOBILE:r.mobile.orderCount+=a;break}}}),{phone:{amount:r.phone.amount,percentage:t>0?r.phone.amount/t*100:0,orderCount:r.phone.orderCount,averageOrderValue:r.phone.orderCount>0?r.phone.amount/r.phone.orderCount:0},callCenter:{amount:r.callCenter.amount,percentage:t>0?r.callCenter.amount/t*100:0,orderCount:r.callCenter.orderCount,averageOrderValue:r.callCenter.orderCount>0?r.callCenter.amount/r.callCenter.orderCount:0},driveThru:{amount:r.driveThru.amount,percentage:t>0?r.driveThru.amount/t*100:0,orderCount:r.driveThru.orderCount,averageOrderValue:r.driveThru.orderCount>0?r.driveThru.amount/r.driveThru.orderCount:0},website:{amount:r.website.amount,percentage:t>0?r.website.amount/t*100:0,orderCount:r.website.orderCount,averageOrderValue:r.website.orderCount>0?r.website.amount/r.website.orderCount:0},mobile:{amount:r.mobile.amount,percentage:t>0?r.mobile.amount/t*100:0,orderCount:r.mobile.orderCount,averageOrderValue:r.mobile.orderCount>0?r.mobile.amount/r.mobile.orderCount:0}}}function ghe(e){return Object.values(che).map(t=>{const r=e.filter(c=>c.hour>=t.startHour&&c.hour<=t.endHour),n=r.reduce((c,d)=>c+(d.Total_Sales||0),0),a=r.reduce((c,d)=>c+(d.Order_Count||0),0),o=r.filter(c=>c.hasActivity),l=r.reduce((c,d)=>(d.Total_Sales||0)>(c.Total_Sales||0)?d:c);return{period:t,totalSales:n,totalOrders:a,averageOrderValue:a>0?n/a:0,percentageOfDaily:0,peakHour:l.hour,salesPerHour:o.length>0?n/o.length:0}})}function xhe(e){const t=e.reduce((r,n)=>r+(n.Total_Sales||0),0)/24;return e.map((r,n)=>{const a=r.Total_Sales||0,o=t>0?(a-t)/t*100:0;let l="stable";return o>10?l="up":o<-10&&(l="down"),{hour:n,currentSales:a,percentageChange:o,trend:l,aboveAverage:a>t}})}function vhe(e,t){const r=[],n=[];e.hours.length!==24&&r.push(`Expected 24 hours of data, got ${e.hours.length}`),t.filter(d=>d.hasActivity).length===0&&r.push("No active sales hours found"),t.reduce((d,u)=>d+(u.Total_Sales||0),0)===0&&n.push("Total daily sales is zero");const c=t.filter(d=>Object.keys(d).some(u=>u!=="hour"&&u!=="hasActivity"&&d[u]!==0)).length/24*100;return{isValid:r.length===0,errors:r,warnings:n,completeness:c}}he([e=>e.hourlySales.processedData,e=>e.hourlySales.currentFilter,e=>e.hourlySales.currentSort],(e,t,r)=>{if(!e)return null;let n=[...e];return t&&(n=yhe(n,t)),n=bhe(n,r),n});function yhe(e,t){return e.filter(r=>!(t.minSales!==void 0&&(r.Total_Sales||0)<t.minSales||t.maxSales!==void 0&&(r.Total_Sales||0)>t.maxSales||t.minOrders!==void 0&&(r.Order_Count||0)<t.minOrders||t.maxOrders!==void 0&&(r.Order_Count||0)>t.maxOrders||t.includeHours&&!t.includeHours.includes(r.hour)||t.excludeHours&&t.excludeHours.includes(r.hour)||t.activeOnly&&!r.hasActivity))}function bhe(e,t){return[...e].sort((r,n)=>{switch(t){case"hour_asc":return r.hour-n.hour;case"hour_desc":return n.hour-r.hour;case"sales_asc":return(r.Total_Sales||0)-(n.Total_Sales||0);case"sales_desc":return(n.Total_Sales||0)-(r.Total_Sales||0);case"orders_asc":return(r.Order_Count||0)-(n.Order_Count||0);case"orders_desc":return(n.Order_Count||0)-(r.Order_Count||0);default:return 0}})}const whe=TU.reducer,Ad={ON_TRACK:"OT",NOT_APPLICABLE:"NA"},qr={DOORDASH:"DoorDash",UBEREATS:"UberEats",GRUBHUB:"GrubHub"},$h={EXCELLENT:"Excellent",GOOD:"Good",FAIR:"Fair",POOR:"Poor",CRITICAL:"Critical"},_i={A_PLUS:"A+",A:"A",B_PLUS:"B+",B:"B",C_PLUS:"C+",C:"C",D:"D",F:"F"},wb={INFO:"info",WARNING:"warning",ERROR:"error",CRITICAL:"critical"},Sb={MEDIUM:"medium",HIGH:"high",URGENT:"urgent"},Os={RATING:"rating",PERCENTAGE:"percentage",CURRENCY:"currency",TIME_MINUTES:"minutes",TIME_HOURS:"hours",RATIO:"ratio"},Is={STABLE:"stable"},She={performanceThresholds:{excellent:95,good:85,fair:70,poor:50},criticalMetrics:["DD_Ratings_Average_Rating","UE_Customer_reviews_overview","GH_Rating"],alertConfig:{enableAlerts:!0,maxAlerts:10,includePriorities:[Sb.HIGH,Sb.URGENT],monitoredPlatforms:[qr.DOORDASH,qr.UBEREATS,qr.GRUBHUB]},ratingScales:{doordash:{min:1,max:5,precision:2},ubereats:{min:1,max:5,precision:1},grubhub:{min:1,max:5,precision:2}}},dg=e=>e===Ad.ON_TRACK,GI={rawData:null,processedData:null,currentFilter:null,config:She,alerts:[],platformMetrics:{[qr.DOORDASH]:null,[qr.UBEREATS]:null,[qr.GRUBHUB]:null},status:at.IDLE,error:null,lastProcessed:null,lastAlertGeneration:null},RU=Zt({name:"dsqr",initialState:GI,reducers:{resetDSQRState:e=>{Object.assign(e,GI),console.log("[DSQR] State reset")},clearDSQRError:e=>{e.error=null,e.status===at.FAILED&&(e.status=at.IDLE)},setDSQRFilter:(e,t)=>{e.currentFilter=t.payload,console.log("[DSQR] Filter updated",t.payload)},updateDSQRConfig:(e,t)=>{e.config={...e.config,...t.payload},console.log("[DSQR] Configuration updated",t.payload),e.rawData&&(e.status=at.LOADING)},dismissAlert:(e,t)=>{const r=t.payload;r>=0&&r<e.alerts.length&&(e.alerts.splice(r,1),console.log("[DSQR] Alert dismissed",{alertIndex:r}))},clearAllAlerts:e=>{e.alerts=[],console.log("[DSQR] All alerts cleared")},reprocessDSQRData:e=>{e.rawData&&(e.status=at.LOADING,e.error=null,console.log("[DSQR] Manual reprocessing triggered"))}},extraReducers:e=>{e.addCase(ls.fulfilled,(t,r)=>{try{t.status=at.LOADING,t.error=null;const n=r.payload,a=n.reports?.daily?.dailyDSQRData;if(a){console.log("[DSQR] Processing new data from API",{hasScoreData:!!a.score,hasTrackingData:!!a.is_on_track,storeId:n["Filtering Values"]?.store}),t.rawData=a;const o=YI(a,n["Filtering Values"]?.store||"unknown",n["Filtering Values"]?.date||"unknown",t.config);t.processedData=o.processedData,t.alerts=o.alerts,t.platformMetrics=o.platformMetrics,t.lastProcessed=Date.now(),t.lastAlertGeneration=Date.now(),t.status=at.SUCCEEDED,console.log("[DSQR] Data processing completed",{alertCount:t.alerts.length,overallPerformance:t.processedData?.overallSummary.overallPerformance||0,bestPlatform:t.processedData?.overallSummary.bestPlatform,criticalAlerts:t.alerts.filter(l=>l.severity===wb.CRITICAL).length})}else t.status=at.FAILED,t.error="DSQR data not found in API response",console.warn("[DSQR] No DSQR data found in API response")}catch(n){t.status=at.FAILED,t.error=n instanceof Error?n.message:"Failed to process DSQR data",console.error("[DSQR] Processing error:",n)}}).addCase(Ql.fulfilled,(t,r)=>{try{t.status=at.LOADING,t.error=null;const n=r.payload,a=n.reports?.daily?.dailyDSQRData;if(a){console.log("[DSQR] Processing refreshed data"),t.rawData=a;const o=YI(a,n["Filtering Values"]?.store||"unknown",n["Filtering Values"]?.date||"unknown",t.config);t.processedData=o.processedData,t.alerts=o.alerts,t.platformMetrics=o.platformMetrics,t.lastProcessed=Date.now(),t.lastAlertGeneration=Date.now(),t.status=at.SUCCEEDED,console.log("[DSQR] Refresh processing completed")}else t.status=at.FAILED,t.error="DSQR data not found in refreshed response"}catch(n){t.status=at.FAILED,t.error=n instanceof Error?n.message:"Failed to process refreshed DSQR data",console.error("[DSQR] Refresh processing error:",n)}}).addCase(ls.pending,t=>{t.status=at.LOADING,t.error=null}).addCase(ls.rejected,(t,r)=>{t.status=at.FAILED,t.error="Failed to fetch DSPR data",t.rawData=null,t.processedData=null,t.alerts=[],t.platformMetrics={[qr.DOORDASH]:null,[qr.UBEREATS]:null,[qr.GRUBHUB]:null}})}}),{resetDSQRState:V9e,clearDSQRError:W9e,setDSQRFilter:G9e,updateDSQRConfig:Y9e,dismissAlert:Z9e,clearAllAlerts:K9e,reprocessDSQRData:X9e}=RU.actions;function YI(e,t,r,n){console.log("[DSQR] Starting data processing",{storeId:t,date:r});const a=jhe(e,n),o=_he(a),l=khe(e,a,n);return{processedData:{storeId:t,date:r,platforms:{doorDash:a[qr.DOORDASH],uberEats:a[qr.UBEREATS],grubHub:a[qr.GRUBHUB]},overallSummary:o,alerts:l},platformMetrics:a,alerts:l}}function jhe(e,t){const r={};return r[qr.DOORDASH]=Nhe(e,t),r[qr.UBEREATS]=Che(e,t),r[qr.GRUBHUB]=Ehe(e,t),r}function Nhe(e,t){const r=[{name:"DD_Ratings_Average_Rating",label:"Average Rating",value:e.score.DD_Ratings_Average_Rating,status:e.is_on_track.DD_NAOT_Ratings_Average_Rating,unit:Os.RATING,isCritical:t.criticalMetrics.includes("DD_Ratings_Average_Rating"),target:4.5,trend:Is.STABLE},{name:"DD_Cancellations_Sales_Lost",label:"Sales Lost to Cancellations",value:e.score.DD_Cancellations_Sales_Lost,status:e.is_on_track.DD_NAOT_Cancellations_Sales_Lost,unit:Os.CURRENCY,isCritical:!1,trend:Is.STABLE},{name:"DD_Missing_or_Incorrect_Error_Charges",label:"Error Charges",value:e.score.DD_Missing_or_Incorrect_Error_Charges,status:e.is_on_track.DD_NAOT_Missing_or_Incorrect_Error_Charges,unit:Os.CURRENCY,isCritical:!1,trend:Is.STABLE},{name:"DD_Avoidable_Wait_M_Sec",label:"Avoidable Wait Time",value:e.score.DD_Avoidable_Wait_M_Sec,status:e.is_on_track.DD_NAOT_Avoidable_Wait_M_Sec,unit:Os.TIME_MINUTES,isCritical:!1,target:2,trend:Is.STABLE},{name:"DD_Reviews_Responded",label:"Review Response Rate",value:e.score.DD_Reviews_Responded,status:Ad.ON_TRACK,unit:Os.PERCENTAGE,isCritical:!1,target:1,trend:Is.STABLE}],n=r.filter(l=>dg(l.status)),a=r.filter(l=>l.status!==Ad.NOT_APPLICABLE),o=a.length>0?n.length/a.length*100:0;return{platform:qr.DOORDASH,overallRating:e.score.DD_Ratings_Average_Rating,kpis:r,onTrackCount:n.length,totalApplicableMetrics:a.length,performancePercentage:o,performanceLevel:O2(o,t)}}function Che(e,t){const r=[{name:"UE_Customer_reviews_overview",label:"Customer Reviews",value:e.score.UE_Customer_reviews_overview,status:e.is_on_track.UE_NAOT_Customer_reviews_overview,unit:Os.RATING,isCritical:t.criticalMetrics.includes("UE_Customer_reviews_overview"),target:4,trend:Is.STABLE},{name:"UE_Cost_of_Refunds",label:"Cost of Refunds",value:e.score.UE_Cost_of_Refunds,status:e.is_on_track.UE_NAOT_Cost_of_Refunds,unit:Os.CURRENCY,isCritical:!1,trend:Is.STABLE},{name:"UE_Unfulfilled_order_rate",label:"Unfulfilled Order Rate",value:e.score.UE_Unfulfilled_order_rate,status:e.is_on_track.UE_NAOT_Unfulfilled_order_rate,unit:Os.PERCENTAGE,isCritical:!1,target:.05,trend:Is.STABLE},{name:"UE_Time_unavailable_during_open_hours_hh_mm",label:"Unavailable Time",value:e.score.UE_Time_unavailable_during_open_hours_hh_mm,status:e.is_on_track.UE_NAOT_Time_unavailable_during_open_hours_hh_mm,unit:Os.TIME_HOURS,isCritical:!1,target:0,trend:Is.STABLE},{name:"UE_Reviews_Responded",label:"Review Response Rate",value:e.score.UE_Reviews_Responded,status:Ad.ON_TRACK,unit:Os.PERCENTAGE,isCritical:!1,target:1,trend:Is.STABLE}],n=r.filter(l=>dg(l.status)),a=r.filter(l=>l.status!==Ad.NOT_APPLICABLE),o=a.length>0?n.length/a.length*100:0;return{platform:qr.UBEREATS,overallRating:e.score.UE_Customer_reviews_overview,kpis:r,onTrackCount:n.length,totalApplicableMetrics:a.length,performancePercentage:o,performanceLevel:O2(o,t)}}function Ehe(e,t){const r=[{name:"GH_Rating",label:"Overall Rating",value:e.score.GH_Rating,status:e.is_on_track.GH_NAOT_Rating,unit:Os.RATING,isCritical:t.criticalMetrics.includes("GH_Rating"),target:4,trend:Is.STABLE},{name:"GH_Food_was_good",label:"Food Quality Rating",value:e.score.GH_Food_was_good,status:e.is_on_track.GH_NAOT_Food_was_good,unit:Os.RATIO,isCritical:!1,target:.8,trend:Is.STABLE},{name:"GH_Delivery_was_on_time",label:"On-Time Delivery Rating",value:e.score.GH_Delivery_was_on_time,status:e.is_on_track.GH_NAOT_Delivery_was_on_time,unit:Os.RATIO,isCritical:!1,target:.9,trend:Is.STABLE},{name:"GH_Order_was_accurate",label:"Order Accuracy Rating",value:e.score.GH_Order_was_accurate,status:e.is_on_track.GH_NAOT_Order_was_accurate,unit:Os.RATIO,isCritical:!1,target:.85,trend:Is.STABLE}],n=r.filter(l=>dg(l.status)),a=r.filter(l=>l.status!==Ad.NOT_APPLICABLE),o=a.length>0?n.length/a.length*100:0;return{platform:qr.GRUBHUB,overallRating:e.score.GH_Rating,kpis:r,onTrackCount:n.length,totalApplicableMetrics:a.length,performancePercentage:o,performanceLevel:O2(o,t)}}function O2(e,t){const r=t.performanceThresholds;return e>=r.excellent?$h.EXCELLENT:e>=r.good?$h.GOOD:e>=r.fair?$h.FAIR:e>=r.poor?$h.POOR:$h.CRITICAL}function _he(e){const r=Object.values(e).filter(i=>i.totalApplicableMetrics>0);if(r.length===0)return{averageRating:0,totalOnTrack:0,totalApplicable:0,overallPerformance:0,bestPlatform:qr.DOORDASH,attentionRequired:qr.DOORDASH,performanceGrade:_i.F};const n=r.reduce((i,m)=>i+m.overallRating,0)/r.length,a=r.reduce((i,m)=>i+m.onTrackCount,0),o=r.reduce((i,m)=>i+m.totalApplicableMetrics,0),l=o>0?a/o*100:0,c=r.reduce((i,m)=>m.performancePercentage>i.performancePercentage?m:i).platform,d=r.reduce((i,m)=>m.performancePercentage<i.performancePercentage?m:i).platform,u=Ahe(l);return{averageRating:n,totalOnTrack:a,totalApplicable:o,overallPerformance:l,bestPlatform:c,attentionRequired:d,performanceGrade:u}}function Ahe(e){return e>=97?_i.A_PLUS:e>=93?_i.A:e>=90?_i.B_PLUS:e>=87?_i.B:e>=83?_i.C_PLUS:e>=80?_i.C:e>=70?_i.D:_i.F}function khe(e,t,r){if(!r.alertConfig.enableAlerts)return[];const n=[];return Object.values(t).forEach(o=>{o.kpis.forEach(l=>{if(!dg(l.status)&&l.status!==Ad.NOT_APPLICABLE){const c=Dhe(o.platform,l);c&&r.alertConfig.includePriorities.includes(c.priority)&&n.push(c)}})}),n.sort((o,l)=>{const c={urgent:4,high:3,medium:2,low:1};return c[l.priority]-c[o.priority]}).slice(0,r.alertConfig.maxAlerts)}function Dhe(e,t,r){const n=t.isCritical?wb.CRITICAL:wb.WARNING,a=t.isCritical?Sb.HIGH:Sb.MEDIUM;let o=`${e} ${t.label} is not meeting targets`;const l=[];switch(e){case qr.DOORDASH:t.name==="DD_Ratings_Average_Rating"&&(l.push("Focus on order accuracy and delivery speed"),l.push("Review recent customer feedback for improvement areas"));break;case qr.UBEREATS:t.name==="UE_Customer_reviews_overview"&&(l.push("Improve food quality and packaging"),l.push("Reduce preparation time to maintain food temperature"));break;case qr.GRUBHUB:t.name==="GH_Rating"&&(l.push("Enhance overall service quality"),l.push("Monitor order fulfillment process"));break}return l.length===0&&(l.push("Review operational procedures"),l.push("Monitor metric closely for improvement")),{severity:n,platform:e,metric:t.name,message:o,currentValue:t.value,targetValue:t.target,recommendations:l,priority:a}}he([e=>e.dsqr.platformMetrics,e=>e.dsqr.currentFilter],(e,t)=>{if(!t)return e;const r={};return Object.entries(e).forEach(([n,a])=>{if(t.platforms&&!t.platforms.includes(n)){r[n]=null;return}if(a){let o={...a};if(t.minRating&&a.overallRating<t.minRating){r[n]=null;return}t.offTrackOnly&&(o.kpis=o.kpis.filter(l=>!dg(l.status))),t.criticalOnly&&(o.kpis=o.kpis.filter(l=>l.isCritical)),r[n]=o}else r[n]=null}),r});const The=e=>e.dsqr.alerts;he([The],e=>e.filter(t=>t.severity===wb.CRITICAL));const PU=e=>e.dsqr.processedData?.overallSummary;he([PU],e=>e?.bestPlatform);he([PU],e=>e?.attentionRequired);const Rhe=RU.reducer,Jr={TRADITIONAL:"traditional",DIGITAL:"digital",DELIVERY:"delivery",PHONE:"phone",DRIVE_THRU:"drive_thru"},Phe={AVERAGE:"average"},Pa={A_PLUS:"A+",A:"A",B_PLUS:"B+",B:"B",C_PLUS:"C+",C:"C",D_PLUS:"D+",D:"D"},Hh={OUTSTANDING:"Outstanding",EXCEEDS_EXPECTATIONS:"Exceeds Expectations",MEETS_EXPECTATIONS:"Meets Expectations",BELOW_EXPECTATIONS:"Below Expectations",NEEDS_IMPROVEMENT:"Needs Improvement"},Di={PREMIUM:"Premium",HIGH:"High",STANDARD:"Standard",BELOW_STANDARD:"Below Standard",CRITICAL:"Critical"},Ti={OPTIMAL:"Optimal",EFFICIENT:"Efficient",ACCEPTABLE:"Acceptable",CONCERNING:"Concerning",CRITICAL:"Critical"},Mo={STRONG_UP:"strong_up",UP:"up",STABLE:"stable",DOWN:"down",STRONG_DOWN:"strong_down"},Lo={INFO:"info",WARNING:"warning",ERROR:"error",CRITICAL:"critical"},sa={FINANCIAL:"financial",OPERATIONAL:"operational",QUALITY:"quality",COST_CONTROL:"cost_control"},pf={LOW:"low",MEDIUM:"medium",HIGH:"high",URGENT:"urgent"},Sv={MINIMAL:"minimal",MODERATE:"moderate",HIGH:"high",SEVERE:"severe"},zh={HIGHLY_SIGNIFICANT:"highly_significant",SIGNIFICANT:"significant",MODERATE:"moderate",MINOR:"minor",NEGLIGIBLE:"negligible"},Mhe={targets:{laborCostTarget:.3,customerServiceTarget:.95,digitalSalesTarget:.65,portalUtilizationTarget:.95,wastePercentageTarget:.03,customerCountTarget:1},alertSettings:{enableAlerts:!0,maxAlertsPerAnalysis:8,minVarianceThreshold:.05,monitoredCategories:[sa.FINANCIAL,sa.OPERATIONAL,sa.QUALITY,sa.COST_CONTROL]},gradeWeights:{financial:.35,operational:.25,quality:.25,costControl:.15},costThresholds:{maxLaborPercentage:.35,maxWastePercentage:.05,cashVarianceRange:{min:-5,max:5}}},Ohe=(e,t,r=.1)=>{const n=t*(1-r),a=t*(1+r);return e>=n&&e<=a},MU=(e,t)=>t===0?0:(e-t)/t*100,Ihe=e=>e>=10?Mo.STRONG_UP:e>=2?Mo.UP:e<=-10?Mo.STRONG_DOWN:e<=-2?Mo.DOWN:Mo.STABLE,Lhe={historical:{laborCost:.32,wastePercentage:.035,customerService:.92,digitalSalesPercent:.6},industry:{laborCost:.3,wastePercentage:.03,customerService:.95,digitalSalesPercent:.65},targets:{laborCost:.28,wastePercentage:.025,customerService:.97,digitalSalesPercent:.7}},ZI={dailyRawData:null,weeklyRawData:null,processedData:null,config:Mhe,alerts:[],status:at.IDLE,error:null,lastProcessed:null,lastAlertGeneration:null,benchmarks:Lhe},OU=Zt({name:"dsprMetricsSlice",initialState:ZI,reducers:{resetDSPRMetricsState:e=>{Object.assign(e,ZI),console.log("[DSPR Metrics] State reset")},clearDSPRMetricsError:e=>{e.error=null,e.status===at.FAILED&&(e.status=at.IDLE)},updateDSPRMetricsConfig:(e,t)=>{e.config={...e.config,...t.payload},console.log("[DSPR Metrics] Configuration updated",t.payload),e.dailyRawData&&(e.status=at.LOADING)},updateBenchmarks:(e,t)=>{e.benchmarks&&(e.benchmarks={...e.benchmarks,...t.payload},console.log("[DSPR Metrics] Benchmarks updated",t.payload),e.dailyRawData&&(e.status=at.LOADING))},dismissOperationalAlert:(e,t)=>{const r=t.payload;r>=0&&r<e.alerts.length&&(e.alerts.splice(r,1),console.log("[DSPR Metrics] Alert dismissed",{alertIndex:r}))},clearAllOperationalAlerts:e=>{e.alerts=[],console.log("[DSPR Metrics] All alerts cleared")},reprocessDSPRMetricsData:e=>{e.dailyRawData&&(e.status=at.LOADING,e.error=null,console.log("[DSPR Metrics] Manual reprocessing triggered"))}},extraReducers:e=>{e.addCase(ls.fulfilled,(t,r)=>{try{t.status=at.LOADING,t.error=null;const n=r.payload,a=n.reports?.daily?.dailyDSPRData,o=n.reports?.weekly?.DSPRData;if(a){console.log("[DSPR Metrics] Processing new data from API",{hasDaily:!!a,hasWeekly:!!o,storeId:n["Filtering Values"]?.store,totalSales:a.Total_Sales,laborCost:a.labor}),t.dailyRawData=a,t.weeklyRawData=o||null;const l=QI(a,o,n["Filtering Values"]?.store||"unknown",n["Filtering Values"]?.date||"unknown",t.config,t.benchmarks);t.processedData=l.processedData,t.alerts=l.alerts,t.lastProcessed=Date.now(),t.lastAlertGeneration=Date.now(),t.status=at.SUCCEEDED,console.log("[DSPR Metrics] Data processing completed",{alertCount:t.alerts.length,overallGrade:t.processedData?.overallGrade,criticalAlerts:t.alerts.filter(c=>c.severity===Lo.CRITICAL).length,financialGrade:t.processedData?.daily.financial.performanceGrade,operationalScore:t.processedData?.daily.operational.efficiencyScore})}else t.status=at.FAILED,t.error="DSPR metrics data not found in API response",console.warn("[DSPR Metrics] No DSPR metrics data found in API response")}catch(n){t.status=at.FAILED,t.error=n instanceof Error?n.message:"Failed to process DSPR metrics data",console.error("[DSPR Metrics] Processing error:",n)}}).addCase(Ql.fulfilled,(t,r)=>{try{t.status=at.LOADING,t.error=null;const n=r.payload,a=n.reports?.daily?.dailyDSPRData,o=n.reports?.weekly?.DSPRData;if(a){console.log("[DSPR Metrics] Processing refreshed data"),t.dailyRawData=a,t.weeklyRawData=o||null;const l=QI(a,o,n["Filtering Values"]?.store||"unknown",n["Filtering Values"]?.date||"unknown",t.config,t.benchmarks);t.processedData=l.processedData,t.alerts=l.alerts,t.lastProcessed=Date.now(),t.lastAlertGeneration=Date.now(),t.status=at.SUCCEEDED,console.log("[DSPR Metrics] Refresh processing completed")}else t.status=at.FAILED,t.error="DSPR metrics data not found in refreshed response"}catch(n){t.status=at.FAILED,t.error=n instanceof Error?n.message:"Failed to process refreshed DSPR metrics data",console.error("[DSPR Metrics] Refresh processing error:",n)}}).addCase(ls.pending,t=>{t.status=at.LOADING,t.error=null}).addCase(ls.rejected,(t,r)=>{t.status=at.FAILED,t.error="Failed to fetch DSPR data",t.dailyRawData=null,t.weeklyRawData=null,t.processedData=null,t.alerts=[]})}}),{resetDSPRMetricsState:Bhe,clearDSPRMetricsError:Fhe,updateDSPRMetricsConfig:KI,updateBenchmarks:XI,dismissOperationalAlert:Uhe,clearAllOperationalAlerts:$he,reprocessDSPRMetricsData:Hhe}=OU.actions;function QI(e,t,r,n,a,o){console.log("[DSPR Metrics] Starting data processing",{storeId:r,date:n,hasWeekly:!!t});const l=IU(e,a),c=t?Yhe(t,e,a):void 0,d=rpe(e,t,l,a),u=tpe(l,a);return{processedData:{storeId:r,date:n,daily:l,weekly:c,alerts:d,overallGrade:u},alerts:d}}function IU(e,t,r){const n=zhe(e,t),a=qhe(e),o=Vhe(e),l=Whe(e),c=Ghe(e,t);return{financial:n,operational:a,salesChannels:o,quality:l,costControl:c}}function zhe(e,t,r){const n=e.Total_Sales,a=e.Total_Cash_Sales,o=n*e.Digital_Sales_Percent,l=e.Customer_count;return{totalSales:n,cashSales:a,digitalSales:o,averageTicket:e.Avrage_ticket,tips:e.Total_TIPS,cashVariance:e.over_short,laborCostPercentage:e.labor,revenuePerCustomer:l>0?n/l:0,performanceGrade:Khe(e,t)}}function qhe(e,t,r){const n=e.Customer_count,a=n>0?e.Modified_Order_Qty/n:0,o=n>0?e.Refunded_order_Qty/n:0;return{customerCount:e.Customer_count,customerCountPercentage:e.Customer_count_percent,portalUtilization:e.Put_into_Portal_Percent,portalOnTimePercentage:e.In_Portal_on_Time_Percent,modificationRate:a,refundRate:o,efficiencyScore:Xhe(e)}}function Vhe(e,t){const r=e.Total_Sales,n=e.Total_Cash_Sales+e.Phone,a=jv(Jr.TRADITIONAL,n,r,e.Customer_count*.3),o=e.Website+e.Mobile,l=jv(Jr.DIGITAL,o,r,e.Customer_count*.4),c=e.DoorDash_Sales+e.UberEats_Sales+e.GrubHub_Sales,d=jv(Jr.DELIVERY,c,r,e.Customer_count*.25),u=e.Phone+e.Call_Center_Agent,i=jv(Jr.PHONE,u,r,e.Customer_count*.05),g=[a,l,d,i].reduce((x,v)=>v.sales>x.sales?v:x).channel;return{traditional:a,digital:l,delivery:d,phone:i,topChannel:g,digitalAdoptionRate:e.Digital_Sales_Percent}}function jv(e,t,r,n){return{channel:e,sales:t,percentage:r>0?t/r*100:0,orders:Math.round(n),averageOrderValue:n>0?t/n:0,trend:Mo.STABLE,performanceLevel:Phe.AVERAGE}}function Whe(e,t,r){const n=e.Customer_count,a=n>0?e.Modified_Order_Qty/n:0,o=n>0?e.Refunded_order_Qty/n:0,l=Math.max(0,1-a-o);return{customerServiceScore:e.Customer_Service,orderAccuracy:l,serviceConsistency:e.In_Portal_on_Time_Percent,qualityGrade:Qhe(e)}}function Ghe(e,t,r){const n=e.waste_gateway+e.Waste_Alta,a=e.Total_Sales>0?n/e.Total_Sales:0;return{totalWaste:n,wastePercentage:a,laborEfficiency:Jhe(e,t),costControlGrade:epe(e,t)}}function Yhe(e,t,r,n){const a=IU(e,r),o=Zhe(t,e);return{...a,trends:o}}function Zhe(e,t){const r=t.Total_Sales/7,n=t.labor,a=t.Customer_count/7,o=(t.waste_gateway+t.Waste_Alta)/7,l=t.Digital_Sales_Percent;return{salesTrend:qh("sales",e.Total_Sales,r),laborTrend:qh("labor",e.labor,n),customerTrend:qh("customers",e.Customer_count,a),wasteTrend:qh("waste",e.waste_gateway+e.Waste_Alta,o),digitalTrend:qh("digital",e.Digital_Sales_Percent,l)}}function qh(e,t,r){const n=MU(t,r),a=Ihe(n);let o=zh.NEGLIGIBLE;const l=Math.abs(n);return l>=20?o=zh.HIGHLY_SIGNIFICANT:l>=10?o=zh.SIGNIFICANT:l>=5?o=zh.MODERATE:l>=2&&(o=zh.MINOR),{metric:e,current:t,previous:r,percentageChange:n,direction:a,significance:o}}function Khe(e,t,r){const n=t.targets.laborCostTarget,a=Math.abs(e.labor-n);return a<=.02?Pa.A:a<=.05?Pa.B:a<=.08?Pa.C:Pa.D}function Xhe(e,t,r){const n=e.Put_into_Portal_Percent*30,a=e.In_Portal_on_Time_Percent*30,o=e.Customer_Service*25,l=e.Customer_count_percent*15;return n+a+o+l}function Qhe(e,t,r){const n=e.Customer_Service;return n>=.95?Di.PREMIUM:n>=.9?Di.HIGH:n>=.85?Di.STANDARD:n>=.75?Di.BELOW_STANDARD:Di.CRITICAL}function Jhe(e,t,r){const n=t.targets.laborCostTarget,a=e.labor;return Math.max(0,n/a*100)}function epe(e,t,r){const n=t.targets.laborCostTarget,a=t.targets.wastePercentageTarget,o=e.waste_gateway+e.Waste_Alta,l=e.Total_Sales>0?o/e.Total_Sales:0,c=Ohe(e.labor,n,.1)?1:0,d=l<=a?1:0,u=Math.abs(e.over_short)<=5?1:0,i=(c+d+u)/3;return i>=.9?Ti.OPTIMAL:i>=.7?Ti.EFFICIENT:i>=.5?Ti.ACCEPTABLE:i>=.3?Ti.CONCERNING:Ti.CRITICAL}function tpe(e,t){const r=t.gradeWeights,n=u=>{switch(u){case Pa.A:case Pa.A_PLUS:case Di.PREMIUM:case Ti.OPTIMAL:return 4;case Pa.B:case Pa.B_PLUS:case Di.HIGH:case Ti.EFFICIENT:return 3;case Pa.C:case Pa.C_PLUS:case Di.STANDARD:case Ti.ACCEPTABLE:return 2;case Pa.D:case Pa.D_PLUS:case Di.BELOW_STANDARD:case Ti.CONCERNING:return 1;default:return 0}},a=n(e.financial.performanceGrade)*r.financial,o=e.operational.efficiencyScore/100*4*r.operational,l=n(e.quality.qualityGrade)*r.quality,c=n(e.costControl.costControlGrade)*r.costControl,d=a+o+l+c;return d>=3.5?Hh.OUTSTANDING:d>=3?Hh.EXCEEDS_EXPECTATIONS:d>=2.5?Hh.MEETS_EXPECTATIONS:d>=2?Hh.BELOW_EXPECTATIONS:Hh.NEEDS_IMPROVEMENT}function rpe(e,t,r,n){if(!n.alertSettings.enableAlerts)return[];const a=[];e.labor>n.costThresholds.maxLaborPercentage&&a.push(Nv(sa.COST_CONTROL,"Labor Cost Exceeded","labor_cost",`Labor cost is ${(e.labor*100).toFixed(1)}%, above target of ${(n.targets.laborCostTarget*100).toFixed(1)}%`,e.labor,n.targets.laborCostTarget,["Review staffing schedules for optimization","Analyze peak hour coverage","Consider cross-training staff for flexibility"]));const o=e.waste_gateway+e.Waste_Alta,l=e.Total_Sales>0?o/e.Total_Sales:0;l>n.costThresholds.maxWastePercentage&&a.push(Nv(sa.COST_CONTROL,"Waste Percentage High","waste_percentage",`Waste is ${(l*100).toFixed(2)}% of sales, above target of ${(n.targets.wastePercentageTarget*100).toFixed(2)}%`,l,n.targets.wastePercentageTarget,["Review inventory management procedures","Check food preparation processes","Analyze waste tracking accuracy"])),e.Customer_Service<n.targets.customerServiceTarget&&a.push(Nv(sa.QUALITY,"Customer Service Below Target","customer_service",`Customer service score is ${(e.Customer_Service*100).toFixed(1)}%, below target of ${(n.targets.customerServiceTarget*100).toFixed(1)}%`,e.Customer_Service,n.targets.customerServiceTarget,["Review customer feedback for improvement areas","Provide additional staff training","Monitor service delivery processes"]));const c=Math.abs(e.over_short);return c>Math.max(Math.abs(n.costThresholds.cashVarianceRange.max),Math.abs(n.costThresholds.cashVarianceRange.min))&&a.push(Nv(sa.FINANCIAL,"Cash Variance Issue","cash_variance",`Cash variance is $${c.toFixed(2)}, outside acceptable range`,e.over_short,0,["Review cash handling procedures","Check register reconciliation process","Audit cash management controls"])),a.filter(d=>n.alertSettings.monitoredCategories.includes(d.category)).sort((d,u)=>{const i={urgent:4,high:3,medium:2,low:1};return i[u.priority]-i[d.priority]}).slice(0,n.alertSettings.maxAlertsPerAnalysis)}function Nv(e,t,r,n,a,o,l){const c=MU(a,o),d=Math.abs(c);let u=Lo.INFO,i=pf.LOW,m=Sv.MINIMAL;return d>=30?(u=Lo.CRITICAL,i=pf.URGENT,m=Sv.SEVERE):d>=20?(u=Lo.ERROR,i=pf.HIGH,m=Sv.HIGH):d>=10&&(u=Lo.WARNING,i=pf.MEDIUM,m=Sv.MODERATE),{severity:u,category:e,metric:r,title:t,message:n,currentValue:a,targetValue:o,variance:c,recommendations:l,priority:i,impact:m}}const npe=e=>e.dsprMetrics,spe=e=>e.dsprMetrics.dailyRawData,ape=e=>e.dsprMetrics.weeklyRawData,ope=e=>e.dsprMetrics.processedData,LU=e=>e.dsprMetrics.alerts,ipe=he([LU],e=>e.filter(t=>t.severity===Lo.CRITICAL)),lpe=e=>e.dsprMetrics.processedData?.daily.financial,cpe=e=>e.dsprMetrics.processedData?.daily.operational,dpe=e=>e.dsprMetrics.processedData?.daily.salesChannels,upe=e=>e.dsprMetrics.processedData?.daily.quality,fpe=e=>e.dsprMetrics.processedData?.daily.costControl,mpe=e=>e.dsprMetrics.processedData?.weekly?.trends,hpe=e=>e.dsprMetrics.processedData?.overallGrade,ppe=e=>e.dsprMetrics.status===at.LOADING,gpe=e=>e.dsprMetrics.error,xpe=e=>e.dsprMetrics.benchmarks,vpe=OU.reducer,Vn=E8({reducer:{auth:Une,permissions:Yne,roles:fse,users:Mse,authRules:sae,serviceClients:Oae,positions:Xoe,stores:Hae,userRolesStoresAssignment:doe,roleHierarchy:Aoe,statuses:uie,skills:Tie,preferences:Xie,employees:hle,schedulePreferences:_le,employmentInformation:qle,dailySchedules:Bme,weeklySchedules:$me,storeItems:Wme,dsprApi:lhe,hourlySales:whe,dsqr:Rhe,dsprMetrics:vpe},middleware:e=>e({serializableCheck:{ignoredActions:["persist/PERSIST","persist/REHYDRATE"]}})});var Vh={},JI;function ype(){if(JI)return Vh;JI=1,Object.defineProperty(Vh,"__esModule",{value:!0}),Vh.parse=l,Vh.serialize=u;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function l(g,x){const v=new o,N=g.length;if(N<2)return v;const h=x?.decode||i;let y=0;do{const w=g.indexOf("=",y);if(w===-1)break;const j=g.indexOf(";",y),C=j===-1?N:j;if(w>C){y=g.lastIndexOf(";",w-1)+1;continue}const _=c(g,y,w),k=d(g,w,_),A=g.slice(_,k);if(v[A]===void 0){let T=c(g,w+1,C),R=d(g,C,T);const P=h(g.slice(T,R));v[A]=P}y=C+1}while(y<N);return v}function c(g,x,v){do{const N=g.charCodeAt(x);if(N!==32&&N!==9)return x}while(++x<v);return v}function d(g,x,v){for(;x>v;){const N=g.charCodeAt(--x);if(N!==32&&N!==9)return x+1}return v}function u(g,x,v){const N=v?.encode||encodeURIComponent;if(!e.test(g))throw new TypeError(`argument name is invalid: ${g}`);const h=N(x);if(!t.test(h))throw new TypeError(`argument val is invalid: ${x}`);let y=g+"="+h;if(!v)return y;if(v.maxAge!==void 0){if(!Number.isInteger(v.maxAge))throw new TypeError(`option maxAge is invalid: ${v.maxAge}`);y+="; Max-Age="+v.maxAge}if(v.domain){if(!r.test(v.domain))throw new TypeError(`option domain is invalid: ${v.domain}`);y+="; Domain="+v.domain}if(v.path){if(!n.test(v.path))throw new TypeError(`option path is invalid: ${v.path}`);y+="; Path="+v.path}if(v.expires){if(!m(v.expires)||!Number.isFinite(v.expires.valueOf()))throw new TypeError(`option expires is invalid: ${v.expires}`);y+="; Expires="+v.expires.toUTCString()}if(v.httpOnly&&(y+="; HttpOnly"),v.secure&&(y+="; Secure"),v.partitioned&&(y+="; Partitioned"),v.priority)switch(typeof v.priority=="string"?v.priority.toLowerCase():void 0){case"low":y+="; Priority=Low";break;case"medium":y+="; Priority=Medium";break;case"high":y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${v.priority}`)}if(v.sameSite)switch(typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite){case!0:case"strict":y+="; SameSite=Strict";break;case"lax":y+="; SameSite=Lax";break;case"none":y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${v.sameSite}`)}return y}function i(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch{return g}}function m(g){return a.call(g)==="[object Date]"}return Vh}ype();var e3="popstate";function bpe(e={}){function t(n,a){let{pathname:o,search:l,hash:c}=n.location;return G_("",{pathname:o,search:l,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Pp(a)}return Spe(t,r,null,e)}function Ir(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ba(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function wpe(){return Math.random().toString(36).substring(2,10)}function t3(e,t){return{usr:e.state,key:e.key,idx:t}}function G_(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?im(t):t,state:r,key:t&&t.key||n||wpe()}}function Pp({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function im(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function Spe(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:o=!1}=n,l=a.history,c="POP",d=null,u=i();u==null&&(u=0,l.replaceState({...l.state,idx:u},""));function i(){return(l.state||{idx:null}).idx}function m(){c="POP";let h=i(),y=h==null?null:h-u;u=h,d&&d({action:c,location:N.location,delta:y})}function g(h,y){c="PUSH";let w=G_(N.location,h,y);u=i()+1;let j=t3(w,u),C=N.createHref(w);try{l.pushState(j,"",C)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;a.location.assign(C)}o&&d&&d({action:c,location:N.location,delta:1})}function x(h,y){c="REPLACE";let w=G_(N.location,h,y);u=i();let j=t3(w,u),C=N.createHref(w);l.replaceState(j,"",C),o&&d&&d({action:c,location:N.location,delta:0})}function v(h){return jpe(h)}let N={get action(){return c},get location(){return e(a,l)},listen(h){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(e3,m),d=h,()=>{a.removeEventListener(e3,m),d=null}},createHref(h){return t(a,h)},createURL:v,encodeLocation(h){let y=v(h);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:g,replace:x,go(h){return l.go(h)}};return N}function jpe(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Ir(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Pp(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function BU(e,t,r="/"){return Npe(e,t,r,!1)}function Npe(e,t,r,n){let a=typeof t=="string"?im(t):t,o=Gi(a.pathname||"/",r);if(o==null)return null;let l=FU(e);Cpe(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let u=Ipe(o);c=Mpe(l[d],u,n)}return c}function FU(e,t=[],r=[],n=""){let a=(o,l,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(Ir(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length));let u=Hi([n,d.relativePath]),i=r.concat(d);o.children&&o.children.length>0&&(Ir(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),FU(o.children,t,i,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:Rpe(u,o.index),routesMeta:i})};return e.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))a(o,l);else for(let c of UU(o.path))a(o,l,c)}),t}function UU(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let l=UU(n.join("/")),c=[];return c.push(...l.map(d=>d===""?o:[o,d].join("/"))),a&&c.push(...l),c.map(d=>e.startsWith("/")&&d===""?"/":d)}function Cpe(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Ppe(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var Epe=/^:[\w-]+$/,_pe=3,Ape=2,kpe=1,Dpe=10,Tpe=-2,r3=e=>e==="*";function Rpe(e,t){let r=e.split("/"),n=r.length;return r.some(r3)&&(n+=Tpe),t&&(n+=Ape),r.filter(a=>!r3(a)).reduce((a,o)=>a+(Epe.test(o)?_pe:o===""?kpe:Dpe),n)}function Ppe(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Mpe(e,t,r=!1){let{routesMeta:n}=e,a={},o="/",l=[];for(let c=0;c<n.length;++c){let d=n[c],u=c===n.length-1,i=o==="/"?t:t.slice(o.length)||"/",m=jb({path:d.relativePath,caseSensitive:d.caseSensitive,end:u},i),g=d.route;if(!m&&u&&r&&!n[n.length-1].route.index&&(m=jb({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},i)),!m)return null;Object.assign(a,m.params),l.push({params:a,pathname:Hi([o,m.pathname]),pathnameBase:Upe(Hi([o,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(o=Hi([o,m.pathnameBase]))}return l}function jb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Ope(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let o=a[0],l=o.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:n.reduce((u,{paramName:i,isOptional:m},g)=>{if(i==="*"){let v=c[g]||"";l=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const x=c[g];return m&&!x?u[i]=void 0:u[i]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:l,pattern:e}}function Ope(e,t=!1,r=!0){Ba(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(n.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Ipe(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ba(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Gi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Lpe(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?im(e):e;return{pathname:r?r.startsWith("/")?r:Bpe(r,t):t,search:$pe(n),hash:Hpe(a)}}function Bpe(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function iC(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Fpe(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function I2(e){let t=Fpe(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function L2(e,t,r,n=!1){let a;typeof e=="string"?a=im(e):(a={...e},Ir(!a.pathname||!a.pathname.includes("?"),iC("?","pathname","search",a)),Ir(!a.pathname||!a.pathname.includes("#"),iC("#","pathname","hash",a)),Ir(!a.search||!a.search.includes("#"),iC("#","search","hash",a)));let o=e===""||a.pathname==="",l=o?"/":a.pathname,c;if(l==null)c=r;else{let m=t.length-1;if(!n&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),m-=1;a.pathname=g.join("/")}c=m>=0?t[m]:"/"}let d=Lpe(a,c),u=l&&l!=="/"&&l.endsWith("/"),i=(o||l===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(u||i)&&(d.pathname+="/"),d}var Hi=e=>e.join("/").replace(/\/\/+/g,"/"),Upe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$pe=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Hpe=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function zpe(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var $U=["POST","PUT","PATCH","DELETE"];new Set($U);var qpe=["GET",...$U];new Set(qpe);var lm=b.createContext(null);lm.displayName="DataRouter";var Gw=b.createContext(null);Gw.displayName="DataRouterState";var HU=b.createContext({isTransitioning:!1});HU.displayName="ViewTransition";var Vpe=b.createContext(new Map);Vpe.displayName="Fetchers";var Wpe=b.createContext(null);Wpe.displayName="Await";var po=b.createContext(null);po.displayName="Navigation";var ug=b.createContext(null);ug.displayName="Location";var go=b.createContext({outlet:null,matches:[],isDataRoute:!1});go.displayName="Route";var B2=b.createContext(null);B2.displayName="RouteError";function Gpe(e,{relative:t}={}){Ir(cm(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=b.useContext(po),{hash:a,pathname:o,search:l}=fg(e,{relative:t}),c=o;return r!=="/"&&(c=o==="/"?r:Hi([r,o])),n.createHref({pathname:c,search:l,hash:a})}function cm(){return b.useContext(ug)!=null}function Wn(){return Ir(cm(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(ug).location}var zU="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qU(e){b.useContext(po).static||b.useLayoutEffect(e)}function Ct(){let{isDataRoute:e}=b.useContext(go);return e?oge():Ype()}function Ype(){Ir(cm(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(lm),{basename:t,navigator:r}=b.useContext(po),{matches:n}=b.useContext(go),{pathname:a}=Wn(),o=JSON.stringify(I2(n)),l=b.useRef(!1);return qU(()=>{l.current=!0}),b.useCallback((d,u={})=>{if(Ba(l.current,zU),!l.current)return;if(typeof d=="number"){r.go(d);return}let i=L2(d,JSON.parse(o),a,u.relative==="path");e==null&&t!=="/"&&(i.pathname=i.pathname==="/"?t:Hi([t,i.pathname])),(u.replace?r.replace:r.push)(i,u.state,u)},[t,r,o,a,e])}b.createContext(null);function zs(){let{matches:e}=b.useContext(go),t=e[e.length-1];return t?t.params:{}}function fg(e,{relative:t}={}){let{matches:r}=b.useContext(go),{pathname:n}=Wn(),a=JSON.stringify(I2(r));return b.useMemo(()=>L2(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function Zpe(e,t){return VU(e,t)}function VU(e,t,r,n){Ir(cm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=b.useContext(po),{matches:o}=b.useContext(go),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",u=l?l.pathnameBase:"/",i=l&&l.route;{let y=i&&i.path||"";WU(d,!i||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let m=Wn(),g;if(t){let y=typeof t=="string"?im(t):t;Ir(u==="/"||y.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${y.pathname}" was given in the \`location\` prop.`),g=y}else g=m;let x=g.pathname||"/",v=x;if(u!=="/"){let y=u.replace(/^\//,"").split("/");v="/"+x.replace(/^\//,"").split("/").slice(y.length).join("/")}let N=BU(e,{pathname:v});Ba(i||N!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Ba(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let h=ege(N&&N.map(y=>Object.assign({},y,{params:Object.assign({},c,y.params),pathname:Hi([u,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:Hi([u,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,r,n);return t&&h?b.createElement(ug.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},h):h}function Kpe(){let e=age(),t=zpe(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=b.createElement(b.Fragment,null,b.createElement("p",null,"💿 Hey developer 👋"),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:o},"ErrorBoundary")," or"," ",b.createElement("code",{style:o},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:a},r):null,l)}var Xpe=b.createElement(Kpe,null),Qpe=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?b.createElement(go.Provider,{value:this.props.routeContext},b.createElement(B2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Jpe({routeContext:e,match:t,children:r}){let n=b.useContext(lm);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(go.Provider,{value:e},r)}function ege(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,o=r?.errors;if(o!=null){let d=a.findIndex(u=>u.route.id&&o?.[u.route.id]!==void 0);Ir(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,c=-1;if(r)for(let d=0;d<a.length;d++){let u=a[d];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=d),u.route.id){let{loaderData:i,errors:m}=r,g=u.route.loader&&!i.hasOwnProperty(u.route.id)&&(!m||m[u.route.id]===void 0);if(u.route.lazy||g){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,u,i)=>{let m,g=!1,x=null,v=null;r&&(m=o&&u.route.id?o[u.route.id]:void 0,x=u.route.errorElement||Xpe,l&&(c<0&&i===0?(WU("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,v=null):c===i&&(g=!0,v=u.route.hydrateFallbackElement||null)));let N=t.concat(a.slice(0,i+1)),h=()=>{let y;return m?y=x:g?y=v:u.route.Component?y=b.createElement(u.route.Component,null):u.route.element?y=u.route.element:y=d,b.createElement(Jpe,{match:u,routeContext:{outlet:d,matches:N,isDataRoute:r!=null},children:y})};return r&&(u.route.ErrorBoundary||u.route.errorElement||i===0)?b.createElement(Qpe,{location:r.location,revalidation:r.revalidation,component:x,error:m,children:h(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):h()},null)}function F2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tge(e){let t=b.useContext(lm);return Ir(t,F2(e)),t}function rge(e){let t=b.useContext(Gw);return Ir(t,F2(e)),t}function nge(e){let t=b.useContext(go);return Ir(t,F2(e)),t}function U2(e){let t=nge(e),r=t.matches[t.matches.length-1];return Ir(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function sge(){return U2("useRouteId")}function age(){let e=b.useContext(B2),t=rge("useRouteError"),r=U2("useRouteError");return e!==void 0?e:t.errors?.[r]}function oge(){let{router:e}=tge("useNavigate"),t=U2("useNavigate"),r=b.useRef(!1);return qU(()=>{r.current=!0}),b.useCallback(async(a,o={})=>{Ba(r.current,zU),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...o}))},[e,t])}var n3={};function WU(e,t,r){!t&&!n3[e]&&(n3[e]=!0,Ba(!1,r))}b.memo(ige);function ige({routes:e,future:t,state:r}){return VU(e,void 0,r,t)}function Nb({to:e,replace:t,state:r,relative:n}){Ir(cm(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=b.useContext(po);Ba(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=b.useContext(go),{pathname:l}=Wn(),c=Ct(),d=L2(e,I2(o),l,n==="path"),u=JSON.stringify(d);return b.useEffect(()=>{c(JSON.parse(u),{replace:t,state:r,relative:n})},[c,u,n,t,r]),null}function St(e){Ir(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lge({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:o=!1}){Ir(!cm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=b.useMemo(()=>({basename:l,navigator:a,static:o,future:{}}),[l,a,o]);typeof r=="string"&&(r=im(r));let{pathname:d="/",search:u="",hash:i="",state:m=null,key:g="default"}=r,x=b.useMemo(()=>{let v=Gi(d,l);return v==null?null:{location:{pathname:v,search:u,hash:i,state:m,key:g},navigationType:n}},[l,d,u,i,m,g,n]);return Ba(x!=null,`<Router basename="${l}"> is not able to match the URL "${d}${u}${i}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:b.createElement(po.Provider,{value:c},b.createElement(ug.Provider,{children:t,value:x}))}function cge({children:e,location:t}){return Zpe(Y_(e),t)}function Y_(e,t=[]){let r=[];return b.Children.forEach(e,(n,a)=>{if(!b.isValidElement(n))return;let o=[...t,a];if(n.type===b.Fragment){r.push.apply(r,Y_(n.props.children,o));return}Ir(n.type===St,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ir(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Y_(n.props.children,o)),r.push(l)}),r}var qy="get",Vy="application/x-www-form-urlencoded";function Yw(e){return e!=null&&typeof e.tagName=="string"}function dge(e){return Yw(e)&&e.tagName.toLowerCase()==="button"}function uge(e){return Yw(e)&&e.tagName.toLowerCase()==="form"}function fge(e){return Yw(e)&&e.tagName.toLowerCase()==="input"}function mge(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function hge(e,t){return e.button===0&&(!t||t==="_self")&&!mge(e)}function Z_(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function pge(e,t){let r=Z_(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(o=>{r.append(a,o)})}),r}var Cv=null;function gge(){if(Cv===null)try{new FormData(document.createElement("form"),0),Cv=!1}catch{Cv=!0}return Cv}var xge=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lC(e){return e!=null&&!xge.has(e)?(Ba(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vy}"`),null):e}function vge(e,t){let r,n,a,o,l;if(uge(e)){let c=e.getAttribute("action");n=c?Gi(c,t):null,r=e.getAttribute("method")||qy,a=lC(e.getAttribute("enctype"))||Vy,o=new FormData(e)}else if(dge(e)||fge(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||c.getAttribute("action");if(n=d?Gi(d,t):null,r=e.getAttribute("formmethod")||c.getAttribute("method")||qy,a=lC(e.getAttribute("formenctype"))||lC(c.getAttribute("enctype"))||Vy,o=new FormData(c,e),!gge()){let{name:u,type:i,value:m}=e;if(i==="image"){let g=u?`${u}.`:"";o.append(`${g}x`,"0"),o.append(`${g}y`,"0")}else u&&o.append(u,m)}}else{if(Yw(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=qy,n=null,a=Vy,l=e}return o&&a==="text/plain"&&(l=o,o=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:o,body:l}}function $2(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function yge(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bge(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function wge(e,t,r){let n=await Promise.all(e.map(async a=>{let o=t.routes[a.route.id];if(o){let l=await yge(o,r);return l.links?l.links():[]}return[]}));return Cge(n.flat(1).filter(bge).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function s3(e,t,r,n,a,o){let l=(d,u)=>r[u]?d.route.id!==r[u].route.id:!0,c=(d,u)=>r[u].pathname!==d.pathname||r[u].route.path?.endsWith("*")&&r[u].params["*"]!==d.params["*"];return o==="assets"?t.filter((d,u)=>l(d,u)||c(d,u)):o==="data"?t.filter((d,u)=>{let i=n.routes[d.route.id];if(!i||!i.hasLoader)return!1;if(l(d,u)||c(d,u))return!0;if(d.route.shouldRevalidate){let m=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function Sge(e,t,{includeHydrateFallback:r}={}){return jge(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function jge(e){return[...new Set(e)]}function Nge(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function Cge(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let o=JSON.stringify(Nge(a));return r.has(o)||(r.add(o),n.push({key:o,link:a})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Ege=new Set([100,101,204,205]);function _ge(e,t){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname="_root.data":t&&Gi(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function GU(){let e=b.useContext(lm);return $2(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Age(){let e=b.useContext(Gw);return $2(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var H2=b.createContext(void 0);H2.displayName="FrameworkContext";function YU(){let e=b.useContext(H2);return $2(e,"You must render this element inside a <HydratedRouter> element"),e}function kge(e,t){let r=b.useContext(H2),[n,a]=b.useState(!1),[o,l]=b.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:u,onMouseLeave:i,onTouchStart:m}=t,g=b.useRef(null);b.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let N=y=>{y.forEach(w=>{l(w.isIntersecting)})},h=new IntersectionObserver(N,{threshold:.5});return g.current&&h.observe(g.current),()=>{h.disconnect()}}},[e]),b.useEffect(()=>{if(n){let N=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(N)}}},[n]);let x=()=>{a(!0)},v=()=>{a(!1),l(!1)};return r?e!=="intent"?[o,g,{}]:[o,g,{onFocus:Wh(c,x),onBlur:Wh(d,v),onMouseEnter:Wh(u,x),onMouseLeave:Wh(i,v),onTouchStart:Wh(m,x)}]:[!1,g,{}]}function Wh(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function Dge({page:e,...t}){let{router:r}=GU(),n=b.useMemo(()=>BU(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?b.createElement(Rge,{page:e,matches:n,...t}):null}function Tge(e){let{manifest:t,routeModules:r}=YU(),[n,a]=b.useState([]);return b.useEffect(()=>{let o=!1;return wge(e,t,r).then(l=>{o||a(l)}),()=>{o=!0}},[e,t,r]),n}function Rge({page:e,matches:t,...r}){let n=Wn(),{manifest:a,routeModules:o}=YU(),{basename:l}=GU(),{loaderData:c,matches:d}=Age(),u=b.useMemo(()=>s3(e,t,d,a,n,"data"),[e,t,d,a,n]),i=b.useMemo(()=>s3(e,t,d,a,n,"assets"),[e,t,d,a,n]),m=b.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let v=new Set,N=!1;if(t.forEach(y=>{let w=a.routes[y.route.id];!w||!w.hasLoader||(!u.some(j=>j.route.id===y.route.id)&&y.route.id in c&&o[y.route.id]?.shouldRevalidate||w.hasClientLoader?N=!0:v.add(y.route.id))}),v.size===0)return[];let h=_ge(e,l);return N&&v.size>0&&h.searchParams.set("_routes",t.filter(y=>v.has(y.route.id)).map(y=>y.route.id).join(",")),[h.pathname+h.search]},[l,c,n,a,u,t,e,o]),g=b.useMemo(()=>Sge(i,a),[i,a]),x=Tge(i);return b.createElement(b.Fragment,null,m.map(v=>b.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...r})),g.map(v=>b.createElement("link",{key:v,rel:"modulepreload",href:v,...r})),x.map(({key:v,link:N})=>b.createElement("link",{key:v,...N})))}function Pge(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var ZU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZU&&(window.__reactRouterVersion="7.6.3")}catch{}function Mge({basename:e,children:t,window:r}){let n=b.useRef();n.current==null&&(n.current=bpe({window:r,v5Compat:!0}));let a=n.current,[o,l]=b.useState({action:a.action,location:a.location}),c=b.useCallback(d=>{b.startTransition(()=>l(d))},[l]);return b.useLayoutEffect(()=>a.listen(c),[a,c]),b.createElement(lge,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a})}var KU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,us=b.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:o,replace:l,state:c,target:d,to:u,preventScrollReset:i,viewTransition:m,...g},x){let{basename:v}=b.useContext(po),N=typeof u=="string"&&KU.test(u),h,y=!1;if(typeof u=="string"&&N&&(h=u,ZU))try{let R=new URL(window.location.href),P=u.startsWith("//")?new URL(R.protocol+u):new URL(u),M=Gi(P.pathname,v);P.origin===R.origin&&M!=null?u=M+P.search+P.hash:y=!0}catch{Ba(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=Gpe(u,{relative:a}),[j,C,_]=kge(n,g),k=Bge(u,{replace:l,state:c,target:d,preventScrollReset:i,relative:a,viewTransition:m});function A(R){t&&t(R),R.defaultPrevented||k(R)}let T=b.createElement("a",{...g,..._,href:h||w,onClick:y||o?t:A,ref:Pge(x,C),target:d,"data-discover":!N&&r==="render"?"true":void 0});return j&&!N?b.createElement(b.Fragment,null,T,b.createElement(Dge,{page:w})):T});us.displayName="Link";var Oge=b.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:o,to:l,viewTransition:c,children:d,...u},i){let m=fg(l,{relative:u.relative}),g=Wn(),x=b.useContext(Gw),{navigator:v,basename:N}=b.useContext(po),h=x!=null&&zge(m)&&c===!0,y=v.encodeLocation?v.encodeLocation(m).pathname:m.pathname,w=g.pathname,j=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(w=w.toLowerCase(),j=j?j.toLowerCase():null,y=y.toLowerCase()),j&&N&&(j=Gi(j,N)||j);const C=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let _=w===y||!a&&w.startsWith(y)&&w.charAt(C)==="/",k=j!=null&&(j===y||!a&&j.startsWith(y)&&j.charAt(y.length)==="/"),A={isActive:_,isPending:k,isTransitioning:h},T=_?t:void 0,R;typeof n=="function"?R=n(A):R=[n,_?"active":null,k?"pending":null,h?"transitioning":null].filter(Boolean).join(" ");let P=typeof o=="function"?o(A):o;return b.createElement(us,{...u,"aria-current":T,className:R,ref:i,style:P,to:l,viewTransition:c},typeof d=="function"?d(A):d)});Oge.displayName="NavLink";var Ige=b.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:o,method:l=qy,action:c,onSubmit:d,relative:u,preventScrollReset:i,viewTransition:m,...g},x)=>{let v=$ge(),N=Hge(c,{relative:u}),h=l.toLowerCase()==="get"?"get":"post",y=typeof c=="string"&&KU.test(c),w=j=>{if(d&&d(j),j.defaultPrevented)return;j.preventDefault();let C=j.nativeEvent.submitter,_=C?.getAttribute("formmethod")||l;v(C||j.currentTarget,{fetcherKey:t,method:_,navigate:r,replace:a,state:o,relative:u,preventScrollReset:i,viewTransition:m})};return b.createElement("form",{ref:x,method:h,action:N,onSubmit:n?d:w,...g,"data-discover":!y&&e==="render"?"true":void 0})});Ige.displayName="Form";function Lge(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XU(e){let t=b.useContext(lm);return Ir(t,Lge(e)),t}function Bge(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:o,viewTransition:l}={}){let c=Ct(),d=Wn(),u=fg(e,{relative:o});return b.useCallback(i=>{if(hge(i,t)){i.preventDefault();let m=r!==void 0?r:Pp(d)===Pp(u);c(e,{replace:m,state:n,preventScrollReset:a,relative:o,viewTransition:l})}},[d,c,u,r,n,t,e,a,o,l])}function QU(e){Ba(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=b.useRef(Z_(e)),r=b.useRef(!1),n=Wn(),a=b.useMemo(()=>pge(n.search,r.current?null:t.current),[n.search]),o=Ct(),l=b.useCallback((c,d)=>{const u=Z_(typeof c=="function"?c(a):c);r.current=!0,o("?"+u,d)},[o,a]);return[a,l]}var Fge=0,Uge=()=>`__${String(++Fge)}__`;function $ge(){let{router:e}=XU("useSubmit"),{basename:t}=b.useContext(po),r=sge();return b.useCallback(async(n,a={})=>{let{action:o,method:l,encType:c,formData:d,body:u}=vge(n,t);if(a.navigate===!1){let i=a.fetcherKey||Uge();await e.fetch(i,r,a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:u,formMethod:a.method||l,formEncType:a.encType||c,flushSync:a.flushSync})}else await e.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:u,formMethod:a.method||l,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function Hge(e,{relative:t}={}){let{basename:r}=b.useContext(po),n=b.useContext(go);Ir(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),o={...fg(e||".",{relative:t})},l=Wn();if(e==null){o.search=l.search;let c=new URLSearchParams(o.search),d=c.getAll("index");if(d.some(i=>i==="")){c.delete("index"),d.filter(m=>m).forEach(m=>c.append("index",m));let i=c.toString();o.search=i?`?${i}`:""}}return(!e||e===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:Hi([r,o.pathname])),Pp(o)}function zge(e,t={}){let r=b.useContext(HU);Ir(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=XU("useViewTransitionState"),a=fg(e,{relative:t.relative});if(!r.isTransitioning)return!1;let o=Gi(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=Gi(r.nextLocation.pathname,n)||r.nextLocation.pathname;return jb(a.pathname,l)!=null||jb(a.pathname,o)!=null}[...Ege];var Hd=f2();const qge=uo(Hd),Vge={theme:"system",setTheme:()=>null},JU=b.createContext(Vge);function Wge({children:e,defaultTheme:t="system",storageKey:r="vite-ui-theme",...n}){const[a,o]=b.useState(()=>localStorage.getItem(r)||t);b.useEffect(()=>{const c=window.document.documentElement;if(c.classList.remove("light","dark"),a==="system"){const d=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";c.classList.add(d);return}c.classList.add(a)},[a]);const l={theme:a,setTheme:c=>{localStorage.setItem(r,c),o(c)}};return s.jsx(JU.Provider,{...n,value:l,children:e})}const mg=()=>{const e=b.useContext(JU);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},Gge=()=>Mt(),Yge=ue,za=()=>{const e=Gge(),{user:t,token:r,permissions:n,roles:a,isLoading:o,error:l,isAuthenticated:c,isInitialized:d}=Yge(L=>L.auth),u=b.useCallback(L=>e(L0(L)),[e]),i=b.useCallback(L=>e(B0(L)),[e]),m=b.useCallback(L=>e(F0(L)),[e]),g=b.useCallback(L=>e(U0(L)),[e]),x=b.useCallback(L=>e($0(L)),[e]),v=b.useCallback(L=>e(H0(L)),[e]),N=b.useCallback(()=>e(z0()),[e]),h=b.useCallback(()=>e(Xl()),[e]),y=b.useCallback(()=>e(Bne()),[e]),w=b.useCallback(()=>e(Fne()),[e]),j=b.useCallback(L=>!n||n.length===0?!1:n.includes(L),[n]),C=b.useCallback(L=>!n||n.length===0||!L.length?!1:L.some(B=>n.includes(B)),[n]),_=b.useCallback(L=>!n||n.length===0||!L.length?!1:L.every(B=>n.includes(B)),[n]),k=b.useCallback(L=>!a||a.length===0?!1:a.includes(L),[a]),A=b.useCallback(L=>!a||a.length===0||!L.length?!1:L.some(B=>a.includes(B)),[a]),T=b.useCallback(L=>!a||a.length===0||!L.length?!1:L.every(B=>a.includes(B)),[a]),R=b.useCallback((L,B)=>{let U=!0,F=!0;return L&&L.length>0&&(U=C(L)),B&&B.length>0&&(F=A(B)),U&&F},[C,A]),P=b.useCallback(()=>k("super-admin"),[k]),M=b.useCallback(()=>t?.name||t?.email||"Unknown User",[t]),I=b.useCallback(()=>!!t?.email_verified_at,[t]);return{user:t,token:r,permissions:n,roles:a,isLoading:o,error:l,isAuthenticated:c,isInitialized:d,register:u,verifyEmailOTP:i,resendVerificationOTP:m,login:g,forgotPassword:x,resetPassword:v,getUserProfile:N,logout:h,initializeAuth:y,clearError:w,hasPermission:j,hasAnyPermission:C,hasAllPermissions:_,hasRole:k,hasAnyRole:A,hasAllRoles:T,canAccess:R,isSuperAdmin:P,getUserDisplayName:M,isEmailVerified:I}},Zge=()=>s.jsx("div",{className:"fixed inset-0 bg-background flex items-center justify-center z-50",children:s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"}),s.jsx("div",{className:"text-lg font-medium text-foreground",children:"Initializing application..."}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Please wait while we set up your session"})]})}),Kge=({children:e,fallback:t=s.jsx(Zge,{})})=>{const{isInitialized:r,isAuthenticated:n,user:a,isLoading:o,initializeAuth:l,getUserProfile:c}=za(),d=b.useRef(!1);return b.useEffect(()=>{r||l()},[r,l]),b.useEffect(()=>{r&&n&&a&&a.id===0&&!d.current&&!o&&(d.current=!0,c())},[r,n,a,o,c]),b.useEffect(()=>{n||(d.current=!1)},[n]),!r||n&&a?.id===0&&o?s.jsx(s.Fragment,{children:t}):s.jsx(s.Fragment,{children:e})},Xge="/assets/image-BnWd4o-T.svg",Qge=()=>{const{theme:e}=mg(),[t,r]=b.useState(0),n=e==="dark"||e==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches;return b.useEffect(()=>{let a=0;const o=setInterval(()=>{a+=.02,a>=1&&(a=1,clearInterval(o)),r(a)},50);return()=>clearInterval(o)},[]),s.jsxs(s.Fragment,{children:[s.jsx("style",{children:`
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          20%, 60% { transform: translateX(-4px); }
          40%, 80% { transform: translateX(4px); }
        }
        .shake {
          animation: shake 0.5s ease-in-out infinite;
        }
      `}),s.jsx("div",{className:`fixed inset-0 flex items-center justify-center z-50 ${n?"bg-gradient-to-br from-gray-900 to-gray-700":"bg-gradient-to-br from-background to-muted"}`,children:s.jsx("div",{className:`rounded-lg p-8 max-w-md w-full mx-4 ${n?"bg-gray-800 text-white shadow-xl":"bg-card text-card-foreground shadow-xl"}`,style:{boxShadow:n?"0 10px 15px rgba(0,0,0,0.75)":"var(--shadow-xl)"},children:s.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[s.jsx("img",{src:Xge,alt:"PNE Empowering Logo",className:"shake",style:{transition:"clip-path 0.3s linear",width:"220px",height:"110px",objectFit:"contain",filter:n?"brightness(0) invert(1)":"none",clipPath:`inset(${100-t*100}% 0 0 0)`}}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:`animate-spin rounded-full h-12 w-12 border-4 ${n?"border-gray-600":"border-border"}`}),s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 absolute top-0 left-0 border-t-transparent border-primary"})]}),s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("h2",{className:n?"text-white":"text-card-foreground",children:"Empowering a Brighter Future"}),s.jsx("p",{className:n?"text-gray-300":"text-muted-foreground",children:"Please wait while we power things up..."})]}),s.jsx("div",{className:"w-full rounded-full h-2 bg-muted",children:s.jsx("div",{className:"h-2 rounded-full bg-primary transition-all duration-300",style:{width:`${Math.round(t*100)}%`}})})]})})})]})},Gh=({children:e,redirectTo:t="/dashboard"})=>{const{isAuthenticated:r,isLoading:n}=za();return n?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"text-lg",children:"Loading..."})}):r?s.jsx(Nb,{to:t,replace:!0}):s.jsx(s.Fragment,{children:e})};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jge=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),exe=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),a3=e=>{const t=exe(e);return t.charAt(0).toUpperCase()+t.slice(1)},e$=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),txe=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rxe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nxe=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:o,iconNode:l,...c},d)=>b.createElement("svg",{ref:d,...rxe,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:e$("lucide",a),...!o&&!txe(c)&&{"aria-hidden":"true"},...c},[...l.map(([u,i])=>b.createElement(u,i)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=(e,t)=>{const r=b.forwardRef(({className:n,...a},o)=>b.createElement(nxe,{ref:o,iconNode:t,className:e$(`lucide-${Jge(a3(e))}`,`lucide-${e}`,n),...a}));return r.displayName=a3(e),r};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sxe=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],$n=Xe("arrow-left",sxe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const axe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],t$=Xe("arrow-right",axe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oxe=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Mi=Xe("briefcase",oxe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ixe=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],zr=Xe("building-2",ixe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lxe=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],r$=Xe("building",lxe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cxe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],dxe=Xe("calendar-days",cxe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uxe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],js=Xe("calendar",uxe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fxe=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],z2=Xe("car",fxe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mxe=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Zw=Xe("check",mxe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hxe=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],zd=Xe("chevron-down",hxe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pxe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],al=Xe("chevron-left",pxe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gxe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],qa=Xe("chevron-right",gxe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xxe=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],n$=Xe("chevron-up",xxe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vxe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],st=Xe("circle-alert",vxe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yxe=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ns=Xe("circle-check-big",yxe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bxe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],cC=Xe("circle-dot",bxe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wxe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],q2=Xe("circle-x",wxe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sxe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],s$=Xe("circle",Sxe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jxe=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],zi=Xe("clock",jxe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nxe=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Cxe=Xe("copy",Nxe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Exe=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],a$=Xe("credit-card",Exe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _xe=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],V2=Xe("crown",_xe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Axe=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],kxe=Xe("database",Axe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dxe=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],dp=Xe("dollar-sign",Dxe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Txe=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],hg=Xe("ellipsis",Txe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rxe=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],oc=Xe("eye-off",Rxe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pxe=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Sn=Xe("eye",Pxe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mxe=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],o$=Xe("file-text",Mxe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oxe=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Kw=Xe("funnel",Oxe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ixe=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],Lxe=Xe("git-branch",Ixe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bxe=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Xw=Xe("hash",Bxe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fxe=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Uxe=Xe("house",Fxe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $xe=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Hxe=Xe("key",$xe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zxe=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],i$=Xe("link",zxe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qxe=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ut=Xe("loader-circle",qxe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vxe=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],kd=Xe("lock",Vxe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wxe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Gxe=Xe("log-out",Wxe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yxe=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],xc=Xe("mail",Yxe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zxe=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],o3=Xe("map-pin",Zxe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kxe=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],W2=Xe("message-square",Kxe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xxe=[["path",{d:"M5 12h14",key:"1ays0h"}]],Qxe=Xe("minus",Xxe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jxe=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],eve=Xe("palette",Jxe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tve=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],rve=Xe("panel-left",tve);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nve=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],sve=Xe("phone",nve);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ave=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],or=Xe("plus",ave);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ove=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],ive=Xe("power",ove);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lve=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Lr=Xe("refresh-cw",lve);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cve=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],dve=Xe("rotate-ccw",cve);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uve=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],l$=Xe("save",uve);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fve=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],mve=Xe("scroll-text",fve);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hve=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ol=Xe("search",hve);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pve=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],i3=Xe("send",pve);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gve=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pg=Xe("settings",gve);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xve=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],l3=Xe("shield-check",xve);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vve=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Br=Xe("shield",vve);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yve=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],bve=Xe("shirt",yve);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wve=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Sve=Xe("shopping-bag",wve);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jve=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],pa=Xe("square-pen",jve);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nve=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],fa=Xe("store",Nve);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cve=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],K_=Xe("tag",Cve);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eve=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],_ve=Xe("test-tube",Eve);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ave=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Dn=Xe("trash-2",Ave);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kve=[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]],Dve=Xe("tree-pine",kve);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tve=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Cb=Xe("triangle-alert",Tve);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rve=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],X_=Xe("trophy",Rve);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pve=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ic=Xe("user-check",Pve);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mve=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],c$=Xe("user-plus",Mve);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ove=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Cs=Xe("user",Ove);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ive=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],_r=Xe("users",Ive);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lve=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],qd=Xe("x",Lve),Yh=({children:e})=>s.jsxs("div",{className:"min-h-screen w-full flex flex-col bg-background",children:[s.jsx("div",{className:"flex flex-col items-center pt-8 pb-4",children:s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("div",{className:"w-12 h-12 bg-primary rounded-lg flex items-center justify-center",children:s.jsx(Cs,{className:"w-6 h-6 text-primary-foreground"})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Auth Portal"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Secure Access"})]})]})}),s.jsx("div",{className:"flex-1 flex items-center justify-center px-4",children:s.jsx("div",{className:"w-full max-w-md",children:e})}),s.jsx("div",{className:"h-16 flex items-center justify-center",children:s.jsx("p",{className:"text-xs text-muted-foreground",children:"© 2024 Auth Portal. All rights reserved."})})]});function d$(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=d$(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function un(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=d$(e))&&(n&&(n+=" "),n+=t);return n}const G2="-",Bve=e=>{const t=Uve(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:l=>{const c=l.split(G2);return c[0]===""&&c.length!==1&&c.shift(),u$(c,t)||Fve(l)},getConflictingClassGroupIds:(l,c)=>{const d=r[l]||[];return c&&n[l]?[...d,...n[l]]:d}}},u$=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?u$(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const o=e.join(G2);return t.validators.find(({validator:l})=>l(o))?.classGroupId},c3=/^\[(.+)\]$/,Fve=e=>{if(c3.test(e)){const t=c3.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Uve=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const a in r)Q_(r[a],n,a,t);return n},Q_=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const o=a===""?t:d3(t,a);o.classGroupId=r;return}if(typeof a=="function"){if($ve(a)){Q_(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([o,l])=>{Q_(l,d3(t,o),r,n)})})},d3=(e,t)=>{let r=e;return t.split(G2).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},$ve=e=>e.isThemeGetter,Hve=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(o,l)=>{r.set(o,l),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let l=r.get(o);if(l!==void 0)return l;if((l=n.get(o))!==void 0)return a(o,l),l},set(o,l){r.has(o)?r.set(o,l):a(o,l)}}},J_="!",eA=":",zve=eA.length,qve=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=a=>{const o=[];let l=0,c=0,d=0,u;for(let v=0;v<a.length;v++){let N=a[v];if(l===0&&c===0){if(N===eA){o.push(a.slice(d,v)),d=v+zve;continue}if(N==="/"){u=v;continue}}N==="["?l++:N==="]"?l--:N==="("?c++:N===")"&&c--}const i=o.length===0?a:a.substring(d),m=Vve(i),g=m!==i,x=u&&u>d?u-d:void 0;return{modifiers:o,hasImportantModifier:g,baseClassName:m,maybePostfixModifierPosition:x}};if(t){const a=t+eA,o=n;n=l=>l.startsWith(a)?o(l.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(r){const a=n;n=o=>r({className:o,parseClassName:a})}return n},Vve=e=>e.endsWith(J_)?e.substring(0,e.length-1):e.startsWith(J_)?e.substring(1):e,Wve=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const a=[];let o=[];return n.forEach(l=>{l[0]==="["||t[l]?(a.push(...o.sort(),l),o=[]):o.push(l)}),a.push(...o.sort()),a}},Gve=e=>({cache:Hve(e.cacheSize),parseClassName:qve(e),sortModifiers:Wve(e),...Bve(e)}),Yve=/\s+/,Zve=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:o}=t,l=[],c=e.trim().split(Yve);let d="";for(let u=c.length-1;u>=0;u-=1){const i=c[u],{isExternal:m,modifiers:g,hasImportantModifier:x,baseClassName:v,maybePostfixModifierPosition:N}=r(i);if(m){d=i+(d.length>0?" "+d:d);continue}let h=!!N,y=n(h?v.substring(0,N):v);if(!y){if(!h){d=i+(d.length>0?" "+d:d);continue}if(y=n(v),!y){d=i+(d.length>0?" "+d:d);continue}h=!1}const w=o(g).join(":"),j=x?w+J_:w,C=j+y;if(l.includes(C))continue;l.push(C);const _=a(y,h);for(let k=0;k<_.length;++k){const A=_[k];l.push(j+A)}d=i+(d.length>0?" "+d:d)}return d};function Kve(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=f$(t))&&(n&&(n+=" "),n+=r);return n}const f$=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=f$(e[n]))&&(r&&(r+=" "),r+=t);return r};function Xve(e,...t){let r,n,a,o=l;function l(d){const u=t.reduce((i,m)=>m(i),e());return r=Gve(u),n=r.cache.get,a=r.cache.set,o=c,c(d)}function c(d){const u=n(d);if(u)return u;const i=Zve(d,r);return a(d,i),i}return function(){return o(Kve.apply(null,arguments))}}const An=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},m$=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,h$=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Qve=/^\d+\/\d+$/,Jve=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,e0e=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,t0e=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,r0e=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,n0e=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Zu=e=>Qve.test(e),Tt=e=>!!e&&!Number.isNaN(Number(e)),Bl=e=>!!e&&Number.isInteger(Number(e)),dC=e=>e.endsWith("%")&&Tt(e.slice(0,-1)),Ci=e=>Jve.test(e),s0e=()=>!0,a0e=e=>e0e.test(e)&&!t0e.test(e),p$=()=>!1,o0e=e=>r0e.test(e),i0e=e=>n0e.test(e),l0e=e=>!tt(e)&&!rt(e),c0e=e=>dm(e,v$,p$),tt=e=>m$.test(e),Zc=e=>dm(e,y$,a0e),uC=e=>dm(e,h0e,Tt),u3=e=>dm(e,g$,p$),d0e=e=>dm(e,x$,i0e),Ev=e=>dm(e,b$,o0e),rt=e=>h$.test(e),Zh=e=>um(e,y$),u0e=e=>um(e,p0e),f3=e=>um(e,g$),f0e=e=>um(e,v$),m0e=e=>um(e,x$),_v=e=>um(e,b$,!0),dm=(e,t,r)=>{const n=m$.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},um=(e,t,r=!1)=>{const n=h$.exec(e);return n?n[1]?t(n[1]):r:!1},g$=e=>e==="position"||e==="percentage",x$=e=>e==="image"||e==="url",v$=e=>e==="length"||e==="size"||e==="bg-size",y$=e=>e==="length",h0e=e=>e==="number",p0e=e=>e==="family-name",b$=e=>e==="shadow",g0e=()=>{const e=An("color"),t=An("font"),r=An("text"),n=An("font-weight"),a=An("tracking"),o=An("leading"),l=An("breakpoint"),c=An("container"),d=An("spacing"),u=An("radius"),i=An("shadow"),m=An("inset-shadow"),g=An("text-shadow"),x=An("drop-shadow"),v=An("blur"),N=An("perspective"),h=An("aspect"),y=An("ease"),w=An("animate"),j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],C=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],_=()=>[...C(),rt,tt],k=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto","contain","none"],T=()=>[rt,tt,d],R=()=>[Zu,"full","auto",...T()],P=()=>[Bl,"none","subgrid",rt,tt],M=()=>["auto",{span:["full",Bl,rt,tt]},Bl,rt,tt],I=()=>[Bl,"auto",rt,tt],L=()=>["auto","min","max","fr",rt,tt],B=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],U=()=>["start","end","center","stretch","center-safe","end-safe"],F=()=>["auto",...T()],H=()=>[Zu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...T()],W=()=>[e,rt,tt],J=()=>[...C(),f3,u3,{position:[rt,tt]}],q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],G=()=>["auto","cover","contain",f0e,c0e,{size:[rt,tt]}],z=()=>[dC,Zh,Zc],K=()=>["","none","full",u,rt,tt],Z=()=>["",Tt,Zh,Zc],ie=()=>["solid","dashed","dotted","double"],ye=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],de=()=>[Tt,dC,f3,u3],xe=()=>["","none",v,rt,tt],ne=()=>["none",Tt,rt,tt],ge=()=>["none",Tt,rt,tt],Ce=()=>[Tt,rt,tt],ce=()=>[Zu,"full",...T()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ci],breakpoint:[Ci],color:[s0e],container:[Ci],"drop-shadow":[Ci],ease:["in","out","in-out"],font:[l0e],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ci],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ci],shadow:[Ci],spacing:["px",Tt],text:[Ci],"text-shadow":[Ci],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Zu,tt,rt,h]}],container:["container"],columns:[{columns:[Tt,tt,rt,c]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:_()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[Bl,"auto",rt,tt]}],basis:[{basis:[Zu,"full","auto",c,...T()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Tt,Zu,"auto","initial","none",tt]}],grow:[{grow:["",Tt,rt,tt]}],shrink:[{shrink:["",Tt,rt,tt]}],order:[{order:[Bl,"first","last","none",rt,tt]}],"grid-cols":[{"grid-cols":P()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":P()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":L()}],"auto-rows":[{"auto-rows":L()}],gap:[{gap:T()}],"gap-x":[{"gap-x":T()}],"gap-y":[{"gap-y":T()}],"justify-content":[{justify:[...B(),"normal"]}],"justify-items":[{"justify-items":[...U(),"normal"]}],"justify-self":[{"justify-self":["auto",...U()]}],"align-content":[{content:["normal",...B()]}],"align-items":[{items:[...U(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...U(),{baseline:["","last"]}]}],"place-content":[{"place-content":B()}],"place-items":[{"place-items":[...U(),"baseline"]}],"place-self":[{"place-self":["auto",...U()]}],p:[{p:T()}],px:[{px:T()}],py:[{py:T()}],ps:[{ps:T()}],pe:[{pe:T()}],pt:[{pt:T()}],pr:[{pr:T()}],pb:[{pb:T()}],pl:[{pl:T()}],m:[{m:F()}],mx:[{mx:F()}],my:[{my:F()}],ms:[{ms:F()}],me:[{me:F()}],mt:[{mt:F()}],mr:[{mr:F()}],mb:[{mb:F()}],ml:[{ml:F()}],"space-x":[{"space-x":T()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":T()}],"space-y-reverse":["space-y-reverse"],size:[{size:H()}],w:[{w:[c,"screen",...H()]}],"min-w":[{"min-w":[c,"screen","none",...H()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...H()]}],h:[{h:["screen","lh",...H()]}],"min-h":[{"min-h":["screen","lh","none",...H()]}],"max-h":[{"max-h":["screen","lh",...H()]}],"font-size":[{text:["base",r,Zh,Zc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,rt,uC]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",dC,tt]}],"font-family":[{font:[u0e,tt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,rt,tt]}],"line-clamp":[{"line-clamp":[Tt,"none",rt,uC]}],leading:[{leading:[o,...T()]}],"list-image":[{"list-image":["none",rt,tt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",rt,tt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:W()}],"text-color":[{text:W()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ie(),"wavy"]}],"text-decoration-thickness":[{decoration:[Tt,"from-font","auto",rt,Zc]}],"text-decoration-color":[{decoration:W()}],"underline-offset":[{"underline-offset":[Tt,"auto",rt,tt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",rt,tt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",rt,tt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:J()}],"bg-repeat":[{bg:q()}],"bg-size":[{bg:G()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Bl,rt,tt],radial:["",rt,tt],conic:[Bl,rt,tt]},m0e,d0e]}],"bg-color":[{bg:W()}],"gradient-from-pos":[{from:z()}],"gradient-via-pos":[{via:z()}],"gradient-to-pos":[{to:z()}],"gradient-from":[{from:W()}],"gradient-via":[{via:W()}],"gradient-to":[{to:W()}],rounded:[{rounded:K()}],"rounded-s":[{"rounded-s":K()}],"rounded-e":[{"rounded-e":K()}],"rounded-t":[{"rounded-t":K()}],"rounded-r":[{"rounded-r":K()}],"rounded-b":[{"rounded-b":K()}],"rounded-l":[{"rounded-l":K()}],"rounded-ss":[{"rounded-ss":K()}],"rounded-se":[{"rounded-se":K()}],"rounded-ee":[{"rounded-ee":K()}],"rounded-es":[{"rounded-es":K()}],"rounded-tl":[{"rounded-tl":K()}],"rounded-tr":[{"rounded-tr":K()}],"rounded-br":[{"rounded-br":K()}],"rounded-bl":[{"rounded-bl":K()}],"border-w":[{border:Z()}],"border-w-x":[{"border-x":Z()}],"border-w-y":[{"border-y":Z()}],"border-w-s":[{"border-s":Z()}],"border-w-e":[{"border-e":Z()}],"border-w-t":[{"border-t":Z()}],"border-w-r":[{"border-r":Z()}],"border-w-b":[{"border-b":Z()}],"border-w-l":[{"border-l":Z()}],"divide-x":[{"divide-x":Z()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Z()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ie(),"hidden","none"]}],"divide-style":[{divide:[...ie(),"hidden","none"]}],"border-color":[{border:W()}],"border-color-x":[{"border-x":W()}],"border-color-y":[{"border-y":W()}],"border-color-s":[{"border-s":W()}],"border-color-e":[{"border-e":W()}],"border-color-t":[{"border-t":W()}],"border-color-r":[{"border-r":W()}],"border-color-b":[{"border-b":W()}],"border-color-l":[{"border-l":W()}],"divide-color":[{divide:W()}],"outline-style":[{outline:[...ie(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Tt,rt,tt]}],"outline-w":[{outline:["",Tt,Zh,Zc]}],"outline-color":[{outline:W()}],shadow:[{shadow:["","none",i,_v,Ev]}],"shadow-color":[{shadow:W()}],"inset-shadow":[{"inset-shadow":["none",m,_v,Ev]}],"inset-shadow-color":[{"inset-shadow":W()}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:W()}],"ring-offset-w":[{"ring-offset":[Tt,Zc]}],"ring-offset-color":[{"ring-offset":W()}],"inset-ring-w":[{"inset-ring":Z()}],"inset-ring-color":[{"inset-ring":W()}],"text-shadow":[{"text-shadow":["none",g,_v,Ev]}],"text-shadow-color":[{"text-shadow":W()}],opacity:[{opacity:[Tt,rt,tt]}],"mix-blend":[{"mix-blend":[...ye(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ye()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Tt]}],"mask-image-linear-from-pos":[{"mask-linear-from":de()}],"mask-image-linear-to-pos":[{"mask-linear-to":de()}],"mask-image-linear-from-color":[{"mask-linear-from":W()}],"mask-image-linear-to-color":[{"mask-linear-to":W()}],"mask-image-t-from-pos":[{"mask-t-from":de()}],"mask-image-t-to-pos":[{"mask-t-to":de()}],"mask-image-t-from-color":[{"mask-t-from":W()}],"mask-image-t-to-color":[{"mask-t-to":W()}],"mask-image-r-from-pos":[{"mask-r-from":de()}],"mask-image-r-to-pos":[{"mask-r-to":de()}],"mask-image-r-from-color":[{"mask-r-from":W()}],"mask-image-r-to-color":[{"mask-r-to":W()}],"mask-image-b-from-pos":[{"mask-b-from":de()}],"mask-image-b-to-pos":[{"mask-b-to":de()}],"mask-image-b-from-color":[{"mask-b-from":W()}],"mask-image-b-to-color":[{"mask-b-to":W()}],"mask-image-l-from-pos":[{"mask-l-from":de()}],"mask-image-l-to-pos":[{"mask-l-to":de()}],"mask-image-l-from-color":[{"mask-l-from":W()}],"mask-image-l-to-color":[{"mask-l-to":W()}],"mask-image-x-from-pos":[{"mask-x-from":de()}],"mask-image-x-to-pos":[{"mask-x-to":de()}],"mask-image-x-from-color":[{"mask-x-from":W()}],"mask-image-x-to-color":[{"mask-x-to":W()}],"mask-image-y-from-pos":[{"mask-y-from":de()}],"mask-image-y-to-pos":[{"mask-y-to":de()}],"mask-image-y-from-color":[{"mask-y-from":W()}],"mask-image-y-to-color":[{"mask-y-to":W()}],"mask-image-radial":[{"mask-radial":[rt,tt]}],"mask-image-radial-from-pos":[{"mask-radial-from":de()}],"mask-image-radial-to-pos":[{"mask-radial-to":de()}],"mask-image-radial-from-color":[{"mask-radial-from":W()}],"mask-image-radial-to-color":[{"mask-radial-to":W()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":C()}],"mask-image-conic-pos":[{"mask-conic":[Tt]}],"mask-image-conic-from-pos":[{"mask-conic-from":de()}],"mask-image-conic-to-pos":[{"mask-conic-to":de()}],"mask-image-conic-from-color":[{"mask-conic-from":W()}],"mask-image-conic-to-color":[{"mask-conic-to":W()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:J()}],"mask-repeat":[{mask:q()}],"mask-size":[{mask:G()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",rt,tt]}],filter:[{filter:["","none",rt,tt]}],blur:[{blur:xe()}],brightness:[{brightness:[Tt,rt,tt]}],contrast:[{contrast:[Tt,rt,tt]}],"drop-shadow":[{"drop-shadow":["","none",x,_v,Ev]}],"drop-shadow-color":[{"drop-shadow":W()}],grayscale:[{grayscale:["",Tt,rt,tt]}],"hue-rotate":[{"hue-rotate":[Tt,rt,tt]}],invert:[{invert:["",Tt,rt,tt]}],saturate:[{saturate:[Tt,rt,tt]}],sepia:[{sepia:["",Tt,rt,tt]}],"backdrop-filter":[{"backdrop-filter":["","none",rt,tt]}],"backdrop-blur":[{"backdrop-blur":xe()}],"backdrop-brightness":[{"backdrop-brightness":[Tt,rt,tt]}],"backdrop-contrast":[{"backdrop-contrast":[Tt,rt,tt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Tt,rt,tt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Tt,rt,tt]}],"backdrop-invert":[{"backdrop-invert":["",Tt,rt,tt]}],"backdrop-opacity":[{"backdrop-opacity":[Tt,rt,tt]}],"backdrop-saturate":[{"backdrop-saturate":[Tt,rt,tt]}],"backdrop-sepia":[{"backdrop-sepia":["",Tt,rt,tt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":T()}],"border-spacing-x":[{"border-spacing-x":T()}],"border-spacing-y":[{"border-spacing-y":T()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",rt,tt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Tt,"initial",rt,tt]}],ease:[{ease:["linear","initial",y,rt,tt]}],delay:[{delay:[Tt,rt,tt]}],animate:[{animate:["none",w,rt,tt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[N,rt,tt]}],"perspective-origin":[{"perspective-origin":_()}],rotate:[{rotate:ne()}],"rotate-x":[{"rotate-x":ne()}],"rotate-y":[{"rotate-y":ne()}],"rotate-z":[{"rotate-z":ne()}],scale:[{scale:ge()}],"scale-x":[{"scale-x":ge()}],"scale-y":[{"scale-y":ge()}],"scale-z":[{"scale-z":ge()}],"scale-3d":["scale-3d"],skew:[{skew:Ce()}],"skew-x":[{"skew-x":Ce()}],"skew-y":[{"skew-y":Ce()}],transform:[{transform:[rt,tt,"","none","gpu","cpu"]}],"transform-origin":[{origin:_()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ce()}],"translate-x":[{"translate-x":ce()}],"translate-y":[{"translate-y":ce()}],"translate-z":[{"translate-z":ce()}],"translate-none":["translate-none"],accent:[{accent:W()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:W()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",rt,tt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",rt,tt]}],fill:[{fill:["none",...W()]}],"stroke-w":[{stroke:[Tt,Zh,Zc,uC]}],stroke:[{stroke:["none",...W()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},x0e=Xve(g0e);function ee(...e){return x0e(un(e))}const be=b.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ee("rounded-xl border bg-card text-card-foreground shadow",e),...t}));be.displayName="Card";const Te=b.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ee("flex flex-col space-y-1.5 p-6",e),...t}));Te.displayName="CardHeader";const Ue=b.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ee("font-semibold leading-none tracking-tight",e),...t}));Ue.displayName="CardTitle";const bn=b.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ee("text-sm text-muted-foreground",e),...t}));bn.displayName="CardDescription";const Ne=b.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ee("p-6 pt-0",e),...t}));Ne.displayName="CardContent";const Y2=b.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ee("flex items-center p-6 pt-0",e),...t}));Y2.displayName="CardFooter";function m3(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Yi(...e){return t=>{let r=!1;const n=e.map(a=>{const o=m3(a,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let a=0;a<n.length;a++){const o=n[a];typeof o=="function"?o():m3(e[a],null)}}}}function ct(...e){return b.useCallback(Yi(...e),e)}function lc(e){const t=v0e(e),r=b.forwardRef((n,a)=>{const{children:o,...l}=n,c=b.Children.toArray(o),d=c.find(y0e);if(d){const u=d.props.children,i=c.map(m=>m===d?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:m);return s.jsx(t,{...l,ref:a,children:b.isValidElement(u)?b.cloneElement(u,void 0,i):null})}return s.jsx(t,{...l,ref:a,children:o})});return r.displayName=`${e}.Slot`,r}var vc=lc("Slot");function v0e(e){const t=b.forwardRef((r,n)=>{const{children:a,...o}=r;if(b.isValidElement(a)){const l=w0e(a),c=b0e(o,a.props);return a.type!==b.Fragment&&(c.ref=n?Yi(n,l):l),b.cloneElement(a,c)}return b.Children.count(a)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var w$=Symbol("radix.slottable");function S$(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=w$,t}function y0e(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===w$}function b0e(e,t){const r={...t};for(const n in t){const a=e[n],o=t[n];/^on[A-Z]/.test(n)?a&&o?r[n]=(...c)=>{const d=o(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...o}:n==="className"&&(r[n]=[a,o].filter(Boolean).join(" "))}return{...e,...r}}function w0e(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const h3=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,p3=un,Vd=(e,t)=>r=>{var n;if(t?.variants==null)return p3(e,r?.class,r?.className);const{variants:a,defaultVariants:o}=t,l=Object.keys(a).map(u=>{const i=r?.[u],m=o?.[u];if(i===null)return null;const g=h3(i)||h3(m);return a[u][g]}),c=r&&Object.entries(r).reduce((u,i)=>{let[m,g]=i;return g===void 0||(u[m]=g),u},{}),d=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,i)=>{let{class:m,className:g,...x}=i;return Object.entries(x).every(v=>{let[N,h]=v;return Array.isArray(h)?h.includes({...o,...c}[N]):{...o,...c}[N]===h})?[...u,m,g]:u},[]);return p3(e,l,d,r?.class,r?.className)},Mf=Vd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),X=b.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},o)=>{const l=n?vc:"button";return s.jsx(l,{className:ee(Mf({variant:t,size:r,className:e})),ref:o,...a})});X.displayName="Button";const We=b.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:ee("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));We.displayName="Input";var S0e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ge=S0e.reduce((e,t)=>{const r=lc(`Primitive.${t}`),n=b.forwardRef((a,o)=>{const{asChild:l,...c}=a,d=l?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...c,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Qw(e,t){e&&Hd.flushSync(()=>e.dispatchEvent(t))}var j0e="Label",j$=b.forwardRef((e,t)=>s.jsx(Ge.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));j$.displayName=j0e;var N$=j$;const N0e=Vd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ie=b.forwardRef(({className:e,...t},r)=>s.jsx(N$,{ref:r,className:ee(N0e(),e),...t}));Ie.displayName=N$.displayName;const C0e=Vd("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ze=b.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:ee(C0e({variant:t}),e),...r}));Ze.displayName="Alert";const E0e=b.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:ee("mb-1 font-medium leading-none tracking-tight",e),...t}));E0e.displayName="AlertTitle";const Ke=b.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ee("text-sm [&_p]:leading-relaxed",e),...t}));Ke.displayName="AlertDescription";const _0e=()=>{const e=Ct(),t=Wn(),{login:r,isLoading:n,error:a,isAuthenticated:o,clearError:l}=za(),[c,d]=b.useState({email:"",password:""}),[u,i]=b.useState({}),[m,g]=b.useState(!1);b.useEffect(()=>{if(o){const w=t.state?.from?.pathname||"/dashboard";e(w,{replace:!0})}},[o,e,t]);const x=()=>{l()},v=w=>{const{name:j,value:C}=w.target;d(_=>({..._,[j]:C})),u[j]&&i(_=>({..._,[j]:void 0})),a&&l()},N=()=>{const w={};return c.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c.email)||(w.email="Please enter a valid email address"):w.email="Email is required",c.password.trim()?c.password.length<6&&(w.password="Password must be at least 6 characters"):w.password="Password is required",i(w),Object.keys(w).length===0},h=async w=>{if(w.preventDefault(),i({}),l(),!!N())try{const j=await r({email:c.email.trim(),password:c.password});if(j.meta.requestStatus==="fulfilled"){const C=t.state?.from?.pathname||"/dashboard";e(C,{replace:!0})}else if(j.payload&&typeof j.payload=="string"){const C=mF(j.payload);Object.keys(C).length>0&&i(C)}}catch(j){console.error("Login error:",j)}},y=()=>{g(!m)};return s.jsx("div",{className:" flex items-center justify-cente  px-4 sm:px-6 lg:px-8",children:s.jsxs(be,{className:"w-full max-w-md mx-auto",children:[s.jsxs(Te,{className:"space-y-1",children:[s.jsx(Ue,{className:"text-2xl font-bold text-center",children:"Sign In"}),s.jsx(bn,{className:"text-center",children:"Enter your credentials to access your account"})]}),s.jsxs(Ne,{children:[s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[a&&s.jsx(Ze,{variant:"destructive",children:s.jsx(Ke,{children:a})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"email",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(xc,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(We,{id:"email",name:"email",type:"email",placeholder:"Enter your email",value:c.email,onChange:v,className:`pl-10 ${u.email?"border-destructive":""}`,disabled:n,autoComplete:"email"})]}),u.email&&s.jsx("p",{className:"text-sm text-destructive",children:u.email})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"password",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(kd,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(We,{id:"password",name:"password",type:m?"text":"password",placeholder:"Enter your password",value:c.password,onChange:v,className:`pl-10 pr-10 ${u.password?"border-destructive":""}`,disabled:n,autoComplete:"current-password"}),s.jsx(X,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:y,disabled:n,tabIndex:-1,children:m?s.jsx(oc,{className:"h-4 w-4"}):s.jsx(Sn,{className:"h-4 w-4"})})]}),u.password&&s.jsx("p",{className:"text-sm text-destructive",children:u.password})]}),s.jsx(X,{type:"submit",className:"w-full",disabled:n,children:n?"Signing in...":"Sign In"})]}),s.jsx("div",{className:"mt-6 text-center text-sm",children:s.jsx(us,{to:"/forgot-password",className:"text-primary hover:underline",onClick:x,children:"Forgot your password?"})}),s.jsxs("div",{className:"mt-4 text-center text-sm",children:["Don't have an account?"," ",s.jsx(us,{to:"/register",className:"text-primary hover:underline",onClick:x,children:"Sign up"})]})]})]})})},A0e=()=>{const e=Ct(),{register:t,isLoading:r,error:n,isAuthenticated:a,clearError:o}=za(),[l,c]=b.useState({name:"",email:"",password:"",password_confirmation:""}),[d,u]=b.useState({}),[i,m]=b.useState(!1),[g,x]=b.useState(!1);b.useEffect(()=>{a&&e("/dashboard",{replace:!0})},[a,e]);const v=C=>{const{name:_,value:k}=C.target;c(A=>({...A,[_]:k})),d[_]&&u(A=>({...A,[_]:void 0})),n&&o()},N=()=>{o()},h=()=>{const C={};return l.name.trim()?l.name.trim().length<2&&(C.name="Name must be at least 2 characters"):C.name="Full name is required",l.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)||(C.email="Please enter a valid email address"):C.email="Email is required",l.password.trim()?l.password.length<8&&(C.password="Password must be at least 8 characters"):C.password="Password is required",l.password_confirmation.trim()?l.password!==l.password_confirmation&&(C.password_confirmation="Passwords do not match"):C.password_confirmation="Please confirm your password",u(C),Object.keys(C).length===0},y=async C=>{if(C.preventDefault(),u({}),o(),!!h())try{const _=await t({name:l.name.trim(),email:l.email.trim(),password:l.password,password_confirmation:l.password_confirmation});if(console.log("Registration result:",_),_.meta.requestStatus==="fulfilled")console.log("Registration successful, navigating..."),e("/verify-email",{state:{email:l.email.trim(),message:"Registration successful! Please check your email for verification code."},replace:!0});else if(_.meta.requestStatus==="rejected"&&(console.log("Registration failed:",_.payload),_.payload))try{const k=mF({response:{status:422,data:{errors:_.payload}}});if(Object.keys(k).length>0){u(k);return}}catch{}}catch(_){console.error("Registration error:",_)}},w=()=>{m(!i)},j=()=>{x(!g)};return s.jsx("div",{className:" flex items-center justify-cente  px-4 sm:px-6 lg:px-8",children:s.jsxs(be,{className:"w-full max-w-md mx-auto",children:[s.jsxs(Te,{className:"space-y-1",children:[s.jsx(Ue,{className:"text-2xl font-bold text-center",children:"Create Account"}),s.jsx(bn,{className:"text-center",children:"Enter your details to create your account"})]}),s.jsxs(Ne,{children:[s.jsxs("form",{onSubmit:y,className:"space-y-4",children:[n&&s.jsx(Ze,{variant:"destructive",children:s.jsx(Ke,{children:n})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"name",children:"Full Name"}),s.jsxs("div",{className:"relative",children:[s.jsx(Cs,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(We,{id:"name",name:"name",type:"text",placeholder:"Enter your full name",value:l.name,onChange:v,className:`pl-10 ${d.name?"border-destructive":""}`,disabled:r,autoComplete:"name"})]}),d.name&&s.jsx("p",{className:"text-sm text-destructive",children:d.name})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"email",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(xc,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(We,{id:"email",name:"email",type:"email",placeholder:"Enter your email",value:l.email,onChange:v,className:`pl-10 ${d.email?"border-destructive":""}`,disabled:r,autoComplete:"email"})]}),d.email&&s.jsx("p",{className:"text-sm text-destructive",children:d.email})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"password",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(kd,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(We,{id:"password",name:"password",type:i?"text":"password",placeholder:"Create a password",value:l.password,onChange:v,className:`pl-10 pr-10 ${d.password?"border-destructive":""}`,disabled:r,autoComplete:"new-password"}),s.jsx(X,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:w,disabled:r,tabIndex:-1,children:i?s.jsx(oc,{className:"h-4 w-4"}):s.jsx(Sn,{className:"h-4 w-4"})})]}),d.password&&s.jsx("p",{className:"text-sm text-destructive",children:d.password})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"password_confirmation",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(kd,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(We,{id:"password_confirmation",name:"password_confirmation",type:g?"text":"password",placeholder:"Confirm your password",value:l.password_confirmation,onChange:v,className:`pl-10 pr-10 ${d.password_confirmation?"border-destructive":""}`,disabled:r,autoComplete:"new-password"}),s.jsx(X,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:j,disabled:r,tabIndex:-1,children:g?s.jsx(oc,{className:"h-4 w-4"}):s.jsx(Sn,{className:"h-4 w-4"})})]}),d.password_confirmation&&s.jsx("p",{className:"text-sm text-destructive",children:d.password_confirmation})]}),s.jsx(X,{type:"submit",className:"w-full",disabled:r,children:r?"Creating account...":"Create Account"})]}),s.jsxs("div",{className:"mt-6 text-center text-xs text-muted-foreground",children:["By creating an account, you agree to our"," ",s.jsx(us,{to:"/terms",className:"text-primary hover:underline",children:"Terms of Service"})," ","and"," ",s.jsx(us,{to:"/privacy",className:"text-primary hover:underline",children:"Privacy Policy"})]}),s.jsxs("div",{className:"mt-4 text-center text-sm",children:["Already have an account?"," ",s.jsx(us,{to:"/login",className:"text-primary hover:underline",onClick:N,children:"Sign in"})]})]})]})})},k0e=()=>{const e=Ct(),t=Wn(),{verifyEmailOTP:r,resendVerificationOTP:n,isLoading:a,error:o,isAuthenticated:l,clearError:c}=za(),d=b.useRef(null),u=t.state,i=u?.email||"",m=u?.message||"",[g,x]=b.useState({email:i,otp:""}),[v,N]=b.useState({}),[h,y]=b.useState(!1),[w,j]=b.useState(!1),[C,_]=b.useState(0),[k,A]=b.useState(!1);b.useEffect(()=>{l&&e("/dashboard",{replace:!0})},[l,e]),b.useEffect(()=>{if(C>0){const F=setTimeout(()=>{_(C-1)},1e3);return()=>clearTimeout(F)}},[C]),b.useEffect(()=>{if(w||k){const F=setTimeout(()=>{j(!1),A(!1)},5e3);return()=>clearTimeout(F)}},[w,k]);const T=F=>{const{name:H,value:W}=F.target;x(J=>({...J,[H]:W})),v[H]&&N(J=>({...J,[H]:void 0})),o&&c(),w&&j(!1),k&&A(!1)},R=F=>{let H=F.target.value.replace(/\D/g,"");H.length>6&&(H=H.slice(0,6)),x(W=>({...W,otp:H})),v.otp&&N(W=>({...W,otp:void 0})),o&&c(),w&&j(!1),k&&A(!1)},P=F=>{if(F.key==="Backspace"&&g.otp.length>0){const H=g.otp.slice(0,-1);x(W=>({...W,otp:H}))}},M=()=>{const F={};return g.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g.email)||(F.email="Please enter a valid email address"):F.email="Email is required",g.otp.trim()?g.otp.length!==6&&(F.otp="Verification code must be 6 digits"):F.otp="Verification code is required",N(F),Object.keys(F).length===0},I=async F=>{if(F.preventDefault(),N({}),c(),j(!1),A(!1),!!M())try{(await r({email:g.email.trim(),otp:g.otp})).meta.requestStatus==="fulfilled"&&e("/login",{state:{message:"Email verified successfully! Please login to continue.",email:g.email.trim()}})}catch(H){console.error("Email verification error:",H)}},L=async()=>{if(!(C>0||!g.email.trim())){y(!0),c(),j(!1),A(!1);try{(await n({email:g.email.trim()})).meta.requestStatus==="fulfilled"&&(A(!0),j(!0),_(60),x(H=>({...H,otp:""})),setTimeout(()=>{d.current&&d.current.focus()},100))}catch(F){console.error("Resend OTP error:",F)}finally{y(!1)}}},B=F=>F.replace(/(.{3})/g,"$1 ").trim(),U=()=>{c()};return s.jsx("div",{className:" flex items-center justify-cente  px-4 sm:px-6 lg:px-8",children:s.jsxs(be,{className:"w-full max-w-md mx-auto",children:[s.jsxs(Te,{className:"space-y-1",children:[s.jsx(Ue,{className:"text-2xl font-bold text-center",children:"Verify Your Email"}),s.jsx(bn,{className:"text-center",children:"Enter the 6-digit code sent to your email address"})]}),s.jsxs(Ne,{children:[m&&s.jsx(Ze,{className:"mb-4",children:s.jsx(Ke,{children:m})}),(w||k)&&s.jsx(Ze,{className:`mb-4 transition-all duration-300 ${k?"animate-pulse":""}`,children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ns,{className:"h-4 w-4 text-green-600"}),s.jsx(Ke,{className:"text-green-800",children:"Verification code sent successfully! Please check your email."})]})}),s.jsxs("form",{onSubmit:I,className:"space-y-4",children:[o&&s.jsx(Ze,{variant:"destructive",children:s.jsx(Ke,{children:o})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"email",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(xc,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(We,{id:"email",name:"email",type:"email",placeholder:"Enter your email",value:g.email,onChange:T,className:`pl-10 ${v.email?"border-destructive":""}`,disabled:a||h,autoComplete:"email"})]}),v.email&&s.jsx("p",{className:"text-sm text-destructive",children:v.email})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"otp",children:"Verification Code"}),s.jsx(We,{ref:d,id:"otp",name:"otp",type:"text",placeholder:"Enter 6-digit code",value:B(g.otp),onChange:R,onKeyDown:P,className:`text-center text-lg tracking-widest ${v.otp?"border-destructive":""}`,disabled:a||h,maxLength:7,autoComplete:"one-time-code"}),v.otp&&s.jsx("p",{className:"text-sm text-destructive",children:v.otp}),s.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["Enter the 6-digit code sent to ",g.email||"your email"]})]}),s.jsx(X,{type:"submit",className:"w-full",disabled:a||h,children:a?"Verifying...":"Verify Email"})]}),s.jsxs("div",{className:"mt-6 text-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Didn't receive the code?"}),s.jsx(X,{type:"button",variant:"outline",onClick:L,disabled:h||C>0||!g.email.trim(),className:`w-full transition-all duration-200 ${h?"animate-pulse":""}`,children:h?s.jsxs(s.Fragment,{children:[s.jsx(Lr,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):C>0?`Resend code in ${C}s`:s.jsxs(s.Fragment,{children:[s.jsx(Lr,{className:"mr-2 h-4 w-4"}),"Resend verification code"]})})]}),s.jsxs("div",{className:"mt-6 flex flex-col space-y-2 text-center text-sm",children:[s.jsxs(us,{to:"/login",className:"text-primary hover:underline flex items-center justify-center",onClick:U,children:[s.jsx($n,{className:"mr-1 h-3 w-3"}),"Back to Login"]}),s.jsxs("div",{children:["Need to use a different email?"," ",s.jsx(us,{to:"/register",className:"text-primary hover:underline",onClick:U,children:"Register again"})]})]})]})]})})},D0e=()=>{const e=Ct(),{forgotPassword:t,isLoading:r,error:n,isAuthenticated:a,clearError:o}=za(),[l,c]=b.useState({email:""}),[d,u]=b.useState({});b.useEffect(()=>{a&&e("/dashboard",{replace:!0})},[a,e]);const i=v=>{const{name:N,value:h}=v.target;c(y=>({...y,[N]:h})),d[N]&&u(y=>({...y,[N]:void 0})),n&&o()},m=()=>{const v={};return l.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)||(v.email="Please enter a valid email address"):v.email="Email is required",u(v),Object.keys(v).length===0},g=async v=>{if(v.preventDefault(),u({}),o(),!!m())try{(await t({email:l.email.trim()})).meta.requestStatus==="fulfilled"&&e("/reset-password",{state:{email:l.email.trim(),message:"Password reset OTP sent to your email. Please check your inbox."}})}catch(N){console.error("Forgot password error:",N)}},x=()=>{o()};return s.jsx("div",{className:" flex items-center justify-cente  px-4 sm:px-6 lg:px-8",children:s.jsxs(be,{className:"w-full max-w-md mx-auto",children:[s.jsxs(Te,{className:"space-y-1",children:[s.jsx(Ue,{className:"text-2xl font-bold text-center",children:"Forgot Password"}),s.jsx(bn,{className:"text-center",children:"Enter your email address and we'll send you an OTP to reset your password"})]}),s.jsxs(Ne,{children:[s.jsxs("form",{onSubmit:g,className:"space-y-4",children:[n&&s.jsx(Ze,{variant:"destructive",children:s.jsx(Ke,{children:n})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"email",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(xc,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(We,{id:"email",name:"email",type:"email",placeholder:"Enter your email address",value:l.email,onChange:i,className:`pl-10 ${d.email?"border-destructive":""}`,disabled:r,autoComplete:"email",autoFocus:!0})]}),d.email&&s.jsx("p",{className:"text-sm text-destructive",children:d.email}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"We'll send a 6-digit OTP to this email address"})]}),s.jsx(X,{type:"submit",className:"w-full",disabled:r,children:r?s.jsxs(s.Fragment,{children:[s.jsx(i3,{className:"mr-2 h-4 w-4 animate-pulse"}),"Sending OTP..."]}):s.jsxs(s.Fragment,{children:[s.jsx(i3,{className:"mr-2 h-4 w-4"}),"Send Reset OTP"]})})]}),s.jsx("div",{className:"mt-6 text-center text-sm text-muted-foreground",children:s.jsx("p",{className:"mb-4",children:"You'll receive a 6-digit OTP code to reset your password. The code will expire in 15 minutes for security reasons."})}),s.jsxs("div",{className:"flex flex-col space-y-2 text-center text-sm",children:[s.jsxs(us,{to:"/login",className:"text-primary hover:underline flex items-center justify-center",onClick:x,children:[s.jsx($n,{className:"mr-1 h-3 w-3"}),"Back to Login"]}),s.jsxs("div",{children:["Don't have an account?"," ",s.jsx(us,{to:"/register",className:"text-primary hover:underline",onClick:x,children:"Sign up"})]})]})]})]})})},T0e=()=>{const e=Ct(),t=Wn(),{resetPassword:r,forgotPassword:n,isLoading:a,error:o,isAuthenticated:l,clearError:c}=za(),d=t.state,u=d?.email||"",i=d?.message||"",m=b.useRef(null),[g,x]=b.useState({email:u,otp:"",password:"",password_confirmation:""}),[v,N]=b.useState({}),[h,y]=b.useState(!1),[w,j]=b.useState(!1),[C,_]=b.useState(!1),[k,A]=b.useState(!1),[T,R]=b.useState(0);b.useEffect(()=>{l&&e("/dashboard",{replace:!0})},[l,e]),b.useEffect(()=>{u||e("/forgot-password",{replace:!0})},[u,e]),b.useEffect(()=>{if(T>0){const q=setTimeout(()=>{R(T-1)},1e3);return()=>clearTimeout(q)}},[T]),b.useEffect(()=>{if(k){const q=setTimeout(()=>{A(!1)},5e3);return()=>clearTimeout(q)}},[k]);const P=q=>{const{name:G,value:z}=q.target;x(K=>({...K,[G]:z})),v[G]&&N(K=>({...K,[G]:void 0})),o&&c(),k&&A(!1)},M=q=>{let G=q.target.value.replace(/\D/g,"");G.length>6&&(G=G.slice(0,6)),x(z=>({...z,otp:G})),v.otp&&N(z=>({...z,otp:void 0})),o&&c(),k&&A(!1)},I=q=>{if(q.key==="Backspace"&&g.otp.length>0){const G=g.otp.slice(0,-1);x(z=>({...z,otp:G}))}},L=()=>{const q={};return g.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g.email)||(q.email="Please enter a valid email address"):q.email="Email is required",g.otp.trim()?g.otp.length!==6&&(q.otp="OTP must be 6 digits"):q.otp="OTP is required",g.password.trim()?g.password.length<8&&(q.password="Password must be at least 8 characters"):q.password="Password is required",g.password_confirmation.trim()?g.password!==g.password_confirmation&&(q.password_confirmation="Passwords do not match"):q.password_confirmation="Please confirm your password",N(q),Object.keys(q).length===0},B=async q=>{if(q.preventDefault(),N({}),c(),A(!1),!!L())try{(await r({email:g.email.trim(),otp:g.otp,password:g.password,password_confirmation:g.password_confirmation})).meta.requestStatus==="fulfilled"&&e("/login",{state:{message:"Password reset successfully! Please login with your new password.",email:g.email.trim()}})}catch(G){console.error("Reset password error:",G)}},U=async()=>{if(!(T>0||!g.email.trim())){_(!0),c();try{(await n({email:g.email.trim()})).meta.requestStatus==="fulfilled"&&(A(!0),R(60),x(G=>({...G,otp:""})),setTimeout(()=>{m.current&&m.current.focus()},100))}catch(q){console.error("Resend OTP error:",q)}finally{_(!1)}}},F=q=>q.replace(/(.{3})/g,"$1 ").trim(),H=()=>{y(!h)},W=()=>{j(!w)},J=()=>{c()};return s.jsx("div",{className:" flex items-center justify-cente  px-4 sm:px-6 lg:px-8",children:s.jsxs(be,{className:"w-full max-w-md mx-auto",children:[s.jsxs(Te,{className:"space-y-1",children:[s.jsx(Ue,{className:"text-2xl font-bold text-center",children:"Reset Password"}),s.jsx(bn,{className:"text-center",children:"Enter the OTP and your new password to reset your account"})]}),s.jsxs(Ne,{children:[i&&s.jsx(Ze,{className:"mb-4",children:s.jsx(Ke,{children:i})}),k&&s.jsx(Ze,{className:"mb-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ns,{className:"h-4 w-4 text-green-600"}),s.jsx(Ke,{className:"text-green-800",children:"New OTP sent successfully! Please check your email."})]})}),s.jsxs("form",{onSubmit:B,className:"space-y-4",children:[o&&s.jsx(Ze,{variant:"destructive",children:s.jsx(Ke,{children:o})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"email",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(xc,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(We,{id:"email",name:"email",type:"email",value:g.email,readOnly:!0,className:"pl-10 bg-muted cursor-not-allowed"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"OTP has been sent to this email address"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"otp",children:"Reset Code"}),s.jsx(We,{ref:m,id:"otp",name:"otp",type:"text",placeholder:"Enter 6-digit code",value:F(g.otp),onChange:M,onKeyDown:I,className:`text-center text-lg tracking-widest ${v.otp?"border-destructive":""}`,disabled:a||C,maxLength:7,autoComplete:"one-time-code"}),v.otp&&s.jsx("p",{className:"text-sm text-destructive",children:v.otp})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"password",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(kd,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(We,{id:"password",name:"password",type:h?"text":"password",placeholder:"Enter new password",value:g.password,onChange:P,className:`pl-10 pr-10 ${v.password?"border-destructive":""}`,disabled:a||C,autoComplete:"new-password"}),s.jsx(X,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:H,disabled:a||C,tabIndex:-1,children:h?s.jsx(oc,{className:"h-4 w-4"}):s.jsx(Sn,{className:"h-4 w-4"})})]}),v.password&&s.jsx("p",{className:"text-sm text-destructive",children:v.password})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"password_confirmation",children:"Confirm New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(kd,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(We,{id:"password_confirmation",name:"password_confirmation",type:w?"text":"password",placeholder:"Confirm new password",value:g.password_confirmation,onChange:P,className:`pl-10 pr-10 ${v.password_confirmation?"border-destructive":""}`,disabled:a||C,autoComplete:"new-password"}),s.jsx(X,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:W,disabled:a||C,tabIndex:-1,children:w?s.jsx(oc,{className:"h-4 w-4"}):s.jsx(Sn,{className:"h-4 w-4"})})]}),v.password_confirmation&&s.jsx("p",{className:"text-sm text-destructive",children:v.password_confirmation})]}),s.jsx(X,{type:"submit",className:"w-full",disabled:a||C,children:a?"Resetting Password...":"Reset Password"})]}),s.jsxs("div",{className:"mt-6 text-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Didn't receive the code?"}),s.jsx(X,{type:"button",variant:"outline",onClick:U,disabled:C||T>0,className:"w-full",children:C?s.jsxs(s.Fragment,{children:[s.jsx(Lr,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):T>0?`Resend OTP in ${T}s`:s.jsxs(s.Fragment,{children:[s.jsx(Lr,{className:"mr-2 h-4 w-4"}),"Resend OTP"]})})]}),s.jsxs("div",{className:"mt-6 flex flex-col space-y-2 text-center text-sm",children:[s.jsxs(us,{to:"/forgot-password",className:"text-primary hover:underline flex items-center justify-center",onClick:J,children:[s.jsx($n,{className:"mr-1 h-3 w-3"}),"Back to Forgot Password"]}),s.jsxs("div",{children:["Remember your password?"," ",s.jsx(us,{to:"/login",className:"text-primary hover:underline",onClick:J,children:"Sign in"})]})]})]})]})})},R0e=[s.jsx(St,{path:"/login",element:s.jsx(Gh,{children:s.jsx(Yh,{children:s.jsx(_0e,{})})})},"login"),s.jsx(St,{path:"/register",element:s.jsx(Gh,{children:s.jsx(Yh,{children:s.jsx(A0e,{})})})},"register"),s.jsx(St,{path:"/verify-email",element:s.jsx(Gh,{children:s.jsx(Yh,{children:s.jsx(k0e,{})})})},"verify-email"),s.jsx(St,{path:"/forgot-password",element:s.jsx(Gh,{children:s.jsx(Yh,{children:s.jsx(D0e,{})})})},"forgot-password"),s.jsx(St,{path:"/reset-password",element:s.jsx(Gh,{children:s.jsx(Yh,{children:s.jsx(T0e,{})})})},"reset-password")],At=({children:e})=>{const{isAuthenticated:t,isLoading:r}=za(),n=Wn();return r?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"text-lg",children:"Loading..."})}):t?s.jsx(s.Fragment,{children:e}):s.jsx(Nb,{to:"/login",state:{from:n},replace:!0})},fC=768;function Ko(){const[e,t]=b.useState(void 0);return b.useEffect(()=>{const r=window.matchMedia(`(max-width: ${fC-1}px)`),n=()=>{t(window.innerWidth<fC)};return r.addEventListener("change",n),t(window.innerWidth<fC),()=>r.removeEventListener("change",n)},[]),!!e}var P0e="Separator",g3="horizontal",M0e=["horizontal","vertical"],C$=b.forwardRef((e,t)=>{const{decorative:r,orientation:n=g3,...a}=e,o=O0e(n)?n:g3,c=r?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return s.jsx(Ge.div,{"data-orientation":o,...c,...a,ref:t})});C$.displayName=P0e;function O0e(e){return M0e.includes(e)}var E$=C$;const cs=b.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>s.jsx(E$,{ref:a,decorative:r,orientation:t,className:ee("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));cs.displayName=E$.displayName;function Jl(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}function I0e(e,t){const r=b.createContext(t),n=o=>{const{children:l,...c}=o,d=b.useMemo(()=>c,Object.values(c));return s.jsx(r.Provider,{value:d,children:l})};n.displayName=e+"Provider";function a(o){const l=b.useContext(r);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,a]}function jn(e,t=[]){let r=[];function n(o,l){const c=b.createContext(l),d=r.length;r=[...r,l];const u=m=>{const{scope:g,children:x,...v}=m,N=g?.[e]?.[d]||c,h=b.useMemo(()=>v,Object.values(v));return s.jsx(N.Provider,{value:h,children:x})};u.displayName=o+"Provider";function i(m,g){const x=g?.[e]?.[d]||c,v=b.useContext(x);if(v)return v;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[u,i]}const a=()=>{const o=r.map(l=>b.createContext(l));return function(c){const d=c?.[e]||o;return b.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return a.scopeName=e,[n,L0e(a,...t)]}function L0e(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const l=n.reduce((c,{useScope:d,scopeName:u})=>{const m=d(o)[`__scope${u}`];return{...c,...m}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}var ir=globalThis?.document?b.useLayoutEffect:()=>{},B0e=u2[" useId ".trim().toString()]||(()=>{}),F0e=0;function kn(e){const[t,r]=b.useState(B0e());return ir(()=>{r(n=>n??String(F0e++))},[e]),e||(t?`radix-${t}`:"")}var U0e=u2[" useInsertionEffect ".trim().toString()]||ir;function Fa({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,o,l]=$0e({defaultProp:t,onChange:r}),c=e!==void 0,d=c?e:a;{const i=b.useRef(e!==void 0);b.useEffect(()=>{const m=i.current;m!==c&&console.warn(`${n} is changing from ${m?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),i.current=c},[c,n])}const u=b.useCallback(i=>{if(c){const m=H0e(i)?i(e):i;m!==e&&l.current?.(m)}else o(i)},[c,e,o,l]);return[d,u]}function $0e({defaultProp:e,onChange:t}){const[r,n]=b.useState(e),a=b.useRef(r),o=b.useRef(t);return U0e(()=>{o.current=t},[t]),b.useEffect(()=>{a.current!==r&&(o.current?.(r),a.current=r)},[r,a]),[r,n,o]}function H0e(e){return typeof e=="function"}function Mr(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),b.useMemo(()=>(...r)=>t.current?.(...r),[])}function Z2(e,t=globalThis?.document){const r=Mr(e);b.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var z0e="DismissableLayer",tA="dismissableLayer.update",q0e="dismissableLayer.pointerDownOutside",V0e="dismissableLayer.focusOutside",x3,_$=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),A$=b.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...d}=e,u=b.useContext(_$),[i,m]=b.useState(null),g=i?.ownerDocument??globalThis?.document,[,x]=b.useState({}),v=ct(t,A=>m(A)),N=Array.from(u.layers),[h]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=N.indexOf(h),w=i?N.indexOf(i):-1,j=u.layersWithOutsidePointerEventsDisabled.size>0,C=w>=y,_=Y0e(A=>{const T=A.target,R=[...u.branches].some(P=>P.contains(T));!C||R||(a?.(A),l?.(A),A.defaultPrevented||c?.())},g),k=Z0e(A=>{const T=A.target;[...u.branches].some(P=>P.contains(T))||(o?.(A),l?.(A),A.defaultPrevented||c?.())},g);return Z2(A=>{w===u.layers.size-1&&(n?.(A),!A.defaultPrevented&&c&&(A.preventDefault(),c()))},g),b.useEffect(()=>{if(i)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(x3=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(i)),u.layers.add(i),v3(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=x3)}},[i,g,r,u]),b.useEffect(()=>()=>{i&&(u.layers.delete(i),u.layersWithOutsidePointerEventsDisabled.delete(i),v3())},[i,u]),b.useEffect(()=>{const A=()=>x({});return document.addEventListener(tA,A),()=>document.removeEventListener(tA,A)},[]),s.jsx(Ge.div,{...d,ref:v,style:{pointerEvents:j?C?"auto":"none":void 0,...e.style},onFocusCapture:Jl(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Jl(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Jl(e.onPointerDownCapture,_.onPointerDownCapture)})});A$.displayName=z0e;var W0e="DismissableLayerBranch",G0e=b.forwardRef((e,t)=>{const r=b.useContext(_$),n=b.useRef(null),a=ct(t,n);return b.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),s.jsx(Ge.div,{...e,ref:a})});G0e.displayName=W0e;function Y0e(e,t=globalThis?.document){const r=Mr(e),n=b.useRef(!1),a=b.useRef(()=>{});return b.useEffect(()=>{const o=c=>{if(c.target&&!n.current){let d=function(){k$(q0e,r,u,{discrete:!0})};const u={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=d,t.addEventListener("click",a.current,{once:!0})):d()}else t.removeEventListener("click",a.current);n.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Z0e(e,t=globalThis?.document){const r=Mr(e),n=b.useRef(!1);return b.useEffect(()=>{const a=o=>{o.target&&!n.current&&k$(V0e,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function v3(){const e=new CustomEvent(tA);document.dispatchEvent(e)}function k$(e,t,r,{discrete:n}){const a=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Qw(a,o):a.dispatchEvent(o)}var mC="focusScope.autoFocusOnMount",hC="focusScope.autoFocusOnUnmount",y3={bubbles:!1,cancelable:!0},K0e="FocusScope",gg=b.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...l}=e,[c,d]=b.useState(null),u=Mr(a),i=Mr(o),m=b.useRef(null),g=ct(t,N=>d(N)),x=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(n){let N=function(j){if(x.paused||!c)return;const C=j.target;c.contains(C)?m.current=C:ql(m.current,{select:!0})},h=function(j){if(x.paused||!c)return;const C=j.relatedTarget;C!==null&&(c.contains(C)||ql(m.current,{select:!0}))},y=function(j){if(document.activeElement===document.body)for(const _ of j)_.removedNodes.length>0&&ql(c)};document.addEventListener("focusin",N),document.addEventListener("focusout",h);const w=new MutationObserver(y);return c&&w.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",N),document.removeEventListener("focusout",h),w.disconnect()}}},[n,c,x.paused]),b.useEffect(()=>{if(c){w3.add(x);const N=document.activeElement;if(!c.contains(N)){const y=new CustomEvent(mC,y3);c.addEventListener(mC,u),c.dispatchEvent(y),y.defaultPrevented||(X0e(rye(D$(c)),{select:!0}),document.activeElement===N&&ql(c))}return()=>{c.removeEventListener(mC,u),setTimeout(()=>{const y=new CustomEvent(hC,y3);c.addEventListener(hC,i),c.dispatchEvent(y),y.defaultPrevented||ql(N??document.body,{select:!0}),c.removeEventListener(hC,i),w3.remove(x)},0)}}},[c,u,i,x]);const v=b.useCallback(N=>{if(!r&&!n||x.paused)return;const h=N.key==="Tab"&&!N.altKey&&!N.ctrlKey&&!N.metaKey,y=document.activeElement;if(h&&y){const w=N.currentTarget,[j,C]=Q0e(w);j&&C?!N.shiftKey&&y===C?(N.preventDefault(),r&&ql(j,{select:!0})):N.shiftKey&&y===j&&(N.preventDefault(),r&&ql(C,{select:!0})):y===w&&N.preventDefault()}},[r,n,x.paused]);return s.jsx(Ge.div,{tabIndex:-1,...l,ref:g,onKeyDown:v})});gg.displayName=K0e;function X0e(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(ql(n,{select:t}),document.activeElement!==r)return}function Q0e(e){const t=D$(e),r=b3(t,e),n=b3(t.reverse(),e);return[r,n]}function D$(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function b3(e,t){for(const r of e)if(!J0e(r,{upTo:t}))return r}function J0e(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function eye(e){return e instanceof HTMLInputElement&&"select"in e}function ql(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&eye(e)&&t&&e.select()}}var w3=tye();function tye(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=S3(e,t),e.unshift(t)},remove(t){e=S3(e,t),e[0]?.resume()}}}function S3(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function rye(e){return e.filter(t=>t.tagName!=="A")}var nye="Portal",fm=b.forwardRef((e,t)=>{const{container:r,...n}=e,[a,o]=b.useState(!1);ir(()=>o(!0),[]);const l=r||a&&globalThis?.document?.body;return l?qge.createPortal(s.jsx(Ge.div,{...n,ref:t}),l):null});fm.displayName=nye;function sye(e,t){return b.useReducer((r,n)=>t[r][n]??r,e)}var Jw=e=>{const{present:t,children:r}=e,n=aye(t),a=typeof r=="function"?r({present:n.isPresent}):b.Children.only(r),o=ct(n.ref,oye(a));return typeof r=="function"||n.isPresent?b.cloneElement(a,{ref:o}):null};Jw.displayName="Presence";function aye(e){const[t,r]=b.useState(),n=b.useRef(null),a=b.useRef(e),o=b.useRef("none"),l=e?"mounted":"unmounted",[c,d]=sye(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=Av(n.current);o.current=c==="mounted"?u:"none"},[c]),ir(()=>{const u=n.current,i=a.current;if(i!==e){const g=o.current,x=Av(u);e?d("MOUNT"):x==="none"||u?.display==="none"?d("UNMOUNT"):d(i&&g!==x?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,d]),ir(()=>{if(t){let u;const i=t.ownerDocument.defaultView??window,m=x=>{const N=Av(n.current).includes(CSS.escape(x.animationName));if(x.target===t&&N&&(d("ANIMATION_END"),!a.current)){const h=t.style.animationFillMode;t.style.animationFillMode="forwards",u=i.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=h)})}},g=x=>{x.target===t&&(o.current=Av(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{i.clearTimeout(u),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:b.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Av(e){return e?.animationName||"none"}function oye(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var pC=0;function iye(){b.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??j3()),document.body.insertAdjacentElement("beforeend",e[1]??j3()),pC++,()=>{pC===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),pC--}},[])}function j3(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Oo=function(){return Oo=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Oo.apply(this,arguments)};function T$(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function lye(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,o;n<a;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var Wy="right-scroll-bar-position",Gy="width-before-scroll-bar",cye="with-scroll-bars-hidden",dye="--removed-body-scroll-bar-size";function gC(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function uye(e,t){var r=b.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var fye=typeof window<"u"?b.useLayoutEffect:b.useEffect,N3=new WeakMap;function mye(e,t){var r=uye(null,function(n){return e.forEach(function(a){return gC(a,n)})});return fye(function(){var n=N3.get(r);if(n){var a=new Set(n),o=new Set(e),l=r.current;a.forEach(function(c){o.has(c)||gC(c,null)}),o.forEach(function(c){a.has(c)||gC(c,l)})}N3.set(r,e)},[e]),r}function hye(e){return e}function pye(e,t){t===void 0&&(t=hye);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var l=t(o,n);return r.push(l),function(){r=r.filter(function(c){return c!==l})}},assignSyncMedium:function(o){for(n=!0;r.length;){var l=r;r=[],l.forEach(o)}r={push:function(c){return o(c)},filter:function(){return r}}},assignMedium:function(o){n=!0;var l=[];if(r.length){var c=r;r=[],c.forEach(o),l=r}var d=function(){var i=l;l=[],i.forEach(o)},u=function(){return Promise.resolve().then(d)};u(),r={push:function(i){l.push(i),u()},filter:function(i){return l=l.filter(i),r}}}};return a}function gye(e){e===void 0&&(e={});var t=pye(null);return t.options=Oo({async:!0,ssr:!1},e),t}var R$=function(e){var t=e.sideCar,r=T$(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return b.createElement(n,Oo({},r))};R$.isSideCarExport=!0;function xye(e,t){return e.useMedium(t),R$}var P$=gye(),xC=function(){},e1=b.forwardRef(function(e,t){var r=b.useRef(null),n=b.useState({onScrollCapture:xC,onWheelCapture:xC,onTouchMoveCapture:xC}),a=n[0],o=n[1],l=e.forwardProps,c=e.children,d=e.className,u=e.removeScrollBar,i=e.enabled,m=e.shards,g=e.sideCar,x=e.noRelative,v=e.noIsolation,N=e.inert,h=e.allowPinchZoom,y=e.as,w=y===void 0?"div":y,j=e.gapMode,C=T$(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=g,k=mye([r,t]),A=Oo(Oo({},C),a);return b.createElement(b.Fragment,null,i&&b.createElement(_,{sideCar:P$,removeScrollBar:u,shards:m,noRelative:x,noIsolation:v,inert:N,setCallbacks:o,allowPinchZoom:!!h,lockRef:r,gapMode:j}),l?b.cloneElement(b.Children.only(c),Oo(Oo({},A),{ref:k})):b.createElement(w,Oo({},A,{className:d,ref:k}),c))});e1.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};e1.classNames={fullWidth:Gy,zeroRight:Wy};var vye=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function yye(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=vye();return t&&e.setAttribute("nonce",t),e}function bye(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function wye(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Sye=function(){var e=0,t=null;return{add:function(r){e==0&&(t=yye())&&(bye(t,r),wye(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},jye=function(){var e=Sye();return function(t,r){b.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},M$=function(){var e=jye(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},Nye={left:0,top:0,right:0,gap:0},vC=function(e){return parseInt(e||"",10)||0},Cye=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[vC(r),vC(n),vC(a)]},Eye=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Nye;var t=Cye(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},_ye=M$(),Nf="data-scroll-locked",Aye=function(e,t,r,n){var a=e.left,o=e.top,l=e.right,c=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(cye,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(Nf,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Wy,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Gy,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Wy," .").concat(Wy,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Gy," .").concat(Gy,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Nf,`] {
    `).concat(dye,": ").concat(c,`px;
  }
`)},C3=function(){var e=parseInt(document.body.getAttribute(Nf)||"0",10);return isFinite(e)?e:0},kye=function(){b.useEffect(function(){return document.body.setAttribute(Nf,(C3()+1).toString()),function(){var e=C3()-1;e<=0?document.body.removeAttribute(Nf):document.body.setAttribute(Nf,e.toString())}},[])},Dye=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;kye();var o=b.useMemo(function(){return Eye(a)},[a]);return b.createElement(_ye,{styles:Aye(o,!t,a,r?"":"!important")})},rA=!1;if(typeof window<"u")try{var kv=Object.defineProperty({},"passive",{get:function(){return rA=!0,!0}});window.addEventListener("test",kv,kv),window.removeEventListener("test",kv,kv)}catch{rA=!1}var Ku=rA?{passive:!1}:!1,Tye=function(e){return e.tagName==="TEXTAREA"},O$=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Tye(e)&&r[t]==="visible")},Rye=function(e){return O$(e,"overflowY")},Pye=function(e){return O$(e,"overflowX")},E3=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=I$(e,n);if(a){var o=L$(e,n),l=o[1],c=o[2];if(l>c)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Mye=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Oye=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},I$=function(e,t){return e==="v"?Rye(t):Pye(t)},L$=function(e,t){return e==="v"?Mye(t):Oye(t)},Iye=function(e,t){return e==="h"&&t==="rtl"?-1:1},Lye=function(e,t,r,n,a){var o=Iye(e,window.getComputedStyle(t).direction),l=o*n,c=r.target,d=t.contains(c),u=!1,i=l>0,m=0,g=0;do{if(!c)break;var x=L$(e,c),v=x[0],N=x[1],h=x[2],y=N-h-o*v;(v||y)&&I$(e,c)&&(m+=y,g+=v);var w=c.parentNode;c=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!d&&c!==document.body||d&&(t.contains(c)||t===c));return(i&&Math.abs(m)<1||!i&&Math.abs(g)<1)&&(u=!0),u},Dv=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},_3=function(e){return[e.deltaX,e.deltaY]},A3=function(e){return e&&"current"in e?e.current:e},Bye=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Fye=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Uye=0,Xu=[];function $ye(e){var t=b.useRef([]),r=b.useRef([0,0]),n=b.useRef(),a=b.useState(Uye++)[0],o=b.useState(M$)[0],l=b.useRef(e);b.useEffect(function(){l.current=e},[e]),b.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var N=lye([e.lockRef.current],(e.shards||[]).map(A3),!0).filter(Boolean);return N.forEach(function(h){return h.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),N.forEach(function(h){return h.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var c=b.useCallback(function(N,h){if("touches"in N&&N.touches.length===2||N.type==="wheel"&&N.ctrlKey)return!l.current.allowPinchZoom;var y=Dv(N),w=r.current,j="deltaX"in N?N.deltaX:w[0]-y[0],C="deltaY"in N?N.deltaY:w[1]-y[1],_,k=N.target,A=Math.abs(j)>Math.abs(C)?"h":"v";if("touches"in N&&A==="h"&&k.type==="range")return!1;var T=E3(A,k);if(!T)return!0;if(T?_=A:(_=A==="v"?"h":"v",T=E3(A,k)),!T)return!1;if(!n.current&&"changedTouches"in N&&(j||C)&&(n.current=_),!_)return!0;var R=n.current||_;return Lye(R,h,N,R==="h"?j:C)},[]),d=b.useCallback(function(N){var h=N;if(!(!Xu.length||Xu[Xu.length-1]!==o)){var y="deltaY"in h?_3(h):Dv(h),w=t.current.filter(function(_){return _.name===h.type&&(_.target===h.target||h.target===_.shadowParent)&&Bye(_.delta,y)})[0];if(w&&w.should){h.cancelable&&h.preventDefault();return}if(!w){var j=(l.current.shards||[]).map(A3).filter(Boolean).filter(function(_){return _.contains(h.target)}),C=j.length>0?c(h,j[0]):!l.current.noIsolation;C&&h.cancelable&&h.preventDefault()}}},[]),u=b.useCallback(function(N,h,y,w){var j={name:N,delta:h,target:y,should:w,shadowParent:Hye(y)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(C){return C!==j})},1)},[]),i=b.useCallback(function(N){r.current=Dv(N),n.current=void 0},[]),m=b.useCallback(function(N){u(N.type,_3(N),N.target,c(N,e.lockRef.current))},[]),g=b.useCallback(function(N){u(N.type,Dv(N),N.target,c(N,e.lockRef.current))},[]);b.useEffect(function(){return Xu.push(o),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:g}),document.addEventListener("wheel",d,Ku),document.addEventListener("touchmove",d,Ku),document.addEventListener("touchstart",i,Ku),function(){Xu=Xu.filter(function(N){return N!==o}),document.removeEventListener("wheel",d,Ku),document.removeEventListener("touchmove",d,Ku),document.removeEventListener("touchstart",i,Ku)}},[]);var x=e.removeScrollBar,v=e.inert;return b.createElement(b.Fragment,null,v?b.createElement(o,{styles:Fye(a)}):null,x?b.createElement(Dye,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Hye(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const zye=xye(P$,$ye);var xg=b.forwardRef(function(e,t){return b.createElement(e1,Oo({},e,{ref:t,sideCar:zye}))});xg.classNames=e1.classNames;var qye=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Qu=new WeakMap,Tv=new WeakMap,Rv={},yC=0,B$=function(e){return e&&(e.host||B$(e.parentNode))},Vye=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=B$(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Wye=function(e,t,r,n){var a=Vye(t,Array.isArray(e)?e:[e]);Rv[r]||(Rv[r]=new WeakMap);var o=Rv[r],l=[],c=new Set,d=new Set(a),u=function(m){!m||c.has(m)||(c.add(m),u(m.parentNode))};a.forEach(u);var i=function(m){!m||d.has(m)||Array.prototype.forEach.call(m.children,function(g){if(c.has(g))i(g);else try{var x=g.getAttribute(n),v=x!==null&&x!=="false",N=(Qu.get(g)||0)+1,h=(o.get(g)||0)+1;Qu.set(g,N),o.set(g,h),l.push(g),N===1&&v&&Tv.set(g,!0),h===1&&g.setAttribute(r,"true"),v||g.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",g,y)}})};return i(t),c.clear(),yC++,function(){l.forEach(function(m){var g=Qu.get(m)-1,x=o.get(m)-1;Qu.set(m,g),o.set(m,x),g||(Tv.has(m)||m.removeAttribute(n),Tv.delete(m)),x||m.removeAttribute(r)}),yC--,yC||(Qu=new WeakMap,Qu=new WeakMap,Tv=new WeakMap,Rv={})}},t1=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=qye(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),Wye(n,a,r,"aria-hidden")):function(){return null}},r1="Dialog",[F$,U$]=jn(r1),[Gye,xo]=F$(r1),$$=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,c=b.useRef(null),d=b.useRef(null),[u,i]=Fa({prop:n,defaultProp:a??!1,onChange:o,caller:r1});return s.jsx(Gye,{scope:t,triggerRef:c,contentRef:d,contentId:kn(),titleId:kn(),descriptionId:kn(),open:u,onOpenChange:i,onOpenToggle:b.useCallback(()=>i(m=>!m),[i]),modal:l,children:r})};$$.displayName=r1;var H$="DialogTrigger",z$=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=xo(H$,r),o=ct(t,a.triggerRef);return s.jsx(Ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Q2(a.open),...n,ref:o,onClick:Jl(e.onClick,a.onOpenToggle)})});z$.displayName=H$;var K2="DialogPortal",[Yye,q$]=F$(K2,{forceMount:void 0}),V$=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,o=xo(K2,t);return s.jsx(Yye,{scope:t,forceMount:r,children:b.Children.map(n,l=>s.jsx(Jw,{present:r||o.open,children:s.jsx(fm,{asChild:!0,container:a,children:l})}))})};V$.displayName=K2;var Eb="DialogOverlay",W$=b.forwardRef((e,t)=>{const r=q$(Eb,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,o=xo(Eb,e.__scopeDialog);return o.modal?s.jsx(Jw,{present:n||o.open,children:s.jsx(Kye,{...a,ref:t})}):null});W$.displayName=Eb;var Zye=lc("DialogOverlay.RemoveScroll"),Kye=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=xo(Eb,r);return s.jsx(xg,{as:Zye,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Ge.div,{"data-state":Q2(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Dd="DialogContent",G$=b.forwardRef((e,t)=>{const r=q$(Dd,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,o=xo(Dd,e.__scopeDialog);return s.jsx(Jw,{present:n||o.open,children:o.modal?s.jsx(Xye,{...a,ref:t}):s.jsx(Qye,{...a,ref:t})})});G$.displayName=Dd;var Xye=b.forwardRef((e,t)=>{const r=xo(Dd,e.__scopeDialog),n=b.useRef(null),a=ct(t,r.contentRef,n);return b.useEffect(()=>{const o=n.current;if(o)return t1(o)},[]),s.jsx(Y$,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Jl(e.onCloseAutoFocus,o=>{o.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Jl(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&o.preventDefault()}),onFocusOutside:Jl(e.onFocusOutside,o=>o.preventDefault())})}),Qye=b.forwardRef((e,t)=>{const r=xo(Dd,e.__scopeDialog),n=b.useRef(!1),a=b.useRef(!1);return s.jsx(Y$,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(n.current||r.triggerRef.current?.focus(),o.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=o.target;r.triggerRef.current?.contains(l)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),Y$=b.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:o,...l}=e,c=xo(Dd,r),d=b.useRef(null),u=ct(t,d);return iye(),s.jsxs(s.Fragment,{children:[s.jsx(gg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:o,children:s.jsx(A$,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Q2(c.open),...l,ref:u,onDismiss:()=>c.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(ebe,{titleId:c.titleId}),s.jsx(rbe,{contentRef:d,descriptionId:c.descriptionId})]})]})}),X2="DialogTitle",Z$=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=xo(X2,r);return s.jsx(Ge.h2,{id:a.titleId,...n,ref:t})});Z$.displayName=X2;var K$="DialogDescription",X$=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=xo(K$,r);return s.jsx(Ge.p,{id:a.descriptionId,...n,ref:t})});X$.displayName=K$;var Q$="DialogClose",J$=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=xo(Q$,r);return s.jsx(Ge.button,{type:"button",...n,ref:t,onClick:Jl(e.onClick,()=>a.onOpenChange(!1))})});J$.displayName=Q$;function Q2(e){return e?"open":"closed"}var eH="DialogTitleWarning",[Jye,tH]=I0e(eH,{contentName:Dd,titleName:X2,docsSlug:"dialog"}),ebe=({titleId:e})=>{const t=tH(eH),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return b.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},tbe="DialogDescriptionWarning",rbe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${tH(tbe).contentName}}.`;return b.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},vg=$$,rH=z$,yg=V$,yc=W$,bc=G$,wc=Z$,Wd=X$,bg=J$;const nbe=vg,sbe=yg,nH=b.forwardRef(({className:e,...t},r)=>s.jsx(yc,{className:ee("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));nH.displayName=yc.displayName;const abe=Vd("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),sH=b.forwardRef(({side:e="right",className:t,children:r,...n},a)=>s.jsxs(sbe,{children:[s.jsx(nH,{}),s.jsxs(bc,{ref:a,className:ee(abe({side:e}),t),...n,children:[s.jsxs(bg,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[s.jsx(qd,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]}),r]})]}));sH.displayName=bc.displayName;const aH=({className:e,...t})=>s.jsx("div",{className:ee("flex flex-col space-y-2 text-center sm:text-left",e),...t});aH.displayName="SheetHeader";const oH=b.forwardRef(({className:e,...t},r)=>s.jsx(wc,{ref:r,className:ee("text-lg font-semibold text-foreground",e),...t}));oH.displayName=wc.displayName;const iH=b.forwardRef(({className:e,...t},r)=>s.jsx(Wd,{ref:r,className:ee("text-sm text-muted-foreground",e),...t}));iH.displayName=Wd.displayName;function Ye({className:e,...t}){return s.jsx("div",{className:ee("animate-pulse rounded-md bg-primary/10",e),...t})}function vt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}var obe="DismissableLayer",nA="dismissableLayer.update",ibe="dismissableLayer.pointerDownOutside",lbe="dismissableLayer.focusOutside",k3,lH=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),n1=b.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...d}=e,u=b.useContext(lH),[i,m]=b.useState(null),g=i?.ownerDocument??globalThis?.document,[,x]=b.useState({}),v=ct(t,A=>m(A)),N=Array.from(u.layers),[h]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=N.indexOf(h),w=i?N.indexOf(i):-1,j=u.layersWithOutsidePointerEventsDisabled.size>0,C=w>=y,_=ube(A=>{const T=A.target,R=[...u.branches].some(P=>P.contains(T));!C||R||(a?.(A),l?.(A),A.defaultPrevented||c?.())},g),k=fbe(A=>{const T=A.target;[...u.branches].some(P=>P.contains(T))||(o?.(A),l?.(A),A.defaultPrevented||c?.())},g);return Z2(A=>{w===u.layers.size-1&&(n?.(A),!A.defaultPrevented&&c&&(A.preventDefault(),c()))},g),b.useEffect(()=>{if(i)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(k3=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(i)),u.layers.add(i),D3(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=k3)}},[i,g,r,u]),b.useEffect(()=>()=>{i&&(u.layers.delete(i),u.layersWithOutsidePointerEventsDisabled.delete(i),D3())},[i,u]),b.useEffect(()=>{const A=()=>x({});return document.addEventListener(nA,A),()=>document.removeEventListener(nA,A)},[]),s.jsx(Ge.div,{...d,ref:v,style:{pointerEvents:j?C?"auto":"none":void 0,...e.style},onFocusCapture:vt(e.onFocusCapture,k.onFocusCapture),onBlurCapture:vt(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:vt(e.onPointerDownCapture,_.onPointerDownCapture)})});n1.displayName=obe;var cbe="DismissableLayerBranch",dbe=b.forwardRef((e,t)=>{const r=b.useContext(lH),n=b.useRef(null),a=ct(t,n);return b.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),s.jsx(Ge.div,{...e,ref:a})});dbe.displayName=cbe;function ube(e,t=globalThis?.document){const r=Mr(e),n=b.useRef(!1),a=b.useRef(()=>{});return b.useEffect(()=>{const o=c=>{if(c.target&&!n.current){let d=function(){cH(ibe,r,u,{discrete:!0})};const u={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=d,t.addEventListener("click",a.current,{once:!0})):d()}else t.removeEventListener("click",a.current);n.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function fbe(e,t=globalThis?.document){const r=Mr(e),n=b.useRef(!1);return b.useEffect(()=>{const a=o=>{o.target&&!n.current&&cH(lbe,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function D3(){const e=new CustomEvent(nA);document.dispatchEvent(e)}function cH(e,t,r,{discrete:n}){const a=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Qw(a,o):a.dispatchEvent(o)}const mbe=["top","right","bottom","left"],cc=Math.min,na=Math.max,_b=Math.round,Pv=Math.floor,zo=e=>({x:e,y:e}),hbe={left:"right",right:"left",bottom:"top",top:"bottom"},pbe={start:"end",end:"start"};function sA(e,t,r){return na(e,cc(t,r))}function Zi(e,t){return typeof e=="function"?e(t):e}function Ki(e){return e.split("-")[0]}function mm(e){return e.split("-")[1]}function J2(e){return e==="x"?"y":"x"}function ek(e){return e==="y"?"height":"width"}const gbe=new Set(["top","bottom"]);function Bo(e){return gbe.has(Ki(e))?"y":"x"}function tk(e){return J2(Bo(e))}function xbe(e,t,r){r===void 0&&(r=!1);const n=mm(e),a=tk(e),o=ek(a);let l=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(l=Ab(l)),[l,Ab(l)]}function vbe(e){const t=Ab(e);return[aA(e),t,aA(t)]}function aA(e){return e.replace(/start|end/g,t=>pbe[t])}const T3=["left","right"],R3=["right","left"],ybe=["top","bottom"],bbe=["bottom","top"];function wbe(e,t,r){switch(e){case"top":case"bottom":return r?t?R3:T3:t?T3:R3;case"left":case"right":return t?ybe:bbe;default:return[]}}function Sbe(e,t,r,n){const a=mm(e);let o=wbe(Ki(e),r==="start",n);return a&&(o=o.map(l=>l+"-"+a),t&&(o=o.concat(o.map(aA)))),o}function Ab(e){return e.replace(/left|right|bottom|top/g,t=>hbe[t])}function jbe(e){return{top:0,right:0,bottom:0,left:0,...e}}function dH(e){return typeof e!="number"?jbe(e):{top:e,right:e,bottom:e,left:e}}function kb(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function P3(e,t,r){let{reference:n,floating:a}=e;const o=Bo(t),l=tk(t),c=ek(l),d=Ki(t),u=o==="y",i=n.x+n.width/2-a.width/2,m=n.y+n.height/2-a.height/2,g=n[c]/2-a[c]/2;let x;switch(d){case"top":x={x:i,y:n.y-a.height};break;case"bottom":x={x:i,y:n.y+n.height};break;case"right":x={x:n.x+n.width,y:m};break;case"left":x={x:n.x-a.width,y:m};break;default:x={x:n.x,y:n.y}}switch(mm(t)){case"start":x[l]-=g*(r&&u?-1:1);break;case"end":x[l]+=g*(r&&u?-1:1);break}return x}const Nbe=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:o=[],platform:l}=r,c=o.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let u=await l.getElementRects({reference:e,floating:t,strategy:a}),{x:i,y:m}=P3(u,n,d),g=n,x={},v=0;for(let N=0;N<c.length;N++){const{name:h,fn:y}=c[N],{x:w,y:j,data:C,reset:_}=await y({x:i,y:m,initialPlacement:n,placement:g,strategy:a,middlewareData:x,rects:u,platform:l,elements:{reference:e,floating:t}});i=w??i,m=j??m,x={...x,[h]:{...x[h],...C}},_&&v<=50&&(v++,typeof _=="object"&&(_.placement&&(g=_.placement),_.rects&&(u=_.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:a}):_.rects),{x:i,y:m}=P3(u,g,d)),N=-1)}return{x:i,y:m,placement:g,strategy:a,middlewareData:x}};async function Mp(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:o,rects:l,elements:c,strategy:d}=e,{boundary:u="clippingAncestors",rootBoundary:i="viewport",elementContext:m="floating",altBoundary:g=!1,padding:x=0}=Zi(t,e),v=dH(x),h=c[g?m==="floating"?"reference":"floating":m],y=kb(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(h)))==null||r?h:h.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:u,rootBoundary:i,strategy:d})),w=m==="floating"?{x:n,y:a,width:l.floating.width,height:l.floating.height}:l.reference,j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),C=await(o.isElement==null?void 0:o.isElement(j))?await(o.getScale==null?void 0:o.getScale(j))||{x:1,y:1}:{x:1,y:1},_=kb(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:w,offsetParent:j,strategy:d}):w);return{top:(y.top-_.top+v.top)/C.y,bottom:(_.bottom-y.bottom+v.bottom)/C.y,left:(y.left-_.left+v.left)/C.x,right:(_.right-y.right+v.right)/C.x}}const Cbe=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:o,platform:l,elements:c,middlewareData:d}=t,{element:u,padding:i=0}=Zi(e,t)||{};if(u==null)return{};const m=dH(i),g={x:r,y:n},x=tk(a),v=ek(x),N=await l.getDimensions(u),h=x==="y",y=h?"top":"left",w=h?"bottom":"right",j=h?"clientHeight":"clientWidth",C=o.reference[v]+o.reference[x]-g[x]-o.floating[v],_=g[x]-o.reference[x],k=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u));let A=k?k[j]:0;(!A||!await(l.isElement==null?void 0:l.isElement(k)))&&(A=c.floating[j]||o.floating[v]);const T=C/2-_/2,R=A/2-N[v]/2-1,P=cc(m[y],R),M=cc(m[w],R),I=P,L=A-N[v]-M,B=A/2-N[v]/2+T,U=sA(I,B,L),F=!d.arrow&&mm(a)!=null&&B!==U&&o.reference[v]/2-(B<I?P:M)-N[v]/2<0,H=F?B<I?B-I:B-L:0;return{[x]:g[x]+H,data:{[x]:U,centerOffset:B-U-H,...F&&{alignmentOffset:H}},reset:F}}}),Ebe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:o,rects:l,initialPlacement:c,platform:d,elements:u}=t,{mainAxis:i=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:N=!0,...h}=Zi(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const y=Ki(a),w=Bo(c),j=Ki(c)===c,C=await(d.isRTL==null?void 0:d.isRTL(u.floating)),_=g||(j||!N?[Ab(c)]:vbe(c)),k=v!=="none";!g&&k&&_.push(...Sbe(c,N,v,C));const A=[c,..._],T=await Mp(t,h),R=[];let P=((n=o.flip)==null?void 0:n.overflows)||[];if(i&&R.push(T[y]),m){const B=xbe(a,l,C);R.push(T[B[0]],T[B[1]])}if(P=[...P,{placement:a,overflows:R}],!R.every(B=>B<=0)){var M,I;const B=(((M=o.flip)==null?void 0:M.index)||0)+1,U=A[B];if(U&&(!(m==="alignment"?w!==Bo(U):!1)||P.every(W=>Bo(W.placement)===w?W.overflows[0]>0:!0)))return{data:{index:B,overflows:P},reset:{placement:U}};let F=(I=P.filter(H=>H.overflows[0]<=0).sort((H,W)=>H.overflows[1]-W.overflows[1])[0])==null?void 0:I.placement;if(!F)switch(x){case"bestFit":{var L;const H=(L=P.filter(W=>{if(k){const J=Bo(W.placement);return J===w||J==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(J=>J>0).reduce((J,q)=>J+q,0)]).sort((W,J)=>W[1]-J[1])[0])==null?void 0:L[0];H&&(F=H);break}case"initialPlacement":F=c;break}if(a!==F)return{reset:{placement:F}}}return{}}}};function M3(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function O3(e){return mbe.some(t=>e[t]>=0)}const _be=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=Zi(e,t);switch(n){case"referenceHidden":{const o=await Mp(t,{...a,elementContext:"reference"}),l=M3(o,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:O3(l)}}}case"escaped":{const o=await Mp(t,{...a,altBoundary:!0}),l=M3(o,r.floating);return{data:{escapedOffsets:l,escaped:O3(l)}}}default:return{}}}}},uH=new Set(["left","top"]);async function Abe(e,t){const{placement:r,platform:n,elements:a}=e,o=await(n.isRTL==null?void 0:n.isRTL(a.floating)),l=Ki(r),c=mm(r),d=Bo(r)==="y",u=uH.has(l)?-1:1,i=o&&d?-1:1,m=Zi(t,e);let{mainAxis:g,crossAxis:x,alignmentAxis:v}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof v=="number"&&(x=c==="end"?v*-1:v),d?{x:x*i,y:g*u}:{x:g*u,y:x*i}}const kbe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:o,placement:l,middlewareData:c}=t,d=await Abe(t,e);return l===((r=c.offset)==null?void 0:r.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:a+d.x,y:o+d.y,data:{...d,placement:l}}}}},Dbe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:h=>{let{x:y,y:w}=h;return{x:y,y:w}}},...d}=Zi(e,t),u={x:r,y:n},i=await Mp(t,d),m=Bo(Ki(a)),g=J2(m);let x=u[g],v=u[m];if(o){const h=g==="y"?"top":"left",y=g==="y"?"bottom":"right",w=x+i[h],j=x-i[y];x=sA(w,x,j)}if(l){const h=m==="y"?"top":"left",y=m==="y"?"bottom":"right",w=v+i[h],j=v-i[y];v=sA(w,v,j)}const N=c.fn({...t,[g]:x,[m]:v});return{...N,data:{x:N.x-r,y:N.y-n,enabled:{[g]:o,[m]:l}}}}}},Tbe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:o,middlewareData:l}=t,{offset:c=0,mainAxis:d=!0,crossAxis:u=!0}=Zi(e,t),i={x:r,y:n},m=Bo(a),g=J2(m);let x=i[g],v=i[m];const N=Zi(c,t),h=typeof N=="number"?{mainAxis:N,crossAxis:0}:{mainAxis:0,crossAxis:0,...N};if(d){const j=g==="y"?"height":"width",C=o.reference[g]-o.floating[j]+h.mainAxis,_=o.reference[g]+o.reference[j]-h.mainAxis;x<C?x=C:x>_&&(x=_)}if(u){var y,w;const j=g==="y"?"width":"height",C=uH.has(Ki(a)),_=o.reference[m]-o.floating[j]+(C&&((y=l.offset)==null?void 0:y[m])||0)+(C?0:h.crossAxis),k=o.reference[m]+o.reference[j]+(C?0:((w=l.offset)==null?void 0:w[m])||0)-(C?h.crossAxis:0);v<_?v=_:v>k&&(v=k)}return{[g]:x,[m]:v}}}},Rbe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:o,platform:l,elements:c}=t,{apply:d=()=>{},...u}=Zi(e,t),i=await Mp(t,u),m=Ki(a),g=mm(a),x=Bo(a)==="y",{width:v,height:N}=o.floating;let h,y;m==="top"||m==="bottom"?(h=m,y=g===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(y=m,h=g==="end"?"top":"bottom");const w=N-i.top-i.bottom,j=v-i.left-i.right,C=cc(N-i[h],w),_=cc(v-i[y],j),k=!t.middlewareData.shift;let A=C,T=_;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(T=j),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(A=w),k&&!g){const P=na(i.left,0),M=na(i.right,0),I=na(i.top,0),L=na(i.bottom,0);x?T=v-2*(P!==0||M!==0?P+M:na(i.left,i.right)):A=N-2*(I!==0||L!==0?I+L:na(i.top,i.bottom))}await d({...t,availableWidth:T,availableHeight:A});const R=await l.getDimensions(c.floating);return v!==R.width||N!==R.height?{reset:{rects:!0}}:{}}}};function s1(){return typeof window<"u"}function hm(e){return fH(e)?(e.nodeName||"").toLowerCase():"#document"}function ca(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Xo(e){var t;return(t=(fH(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function fH(e){return s1()?e instanceof Node||e instanceof ca(e).Node:!1}function ao(e){return s1()?e instanceof Element||e instanceof ca(e).Element:!1}function Wo(e){return s1()?e instanceof HTMLElement||e instanceof ca(e).HTMLElement:!1}function I3(e){return!s1()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ca(e).ShadowRoot}const Pbe=new Set(["inline","contents"]);function wg(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=oo(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!Pbe.has(a)}const Mbe=new Set(["table","td","th"]);function Obe(e){return Mbe.has(hm(e))}const Ibe=[":popover-open",":modal"];function a1(e){return Ibe.some(t=>{try{return e.matches(t)}catch{return!1}})}const Lbe=["transform","translate","scale","rotate","perspective"],Bbe=["transform","translate","scale","rotate","perspective","filter"],Fbe=["paint","layout","strict","content"];function rk(e){const t=nk(),r=ao(e)?oo(e):e;return Lbe.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||Bbe.some(n=>(r.willChange||"").includes(n))||Fbe.some(n=>(r.contain||"").includes(n))}function Ube(e){let t=dc(e);for(;Wo(t)&&!Of(t);){if(rk(t))return t;if(a1(t))return null;t=dc(t)}return null}function nk(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const $be=new Set(["html","body","#document"]);function Of(e){return $be.has(hm(e))}function oo(e){return ca(e).getComputedStyle(e)}function o1(e){return ao(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function dc(e){if(hm(e)==="html")return e;const t=e.assignedSlot||e.parentNode||I3(e)&&e.host||Xo(e);return I3(t)?t.host:t}function mH(e){const t=dc(e);return Of(t)?e.ownerDocument?e.ownerDocument.body:e.body:Wo(t)&&wg(t)?t:mH(t)}function Op(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=mH(e),o=a===((n=e.ownerDocument)==null?void 0:n.body),l=ca(a);if(o){const c=oA(l);return t.concat(l,l.visualViewport||[],wg(a)?a:[],c&&r?Op(c):[])}return t.concat(a,Op(a,[],r))}function oA(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function hH(e){const t=oo(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Wo(e),o=a?e.offsetWidth:r,l=a?e.offsetHeight:n,c=_b(r)!==o||_b(n)!==l;return c&&(r=o,n=l),{width:r,height:n,$:c}}function sk(e){return ao(e)?e:e.contextElement}function Cf(e){const t=sk(e);if(!Wo(t))return zo(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:o}=hH(t);let l=(o?_b(r.width):r.width)/n,c=(o?_b(r.height):r.height)/a;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const Hbe=zo(0);function pH(e){const t=ca(e);return!nk()||!t.visualViewport?Hbe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function zbe(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ca(e)?!1:t}function Td(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),o=sk(e);let l=zo(1);t&&(n?ao(n)&&(l=Cf(n)):l=Cf(e));const c=zbe(o,r,n)?pH(o):zo(0);let d=(a.left+c.x)/l.x,u=(a.top+c.y)/l.y,i=a.width/l.x,m=a.height/l.y;if(o){const g=ca(o),x=n&&ao(n)?ca(n):n;let v=g,N=oA(v);for(;N&&n&&x!==v;){const h=Cf(N),y=N.getBoundingClientRect(),w=oo(N),j=y.left+(N.clientLeft+parseFloat(w.paddingLeft))*h.x,C=y.top+(N.clientTop+parseFloat(w.paddingTop))*h.y;d*=h.x,u*=h.y,i*=h.x,m*=h.y,d+=j,u+=C,v=ca(N),N=oA(v)}}return kb({width:i,height:m,x:d,y:u})}function ak(e,t){const r=o1(e).scrollLeft;return t?t.left+r:Td(Xo(e)).left+r}function gH(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:ak(e,n)),o=n.top+t.scrollTop;return{x:a,y:o}}function qbe(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const o=a==="fixed",l=Xo(n),c=t?a1(t.floating):!1;if(n===l||c&&o)return r;let d={scrollLeft:0,scrollTop:0},u=zo(1);const i=zo(0),m=Wo(n);if((m||!m&&!o)&&((hm(n)!=="body"||wg(l))&&(d=o1(n)),Wo(n))){const x=Td(n);u=Cf(n),i.x=x.x+n.clientLeft,i.y=x.y+n.clientTop}const g=l&&!m&&!o?gH(l,d,!0):zo(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-d.scrollLeft*u.x+i.x+g.x,y:r.y*u.y-d.scrollTop*u.y+i.y+g.y}}function Vbe(e){return Array.from(e.getClientRects())}function Wbe(e){const t=Xo(e),r=o1(e),n=e.ownerDocument.body,a=na(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=na(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let l=-r.scrollLeft+ak(e);const c=-r.scrollTop;return oo(n).direction==="rtl"&&(l+=na(t.clientWidth,n.clientWidth)-a),{width:a,height:o,x:l,y:c}}function Gbe(e,t){const r=ca(e),n=Xo(e),a=r.visualViewport;let o=n.clientWidth,l=n.clientHeight,c=0,d=0;if(a){o=a.width,l=a.height;const u=nk();(!u||u&&t==="fixed")&&(c=a.offsetLeft,d=a.offsetTop)}return{width:o,height:l,x:c,y:d}}const Ybe=new Set(["absolute","fixed"]);function Zbe(e,t){const r=Td(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,o=Wo(e)?Cf(e):zo(1),l=e.clientWidth*o.x,c=e.clientHeight*o.y,d=a*o.x,u=n*o.y;return{width:l,height:c,x:d,y:u}}function L3(e,t,r){let n;if(t==="viewport")n=Gbe(e,r);else if(t==="document")n=Wbe(Xo(e));else if(ao(t))n=Zbe(t,r);else{const a=pH(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return kb(n)}function xH(e,t){const r=dc(e);return r===t||!ao(r)||Of(r)?!1:oo(r).position==="fixed"||xH(r,t)}function Kbe(e,t){const r=t.get(e);if(r)return r;let n=Op(e,[],!1).filter(c=>ao(c)&&hm(c)!=="body"),a=null;const o=oo(e).position==="fixed";let l=o?dc(e):e;for(;ao(l)&&!Of(l);){const c=oo(l),d=rk(l);!d&&c.position==="fixed"&&(a=null),(o?!d&&!a:!d&&c.position==="static"&&!!a&&Ybe.has(a.position)||wg(l)&&!d&&xH(e,l))?n=n.filter(i=>i!==l):a=c,l=dc(l)}return t.set(e,n),n}function Xbe(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const l=[...r==="clippingAncestors"?a1(t)?[]:Kbe(t,this._c):[].concat(r),n],c=l[0],d=l.reduce((u,i)=>{const m=L3(t,i,a);return u.top=na(m.top,u.top),u.right=cc(m.right,u.right),u.bottom=cc(m.bottom,u.bottom),u.left=na(m.left,u.left),u},L3(t,c,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function Qbe(e){const{width:t,height:r}=hH(e);return{width:t,height:r}}function Jbe(e,t,r){const n=Wo(t),a=Xo(t),o=r==="fixed",l=Td(e,!0,o,t);let c={scrollLeft:0,scrollTop:0};const d=zo(0);function u(){d.x=ak(a)}if(n||!n&&!o)if((hm(t)!=="body"||wg(a))&&(c=o1(t)),n){const x=Td(t,!0,o,t);d.x=x.x+t.clientLeft,d.y=x.y+t.clientTop}else a&&u();o&&!n&&a&&u();const i=a&&!n&&!o?gH(a,c):zo(0),m=l.left+c.scrollLeft-d.x-i.x,g=l.top+c.scrollTop-d.y-i.y;return{x:m,y:g,width:l.width,height:l.height}}function bC(e){return oo(e).position==="static"}function B3(e,t){if(!Wo(e)||oo(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Xo(e)===r&&(r=r.ownerDocument.body),r}function vH(e,t){const r=ca(e);if(a1(e))return r;if(!Wo(e)){let a=dc(e);for(;a&&!Of(a);){if(ao(a)&&!bC(a))return a;a=dc(a)}return r}let n=B3(e,t);for(;n&&Obe(n)&&bC(n);)n=B3(n,t);return n&&Of(n)&&bC(n)&&!rk(n)?r:n||Ube(e)||r}const ewe=async function(e){const t=this.getOffsetParent||vH,r=this.getDimensions,n=await r(e.floating);return{reference:Jbe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function twe(e){return oo(e).direction==="rtl"}const rwe={convertOffsetParentRelativeRectToViewportRelativeRect:qbe,getDocumentElement:Xo,getClippingRect:Xbe,getOffsetParent:vH,getElementRects:ewe,getClientRects:Vbe,getDimensions:Qbe,getScale:Cf,isElement:ao,isRTL:twe};function yH(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function nwe(e,t){let r=null,n;const a=Xo(e);function o(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),o();const u=e.getBoundingClientRect(),{left:i,top:m,width:g,height:x}=u;if(c||t(),!g||!x)return;const v=Pv(m),N=Pv(a.clientWidth-(i+g)),h=Pv(a.clientHeight-(m+x)),y=Pv(i),j={rootMargin:-v+"px "+-N+"px "+-h+"px "+-y+"px",threshold:na(0,cc(1,d))||1};let C=!0;function _(k){const A=k[0].intersectionRatio;if(A!==d){if(!C)return l();A?l(!1,A):n=setTimeout(()=>{l(!1,1e-7)},1e3)}A===1&&!yH(u,e.getBoundingClientRect())&&l(),C=!1}try{r=new IntersectionObserver(_,{...j,root:a.ownerDocument})}catch{r=new IntersectionObserver(_,j)}r.observe(e)}return l(!0),o}function bH(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,u=sk(e),i=a||o?[...u?Op(u):[],...Op(t)]:[];i.forEach(y=>{a&&y.addEventListener("scroll",r,{passive:!0}),o&&y.addEventListener("resize",r)});const m=u&&c?nwe(u,r):null;let g=-1,x=null;l&&(x=new ResizeObserver(y=>{let[w]=y;w&&w.target===u&&x&&(x.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var j;(j=x)==null||j.observe(t)})),r()}),u&&!d&&x.observe(u),x.observe(t));let v,N=d?Td(e):null;d&&h();function h(){const y=Td(e);N&&!yH(N,y)&&r(),N=y,v=requestAnimationFrame(h)}return r(),()=>{var y;i.forEach(w=>{a&&w.removeEventListener("scroll",r),o&&w.removeEventListener("resize",r)}),m?.(),(y=x)==null||y.disconnect(),x=null,d&&cancelAnimationFrame(v)}}const swe=kbe,awe=Dbe,owe=Ebe,iwe=Rbe,lwe=_be,F3=Cbe,cwe=Tbe,dwe=(e,t,r)=>{const n=new Map,a={platform:rwe,...r},o={...a.platform,_c:n};return Nbe(e,t,{...a,platform:o})};var uwe=typeof document<"u",fwe=function(){},Yy=uwe?b.useLayoutEffect:fwe;function Db(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Db(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const o=a[n];if(!(o==="_owner"&&e.$$typeof)&&!Db(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function wH(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function U3(e,t){const r=wH(e);return Math.round(t*r)/r}function wC(e){const t=b.useRef(e);return Yy(()=>{t.current=e}),t}function SH(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:o,floating:l}={},transform:c=!0,whileElementsMounted:d,open:u}=e,[i,m]=b.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[g,x]=b.useState(n);Db(g,n)||x(n);const[v,N]=b.useState(null),[h,y]=b.useState(null),w=b.useCallback(W=>{W!==k.current&&(k.current=W,N(W))},[]),j=b.useCallback(W=>{W!==A.current&&(A.current=W,y(W))},[]),C=o||v,_=l||h,k=b.useRef(null),A=b.useRef(null),T=b.useRef(i),R=d!=null,P=wC(d),M=wC(a),I=wC(u),L=b.useCallback(()=>{if(!k.current||!A.current)return;const W={placement:t,strategy:r,middleware:g};M.current&&(W.platform=M.current),dwe(k.current,A.current,W).then(J=>{const q={...J,isPositioned:I.current!==!1};B.current&&!Db(T.current,q)&&(T.current=q,Hd.flushSync(()=>{m(q)}))})},[g,t,r,M,I]);Yy(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,m(W=>({...W,isPositioned:!1})))},[u]);const B=b.useRef(!1);Yy(()=>(B.current=!0,()=>{B.current=!1}),[]),Yy(()=>{if(C&&(k.current=C),_&&(A.current=_),C&&_){if(P.current)return P.current(C,_,L);L()}},[C,_,L,P,R]);const U=b.useMemo(()=>({reference:k,floating:A,setReference:w,setFloating:j}),[w,j]),F=b.useMemo(()=>({reference:C,floating:_}),[C,_]),H=b.useMemo(()=>{const W={position:r,left:0,top:0};if(!F.floating)return W;const J=U3(F.floating,i.x),q=U3(F.floating,i.y);return c?{...W,transform:"translate("+J+"px, "+q+"px)",...wH(F.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:J,top:q}},[r,c,F.floating,i.x,i.y]);return b.useMemo(()=>({...i,update:L,refs:U,elements:F,floatingStyles:H}),[i,L,U,F,H])}const mwe=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?F3({element:n.current,padding:a}).fn(r):{}:n?F3({element:n,padding:a}).fn(r):{}}}},jH=(e,t)=>({...swe(e),options:[e,t]}),NH=(e,t)=>({...awe(e),options:[e,t]}),CH=(e,t)=>({...cwe(e),options:[e,t]}),EH=(e,t)=>({...owe(e),options:[e,t]}),_H=(e,t)=>({...iwe(e),options:[e,t]}),AH=(e,t)=>({...lwe(e),options:[e,t]}),kH=(e,t)=>({...mwe(e),options:[e,t]});var hwe="Arrow",DH=b.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...o}=e;return s.jsx(Ge.svg,{...o,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});DH.displayName=hwe;var TH=DH;function Sg(e){const[t,r]=b.useState(void 0);return ir(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let l,c;if("borderBoxSize"in o){const d=o.borderBoxSize,u=Array.isArray(d)?d[0]:d;l=u.inlineSize,c=u.blockSize}else l=e.offsetWidth,c=e.offsetHeight;r({width:l,height:c})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var ok="Popper",[RH,pm]=jn(ok),[pwe,PH]=RH(ok),MH=e=>{const{__scopePopper:t,children:r}=e,[n,a]=b.useState(null);return s.jsx(pwe,{scope:t,anchor:n,onAnchorChange:a,children:r})};MH.displayName=ok;var OH="PopperAnchor",IH=b.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,o=PH(OH,r),l=b.useRef(null),c=ct(t,l);return b.useEffect(()=>{o.onAnchorChange(n?.current||l.current)}),n?null:s.jsx(Ge.div,{...a,ref:c})});IH.displayName=OH;var ik="PopperContent",[gwe,xwe]=RH(ik),LH=b.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:o="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:u=[],collisionPadding:i=0,sticky:m="partial",hideWhenDetached:g=!1,updatePositionStrategy:x="optimized",onPlaced:v,...N}=e,h=PH(ik,r),[y,w]=b.useState(null),j=ct(t,de=>w(de)),[C,_]=b.useState(null),k=Sg(C),A=k?.width??0,T=k?.height??0,R=n+(o!=="center"?"-"+o:""),P=typeof i=="number"?i:{top:0,right:0,bottom:0,left:0,...i},M=Array.isArray(u)?u:[u],I=M.length>0,L={padding:P,boundary:M.filter(ywe),altBoundary:I},{refs:B,floatingStyles:U,placement:F,isPositioned:H,middlewareData:W}=SH({strategy:"fixed",placement:R,whileElementsMounted:(...de)=>bH(...de,{animationFrame:x==="always"}),elements:{reference:h.anchor},middleware:[jH({mainAxis:a+T,alignmentAxis:l}),d&&NH({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?CH():void 0,...L}),d&&EH({...L}),_H({...L,apply:({elements:de,rects:xe,availableWidth:ne,availableHeight:ge})=>{const{width:Ce,height:ce}=xe.reference,Oe=de.floating.style;Oe.setProperty("--radix-popper-available-width",`${ne}px`),Oe.setProperty("--radix-popper-available-height",`${ge}px`),Oe.setProperty("--radix-popper-anchor-width",`${Ce}px`),Oe.setProperty("--radix-popper-anchor-height",`${ce}px`)}}),C&&kH({element:C,padding:c}),bwe({arrowWidth:A,arrowHeight:T}),g&&AH({strategy:"referenceHidden",...L})]}),[J,q]=UH(F),G=Mr(v);ir(()=>{H&&G?.()},[H,G]);const z=W.arrow?.x,K=W.arrow?.y,Z=W.arrow?.centerOffset!==0,[ie,ye]=b.useState();return ir(()=>{y&&ye(window.getComputedStyle(y).zIndex)},[y]),s.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:H?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[W.transformOrigin?.x,W.transformOrigin?.y].join(" "),...W.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(gwe,{scope:r,placedSide:J,onArrowChange:_,arrowX:z,arrowY:K,shouldHideArrow:Z,children:s.jsx(Ge.div,{"data-side":J,"data-align":q,...N,ref:j,style:{...N.style,animation:H?void 0:"none"}})})})});LH.displayName=ik;var BH="PopperArrow",vwe={top:"bottom",right:"left",bottom:"top",left:"right"},FH=b.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,o=xwe(BH,n),l=vwe[o.placedSide];return s.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:s.jsx(TH,{...a,ref:r,style:{...a.style,display:"block"}})})});FH.displayName=BH;function ywe(e){return e!==null}var bwe=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:a}=t,l=a.arrow?.centerOffset!==0,c=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[u,i]=UH(r),m={start:"0%",center:"50%",end:"100%"}[i],g=(a.arrow?.x??0)+c/2,x=(a.arrow?.y??0)+d/2;let v="",N="";return u==="bottom"?(v=l?m:`${g}px`,N=`${-d}px`):u==="top"?(v=l?m:`${g}px`,N=`${n.floating.height+d}px`):u==="right"?(v=`${-d}px`,N=l?m:`${x}px`):u==="left"&&(v=`${n.floating.width+d}px`,N=l?m:`${x}px`),{data:{x:v,y:N}}}});function UH(e){const[t,r="center"]=e.split("-");return[t,r]}var lk=MH,i1=IH,ck=LH,dk=FH;function wwe(e,t){return b.useReducer((r,n)=>t[r][n]??r,e)}var Qo=e=>{const{present:t,children:r}=e,n=Swe(t),a=typeof r=="function"?r({present:n.isPresent}):b.Children.only(r),o=ct(n.ref,jwe(a));return typeof r=="function"||n.isPresent?b.cloneElement(a,{ref:o}):null};Qo.displayName="Presence";function Swe(e){const[t,r]=b.useState(),n=b.useRef(null),a=b.useRef(e),o=b.useRef("none"),l=e?"mounted":"unmounted",[c,d]=wwe(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=Mv(n.current);o.current=c==="mounted"?u:"none"},[c]),ir(()=>{const u=n.current,i=a.current;if(i!==e){const g=o.current,x=Mv(u);e?d("MOUNT"):x==="none"||u?.display==="none"?d("UNMOUNT"):d(i&&g!==x?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,d]),ir(()=>{if(t){let u;const i=t.ownerDocument.defaultView??window,m=x=>{const N=Mv(n.current).includes(x.animationName);if(x.target===t&&N&&(d("ANIMATION_END"),!a.current)){const h=t.style.animationFillMode;t.style.animationFillMode="forwards",u=i.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=h)})}},g=x=>{x.target===t&&(o.current=Mv(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{i.clearTimeout(u),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:b.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Mv(e){return e?.animationName||"none"}function jwe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var $H=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Nwe="VisuallyHidden",HH=b.forwardRef((e,t)=>s.jsx(Ge.span,{...e,ref:t,style:{...$H,...e.style}}));HH.displayName=Nwe;var Cwe=HH,[l1,Q9e]=jn("Tooltip",[pm]),c1=pm(),zH="TooltipProvider",Ewe=700,iA="tooltip.open",[_we,uk]=l1(zH),qH=e=>{const{__scopeTooltip:t,delayDuration:r=Ewe,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:o}=e,l=b.useRef(!0),c=b.useRef(!1),d=b.useRef(0);return b.useEffect(()=>{const u=d.current;return()=>window.clearTimeout(u)},[]),s.jsx(_we,{scope:t,isOpenDelayedRef:l,delayDuration:r,onOpen:b.useCallback(()=>{window.clearTimeout(d.current),l.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.current=!0,n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:b.useCallback(u=>{c.current=u},[]),disableHoverableContent:a,children:o})};qH.displayName=zH;var Ip="Tooltip",[Awe,jg]=l1(Ip),VH=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a,onOpenChange:o,disableHoverableContent:l,delayDuration:c}=e,d=uk(Ip,e.__scopeTooltip),u=c1(t),[i,m]=b.useState(null),g=kn(),x=b.useRef(0),v=l??d.disableHoverableContent,N=c??d.delayDuration,h=b.useRef(!1),[y,w]=Fa({prop:n,defaultProp:a??!1,onChange:A=>{A?(d.onOpen(),document.dispatchEvent(new CustomEvent(iA))):d.onClose(),o?.(A)},caller:Ip}),j=b.useMemo(()=>y?h.current?"delayed-open":"instant-open":"closed",[y]),C=b.useCallback(()=>{window.clearTimeout(x.current),x.current=0,h.current=!1,w(!0)},[w]),_=b.useCallback(()=>{window.clearTimeout(x.current),x.current=0,w(!1)},[w]),k=b.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{h.current=!0,w(!0),x.current=0},N)},[N,w]);return b.useEffect(()=>()=>{x.current&&(window.clearTimeout(x.current),x.current=0)},[]),s.jsx(lk,{...u,children:s.jsx(Awe,{scope:t,contentId:g,open:y,stateAttribute:j,trigger:i,onTriggerChange:m,onTriggerEnter:b.useCallback(()=>{d.isOpenDelayedRef.current?k():C()},[d.isOpenDelayedRef,k,C]),onTriggerLeave:b.useCallback(()=>{v?_():(window.clearTimeout(x.current),x.current=0)},[_,v]),onOpen:C,onClose:_,disableHoverableContent:v,children:r})})};VH.displayName=Ip;var lA="TooltipTrigger",WH=b.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=jg(lA,r),o=uk(lA,r),l=c1(r),c=b.useRef(null),d=ct(t,c,a.onTriggerChange),u=b.useRef(!1),i=b.useRef(!1),m=b.useCallback(()=>u.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),s.jsx(i1,{asChild:!0,...l,children:s.jsx(Ge.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:d,onPointerMove:vt(e.onPointerMove,g=>{g.pointerType!=="touch"&&!i.current&&!o.isPointerInTransitRef.current&&(a.onTriggerEnter(),i.current=!0)}),onPointerLeave:vt(e.onPointerLeave,()=>{a.onTriggerLeave(),i.current=!1}),onPointerDown:vt(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:vt(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:vt(e.onBlur,a.onClose),onClick:vt(e.onClick,a.onClose)})})});WH.displayName=lA;var fk="TooltipPortal",[kwe,Dwe]=l1(fk,{forceMount:void 0}),GH=e=>{const{__scopeTooltip:t,forceMount:r,children:n,container:a}=e,o=jg(fk,t);return s.jsx(kwe,{scope:t,forceMount:r,children:s.jsx(Qo,{present:r||o.open,children:s.jsx(fm,{asChild:!0,container:a,children:n})})})};GH.displayName=fk;var If="TooltipContent",YH=b.forwardRef((e,t)=>{const r=Dwe(If,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...o}=e,l=jg(If,e.__scopeTooltip);return s.jsx(Qo,{present:n||l.open,children:l.disableHoverableContent?s.jsx(ZH,{side:a,...o,ref:t}):s.jsx(Twe,{side:a,...o,ref:t})})}),Twe=b.forwardRef((e,t)=>{const r=jg(If,e.__scopeTooltip),n=uk(If,e.__scopeTooltip),a=b.useRef(null),o=ct(t,a),[l,c]=b.useState(null),{trigger:d,onClose:u}=r,i=a.current,{onPointerInTransitChange:m}=n,g=b.useCallback(()=>{c(null),m(!1)},[m]),x=b.useCallback((v,N)=>{const h=v.currentTarget,y={x:v.clientX,y:v.clientY},w=Iwe(y,h.getBoundingClientRect()),j=Lwe(y,w),C=Bwe(N.getBoundingClientRect()),_=Uwe([...j,...C]);c(_),m(!0)},[m]);return b.useEffect(()=>()=>g(),[g]),b.useEffect(()=>{if(d&&i){const v=h=>x(h,i),N=h=>x(h,d);return d.addEventListener("pointerleave",v),i.addEventListener("pointerleave",N),()=>{d.removeEventListener("pointerleave",v),i.removeEventListener("pointerleave",N)}}},[d,i,x,g]),b.useEffect(()=>{if(l){const v=N=>{const h=N.target,y={x:N.clientX,y:N.clientY},w=d?.contains(h)||i?.contains(h),j=!Fwe(y,l);w?g():j&&(g(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[d,i,l,u,g]),s.jsx(ZH,{...e,ref:o})}),[Rwe,Pwe]=l1(Ip,{isInside:!1}),Mwe=S$("TooltipContent"),ZH=b.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:o,onPointerDownOutside:l,...c}=e,d=jg(If,r),u=c1(r),{onClose:i}=d;return b.useEffect(()=>(document.addEventListener(iA,i),()=>document.removeEventListener(iA,i)),[i]),b.useEffect(()=>{if(d.trigger){const m=g=>{g.target?.contains(d.trigger)&&i()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[d.trigger,i]),s.jsx(n1,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:m=>m.preventDefault(),onDismiss:i,children:s.jsxs(ck,{"data-state":d.stateAttribute,...u,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(Mwe,{children:n}),s.jsx(Rwe,{scope:r,isInside:!0,children:s.jsx(Cwe,{id:d.contentId,role:"tooltip",children:a||n})})]})})});YH.displayName=If;var KH="TooltipArrow",Owe=b.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=c1(r);return Pwe(KH,r).isInside?null:s.jsx(dk,{...a,...n,ref:t})});Owe.displayName=KH;function Iwe(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,a,o)){case o:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Lwe(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function Bwe(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function Fwe(e,t){const{x:r,y:n}=e;let a=!1;for(let o=0,l=t.length-1;o<t.length;l=o++){const c=t[o],d=t[l],u=c.x,i=c.y,m=d.x,g=d.y;i>n!=g>n&&r<(m-u)*(n-i)/(g-i)+u&&(a=!a)}return a}function Uwe(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),$we(t)}function $we(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const o=t[t.length-1],l=t[t.length-2];if((o.x-l.x)*(a.y-l.y)>=(o.y-l.y)*(a.x-l.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const o=r[r.length-1],l=r[r.length-2];if((o.x-l.x)*(a.y-l.y)>=(o.y-l.y)*(a.x-l.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var Hwe=qH,zwe=VH,qwe=WH,Vwe=GH,XH=YH;const Wwe=Hwe,Gwe=zwe,Ywe=qwe,QH=b.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(Vwe,{children:s.jsx(XH,{ref:n,sideOffset:t,className:ee("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r})}));QH.displayName=XH.displayName;const Zwe="sidebar_state",Kwe=60*60*24*7,Xwe="16rem",Qwe="18rem",Jwe="3rem",e1e="b",JH=b.createContext(null);function d1(){const e=b.useContext(JH);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const ez=b.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:r,className:n,style:a,children:o,...l},c)=>{const d=Ko(),[u,i]=b.useState(!1),[m,g]=b.useState(e),x=t??m,v=b.useCallback(w=>{const j=typeof w=="function"?w(x):w;r?r(j):g(j),document.cookie=`${Zwe}=${j}; path=/; max-age=${Kwe}`},[r,x]),N=b.useCallback(()=>d?i(w=>!w):v(w=>!w),[d,v,i]);b.useEffect(()=>{const w=j=>{j.key===e1e&&(j.metaKey||j.ctrlKey)&&(j.preventDefault(),N())};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[N]);const h=x?"expanded":"collapsed",y=b.useMemo(()=>({state:h,open:x,setOpen:v,isMobile:d,openMobile:u,setOpenMobile:i,toggleSidebar:N}),[h,x,v,d,u,i,N]);return s.jsx(JH.Provider,{value:y,children:s.jsx(Wwe,{delayDuration:0,children:s.jsx("div",{style:{"--sidebar-width":Xwe,"--sidebar-width-icon":Jwe,...a},className:ee("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:c,...l,children:o})})})});ez.displayName="SidebarProvider";const tz=b.forwardRef(({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:n,children:a,...o},l)=>{const{isMobile:c,state:d,openMobile:u,setOpenMobile:i}=d1();return r==="none"?s.jsx("div",{className:ee("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:l,...o,children:a}):c?s.jsx(nbe,{open:u,onOpenChange:i,...o,children:s.jsxs(sH,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":Qwe},side:e,children:[s.jsxs(aH,{className:"sr-only",children:[s.jsx(oH,{children:"Sidebar"}),s.jsx(iH,{children:"Displays the mobile sidebar."})]}),s.jsx("div",{className:"flex h-full w-full flex-col bg-sidebar",children:a})]})}):s.jsxs("div",{ref:l,className:"group peer hidden text-sidebar-foreground md:block","data-state":d,"data-collapsible":d==="collapsed"?r:"","data-variant":t,"data-side":e,children:[s.jsx("div",{className:ee("relative w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),s.jsx("div",{className:ee("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...o,children:s.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:a})})]})});tz.displayName="Sidebar";const cA=b.forwardRef(({className:e,onClick:t,...r},n)=>{const{toggleSidebar:a}=d1();return s.jsxs(X,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:ee("h-7 w-7",e),onClick:o=>{t?.(o),a()},...r,children:[s.jsx(rve,{}),s.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});cA.displayName="SidebarTrigger";const t1e=b.forwardRef(({className:e,...t},r)=>{const{toggleSidebar:n}=d1();return s.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:ee("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});t1e.displayName="SidebarRail";const rz=b.forwardRef(({className:e,...t},r)=>s.jsx("main",{ref:r,className:ee("relative flex w-full flex-1 flex-col bg-background","md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));rz.displayName="SidebarInset";const r1e=b.forwardRef(({className:e,...t},r)=>s.jsx(We,{ref:r,"data-sidebar":"input",className:ee("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));r1e.displayName="SidebarInput";const nz=b.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"header",className:ee("flex flex-col gap-2 p-2",e),...t}));nz.displayName="SidebarHeader";const sz=b.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"footer",className:ee("flex flex-col gap-2 p-2",e),...t}));sz.displayName="SidebarFooter";const n1e=b.forwardRef(({className:e,...t},r)=>s.jsx(cs,{ref:r,"data-sidebar":"separator",className:ee("mx-2 w-auto bg-sidebar-border",e),...t}));n1e.displayName="SidebarSeparator";const az=b.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"content",className:ee("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));az.displayName="SidebarContent";const oz=b.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"group",className:ee("relative flex w-full min-w-0 flex-col p-2",e),...t}));oz.displayName="SidebarGroup";const iz=b.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const a=t?vc:"div";return s.jsx(a,{ref:n,"data-sidebar":"group-label",className:ee("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...r})});iz.displayName="SidebarGroupLabel";const s1e=b.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const a=t?vc:"button";return s.jsx(a,{ref:n,"data-sidebar":"group-action",className:ee("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...r})});s1e.displayName="SidebarGroupAction";const lz=b.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"group-content",className:ee("w-full text-sm",e),...t}));lz.displayName="SidebarGroupContent";const mk=b.forwardRef(({className:e,...t},r)=>s.jsx("ul",{ref:r,"data-sidebar":"menu",className:ee("flex w-full min-w-0 flex-col gap-1",e),...t}));mk.displayName="SidebarMenu";const Tb=b.forwardRef(({className:e,...t},r)=>s.jsx("li",{ref:r,"data-sidebar":"menu-item",className:ee("group/menu-item relative",e),...t}));Tb.displayName="SidebarMenuItem";const a1e=Vd("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Rb=b.forwardRef(({asChild:e=!1,isActive:t=!1,variant:r="default",size:n="default",tooltip:a,className:o,...l},c)=>{const d=e?vc:"button",{isMobile:u,state:i}=d1(),m=s.jsx(d,{ref:c,"data-sidebar":"menu-button","data-size":n,"data-active":t,className:ee(a1e({variant:r,size:n}),o),...l});return a?(typeof a=="string"&&(a={children:a}),s.jsxs(Gwe,{children:[s.jsx(Ywe,{asChild:!0,children:m}),s.jsx(QH,{side:"right",align:"center",hidden:i!=="collapsed"||u,...a})]})):m});Rb.displayName="SidebarMenuButton";const o1e=b.forwardRef(({className:e,asChild:t=!1,showOnHover:r=!1,...n},a)=>{const o=t?vc:"button";return s.jsx(o,{ref:a,"data-sidebar":"menu-action",className:ee("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...n})});o1e.displayName="SidebarMenuAction";const i1e=b.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:ee("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));i1e.displayName="SidebarMenuBadge";const l1e=b.forwardRef(({className:e,showIcon:t=!1,...r},n)=>{const a=b.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return s.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:ee("flex h-8 items-center gap-2 rounded-md px-2",e),...r,children:[t&&s.jsx(Ye,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),s.jsx(Ye,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":a}})]})});l1e.displayName="SidebarMenuSkeleton";const c1e=b.forwardRef(({className:e,...t},r)=>s.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:ee("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));c1e.displayName="SidebarMenuSub";const d1e=b.forwardRef(({...e},t)=>s.jsx("li",{ref:t,...e}));d1e.displayName="SidebarMenuSubItem";const u1e=b.forwardRef(({asChild:e=!1,size:t="md",isActive:r,className:n,...a},o)=>{const l=e?vc:"a";return s.jsx(l,{ref:o,"data-sidebar":"menu-sub-button","data-size":t,"data-active":r,className:ee("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...a})});u1e.displayName="SidebarMenuSubButton";var $3=1,f1e=.9,m1e=.8,h1e=.17,SC=.1,jC=.999,p1e=.9999,g1e=.99,x1e=/[\\\/_+.#"@\[\(\{&]/,v1e=/[\\\/_+.#"@\[\(\{&]/g,y1e=/[\s-]/,cz=/[\s-]/g;function dA(e,t,r,n,a,o,l){if(o===t.length)return a===e.length?$3:g1e;var c=`${a},${o}`;if(l[c]!==void 0)return l[c];for(var d=n.charAt(o),u=r.indexOf(d,a),i=0,m,g,x,v;u>=0;)m=dA(e,t,r,n,u+1,o+1,l),m>i&&(u===a?m*=$3:x1e.test(e.charAt(u-1))?(m*=m1e,x=e.slice(a,u-1).match(v1e),x&&a>0&&(m*=Math.pow(jC,x.length))):y1e.test(e.charAt(u-1))?(m*=f1e,v=e.slice(a,u-1).match(cz),v&&a>0&&(m*=Math.pow(jC,v.length))):(m*=h1e,a>0&&(m*=Math.pow(jC,u-a))),e.charAt(u)!==t.charAt(o)&&(m*=p1e)),(m<SC&&r.charAt(u-1)===n.charAt(o+1)||n.charAt(o+1)===n.charAt(o)&&r.charAt(u-1)!==n.charAt(o))&&(g=dA(e,t,r,n,u+1,o+2,l),g*SC>m&&(m=g*SC)),m>i&&(i=m),u=r.indexOf(d,u+1);return l[c]=i,i}function H3(e){return e.toLowerCase().replace(cz," ")}function b1e(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,dA(e,t,H3(e),H3(t),0,0,{})}var Kh='[cmdk-group=""]',NC='[cmdk-group-items=""]',w1e='[cmdk-group-heading=""]',dz='[cmdk-item=""]',z3=`${dz}:not([aria-disabled="true"])`,uA="cmdk-item-select",of="data-value",S1e=(e,t,r)=>b1e(e,t,r),uz=b.createContext(void 0),Ng=()=>b.useContext(uz),fz=b.createContext(void 0),hk=()=>b.useContext(fz),mz=b.createContext(void 0),hz=b.forwardRef((e,t)=>{let r=lf(()=>{var z,K;return{search:"",value:(K=(z=e.value)!=null?z:e.defaultValue)!=null?K:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=lf(()=>new Set),a=lf(()=>new Map),o=lf(()=>new Map),l=lf(()=>new Set),c=pz(e),{label:d,children:u,value:i,onValueChange:m,filter:g,shouldFilter:x,loop:v,disablePointerSelection:N=!1,vimBindings:h=!0,...y}=e,w=kn(),j=kn(),C=kn(),_=b.useRef(null),k=P1e();Rd(()=>{if(i!==void 0){let z=i.trim();r.current.value=z,A.emit()}},[i]),Rd(()=>{k(6,L)},[]);let A=b.useMemo(()=>({subscribe:z=>(l.current.add(z),()=>l.current.delete(z)),snapshot:()=>r.current,setState:(z,K,Z)=>{var ie,ye,de,xe;if(!Object.is(r.current[z],K)){if(r.current[z]=K,z==="search")I(),P(),k(1,M);else if(z==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ne=document.getElementById(C);ne?ne.focus():(ie=document.getElementById(w))==null||ie.focus()}if(k(7,()=>{var ne;r.current.selectedItemId=(ne=B())==null?void 0:ne.id,A.emit()}),Z||k(5,L),((ye=c.current)==null?void 0:ye.value)!==void 0){let ne=K??"";(xe=(de=c.current).onValueChange)==null||xe.call(de,ne);return}}A.emit()}},emit:()=>{l.current.forEach(z=>z())}}),[]),T=b.useMemo(()=>({value:(z,K,Z)=>{var ie;K!==((ie=o.current.get(z))==null?void 0:ie.value)&&(o.current.set(z,{value:K,keywords:Z}),r.current.filtered.items.set(z,R(K,Z)),k(2,()=>{P(),A.emit()}))},item:(z,K)=>(n.current.add(z),K&&(a.current.has(K)?a.current.get(K).add(z):a.current.set(K,new Set([z]))),k(3,()=>{I(),P(),r.current.value||M(),A.emit()}),()=>{o.current.delete(z),n.current.delete(z),r.current.filtered.items.delete(z);let Z=B();k(4,()=>{I(),Z?.getAttribute("id")===z&&M(),A.emit()})}),group:z=>(a.current.has(z)||a.current.set(z,new Set),()=>{o.current.delete(z),a.current.delete(z)}),filter:()=>c.current.shouldFilter,label:d||e["aria-label"],getDisablePointerSelection:()=>c.current.disablePointerSelection,listId:w,inputId:C,labelId:j,listInnerRef:_}),[]);function R(z,K){var Z,ie;let ye=(ie=(Z=c.current)==null?void 0:Z.filter)!=null?ie:S1e;return z?ye(z,r.current.search,K):0}function P(){if(!r.current.search||c.current.shouldFilter===!1)return;let z=r.current.filtered.items,K=[];r.current.filtered.groups.forEach(ie=>{let ye=a.current.get(ie),de=0;ye.forEach(xe=>{let ne=z.get(xe);de=Math.max(ne,de)}),K.push([ie,de])});let Z=_.current;U().sort((ie,ye)=>{var de,xe;let ne=ie.getAttribute("id"),ge=ye.getAttribute("id");return((de=z.get(ge))!=null?de:0)-((xe=z.get(ne))!=null?xe:0)}).forEach(ie=>{let ye=ie.closest(NC);ye?ye.appendChild(ie.parentElement===ye?ie:ie.closest(`${NC} > *`)):Z.appendChild(ie.parentElement===Z?ie:ie.closest(`${NC} > *`))}),K.sort((ie,ye)=>ye[1]-ie[1]).forEach(ie=>{var ye;let de=(ye=_.current)==null?void 0:ye.querySelector(`${Kh}[${of}="${encodeURIComponent(ie[0])}"]`);de?.parentElement.appendChild(de)})}function M(){let z=U().find(Z=>Z.getAttribute("aria-disabled")!=="true"),K=z?.getAttribute(of);A.setState("value",K||void 0)}function I(){var z,K,Z,ie;if(!r.current.search||c.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let ye=0;for(let de of n.current){let xe=(K=(z=o.current.get(de))==null?void 0:z.value)!=null?K:"",ne=(ie=(Z=o.current.get(de))==null?void 0:Z.keywords)!=null?ie:[],ge=R(xe,ne);r.current.filtered.items.set(de,ge),ge>0&&ye++}for(let[de,xe]of a.current)for(let ne of xe)if(r.current.filtered.items.get(ne)>0){r.current.filtered.groups.add(de);break}r.current.filtered.count=ye}function L(){var z,K,Z;let ie=B();ie&&(((z=ie.parentElement)==null?void 0:z.firstChild)===ie&&((Z=(K=ie.closest(Kh))==null?void 0:K.querySelector(w1e))==null||Z.scrollIntoView({block:"nearest"})),ie.scrollIntoView({block:"nearest"}))}function B(){var z;return(z=_.current)==null?void 0:z.querySelector(`${dz}[aria-selected="true"]`)}function U(){var z;return Array.from(((z=_.current)==null?void 0:z.querySelectorAll(z3))||[])}function F(z){let K=U()[z];K&&A.setState("value",K.getAttribute(of))}function H(z){var K;let Z=B(),ie=U(),ye=ie.findIndex(xe=>xe===Z),de=ie[ye+z];(K=c.current)!=null&&K.loop&&(de=ye+z<0?ie[ie.length-1]:ye+z===ie.length?ie[0]:ie[ye+z]),de&&A.setState("value",de.getAttribute(of))}function W(z){let K=B(),Z=K?.closest(Kh),ie;for(;Z&&!ie;)Z=z>0?T1e(Z,Kh):R1e(Z,Kh),ie=Z?.querySelector(z3);ie?A.setState("value",ie.getAttribute(of)):H(z)}let J=()=>F(U().length-1),q=z=>{z.preventDefault(),z.metaKey?J():z.altKey?W(1):H(1)},G=z=>{z.preventDefault(),z.metaKey?F(0):z.altKey?W(-1):H(-1)};return b.createElement(Ge.div,{ref:t,tabIndex:-1,...y,"cmdk-root":"",onKeyDown:z=>{var K;(K=y.onKeyDown)==null||K.call(y,z);let Z=z.nativeEvent.isComposing||z.keyCode===229;if(!(z.defaultPrevented||Z))switch(z.key){case"n":case"j":{h&&z.ctrlKey&&q(z);break}case"ArrowDown":{q(z);break}case"p":case"k":{h&&z.ctrlKey&&G(z);break}case"ArrowUp":{G(z);break}case"Home":{z.preventDefault(),F(0);break}case"End":{z.preventDefault(),J();break}case"Enter":{z.preventDefault();let ie=B();if(ie){let ye=new Event(uA);ie.dispatchEvent(ye)}}}}},b.createElement("label",{"cmdk-label":"",htmlFor:T.inputId,id:T.labelId,style:O1e},d),u1(e,z=>b.createElement(fz.Provider,{value:A},b.createElement(uz.Provider,{value:T},z))))}),j1e=b.forwardRef((e,t)=>{var r,n;let a=kn(),o=b.useRef(null),l=b.useContext(mz),c=Ng(),d=pz(e),u=(n=(r=d.current)==null?void 0:r.forceMount)!=null?n:l?.forceMount;Rd(()=>{if(!u)return c.item(a,l?.id)},[u]);let i=gz(a,o,[e.value,e.children,o],e.keywords),m=hk(),g=uc(k=>k.value&&k.value===i.current),x=uc(k=>u||c.filter()===!1?!0:k.search?k.filtered.items.get(a)>0:!0);b.useEffect(()=>{let k=o.current;if(!(!k||e.disabled))return k.addEventListener(uA,v),()=>k.removeEventListener(uA,v)},[x,e.onSelect,e.disabled]);function v(){var k,A;N(),(A=(k=d.current).onSelect)==null||A.call(k,i.current)}function N(){m.setState("value",i.current,!0)}if(!x)return null;let{disabled:h,value:y,onSelect:w,forceMount:j,keywords:C,..._}=e;return b.createElement(Ge.div,{ref:Yi(o,t),..._,id:a,"cmdk-item":"",role:"option","aria-disabled":!!h,"aria-selected":!!g,"data-disabled":!!h,"data-selected":!!g,onPointerMove:h||c.getDisablePointerSelection()?void 0:N,onClick:h?void 0:v},e.children)}),N1e=b.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...o}=e,l=kn(),c=b.useRef(null),d=b.useRef(null),u=kn(),i=Ng(),m=uc(x=>a||i.filter()===!1?!0:x.search?x.filtered.groups.has(l):!0);Rd(()=>i.group(l),[]),gz(l,c,[e.value,e.heading,d]);let g=b.useMemo(()=>({id:l,forceMount:a}),[a]);return b.createElement(Ge.div,{ref:Yi(c,t),...o,"cmdk-group":"",role:"presentation",hidden:m?void 0:!0},r&&b.createElement("div",{ref:d,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),u1(e,x=>b.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},b.createElement(mz.Provider,{value:g},x))))}),C1e=b.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=b.useRef(null),o=uc(l=>!l.search);return!r&&!o?null:b.createElement(Ge.div,{ref:Yi(a,t),...n,"cmdk-separator":"",role:"separator"})}),E1e=b.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,o=hk(),l=uc(u=>u.search),c=uc(u=>u.selectedItemId),d=Ng();return b.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),b.createElement(Ge.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":d.listId,"aria-labelledby":d.labelId,"aria-activedescendant":c,id:d.inputId,type:"text",value:a?e.value:l,onChange:u=>{a||o.setState("search",u.target.value),r?.(u.target.value)}})}),_1e=b.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,o=b.useRef(null),l=b.useRef(null),c=uc(u=>u.selectedItemId),d=Ng();return b.useEffect(()=>{if(l.current&&o.current){let u=l.current,i=o.current,m,g=new ResizeObserver(()=>{m=requestAnimationFrame(()=>{let x=u.offsetHeight;i.style.setProperty("--cmdk-list-height",x.toFixed(1)+"px")})});return g.observe(u),()=>{cancelAnimationFrame(m),g.unobserve(u)}}},[]),b.createElement(Ge.div,{ref:Yi(o,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":c,"aria-label":n,id:d.listId},u1(e,u=>b.createElement("div",{ref:Yi(l,d.listInnerRef),"cmdk-list-sizer":""},u)))}),A1e=b.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:o,container:l,...c}=e;return b.createElement(vg,{open:r,onOpenChange:n},b.createElement(yg,{container:l},b.createElement(yc,{"cmdk-overlay":"",className:a}),b.createElement(bc,{"aria-label":e.label,"cmdk-dialog":"",className:o},b.createElement(hz,{ref:t,...c}))))}),k1e=b.forwardRef((e,t)=>uc(r=>r.filtered.count===0)?b.createElement(Ge.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),D1e=b.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...o}=e;return b.createElement(Ge.div,{ref:t,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},u1(e,l=>b.createElement("div",{"aria-hidden":!0},l)))}),qs=Object.assign(hz,{List:_1e,Item:j1e,Input:E1e,Group:N1e,Separator:C1e,Dialog:A1e,Empty:k1e,Loading:D1e});function T1e(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function R1e(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function pz(e){let t=b.useRef(e);return Rd(()=>{t.current=e}),t}var Rd=typeof window>"u"?b.useEffect:b.useLayoutEffect;function lf(e){let t=b.useRef();return t.current===void 0&&(t.current=e()),t}function uc(e){let t=hk(),r=()=>e(t.snapshot());return b.useSyncExternalStore(t.subscribe,r,r)}function gz(e,t,r,n=[]){let a=b.useRef(),o=Ng();return Rd(()=>{var l;let c=(()=>{var u;for(let i of r){if(typeof i=="string")return i.trim();if(typeof i=="object"&&"current"in i)return i.current?(u=i.current.textContent)==null?void 0:u.trim():a.current}})(),d=n.map(u=>u.trim());o.value(e,c,d),(l=t.current)==null||l.setAttribute(of,c),a.current=c}),a}var P1e=()=>{let[e,t]=b.useState(),r=lf(()=>new Map);return Rd(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}};function M1e(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function u1({asChild:e,children:t},r){return e&&b.isValidElement(t)?b.cloneElement(M1e(t),{ref:t.ref},r(t.props.children)):r(t)}var O1e={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const rn=vg,xz=rH,I1e=yg,vz=b.forwardRef(({className:e,...t},r)=>s.jsx(yc,{ref:r,className:ee("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));vz.displayName=yc.displayName;const Vr=b.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(I1e,{children:[s.jsx(vz,{}),s.jsxs(bc,{ref:n,className:ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(bg,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(qd,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Vr.displayName=bc.displayName;const Wr=({className:e,...t})=>s.jsx("div",{className:ee("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Wr.displayName="DialogHeader";const nn=({className:e,...t})=>s.jsx("div",{className:ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});nn.displayName="DialogFooter";const Gr=b.forwardRef(({className:e,...t},r)=>s.jsx(wc,{ref:r,className:ee("text-lg font-semibold leading-none tracking-tight",e),...t}));Gr.displayName=wc.displayName;const cn=b.forwardRef(({className:e,...t},r)=>s.jsx(Wd,{ref:r,className:ee("text-sm text-muted-foreground",e),...t}));cn.displayName=Wd.displayName;const yz=b.forwardRef(({className:e,...t},r)=>s.jsx(qs,{ref:r,className:ee("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));yz.displayName=qs.displayName;const bz=b.forwardRef(({className:e,...t},r)=>s.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[s.jsx(ol,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),s.jsx(qs.Input,{ref:r,className:ee("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));bz.displayName=qs.Input.displayName;const wz=b.forwardRef(({className:e,...t},r)=>s.jsx(qs.List,{ref:r,className:ee("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));wz.displayName=qs.List.displayName;const Sz=b.forwardRef((e,t)=>s.jsx(qs.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));Sz.displayName=qs.Empty.displayName;const jz=b.forwardRef(({className:e,...t},r)=>s.jsx(qs.Group,{ref:r,className:ee("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));jz.displayName=qs.Group.displayName;const L1e=b.forwardRef(({className:e,...t},r)=>s.jsx(qs.Separator,{ref:r,className:ee("-mx-1 h-px bg-border",e),...t}));L1e.displayName=qs.Separator.displayName;const Nz=b.forwardRef(({className:e,...t},r)=>s.jsx(qs.Item,{ref:r,className:ee("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...t}));Nz.displayName=qs.Item.displayName;var CC=0;function Cz(){b.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??q3()),document.body.insertAdjacentElement("beforeend",e[1]??q3()),CC++,()=>{CC===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),CC--}},[])}function q3(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var f1="Popover",[Ez,J9e]=jn(f1,[pm]),Cg=pm(),[B1e,Sc]=Ez(f1),_z=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:o,modal:l=!1}=e,c=Cg(t),d=b.useRef(null),[u,i]=b.useState(!1),[m,g]=Fa({prop:n,defaultProp:a??!1,onChange:o,caller:f1});return s.jsx(lk,{...c,children:s.jsx(B1e,{scope:t,contentId:kn(),triggerRef:d,open:m,onOpenChange:g,onOpenToggle:b.useCallback(()=>g(x=>!x),[g]),hasCustomAnchor:u,onCustomAnchorAdd:b.useCallback(()=>i(!0),[]),onCustomAnchorRemove:b.useCallback(()=>i(!1),[]),modal:l,children:r})})};_z.displayName=f1;var Az="PopoverAnchor",F1e=b.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Sc(Az,r),o=Cg(r),{onCustomAnchorAdd:l,onCustomAnchorRemove:c}=a;return b.useEffect(()=>(l(),()=>c()),[l,c]),s.jsx(i1,{...o,...n,ref:t})});F1e.displayName=Az;var kz="PopoverTrigger",Dz=b.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Sc(kz,r),o=Cg(r),l=ct(t,a.triggerRef),c=s.jsx(Ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Oz(a.open),...n,ref:l,onClick:vt(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?c:s.jsx(i1,{asChild:!0,...o,children:c})});Dz.displayName=kz;var pk="PopoverPortal",[U1e,$1e]=Ez(pk,{forceMount:void 0}),Tz=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,o=Sc(pk,t);return s.jsx(U1e,{scope:t,forceMount:r,children:s.jsx(Qo,{present:r||o.open,children:s.jsx(fm,{asChild:!0,container:a,children:n})})})};Tz.displayName=pk;var Lf="PopoverContent",Rz=b.forwardRef((e,t)=>{const r=$1e(Lf,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,o=Sc(Lf,e.__scopePopover);return s.jsx(Qo,{present:n||o.open,children:o.modal?s.jsx(z1e,{...a,ref:t}):s.jsx(q1e,{...a,ref:t})})});Rz.displayName=Lf;var H1e=lc("PopoverContent.RemoveScroll"),z1e=b.forwardRef((e,t)=>{const r=Sc(Lf,e.__scopePopover),n=b.useRef(null),a=ct(t,n),o=b.useRef(!1);return b.useEffect(()=>{const l=n.current;if(l)return t1(l)},[]),s.jsx(xg,{as:H1e,allowPinchZoom:!0,children:s.jsx(Pz,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:vt(e.onCloseAutoFocus,l=>{l.preventDefault(),o.current||r.triggerRef.current?.focus()}),onPointerDownOutside:vt(e.onPointerDownOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:vt(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),q1e=b.forwardRef((e,t)=>{const r=Sc(Lf,e.__scopePopover),n=b.useRef(!1),a=b.useRef(!1);return s.jsx(Pz,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(n.current||r.triggerRef.current?.focus(),o.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=o.target;r.triggerRef.current?.contains(l)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),Pz=b.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:i,...m}=e,g=Sc(Lf,r),x=Cg(r);return Cz(),s.jsx(gg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:o,children:s.jsx(n1,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:i,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onDismiss:()=>g.onOpenChange(!1),children:s.jsx(ck,{"data-state":Oz(g.open),role:"dialog",id:g.contentId,...x,...m,ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Mz="PopoverClose",V1e=b.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Sc(Mz,r);return s.jsx(Ge.button,{type:"button",...n,ref:t,onClick:vt(e.onClick,()=>a.onOpenChange(!1))})});V1e.displayName=Mz;var W1e="PopoverArrow",G1e=b.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Cg(r);return s.jsx(dk,{...a,...n,ref:t})});G1e.displayName=W1e;function Oz(e){return e?"open":"closed"}var Y1e=_z,Z1e=Dz,K1e=Tz,Iz=Rz;const Lz=Y1e,Bz=Z1e,gk=b.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(K1e,{children:s.jsx(Iz,{ref:a,align:t,sideOffset:r,className:ee("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...n})}));gk.displayName=Iz.displayName;const X1e=({stores:e,currentStore:t,onStoreChange:r})=>{const[n,a]=b.useState(!1),o=l=>{const c=e.find(d=>d.id===l);c&&r&&r(c),a(!1)};return s.jsxs(Lz,{open:n,onOpenChange:a,children:[s.jsx(Bz,{asChild:!0,children:s.jsxs(X,{variant:"outline",role:"combobox","aria-expanded":n,className:"w-full justify-between h-8 md:h-10 text-xs p-1 sm:p-2 bg-sidebar/50 border-sidebar-border hover:bg-sidebar-accent/50 group-data-[collapsible=icon]:w-8 group-data-[collapsible=icon]:h-8 group-data-[collapsible=icon]:p-1.5",children:[s.jsxs("div",{className:"m-1 flex flex-col items-start min-w-0 flex-1 group-data-[collapsible=icon]:hidden",children:[s.jsx("span",{className:"font-medium text-xs truncate w-full text-left",children:t.name}),s.jsx("span",{className:"text-muted-foreground text-xs truncate w-full text-left hidden sm:block",children:t.metadata.address||"No address"})]}),s.jsx(fa,{className:"group-data-[collapsible=icon]:block hidden h-4 w-4"}),s.jsx(zd,{className:"ml-1 sm:ml-2 h-2 w-2 sm:h-3 sm:w-3 shrink-0 opacity-50 group-data-[collapsible=icon]:hidden"})]})}),s.jsx(gk,{className:"w-[250px] sm:w-[280px] p-0 bg-popover border-border",children:s.jsxs(yz,{className:"bg-popover",children:[s.jsx(bz,{placeholder:"Search stores...",className:"h-7 sm:h-8"}),s.jsx(Sz,{children:"No store found."}),s.jsx(jz,{children:s.jsx(wz,{children:e.map(l=>s.jsxs(Nz,{value:`${l.name} ${l.metadata.address||""}`,onSelect:()=>{o(l.id)},className:"flex items-center space-x-2 p-1.5 sm:p-2",children:[s.jsx(Zw,{className:`mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4 ${t.id===l.id?"opacity-100":"opacity-0"}`}),s.jsxs("div",{className:"flex flex-col min-w-0 flex-1",children:[s.jsx("span",{className:"font-medium text-xs sm:text-sm truncate",children:l.name}),s.jsx("span",{className:"text-xs text-muted-foreground truncate",children:l.metadata.address||"No address"})]})]},l.id))})})]})})]})},Q1e=({stores:e,currentStore:t,onStoreChange:r})=>s.jsxs(nz,{className:"bg-transparent",children:[s.jsxs("div",{className:"px-2 sm:px-3 py-3 sm:py-4",children:[s.jsx("h1",{className:"text-lg sm:text-xl font-bold text-primary group-data-[collapsible=icon]:hidden",children:"Pizza Portal"}),s.jsx("div",{className:"hidden group-data-[collapsible=icon]:flex items-center justify-center",children:s.jsx("span",{className:"text-lg font-bold text-primary",children:"P"})})]}),s.jsx("div",{className:"",children:s.jsx(X1e,{stores:e,currentStore:t,onStoreChange:r})})]}),Yt=({role:e,roles:t,checkType:r="any",children:n,fallback:a=null,onRoleDenied:o,showErrorOnDataMissing:l=!1})=>{const c=ue(g=>g.auth.roles),d=ue(g=>g.auth.isAuthenticated);if(!ue(g=>g.auth.isInitialized))return null;if(!d)return o?.(),s.jsx(s.Fragment,{children:a});if(!e&&(!t||t.length===0))return console.error('RoleGuard: Either "role" or "roles" prop must be provided'),l?s.jsx("div",{className:"text-red-500 text-sm",children:"Error: No roles specified for RoleGuard"}):s.jsx(s.Fragment,{children:a});const i=e?[e]:t;let m=!1;try{if(c&&c.length>0)r==="all"?m=i.every(g=>c.includes(g)):m=i.some(g=>c.includes(g));else if(Rw())i.length===1?m=Mne(i[0]):r==="all"?m=Ine(i):m=One(i);else{if(console.warn("RoleGuard: No roles data found in Redux store or localStorage"),l)return s.jsx("div",{className:"text-yellow-600 text-sm p-2 bg-yellow-50 border border-yellow-200 rounded",children:"Warning: Unable to verify roles. Please refresh the page or contact support."});m=!1}}catch(g){if(console.error("RoleGuard: Error checking roles:",g),l)return s.jsx("div",{className:"text-red-500 text-sm p-2 bg-red-50 border border-red-200 rounded",children:"Error: Failed to check roles. Please try again."});m=!1}return m?s.jsx(s.Fragment,{children:n}):(o?.(),s.jsx(s.Fragment,{children:a}))};function V3(e,t){return t==="/dashboard"||t==="/settings"?e===t:e===t||e.startsWith(t+"/")}const J1e=({menuItems:e})=>{const t=Wn();return s.jsxs(oz,{children:[s.jsx(iz,{className:"px-2 sm:px-3 text-xs sm:text-sm group-data-[collapsible=icon]:hidden",children:"Application"}),s.jsx(lz,{children:s.jsx(mk,{children:e.map(r=>r.url==="/dashboard"||r.url==="/settings"?s.jsx(Tb,{children:s.jsx(Rb,{asChild:!0,isActive:V3(t.pathname,r.url),className:"px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm hover:bg-sidebar-accent hover:underline data-[active=true]:bg-sidebar-accent/70",tooltip:r.title,children:s.jsxs(us,{to:r.url,className:"flex items-center space-x-2 sm:space-x-3",children:[s.jsx(r.icon,{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:r.title})]})})},r.title):s.jsx(Yt,{role:"super-admin",fallback:null,children:s.jsx(Tb,{children:s.jsx(Rb,{asChild:!0,isActive:V3(t.pathname,r.url),className:"px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm hover:bg-sidebar-accent hover:underline data-[active=true]:bg-sidebar-accent/70",tooltip:r.title,children:s.jsxs(us,{to:r.url,className:"flex items-center space-x-2 sm:space-x-3",children:[s.jsx(r.icon,{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:r.title})]})})})},r.title))})})]})},xk="current_store";function eSe(e){try{localStorage.setItem(xk,JSON.stringify(e))}catch{}}function W3(){try{const e=localStorage.getItem(xk);return e?JSON.parse(e):null}catch{return null}}function tSe(){try{localStorage.removeItem(xk)}catch{}}const Fz=b.createContext(void 0),rSe=({children:e})=>{const[t,r]=b.useState(()=>W3());b.useEffect(()=>{t?eSe(t):tSe()},[t]),b.useEffect(()=>{const a=o=>{o.key==="current_store"&&r(W3())};return window.addEventListener("storage",a),()=>window.removeEventListener("storage",a)},[]);const n=b.useMemo(()=>({currentStore:t,setCurrentStore:r,clear:()=>r(null)}),[t]);return s.jsx(Fz.Provider,{value:n,children:e})};function Uz(){const e=b.useContext(Fz);if(!e)throw new Error("useCurrentStore must be used within CurrentStoreProvider");return e}const nSe=e=>e.map(t=>({id:t.store.id,name:t.store.name,metadata:t.store.metadata,is_active:t.store.is_active}));function sSe(e,t){return e===t}const aSe=()=>{const e=Wn(),{currentStore:t,setCurrentStore:r}=Uz(),[n,a]=b.useState([]),[,o]=b.useState("");b.useEffect(()=>{const d=Pne();if(d&&d.length>0){const i=nSe(d).filter(g=>g.is_active);if(a(i),i.length===0){r(null);return}t&&i.find(g=>g.id===t.id)||r(i[0])}else a([]),r(null)},[r]),b.useEffect(()=>{o(e.pathname)},[e.pathname]);const l=d=>{r(d)},c=[{title:"Dashboard",url:"/dashboard",icon:Uxe},{title:"Blank Page",url:"/blank-page",icon:o$},{title:"User Management",url:"/user-management",icon:_r},{title:"Employees",url:"/employees",icon:ic},{title:"Employment Information",url:"/employment-information",icon:a$},{title:"Service Client Management",url:"/service-client-management",icon:l3},{title:"Auth Rules",url:"/auth-rules",icon:l3},{title:"Stores",url:"/stores",icon:fa},{title:"User Role Store Assignment",url:"/user-role-store-assignment",icon:_r},{title:"Positions",url:"/positions",icon:r$},{title:"Schedule Preferences",url:"/schedule-preferences",icon:js}];return s.jsxs(tz,{collapsible:"icon",className:"bg-sidebar-gradient border-r border-sidebar-border shadow-md",children:[n.length>0&&t&&s.jsx(Q1e,{stores:n,currentStore:t,onStoreChange:l}),s.jsx(az,{className:"!bg-sidebar",children:s.jsx(J1e,{menuItems:c})}),s.jsx(sz,{className:"bg-transparent",children:s.jsx(mk,{children:s.jsx(Tb,{children:s.jsx(Rb,{asChild:!0,isActive:sSe(e.pathname,"/settings"),className:"px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm hover:bg-sidebar-accent/50 data-[active=true]:bg-sidebar-accent/70",tooltip:"Settings",children:s.jsxs(us,{to:"/settings",className:"flex items-center space-x-2 sm:space-x-3",children:[s.jsx(pg,{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:"Settings"})]})})})})})]})},$z=b.forwardRef(({...e},t)=>s.jsx("nav",{ref:t,"aria-label":"breadcrumb",...e}));$z.displayName="Breadcrumb";const Hz=b.forwardRef(({className:e,...t},r)=>s.jsx("ol",{ref:r,className:ee("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...t}));Hz.displayName="BreadcrumbList";const zz=b.forwardRef(({className:e,...t},r)=>s.jsx("li",{ref:r,className:ee("inline-flex items-center gap-1.5",e),...t}));zz.displayName="BreadcrumbItem";const fA=b.forwardRef(({asChild:e,className:t,...r},n)=>{const a=e?vc:"a";return s.jsx(a,{ref:n,className:ee("transition-colors hover:text-foreground",t),...r})});fA.displayName="BreadcrumbLink";const qz=b.forwardRef(({className:e,...t},r)=>s.jsx("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:ee("font-normal text-foreground",e),...t}));qz.displayName="BreadcrumbPage";const Vz=({children:e,className:t,...r})=>s.jsx("li",{role:"presentation","aria-hidden":"true",className:ee("[&>svg]:w-3.5 [&>svg]:h-3.5",t),...r,children:e??s.jsx(qa,{})});Vz.displayName="BreadcrumbSeparator";function oSe(e){const t={"/dashboard":"Dashboard","/blank-page":"Blank Page","/settings":"Settings","/terms":"Terms of Service","/privacy":"Privacy Policy","/user-management":"User Management","/user-management/create/user":"Create User","/user-management/edit/user":"Edit User","/user-management/view/user":"View User","/user-management/create/role":"Create Role","/user-management/roles/assign-permissions":"Assign Permissions","/user-management/create/permission":"Create Permission","/employees":"Employees","/employees/create":"Create Employee","/employees/edit":"Edit Employee","/employees/view":"View Employee","/employment-information":"Employment Information","/service-client-management":"Service Client Management","/auth-rules":"Auth Rules","/auth-rules/create":"Create Auth Rule","/stores":"Stores","/stores/create":"Create Store","/stores/edit":"Edit Store","/stores/view":"View Store","/user-role-store-assignment":"User Role Store Assignment","/user-role-store-assignment/bulk":"Bulk Assignment","/user-role-store-assignment/assign":"Assign Roles","/user-role-store-assignment/view/user":"View User Assignments","/user-role-store-assignment/view/store":"View Store Assignments","/stores-hierarchy":"Stores Hierarchy","/stores-hierarchy/view":"View Hierarchy","/stores-hierarchy/create":"Create Hierarchy","/stores-hierarchy/delete":"Delete Hierarchy","/stores-hierarchy/validate":"Validate Hierarchy","/positions":"Positions","/positions/create":"Create Position","/positions/edit":"Edit Position","/positions/view":"View Position","/schedule-preferences":"Schedule Preferences","/schedule-preferences/create":"Create Schedule Preference","/schedule-preferences/edit":"Edit Schedule Preference","/schedule-preferences/view":"View Schedule Preference","/daily-schedules":"Daily Schedules","/daily-schedules/create":"Create Daily Schedule","/daily-schedules/edit":"Edit Daily Schedule","/daily-schedules/view":"View Daily Schedule","/weekly-schedules":"Weekly Schedules","/weekly-schedules/create":"Create Weekly Schedule","/weekly-schedules/edit":"Edit Weekly Schedule","/weekly-schedules/view":"View Weekly Schedule"},r=[];if(r.push({label:"Dashboard",href:"/dashboard",isActive:e==="/dashboard"}),e==="/dashboard")return r;const n=e.split("/").filter(Boolean);let a="";for(let o=0;o<n.length;o++){a+="/"+n[o];let l=t[a];if(!l){const d=a.replace(/\/[^/]+$/,"");if(l=t[d],!l){const u=n[o];l=u.charAt(0).toUpperCase()+u.slice(1).replace(/-/g," ")}}const c=a===e;r.push({label:l,href:a,isActive:c})}return r}const iSe=({pathname:e})=>{const t=oSe(e);return s.jsx("div",{className:"flex items-center px-2 py-1 sm:py-2 bg-muted/30",children:s.jsx($z,{children:s.jsx(Hz,{className:"text-xs sm:text-sm",children:t.map((r,n)=>s.jsxs(pe.Fragment,{children:[s.jsx(zz,{children:r.isActive?s.jsx(qz,{className:"text-foreground font-medium text-xs sm:text-sm",children:r.label}):r.label.toLowerCase()==="stores"?s.jsx(fA,{href:"/stores",className:"text-muted-foreground hover:text-foreground transition-colors text-xs sm:text-sm cursor-pointer",children:r.label}):s.jsx(fA,{href:r.href,className:"text-muted-foreground hover:text-foreground transition-colors text-xs sm:text-sm",children:r.label})}),n<t.length-1&&s.jsx(Vz,{className:"w-3 h-3 sm:w-4 sm:h-4"})]},r.href))})})})},lSe=()=>{const{user:e,isAuthenticated:t}=za(),r=Wn();return!t||!e?s.jsx("header",{className:"flex h-12 sm:h-16 shrink-0 items-center gap-1 sm:gap-2 transition-[width,height] ease-linear group-has-[[data-collapsible=icon]]/sidebar-wrapper:h-12 border-b border-border",children:s.jsx("div",{className:"flex items-center gap-1 sm:gap-2 px-2 sm:px-4",children:s.jsx(cA,{className:"-ml-0.5 sm:-ml-1"})})}):s.jsx("header",{className:"flex flex-col border-b border-border",children:s.jsx("div",{className:"flex h-12 sm:h-16 shrink-0 items-center gap-1 sm:gap-2 transition-[width,height] ease-linear group-has-[[data-collapsible=icon]]/sidebar-wrapper:h-12",children:s.jsxs("div",{className:"flex items-center px-2 sm:px-4",children:[s.jsx(cA,{className:"-ml-0.5 sm:-ml-1"}),s.jsx(iSe,{pathname:r.pathname})]})})})},kt=({children:e})=>s.jsx(rSe,{children:s.jsxs(ez,{children:[s.jsx(aSe,{}),s.jsxs(rz,{children:[s.jsx(lSe,{}),s.jsx("div",{className:"flex flex-1 flex-col gap-4 p-4 pt-0",children:s.jsx("div",{className:"min-h-[100vh] flex-1 rounded-xl bg-muted/50 md:min-h-min",children:e})})]})]})}),vk=({title:e,subtitle:t,className:r,actions:n})=>{const a=Ko();return s.jsx("header",{className:ee("text-center",a?"space-y-1":"space-y-2",r),children:s.jsxs("div",{className:ee("flex items-center justify-between",a&&"flex-col space-y-2"),children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:ee("font-bold text-foreground",a?"text-lg":"text-xl md:text-2xl lg:text-3xl"),children:e}),t&&s.jsx("p",{className:ee("text-muted-foreground mt-1",a?"text-xs":"text-sm"),children:t})]}),n&&s.jsx("div",{className:ee("flex items-center",a?"gap-1":"gap-2"),children:n})]})})};function cSe({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const dSe=b.forwardRef(cSe);function uSe({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const fSe=b.forwardRef(uSe);function mSe({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"}))}const hSe=b.forwardRef(mSe);function pSe({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const gSe=b.forwardRef(pSe);function xSe({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const vSe=b.forwardRef(xSe);function ySe({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const bSe=b.forwardRef(ySe);function wSe({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25"}))}const SSe=b.forwardRef(wSe);function jSe({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const NSe=b.forwardRef(jSe);function CSe({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const ESe=b.forwardRef(CSe);function _Se({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Bf=b.forwardRef(_Se);function ASe({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75a6 6 0 0 0 6-6v-1.5m-6 7.5a6 6 0 0 1-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 0 1-3-3V4.5a3 3 0 1 1 6 0v8.25a3 3 0 0 1-3 3Z"}))}const kSe=b.forwardRef(ASe);function DSe({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const TSe=b.forwardRef(DSe);function RSe({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const PSe=b.forwardRef(RSe);function MSe({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"}))}const OSe=b.forwardRef(MSe);function ISe({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const LSe=b.forwardRef(ISe),BSe={FlowbiteChartLineDownOutline:gSe,IconParkOutlineRecycling:dSe,TablerPlusMinus:PSe,Fa6SolidPencil:TSe,currency:NSe,trophy:OSe,trending:fSe,users:LSe,arrowUp:hSe,checkCircle:vSe,computer:SSe,microphone:kSe,clock:bSe,document:ESe},Wz=({item:e,isLoading:t=!1,isMobile:r=!1,bgColor:n})=>{const a=BSe[e.icon];return s.jsxs(be,{className:ee("w-full h-full shadow-realistic transition-all duration-200 overflow-hidden","hover:shadow-realistic-lg transform hover:scale-[1.02]",t&&"opacity-50 pointer-events-none"),children:[s.jsxs(Te,{className:ee("flex flex-row items-center justify-between space-y-0 rounded-t-md",n||e.bgColor,r?"p-2":"p-4"),children:[s.jsx(Ue,{className:ee("font-medium text-foreground truncate",r?"text-sm leading-tight":"text-base"),children:e.title}),s.jsx(a,{className:ee("text-foreground",r?"h-4 w-4":"h-6 w-6")})]}),s.jsxs(Ne,{className:ee("space-y-2",r?"p-2":"p-4",r?"space-y-2":"space-y-4"),children:[s.jsx(G3,{label:"Daily",value:e.daily,primary:!0,isMobile:r}),s.jsx(G3,{label:"Weekly",value:e.weekly,isMobile:r})]})]})},G3=({label:e,value:t,primary:r=!1,isMobile:n=!1})=>s.jsxs("div",{className:"flex items-center justify-between gap-2 min-w-0",children:[s.jsx("span",{className:ee("text-muted-foreground truncate flex-shrink",r&&"font-semibold",n?"text-sm":"text-base"),children:e}),s.jsx("span",{className:ee("text-foreground truncate flex-shrink-0",r&&"font-bold",n?"text-sm font-medium":"text-base",r&&!n&&"font-bold"),children:t})]}),Gz=({data:e,isLoading:t=!1,className:r})=>{const{theme:n}=mg(),a=Ko(),o=n==="dark"||n==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches;return s.jsx("div",{className:ee("grid w-full","grid-cols-2 grid-rows-3","gap-2 sm:gap-3","md:grid-cols-6 md:grid-rows-2","md:gap-4 lg:gap-6 xl:gap-8",r),children:e.slice(0,5).map((l,c)=>{const m=(o?["bg-primary-500","bg-primary-600","bg-primary-700","bg-primary-800","bg-primary-900"]:["bg-primary-100","bg-primary-200","bg-primary-300","bg-primary-400","bg-primary-500"])[c];let g="";return c===4&&(g="col-span-2"),c===3&&(g=ee(g,"md:col-span-2 md:row-start-2 md:col-start-2")),c===4&&(g=ee(g,"md:col-span-2 md:row-start-2 md:col-start-4")),c===0?g=ee(g,"md:col-span-2 md:row-start-1 md:col-start-1"):c===1?g=ee(g,"md:col-span-2 md:row-start-1 md:col-start-3"):c===2&&(g=ee(g,"md:col-span-2 md:row-start-1 md:col-start-5")),s.jsx("div",{className:ee(g,"transition-all duration-300 ease-in-out","hover:scale-[1.02] hover:shadow-lg","min-h-[120px] sm:min-h-[140px] md:min-h-[160px]"),children:s.jsx(Wz,{item:l,isLoading:t,isMobile:a,bgColor:m})},`${l.title}-${c}`)})})},Yz=(e={})=>{const{autoClearErrors:t=!0,defaultCacheTTL:r,enableValidation:n=!0,enableLogging:a=!1}=e,o=Mt(),l=ue(I=>Xme(I)),c=ue(I=>Qme(I)),d=ue(I=>Jme(I)),u=ue(I=>ehe(I)),i=ue(I=>the(I)),m=ue(I=>nhe(I)),g=ue(I=>rhe(I)),x=ue(I=>she(I)),v=ue(I=>ahe(I)),N=ue(I=>ohe(I)),h=!!m;b.useMemo(()=>{r&&r!==g.ttl&&(o(qI(r)),a&&console.log("[useDsprApi] Cache TTL updated",{ttl:r}))},[r,g.ttl,o,a]);const y=b.useCallback(async(I,L)=>{try{if(a&&console.log("[useDsprApi] Fetching data",{params:I,itemCount:L?.length||0}),t&&u&&o(wv()),n){const F=Ov(I,L||[]);if(!F.isValid){const H=`Request validation failed: ${F.errors.join(", ")}`;throw console.error("[useDsprApi]",H),new Error(H)}}const B={params:I,body:L&&L.length>0?{items:L}:void 0},U=await o(ls(B));if(ls.rejected.match(U))throw new Error(U.payload?.message||"Failed to fetch DSPR data");a&&console.log("[useDsprApi] Data fetched successfully")}catch(B){throw console.error("[useDsprApi] Fetch error:",B),B}},[o,t,u,n,a]),w=b.useCallback(async I=>{try{if(a&&console.log("[useDsprApi] Fetching with request object",{request:I}),t&&u&&o(wv()),n){const B=Ov(I.params,I.body?.items||[]);if(!B.isValid){const U=`Request validation failed: ${B.errors.join(", ")}`;throw console.error("[useDsprApi]",U),new Error(U)}}const L=await o(ls(I));if(ls.rejected.match(L))throw new Error(L.payload?.message||"Failed to fetch DSPR data");a&&console.log("[useDsprApi] Data fetched successfully")}catch(L){throw console.error("[useDsprApi] Fetch with request error:",L),L}},[o,t,u,n,a]),j=b.useCallback(async()=>{try{if(!l.currentRequest)throw new Error("No previous request to refresh");a&&console.log("[useDsprApi] Refreshing data"),t&&u&&o(wv());const I=await o(Ql(l.currentRequest));if(Ql.rejected.match(I))throw new Error(I.payload?.message||"Failed to refresh DSPR data");a&&console.log("[useDsprApi] Data refreshed successfully")}catch(I){throw console.error("[useDsprApi] Refresh error:",I),I}},[o,l.currentRequest,t,u,a]),C=b.useCallback(()=>{o(Zme()),a&&console.log("[useDsprApi] API state reset")},[o,a]),_=b.useCallback(()=>{o(wv()),a&&console.log("[useDsprApi] Error cleared")},[o,a]),k=b.useCallback(()=>{o(kU()),a&&console.log("[useDsprApi] Cache cleared")},[o,a]),A=b.useCallback(I=>{o(qI(I)),a&&console.log("[useDsprApi] Cache TTL updated",{ttl:I})},[o,a]),T=b.useCallback(()=>{o(Kme()),a&&console.log("[useDsprApi] Cache invalidated")},[o,a]),R=b.useCallback((I,L)=>Ov(I,L||[]),[]),P=b.useCallback((I,L)=>i?!1:n?Ov(I,L||[]).isValid:!0,[i,n]),M=b.useCallback(()=>{const I={store:v?.store||null,date:v?.date||null},L=l.lastFetched?Date.now()-l.lastFetched:null;return{hasData:!!c,isLoading:i,hasError:!!u,isFresh:h,lastFetched:l.lastFetched,dataAge:L,currentContext:I}},[c,i,u,h,l.lastFetched,v]);return{data:c,status:d,error:u,isLoading:i,isCachedAndFresh:h,cacheInfo:g,requestMetadata:x,filteringValues:v,reportsData:N,fetchData:y,fetchWithRequest:w,refreshData:j,resetState:C,clearApiError:_,clearApiCache:k,updateCacheTTL:A,invalidateApiCache:T,validateRequest:R,canMakeRequest:P,getRequestSummary:M}};function Ov(e,t){const r=[],n=[];if(e.store?jU(e.store)||r.push(`Invalid store ID format: ${e.store}. Expected format: XXXXX-XXXXX`):r.push("Store ID is required"),!e.date)r.push("Date is required");else if(!NU(e.date))r.push(`Invalid date format: ${e.date}. Expected format: YYYY-MM-DD`);else{const a=new Date(e.date),o=new Date;o.setHours(0,0,0,0),a>o&&n.push("Requested date is in the future");const l=new Date(o);l.setDate(o.getDate()-30),a<l&&n.push("Requested date is more than 30 days in the past")}return t&&t.length>0&&(Array.isArray(t)?(t.forEach((a,o)=>{(a==null||a==="")&&r.push(`Invalid item at index ${o}: ${a}`)}),t.length>50&&n.push(`Large number of items (${t.length}). This may impact performance.`)):r.push("Items must be an array")),{isValid:r.length===0,errors:r,warnings:n}}const m1=(e={})=>{const{enableLogging:t=!1,configOverrides:r,benchmarkOverrides:n}=e,a=Mt(),{isLoading:o}=Yz(),l=ue(Y=>npe(Y)),c=ue(Y=>spe(Y)),d=ue(Y=>ape(Y)),u=ue(Y=>ope(Y)),i=ue(Y=>lpe(Y)),m=ue(Y=>cpe(Y)),g=ue(Y=>dpe(Y)),x=ue(Y=>upe(Y)),v=ue(Y=>fpe(Y)),N=ue(Y=>mpe(Y)),h=ue(Y=>hpe(Y)),y=ue(Y=>LU(Y)),w=ue(Y=>ipe(Y)),j=ue(Y=>xpe(Y)),C=ue(Y=>ppe(Y)),_=ue(Y=>gpe(Y));b.useMemo(()=>{r&&(a(KI(r)),t&&console.log("[useDSPRMetrics] Configuration overrides applied",r)),n&&(a(XI(n)),t&&console.log("[useDSPRMetrics] Benchmark overrides applied",n))},[r,n,a,t]);const k=b.useCallback(Y=>{a(KI(Y)),t&&console.log("[useDSPRMetrics] Configuration updated",Y)},[a,t]),A=b.useCallback(Y=>{a(XI(Y)),t&&console.log("[useDSPRMetrics] Benchmarks updated",Y)},[a,t]),T=b.useCallback(Y=>{a(Uhe(Y)),t&&console.log("[useDSPRMetrics] Alert dismissed",{alertIndex:Y})},[a,t]),R=b.useCallback(()=>{a($he()),t&&console.log("[useDSPRMetrics] All alerts cleared")},[a,t]),P=b.useCallback(()=>{a(Hhe()),t&&console.log("[useDSPRMetrics] Data reprocessing triggered")},[a,t]),M=b.useCallback(()=>{a(Bhe()),t&&console.log("[useDSPRMetrics] State reset")},[a,t]),I=b.useCallback(()=>{a(Fhe()),t&&console.log("[useDSPRMetrics] Error cleared")},[a,t]),L=b.useCallback(()=>{if(!i||!c)return null;const Y=N?.salesTrend.percentageChange||0,re=0,we=[];return i.digitalSales>i.totalSales*.5&&we.push("Digital sales exceed 50% of total revenue"),i.laborCostPercentage>.35&&we.push("Labor costs above recommended threshold"),{totalRevenue:i.totalSales,revenueGrowth:Y,profitMargin:(i.totalSales-i.totalSales*i.laborCostPercentage)/i.totalSales*100,averageTicket:i.averageTicket,ticketGrowth:re,cashFlow:i.cashSales+i.cashVariance,digitalRevenue:i.digitalSales,digitalPercentage:i.digitalSales/i.totalSales*100,performanceGrade:i.performanceGrade,keyInsights:we}},[i,c,N]),B=b.useCallback(()=>{if(!i||!v)return null;const Y=i.totalSales*i.laborCostPercentage+v.totalWaste,re=(i.totalSales-Y)/i.totalSales*100,we=re-10,_e=we-5;return{gross:re,net:we,operating:_e,laborCostImpact:i.laborCostPercentage*100,wasteImpact:v.wastePercentage*100,benchmarkComparison:{vs_industry:we-15,vs_target:we-20}}},[i,v]),U=b.useCallback(()=>{if(!g||!i)return null;const Y={[Jr.TRADITIONAL]:{amount:g.traditional.sales,percentage:g.traditional.percentage,growth:0},[Jr.DIGITAL]:{amount:g.digital.sales,percentage:g.digital.percentage,growth:0},[Jr.DELIVERY]:{amount:g.delivery.sales,percentage:g.delivery.percentage,growth:0},[Jr.PHONE]:{amount:g.phone.sales,percentage:g.phone.percentage,growth:0},[Jr.DRIVE_THRU]:{amount:0,percentage:0,growth:0}},re=Object.values(Y).map(_e=>_e.percentage),we=100-(Math.max(...re)-Math.min(...re));return{byChannel:Y,byTimeOfDay:[],diversification:we,stability:75}},[g,i]),F=b.useCallback(()=>{if(!i||!v)return null;const Y=i.totalSales*i.laborCostPercentage,re=v.totalWaste,we=Y+re,_e=i.totalSales*.15,Ee=Y+re,qe=_e;return{labor:{amount:Y,percentage:Y/i.totalSales*100},waste:{amount:re,percentage:v.wastePercentage*100},overhead:{amount:_e,percentage:15},variable:{amount:Ee,percentage:Ee/i.totalSales*100},fixed:{amount:qe,percentage:15},total:we+_e,efficiency:v.laborEfficiency}},[i,v]),H=b.useCallback(()=>{if(!m)return null;const Y={speed:m.portalOnTimePercentage*100,accuracy:(1-m.refundRate)*100,consistency:m.portalUtilization*100,utilization:m.customerCountPercentage*100},re=Object.values(Y).reduce((we,_e)=>we+_e,0)/4;return{overall:re,components:Y,benchmark:85,improvement:re-85,grade:re>=90?"A":re>=80?"B":re>=70?"C":"D"}},[m]),W=b.useCallback(()=>!m||!c?null:{peakHours:[12,18,19],averageWaitTime:5,throughputRate:m.customerCount/12,capacity:m.customerCount/m.customerCountPercentage,utilization:m.customerCountPercentage,bottlenecks:m.portalOnTimePercentage<.9?["Order preparation timing"]:[],recommendations:["Optimize staff scheduling for peak hours","Implement queue management system"]},[m,c]),J=b.useCallback(()=>{if(!m||!i)return null;const Y=12;return{ordersPerHour:m.customerCount/Y,customersPerHour:m.customerCount/Y,salesPerHour:i.totalSales/Y,efficiency:m.efficiencyScore,capacity:m.customerCount/m.customerCountPercentage,utilization:m.customerCountPercentage}},[m,i]),q=b.useCallback(()=>{if(!x)return null;const Y=(x.customerServiceScore*.4+x.orderAccuracy*.3+x.serviceConsistency*.3)*100,re=[];return x.customerServiceScore<.9&&re.push("Enhance customer service training"),x.orderAccuracy<.95&&re.push("Implement order verification process"),x.serviceConsistency<.9&&re.push("Standardize service procedures"),{customerSatisfaction:x.customerServiceScore*100,orderAccuracy:x.orderAccuracy*100,serviceSpeed:x.serviceConsistency*100,consistency:x.serviceConsistency*100,overallScore:Y,improvements:re}},[x]),G=b.useCallback(()=>g?[{channel:Jr.TRADITIONAL,metrics:g.traditional},{channel:Jr.DIGITAL,metrics:g.digital},{channel:Jr.DELIVERY,metrics:g.delivery},{channel:Jr.PHONE,metrics:g.phone}].map(({channel:re,metrics:we})=>({channel:re,rank:0,score:we.percentage+we.averageOrderValue/50,revenue:we.sales,growth:0,efficiency:we.averageOrderValue,strengths:we.percentage>20?["Strong market share"]:[],opportunities:we.percentage<10?["Growth potential"]:[]})).sort((re,we)=>we.score-re.score).map((re,we)=>({...re,rank:we+1})):[],[g]),z=b.useCallback(()=>{if(!g)return null;const Y=g.digitalAdoptionRate*100;return{currentRate:Y,targetRate:70,growth:N?.digitalTrend.percentageChange||0,barriers:Y<50?["Limited awareness","User experience issues"]:[],opportunities:["Mobile app optimization","Digital marketing campaigns"],roi:1.5,timeline:"3-6 months"}},[g,N]),K=b.useCallback(()=>{if(!g)return null;const Y={[Jr.TRADITIONAL]:g.traditional,[Jr.DIGITAL]:g.digital,[Jr.DELIVERY]:g.delivery,[Jr.PHONE]:g.phone,[Jr.DRIVE_THRU]:{sales:0,percentage:0,orders:0,averageOrderValue:0,trend:Mo.STABLE,performanceLevel:"average"}},re=Object.entries(Y).reduce((yt,[Ft,Zn])=>(yt[Ft]={efficiency:Zn.averageOrderValue/20,cost:Zn.sales*.05,revenue:Zn.sales,roi:Zn.sales/(Zn.sales*.05)},yt),{}),we=Object.values(re).map(yt=>yt.efficiency),_e=we.reduce((yt,Ft)=>yt+Ft,0)/we.length,Ee=Object.entries(re).sort(([,yt],[,Ft])=>Ft.efficiency-yt.efficiency),qe=Ee[0][0],mt=Ee[Ee.length-1][0];return{byChannel:re,overall:_e,bestPerforming:qe,leastEfficient:mt}},[g]),Z=b.useCallback(()=>g?{synergies:[{channels:[Jr.DIGITAL,Jr.DELIVERY],impact:"Digital ordering enhances delivery efficiency",opportunity:15}],conflicts:[{channels:[Jr.TRADITIONAL,Jr.DIGITAL],issue:"Resource allocation between channels",resolution:"Implement unified order management"}],optimization:["Integrate channel data for unified customer experience","Optimize staff allocation based on channel demand"]}:null,[g]),ie=b.useCallback(()=>!!(u&&i&&m),[u,i,m]),ye=b.useCallback(()=>{const Y={financial:i?100:0,operational:m?100:0,quality:x?100:0,costControl:v?100:0,salesChannel:g?100:0},re=Object.values(Y).reduce((Ee,qe)=>Ee+qe,0)/Object.keys(Y).length,we=Object.entries(Y).filter(([,Ee])=>Ee===0).map(([Ee])=>Ee);let _e="Poor";return re>=90?_e="Excellent":re>=75?_e="Good":re>=60&&(_e="Fair"),{overall:re,byCategory:Y,missingFields:we,quality:_e,recommendations:we.map(Ee=>`Ensure ${Ee} data is properly captured`)}},[i,m,x,v,g]),de=b.useCallback((Y,re={})=>{if(!u)throw new Error("No data available for export");const we=new Date().toISOString(),_e=re.timeRange||"daily";let Ee,qe;switch(Y){case"comprehensive":Ee={summary:u,financial:i,operational:m,salesChannels:g,quality:x,costControl:v,trends:N,alerts:y},qe=`dspr-comprehensive-${we.split("T")[0]}.json`;break;case"executive":Ee={overallGrade:h,keySummary:L(),alerts:w,recommendations:oe().slice(0,5)},qe=`dspr-executive-${we.split("T")[0]}.json`;break;case"operational":Ee={efficiency:H(),throughput:J(),customerFlow:W(),serviceQuality:q()},qe=`dspr-operational-${we.split("T")[0]}.json`;break;case"financial":Ee={summary:L(),margins:B(),revenueAnalysis:U(),costBreakdown:F()},qe=`dspr-financial-${we.split("T")[0]}.json`;break;case"alerts":Ee={alerts:y,criticalAlerts:w,impact:nt(),recommendations:oe()},qe=`dspr-alerts-${we.split("T")[0]}.json`;break;default:throw new Error(`Unsupported export format: ${Y}`)}return{format:Y,data:Ee,filename:qe,metadata:{exportDate:we,timeRange:_e,recordCount:Array.isArray(Ee)?Ee.length:1}}},[u,i,m,g,x,v,N,y,w,h]),xe=b.useCallback(()=>!v||!c?null:{totalWaste:v.totalWaste,wastePercentage:v.wastePercentage*100,wasteByCategory:{"Food Waste":v.totalWaste*.7,Packaging:v.totalWaste*.2,Other:v.totalWaste*.1},trend:N?.wasteTrend.direction||Mo.STABLE,causes:["Overproduction","Quality issues","Portion inconsistency"],reductionOpportunities:[{category:"Food Waste",potential:30,effort:"Medium"},{category:"Packaging",potential:15,effort:"Low"}]},[v,c,N]),ne=b.useCallback(()=>!v||!i?null:{currentEfficiency:v.laborEfficiency,targetEfficiency:85,gap:85-v.laborEfficiency,costPerHour:i.totalSales*i.laborCostPercentage/8,productivityScore:v.laborEfficiency,optimizationAreas:["Schedule optimization","Cross-training","Process automation"],recommendations:["Implement flexible scheduling","Provide efficiency training"]},[v,i]),ge=b.useCallback(()=>{const Y=[];return v?.laborEfficiency&&v.laborEfficiency<80&&Y.push({category:sa.COST_CONTROL,description:"Optimize labor scheduling and efficiency",potential:i?i.totalSales*.05:0,effort:"Medium",timeline:"2-3 months",impact:"High",requirements:["Schedule analysis","Staff training"]}),v?.wastePercentage&&v.wastePercentage>.03&&Y.push({category:sa.COST_CONTROL,description:"Reduce food waste through better inventory management",potential:v.totalWaste*.3,effort:"Low",timeline:"1 month",impact:"Medium",requirements:["Inventory tracking system","Staff training"]}),Y},[v,i]),Ce=b.useCallback(()=>{const Y=ge(),re=Y.reduce((we,_e)=>we+_e.potential,0);return{totalSavings:re,byCategory:Y.reduce((we,_e)=>(we[_e.category]=(we[_e.category]||0)+_e.potential,we),{}),quickWins:Y.filter(we=>we.effort==="Low").map(we=>we.description),longTermInitiatives:Y.filter(we=>we.effort==="High").map(we=>we.description),roi:re>0?re/(i?.totalSales||1)*100:0}},[ge,i]),ce=b.useCallback(()=>{if(!N)return null;const Y={sales:{trend:N.salesTrend.direction,change:N.salesTrend.percentageChange,significance:N.salesTrend.significance},labor:{trend:N.laborTrend.direction,change:N.laborTrend.percentageChange,significance:N.laborTrend.significance},customers:{trend:N.customerTrend.direction,change:N.customerTrend.percentageChange,significance:N.customerTrend.significance}};return{overall:N.salesTrend.direction,byMetric:Y,forecast:[{period:"Next Week",prediction:i?.totalSales||0,confidence:75},{period:"Next Month",prediction:(i?.totalSales||0)*1.05,confidence:60}]}},[N,i]),Oe=b.useCallback(()=>{if(!j||!i||!m)return null;const Y={"Labor Cost":{current:i.laborCostPercentage*100,benchmark:j.industry.laborCost*100,gap:(i.laborCostPercentage-j.industry.laborCost)*100,status:i.laborCostPercentage<=j.industry.laborCost?"at":"above"},"Customer Service":{current:(x?.customerServiceScore||0)*100,benchmark:j.industry.customerService*100,gap:((x?.customerServiceScore||0)-j.industry.customerService)*100,status:(x?.customerServiceScore||0)>=j.industry.customerService?"above":"below"}},re={"Labor Cost":{current:i.laborCostPercentage*100,target:j.targets.laborCost*100,gap:(i.laborCostPercentage-j.targets.laborCost)*100,onTrack:i.laborCostPercentage<=j.targets.laborCost}},we=Object.values(Y).reduce((_e,Ee)=>_e+(Ee.status==="above"?100:Ee.status==="at"?90:70),0)/Object.keys(Y).length;return{vsIndustry:Y,vsTargets:re,overallScore:we}},[j,i,m,x]),Pe=b.useCallback(()=>{if(!h||!i)return null;const Y=i.totalSales,re=Y*1.15;return{current:Y,target:re,trajectory:[{milestone:"30 days",timeline:"1 month",value:Y*1.03},{milestone:"90 days",timeline:"3 months",value:Y*1.08},{milestone:"180 days",timeline:"6 months",value:re}],feasibility:"Medium",requirements:["Staff training","Process optimization","Technology upgrades"]}},[h,i]),ae=b.useCallback(()=>{if(!N||!i)return null;const Y=N.salesTrend.direction===Mo.UP?1.05:N.salesTrend.direction===Mo.DOWN?.95:1;return{nextPeriod:{prediction:i.totalSales*Y,confidence:75,factors:["Current trend direction","Seasonal patterns","Operational changes"]},longTerm:{trend:N.salesTrend.direction,projection:i.totalSales*Math.pow(Y,12),scenarios:[{name:"Optimistic",probability:25,outcome:i.totalSales*1.2},{name:"Expected",probability:50,outcome:i.totalSales*1.1},{name:"Conservative",probability:25,outcome:i.totalSales*1.05}]}}},[N,i]),$e=b.useCallback(Y=>y.filter(re=>re.category===Y),[y]),nt=b.useCallback(()=>{const Y=y.reduce((_e,Ee)=>(_e[Ee.category]=(_e[Ee.category]||0)+Math.abs(Ee.variance),_e),{}),re=Object.values(Y).reduce((_e,Ee)=>_e+Ee,0),we=y.filter(_e=>_e.priority===pf.URGENT).length;return{totalImpact:re,byCategory:Y,urgentCount:we,averageResolutionTime:24,resourceRequirements:["Management attention","Staff time","Process changes"]}},[y]),oe=b.useCallback(()=>{const Y=[];return w.forEach(re=>{Y.push({title:`Address ${re.title}`,description:re.message,category:re.category,priority:re.priority,effort:"Medium",impact:re.impact==="severe"?"High":"Medium",timeline:"1-2 weeks",requirements:re.recommendations.slice(0,2),expectedOutcome:`Improve ${re.metric} performance`,successMetrics:[`${re.metric} within target range`]})}),v?.laborEfficiency&&v.laborEfficiency<80&&Y.push({title:"Optimize Labor Efficiency",description:"Implement scheduling optimization and staff training programs",category:sa.COST_CONTROL,priority:pf.MEDIUM,effort:"Medium",impact:"High",timeline:"4-6 weeks",requirements:["Schedule analysis","Training materials","Performance tracking"],expectedOutcome:"Improved labor productivity and reduced costs",successMetrics:["Labor efficiency > 85%","Cost reduction of 5-8%"]}),Y.slice(0,10)},[w,v]),Fe=b.useCallback(Y=>{let re=0;switch(Y.severity){case Lo.CRITICAL:re+=40;break;case Lo.ERROR:re+=30;break;case Lo.WARNING:re+=20;break;case Lo.INFO:re+=10;break}return re+=Math.min(Math.abs(Y.variance),30),Y.category===sa.FINANCIAL?re+=15:Y.category===sa.OPERATIONAL&&(re+=10),Math.min(re,100)},[]),Q=b.useCallback(Y=>{const re=new Date().toISOString();switch(Y){case"executive":return{type:Y,summary:`Overall performance grade: ${h}. ${w.length} critical issues require attention.`,keyMetrics:{"Total Sales":i?.totalSales||0,"Labor Cost %":(i?.laborCostPercentage||0)*100,"Customer Service":(x?.customerServiceScore||0)*100,"Digital Sales %":g?.digitalAdoptionRate?g.digitalAdoptionRate*100:0},insights:[`Digital adoption at ${g?.digitalAdoptionRate?(g.digitalAdoptionRate*100).toFixed(1):0}%`,`${w.length} critical operational issues identified`],recommendations:oe().slice(0,3).map(we=>we.title),charts:[],generatedAt:re};case"operational":return{type:Y,summary:`Operational efficiency at ${H()?.overall.toFixed(1)||0}%. Key areas for improvement identified.`,keyMetrics:{"Efficiency Score":H()?.overall||0,"Customer Count":m?.customerCount||0,"Portal Utilization":(m?.portalUtilization||0)*100,"On-time Performance":(m?.portalOnTimePercentage||0)*100},insights:[`Portal utilization at ${((m?.portalUtilization||0)*100).toFixed(1)}%`,`Customer count performance at ${((m?.customerCountPercentage||0)*100).toFixed(1)}%`],recommendations:["Optimize staff scheduling for peak hours","Improve order preparation timing","Enhance portal system efficiency"],charts:[],generatedAt:re};default:return{type:Y,summary:"Performance report generated successfully.",keyMetrics:{},insights:[],recommendations:[],charts:[],generatedAt:re}}},[h,w,i,x,g,m,H,oe]);return{dailyRawData:c,weeklyRawData:d,processedData:u,financialMetrics:i,operationalMetrics:m,salesChannelMetrics:g,qualityMetrics:x,costControlMetrics:v,weeklyTrends:N,overallGrade:h,alerts:y,criticalAlerts:w,benchmarks:j,isLoading:C||o,error:_,currentConfig:l.config,updateConfig:k,updatePerformanceBenchmarks:A,dismissAlert:T,clearAllAlerts:R,reprocessData:P,resetState:M,clearError:I,getFinancialSummary:L,calculateProfitMargins:B,analyzeRevenueStreams:U,getCostBreakdown:F,getEfficiencyScore:H,analyzeCustomerFlow:W,calculateThroughput:J,getServiceQuality:q,getChannelRanking:G,analyzeDigitalAdoption:z,calculateChannelEfficiency:K,getCrossChannelInsights:Z,getWasteAnalysis:xe,analyzeLaborEfficiency:ne,getCostSavingsOpportunities:ge,getExpenseOptimization:Ce,getPerformanceTrends:ce,compareBenchmarks:Oe,getImprovementTrajectory:Pe,predictPerformance:ae,getAlertsByCategory:$e,getAlertImpactAnalysis:nt,getRecommendedActions:oe,calculateAlertPriority:Fe,hasValidData:ie,getDataCompleteness:ye,exportData:de,generateReport:Q}},FSe=({title:e="Sales Performance Overview",subtitle:t,data:r,className:n})=>{const{dailyRawData:a,weeklyRawData:o,isLoading:l,error:c}=m1(),d=Ko(),u=b.useMemo(()=>{const v=P=>{if(P==null||isNaN(P))return"$0";const M=Math.abs(P),I=P<0?"-":"";return M>=1e3?`${I}$${(M/1e3).toFixed(2)}k`:`${I}$${M.toFixed(2)}`},N=P=>P==null||isNaN(P)?"0":Math.round(P).toString(),h=a?.Waste_Alta??0,y=a?.waste_gateway??0,w=a?.over_short??0,j=a?.Modified_Order_Qty??0,C=a?.Cash_Sales_Vs_Deposite_Difference??0,_=o?.Waste_Alta??0,k=o?.waste_gateway??0,A=o?.over_short??0,T=o?.Modified_Order_Qty??0,R=o?.Cash_Sales_Vs_Deposite_Difference??0;return[{title:"Waste Altmetrics",bgColor:"bg-blue-500",icon:"FlowbiteChartLineDownOutline",daily:v(h),weekly:v(_)},{title:"Waste Gateway",bgColor:"bg-blue-400",icon:"IconParkOutlineRecycling",daily:v(y),weekly:v(k)},{title:"Over / Short",bgColor:"bg-blue-300",icon:"TablerPlusMinus",daily:v(w),weekly:v(A)},{title:"Modified Orders",bgColor:"bg-green-200",icon:"Fa6SolidPencil",daily:N(j),weekly:N(T)},{title:"Cash vs Deposite",bgColor:"bg-green-200",icon:"Fa6SolidPencil",daily:v(C),weekly:v(R)}]},[a,o]),i=r||u,m=!!(a||o),g=()=>s.jsxs("div",{className:ee("w-full bg-card rounded-lg border border-destructive/20 p-6 shadow-realistic","flex flex-col items-center justify-center text-center space-y-4",d?"min-h-48":"min-h-64"),children:[s.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-destructive/10",children:s.jsx(Bf,{className:"w-6 h-6 text-destructive"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-card-foreground",children:"Unable to Load Data"}),s.jsxs("p",{className:"text-sm text-muted-foreground max-w-md",children:["We're experiencing difficulties loading your performance metrics. This could be due to a temporary connection issue or data processing error.",s.jsx("p",{className:"font-bold mt-1",children:"Try changing the Date filter."})]})]})]}),x=()=>s.jsxs("div",{className:ee("w-full bg-card rounded-lg border border-border p-6 shadow-realistic","flex flex-col items-center justify-center text-center space-y-4",d?"min-h-48":"min-h-64"),children:[s.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-muted",children:s.jsx(Bf,{className:"w-6 h-6 text-muted-foreground"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-card-foreground",children:"No Data Available"}),s.jsxs("p",{className:"text-sm text-muted-foreground max-w-md",children:["There's currently no performance data available to display. Please check back later or contact support if this issue persists.",s.jsx("p",{className:"font-bold mt-1",children:"Try changing the Date filter."})]})]})]});return s.jsxs("section",{className:ee("w-full p-2 space-y-2",d?" space-y-2":" space-y-6",n),children:[s.jsx(vk,{title:e,subtitle:t}),c?s.jsx(g,{}):!m||!i||i.length===0?s.jsx(x,{}):s.jsx(Gz,{data:i,isLoading:l})]})},Y3=({data:e,isLoading:t=!1,className:r})=>{const{theme:n}=mg(),a=Ko(),o=n==="dark"||n==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches;return s.jsx("div",{className:ee("grid grid-cols-2 lg:grid-cols-4 grid-rows-2 lg:grid-rows-1",a?"gap-2":"gap-4 md:gap-8",r),children:e.slice(0,4).map((l,c)=>{const m=(o?["bg-primary-600","bg-primary-700","bg-primary-800","bg-primary-900"]:["bg-primary-100","bg-primary-200","bg-primary-300","bg-primary-400"])[c];return s.jsx(Wz,{item:l,isLoading:t,isMobile:a,bgColor:m},`${l.title}-${c}`)})})},USe=({title:e="Customer Services Overview",subtitle:t,className:r})=>{const n=Ko(),{dailyRawData:a,weeklyRawData:o,isLoading:l,error:c}=m1(),d=v=>v==null?"0%":`${(v*100).toFixed(1)}%`,u=v=>v==null?"0":v.toString(),i=b.useMemo(()=>{const v=[{title:"Customer Count",bgColor:"bg-performance-bg-1",icon:"users",daily:u(a?.Customer_count),weekly:u(o?.Customer_count)},{title:"Customer Count %",bgColor:"bg-performance-bg-2",icon:"trending",daily:d(a?.Customer_count_percent),weekly:d(o?.Customer_count_percent)},{title:"Upselling %",bgColor:"bg-performance-bg-3",icon:"arrowUp",daily:d(a?.Upselling),weekly:d(o?.Upselling)},{title:"Digital Sales %",bgColor:"bg-performance-bg-4",icon:"computer",daily:d(a?.Digital_Sales_Percent),weekly:d(o?.Digital_Sales_Percent)}],N=[{title:"Customer Service %",bgColor:"bg-performance-bg-5",icon:"microphone",daily:d(a?.Customer_Service),weekly:d(o?.Customer_Service)},{title:"Put Into Portal %",bgColor:"bg-performance-bg-6",icon:"arrowUp",daily:d(a?.Put_into_Portal_Percent),weekly:d(o?.Put_into_Portal_Percent)},{title:"In Portal On Time %",bgColor:"bg-performance-bg-7",icon:"clock",daily:d(a?.In_Portal_on_Time_Percent),weekly:d(o?.In_Portal_on_Time_Percent)},{title:"Portal Eligible Transactions",bgColor:"bg-performance-bg-8",icon:"document",daily:u(a?.Total_Portal_Eligible_Transactions),weekly:u(o?.Total_Portal_Eligible_Transactions)}];return[...v,...N]},[a,o]),m=!!(a||o),g=()=>s.jsxs("div",{className:ee("w-full bg-card rounded-lg border border-destructive/20 p-6 shadow-realistic","flex flex-col items-center justify-center text-center space-y-4",n?"min-h-48":"min-h-64"),children:[s.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-destructive/10",children:s.jsx(Bf,{className:"w-6 h-6 text-destructive"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-card-foreground",children:"Unable to Load Data"}),s.jsxs("p",{className:"text-sm text-muted-foreground max-w-md",children:["We're experiencing difficulties loading your customer service metrics. This could be due to a temporary connection issue or data processing error.",s.jsx("p",{className:"font-bold mt-1",children:"Try changing the Date filter."})]})]})]}),x=()=>s.jsxs("div",{className:ee("w-full bg-card rounded-lg border border-border p-6 shadow-realistic","flex flex-col items-center justify-center text-center space-y-4",n?"min-h-48":"min-h-64"),children:[s.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-muted",children:s.jsx(Bf,{className:"w-6 h-6 text-muted-foreground"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-card-foreground",children:"No Data Available"}),s.jsxs("p",{className:"text-sm text-muted-foreground max-w-md",children:["There's currently no customer service data available to display. Please check back later or contact support if this issue persists.",s.jsx("p",{className:"font-bold mt-1",children:"Try changing the Date filter."})]})]})]});return s.jsxs("section",{className:ee("w-full p-2 space-y-2",n?" space-y-2":" space-y-6",r),children:[s.jsx(vk,{title:e,subtitle:t}),c?s.jsx(g,{}):!m||!i||i.length===0?s.jsx(x,{}):s.jsxs("div",{className:"space-y-6",children:[s.jsx(Y3,{data:i.slice(0,4),isLoading:l}),s.jsx(Y3,{data:i.slice(4,8),isLoading:l})]})]})},$Se=({title:e="Business Overview",subtitle:t,data:r,className:n})=>{const{dailyRawData:a,weeklyRawData:o,isLoading:l,error:c,hasValidData:d}=m1(),u=Ko(),i=b.useMemo(()=>{if(r)return r;if(!d()||!a)return[];const v=h=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(h),N=h=>`${(h*100).toFixed(1)}%`;return[{title:"Total Sales",bgColor:"bg-blue-500",daily:v(a.Total_Sales||0),weekly:v(o?.Total_Sales||0),icon:"currency",id:"sales-1"},{title:"Total Tips",bgColor:"bg-blue-400",daily:v(a.Total_TIPS||0),weekly:v(o?.Total_TIPS||0),icon:"currency",id:"tips-1"},{title:"Labor Cost",bgColor:"bg-blue-300",daily:N(a.labor||0),weekly:N(o?.labor||0),icon:"users",id:"labor-1"},{title:"Refunded Order Qty",bgColor:"bg-green-200",daily:v(a.Refunded_order_Qty||0),weekly:v(o?.Refunded_order_Qty||0),icon:"trending",id:"refunded-1"},{title:"Average Ticket",bgColor:"bg-green-200",daily:v(a.Avrage_ticket||0),weekly:v(o?.Avrage_ticket||0),icon:"trending",id:"avrage-ticket-1"}]},[r,a,o,d]),m=()=>s.jsxs("div",{className:ee("w-full bg-card rounded-lg border border-destructive/20 p-6 shadow-realistic","flex flex-col items-center justify-center text-center space-y-4",u?"min-h-48":"min-h-64"),children:[s.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-destructive/10",children:s.jsx(Bf,{className:"w-6 h-6 text-destructive"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-card-foreground",children:"Unable to Load Data"}),s.jsxs("p",{className:"text-sm text-muted-foreground max-w-md",children:["We're experiencing difficulties loading your business metrics. This could be due to a temporary connection issue or data processing error.",s.jsx("p",{className:"font-bold mt-1",children:"Try changing the Date filter."})]})]})]}),g=()=>s.jsxs("div",{className:ee("w-full bg-card rounded-lg border border-border p-6 shadow-realistic","flex flex-col items-center justify-center text-center space-y-4",u?"min-h-48":"min-h-64"),children:[s.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-muted",children:s.jsx(Bf,{className:"w-6 h-6 text-muted-foreground"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-card-foreground",children:"No Data Available"}),s.jsxs("p",{className:"text-sm text-muted-foreground max-w-md",children:["There's currently no business data available to display. Please check back later or contact support if this issue persists.",s.jsx("p",{className:"font-bold mt-1",children:"Try changing the Date filter."})]})]})]}),x=i.map(v=>{let N;switch(v.icon){case"chart":N="FlowbiteChartLineDownOutline";break;case"currency":N="currency";break;case"trophy":N="trophy";break;case"trending":N="trending";break;default:v.title.toLowerCase().includes("sales")?N="FlowbiteChartLineDownOutline":v.title.toLowerCase().includes("tips")?N="currency":v.title.toLowerCase().includes("labor")?N="users":v.title.toLowerCase().includes("refunded")?N="IconParkOutlineRecycling":v.title.toLowerCase().includes("average")||v.title.toLowerCase().includes("ticket")?N="trending":N="FlowbiteChartLineDownOutline"}return{title:v.title,daily:v.daily,weekly:v.weekly,bgColor:v.bgColor||"#f3f4f6",icon:N}});return s.jsxs("section",{className:ee("w-full",u?"p-2 space-y-2":"p-2 space-y-6",n),children:[s.jsx(vk,{title:e,subtitle:t}),s.jsx("div",{className:"flex flex-col gap-6",children:c?s.jsx(m,{}):!d()||i.length===0?s.jsx(g,{}):s.jsx(s.Fragment,{children:s.jsx("div",{className:"w-full",children:s.jsx(Gz,{data:x,isLoading:l})})})})]})},HSe=({channel:e,isLast:t=!1,isMobile:r=!1})=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:ee("flex items-center justify-between",r?"px-2 py-1":"px-2.5 py-1"),children:[s.jsx(zSe,{channel:e,isMobile:r}),s.jsx(qSe,{channel:e,isMobile:r})]}),!t&&s.jsx(cs,{className:ee("w-[96%] mx-auto")})]}),zSe=({channel:e,isMobile:t})=>s.jsx("div",{className:ee("flex flex-col items-center justify-center space-y-1",t?"min-w-[60px]":"min-w-[78px]"),children:s.jsx("h3",{className:ee("font-bold text-foreground whitespace-nowrap",t?"text-xs":"text-sm md:text-base"),children:e.name})}),qSe=({channel:e,isMobile:t})=>s.jsxs("div",{className:ee("flex flex-col items-center justify-center space-y-1",t?"min-w-[50px]":"min-w-[66px]"),children:[s.jsxs("span",{className:ee("text-foreground whitespace-nowrap","font-semibold text-sm md:text-base"),children:["Daily  :  ",e.daily]}),s.jsxs("span",{className:ee("text-muted-foreground whitespace-nowrap","text-xs md:text-sm"),children:["Weekly  :  ",e.weekly]})]}),VSe=({channels:e})=>{const t=Ko();return s.jsx("div",{className:"space-y-0",children:e.map((r,n)=>s.jsx(HSe,{channel:r,isLast:n===e.length-1,isMobile:t},r.id))})};var EC={},_C={},Z3;function WSe(){return Z3||(Z3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t}(_C)),_C}var AC={},K3;function Zz(){return K3||(K3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t}(AC)),AC}var kC={},X3;function Kz(){return X3||(X3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t}(kC)),kC}var DC={},Q3;function yk(){return Q3||(Q3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],a=r.length;if(a===0)return n;let o=0,l="",c="",d=!1;for(r.charCodeAt(0)===46&&(n.push(""),o++);o<a;){const u=r[o];c?u==="\\"&&o+1<a?(o++,l+=r[o]):u===c?c="":l+=u:d?u==='"'||u==="'"?c=u:u==="]"?(d=!1,n.push(l),l=""):l+=u:u==="["?(d=!0,l&&(n.push(l),l="")):u==="."?l&&(n.push(l),l=""):l+=u,o++}return l&&n.push(l),n}e.toPath=t}(DC)),DC}var J3;function bk(){return J3||(J3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WSe(),r=Zz(),n=Kz(),a=yk();function o(c,d,u){if(c==null)return u;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return u;const i=c[d];return i===void 0?r.isDeepKey(d)?o(c,a.toPath(d),u):u:i}case"number":case"symbol":{typeof d=="number"&&(d=n.toKey(d));const i=c[d];return i===void 0?u:i}default:{if(Array.isArray(d))return l(c,d,u);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return u;const i=c[d];return i===void 0?u:i}}}function l(c,d,u){if(d.length===0)return u;let i=c;for(let m=0;m<d.length;m++){if(i==null||t.isUnsafeProperty(d[m]))return u;i=i[d[m]]}return i===void 0?u:i}e.get=o}(EC)),EC}var TC,e5;function GSe(){return e5||(e5=1,TC=bk().get),TC}var YSe=GSe();const Ff=uo(YSe);var RC={exports:{}},xr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t5;function ZSe(){if(t5)return xr;t5=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),i=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function v(N){if(typeof N=="object"&&N!==null){var h=N.$$typeof;switch(h){case e:switch(N=N.type,N){case r:case a:case n:case d:case u:case g:return N;default:switch(N=N&&N.$$typeof,N){case l:case c:case m:case i:return N;case o:return N;default:return h}}case t:return h}}}return xr.ContextConsumer=o,xr.ContextProvider=l,xr.Element=e,xr.ForwardRef=c,xr.Fragment=r,xr.Lazy=m,xr.Memo=i,xr.Portal=t,xr.Profiler=a,xr.StrictMode=n,xr.Suspense=d,xr.SuspenseList=u,xr.isContextConsumer=function(N){return v(N)===o},xr.isContextProvider=function(N){return v(N)===l},xr.isElement=function(N){return typeof N=="object"&&N!==null&&N.$$typeof===e},xr.isForwardRef=function(N){return v(N)===c},xr.isFragment=function(N){return v(N)===r},xr.isLazy=function(N){return v(N)===m},xr.isMemo=function(N){return v(N)===i},xr.isPortal=function(N){return v(N)===t},xr.isProfiler=function(N){return v(N)===a},xr.isStrictMode=function(N){return v(N)===n},xr.isSuspense=function(N){return v(N)===d},xr.isSuspenseList=function(N){return v(N)===u},xr.isValidElementType=function(N){return typeof N=="string"||typeof N=="function"||N===r||N===a||N===n||N===d||N===u||typeof N=="object"&&N!==null&&(N.$$typeof===m||N.$$typeof===i||N.$$typeof===l||N.$$typeof===o||N.$$typeof===c||N.$$typeof===x||N.getModuleId!==void 0)},xr.typeOf=v,xr}var r5;function KSe(){return r5||(r5=1,RC.exports=ZSe()),RC.exports}var XSe=KSe(),oa=e=>e===0?0:e>0?1:-1,io=e=>typeof e=="number"&&e!=+e,up=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Wt=e=>(typeof e=="number"||e instanceof Number)&&!io(e),Xi=e=>Wt(e)||typeof e=="string",QSe=0,Pb=e=>{var t=++QSe;return"".concat(e||"").concat(t)},qo=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Wt(t)&&typeof t!="string")return n;var o;if(up(t)){if(r==null)return n;var l=t.indexOf("%");o=r*parseFloat(t.slice(0,l))/100}else o=+t;return io(o)&&(o=n),a&&r!=null&&o>r&&(o=r),o},Xz=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},n5=(e,t)=>Wt(e)&&Wt(t)?r=>e+r*(t-e):()=>t;function JSe(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Ff(n,t))===r)}var Pd=e=>e===null||typeof e>"u",Eg=e=>Pd(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),eje=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function wk(e){if(typeof e!="string")return!1;var t=eje;return t.includes(e)}var tje=["viewBox","children"],s5=["points","pathLength"],PC={svg:tje,polygon:s5,polyline:s5},rje=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(b.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{wk(a)&&(n[a]=o=>r[a](r,o))}),n},nje=(e,t,r)=>n=>(e(t,r,n),null),Qz=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var o=e[a];wk(a)&&typeof o=="function"&&(n||(n={}),n[a]=nje(o,t,r))}),n},sje=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function Jz(e){if(typeof e!="string")return!1;var t=sje;return t.includes(e)}function h1(e){var t=Object.entries(e).filter(r=>{var[n]=r;return Jz(n)});return Object.fromEntries(t)}var a5=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",o5=null,MC=null,e9=e=>{if(e===o5&&Array.isArray(MC))return MC;var t=[];return b.Children.forEach(e,r=>{Pd(r)||(XSe.isFragment(r)?t=t.concat(e9(r.props.children)):t.push(r))}),MC=t,o5=e,t};function t9(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>a5(a)):n=[a5(t)],e9(e).forEach(a=>{var o=Ff(a,"type.displayName")||Ff(a,"type.name");n.indexOf(o)!==-1&&r.push(a)}),r}var aje=(e,t,r,n)=>{var a;if(typeof t=="symbol"||typeof t=="number")return!0;var o=(a=n&&PC?.[n])!==null&&a!==void 0?a:[],l=t.startsWith("data-"),c=typeof e!="function"&&(!!n&&o.includes(t)||Jz(t)),d=!!r&&wk(t);return l||c||d},ma=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(b.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var a={};return Object.keys(n).forEach(o=>{var l;aje((l=n)===null||l===void 0?void 0:l[o],o,t,r)&&(a[o]=n[o])}),a},oje=["children","width","height","viewBox","className","style","title","desc"];function mA(){return mA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mA.apply(null,arguments)}function ije(e,t){if(e==null)return{};var r,n,a=lje(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function lje(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Sk=b.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:o,className:l,style:c,title:d,desc:u}=e,i=ije(e,oje),m=o||{width:n,height:a,x:0,y:0},g=un("recharts-surface",l);return b.createElement("svg",mA({},ma(i,!0,"svg"),{className:g,width:n,height:a,style:c,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),b.createElement("title",null,d),b.createElement("desc",null,u),r)}),cje=["children","className"];function hA(){return hA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hA.apply(null,arguments)}function dje(e,t){if(e==null)return{};var r,n,a=uje(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function uje(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Uf=b.forwardRef((e,t)=>{var{children:r,className:n}=e,a=dje(e,cje),o=un("recharts-layer",n);return b.createElement("g",hA({className:o},ma(a,!0),{ref:t}),r)}),r9=b.createContext(null),fje=()=>b.useContext(r9);function Cr(e){return function(){return e}}const n9=Math.cos,Mb=Math.sin,vo=Math.sqrt,Ob=Math.PI,p1=2*Ob,pA=Math.PI,gA=2*pA,ed=1e-6,mje=gA-ed;function s9(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function hje(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return s9;const r=10**t;return function(n){this._+=n[0];for(let a=1,o=n.length;a<o;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class pje{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?s9:hje(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,o,l){this._append`C${+t},${+r},${+n},${+a},${this._x1=+o},${this._y1=+l}`}arcTo(t,r,n,a,o){if(t=+t,r=+r,n=+n,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,c=this._y1,d=n-t,u=a-r,i=l-t,m=c-r,g=i*i+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(g>ed)if(!(Math.abs(m*d-u*i)>ed)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let x=n-l,v=a-c,N=d*d+u*u,h=x*x+v*v,y=Math.sqrt(N),w=Math.sqrt(g),j=o*Math.tan((pA-Math.acos((N+g-h)/(2*y*w)))/2),C=j/w,_=j/y;Math.abs(C-1)>ed&&this._append`L${t+C*i},${r+C*m}`,this._append`A${o},${o},0,0,${+(m*x>i*v)},${this._x1=t+_*d},${this._y1=r+_*u}`}}arc(t,r,n,a,o,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(a),d=n*Math.sin(a),u=t+c,i=r+d,m=1^l,g=l?a-o:o-a;this._x1===null?this._append`M${u},${i}`:(Math.abs(this._x1-u)>ed||Math.abs(this._y1-i)>ed)&&this._append`L${u},${i}`,n&&(g<0&&(g=g%gA+gA),g>mje?this._append`A${n},${n},0,1,${m},${t-c},${r-d}A${n},${n},0,1,${m},${this._x1=u},${this._y1=i}`:g>ed&&this._append`A${n},${n},0,${+(g>=pA)},${m},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function jk(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new pje(t)}function Nk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function a9(e){this._context=e}a9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function g1(e){return new a9(e)}function o9(e){return e[0]}function i9(e){return e[1]}function l9(e,t){var r=Cr(!0),n=null,a=g1,o=null,l=jk(c);e=typeof e=="function"?e:e===void 0?o9:Cr(e),t=typeof t=="function"?t:t===void 0?i9:Cr(t);function c(d){var u,i=(d=Nk(d)).length,m,g=!1,x;for(n==null&&(o=a(x=l())),u=0;u<=i;++u)!(u<i&&r(m=d[u],u,d))===g&&((g=!g)?o.lineStart():o.lineEnd()),g&&o.point(+e(m,u,d),+t(m,u,d));if(x)return o=null,x+""||null}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:Cr(+d),c):e},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:Cr(+d),c):t},c.defined=function(d){return arguments.length?(r=typeof d=="function"?d:Cr(!!d),c):r},c.curve=function(d){return arguments.length?(a=d,n!=null&&(o=a(n)),c):a},c.context=function(d){return arguments.length?(d==null?n=o=null:o=a(n=d),c):n},c}function Iv(e,t,r){var n=null,a=Cr(!0),o=null,l=g1,c=null,d=jk(u);e=typeof e=="function"?e:e===void 0?o9:Cr(+e),t=typeof t=="function"?t:Cr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?i9:Cr(+r);function u(m){var g,x,v,N=(m=Nk(m)).length,h,y=!1,w,j=new Array(N),C=new Array(N);for(o==null&&(c=l(w=d())),g=0;g<=N;++g){if(!(g<N&&a(h=m[g],g,m))===y)if(y=!y)x=g,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),v=g-1;v>=x;--v)c.point(j[v],C[v]);c.lineEnd(),c.areaEnd()}y&&(j[g]=+e(h,g,m),C[g]=+t(h,g,m),c.point(n?+n(h,g,m):j[g],r?+r(h,g,m):C[g]))}if(w)return c=null,w+""||null}function i(){return l9().defined(a).curve(l).context(o)}return u.x=function(m){return arguments.length?(e=typeof m=="function"?m:Cr(+m),n=null,u):e},u.x0=function(m){return arguments.length?(e=typeof m=="function"?m:Cr(+m),u):e},u.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Cr(+m),u):n},u.y=function(m){return arguments.length?(t=typeof m=="function"?m:Cr(+m),r=null,u):t},u.y0=function(m){return arguments.length?(t=typeof m=="function"?m:Cr(+m),u):t},u.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Cr(+m),u):r},u.lineX0=u.lineY0=function(){return i().x(e).y(t)},u.lineY1=function(){return i().x(e).y(r)},u.lineX1=function(){return i().x(n).y(t)},u.defined=function(m){return arguments.length?(a=typeof m=="function"?m:Cr(!!m),u):a},u.curve=function(m){return arguments.length?(l=m,o!=null&&(c=l(o)),u):l},u.context=function(m){return arguments.length?(m==null?o=c=null:c=l(o=m),u):o},u}class c9{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function gje(e){return new c9(e,!0)}function xje(e){return new c9(e,!1)}const Ck={draw(e,t){const r=vo(t/Ob);e.moveTo(r,0),e.arc(0,0,r,0,p1)}},vje={draw(e,t){const r=vo(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},d9=vo(1/3),yje=d9*2,bje={draw(e,t){const r=vo(t/yje),n=r*d9;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},wje={draw(e,t){const r=vo(t),n=-r/2;e.rect(n,n,r,r)}},Sje=.8908130915292852,u9=Mb(Ob/10)/Mb(7*Ob/10),jje=Mb(p1/10)*u9,Nje=-n9(p1/10)*u9,Cje={draw(e,t){const r=vo(t*Sje),n=jje*r,a=Nje*r;e.moveTo(0,-r),e.lineTo(n,a);for(let o=1;o<5;++o){const l=p1*o/5,c=n9(l),d=Mb(l);e.lineTo(d*r,-c*r),e.lineTo(c*n-d*a,d*n+c*a)}e.closePath()}},OC=vo(3),Eje={draw(e,t){const r=-vo(t/(OC*3));e.moveTo(0,r*2),e.lineTo(-OC*r,-r),e.lineTo(OC*r,-r),e.closePath()}},Aa=-.5,ka=vo(3)/2,xA=1/vo(12),_je=(xA/2+1)*3,Aje={draw(e,t){const r=vo(t/_je),n=r/2,a=r*xA,o=n,l=r*xA+r,c=-o,d=l;e.moveTo(n,a),e.lineTo(o,l),e.lineTo(c,d),e.lineTo(Aa*n-ka*a,ka*n+Aa*a),e.lineTo(Aa*o-ka*l,ka*o+Aa*l),e.lineTo(Aa*c-ka*d,ka*c+Aa*d),e.lineTo(Aa*n+ka*a,Aa*a-ka*n),e.lineTo(Aa*o+ka*l,Aa*l-ka*o),e.lineTo(Aa*c+ka*d,Aa*d-ka*c),e.closePath()}};function kje(e,t){let r=null,n=jk(a);e=typeof e=="function"?e:Cr(e||Ck),t=typeof t=="function"?t:Cr(t===void 0?64:+t);function a(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return a.type=function(o){return arguments.length?(e=typeof o=="function"?o:Cr(o),a):e},a.size=function(o){return arguments.length?(t=typeof o=="function"?o:Cr(+o),a):t},a.context=function(o){return arguments.length?(r=o??null,a):r},a}function Ib(){}function Lb(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function f9(e){this._context=e}f9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Lb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Lb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Dje(e){return new f9(e)}function m9(e){this._context=e}m9.prototype={areaStart:Ib,areaEnd:Ib,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Lb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Tje(e){return new m9(e)}function h9(e){this._context=e}h9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Lb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Rje(e){return new h9(e)}function p9(e){this._context=e}p9.prototype={areaStart:Ib,areaEnd:Ib,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Pje(e){return new p9(e)}function i5(e){return e<0?-1:1}function l5(e,t,r){var n=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(n||a<0&&-0),l=(r-e._y1)/(a||n<0&&-0),c=(o*a+l*n)/(n+a);return(i5(o)+i5(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(c))||0}function c5(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function IC(e,t,r){var n=e._x0,a=e._y0,o=e._x1,l=e._y1,c=(o-n)/3;e._context.bezierCurveTo(n+c,a+c*t,o-c,l-c*r,o,l)}function Bb(e){this._context=e}Bb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:IC(this,this._t0,c5(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,IC(this,c5(this,r=l5(this,e,t)),r);break;default:IC(this,this._t0,r=l5(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function g9(e){this._context=new x9(e)}(g9.prototype=Object.create(Bb.prototype)).point=function(e,t){Bb.prototype.point.call(this,t,e)};function x9(e){this._context=e}x9.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,o){this._context.bezierCurveTo(t,e,n,r,o,a)}};function Mje(e){return new Bb(e)}function Oje(e){return new g9(e)}function v9(e){this._context=e}v9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=d5(e),a=d5(t),o=0,l=1;l<r;++o,++l)this._context.bezierCurveTo(n[0][o],a[0][o],n[1][o],a[1][o],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function d5(e){var t,r=e.length-1,n,a=new Array(r),o=new Array(r),l=new Array(r);for(a[0]=0,o[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,o[t]=4,l[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,o[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/o[t-1],o[t]-=n,l[t]-=n*l[t-1];for(a[r-1]=l[r-1]/o[r-1],t=r-2;t>=0;--t)a[t]=(l[t]-a[t+1])/o[t];for(o[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function Ije(e){return new v9(e)}function x1(e,t){this._context=e,this._t=t}x1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Lje(e){return new x1(e,.5)}function Bje(e){return new x1(e,0)}function Fje(e){return new x1(e,1)}function $f(e,t){if((l=e.length)>1)for(var r=1,n,a,o=e[t[0]],l,c=o.length;r<l;++r)for(a=o,o=e[t[r]],n=0;n<c;++n)o[n][1]+=o[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function vA(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Uje(e,t){return e[t]}function $je(e){const t=[];return t.key=e,t}function Hje(){var e=Cr([]),t=vA,r=$f,n=Uje;function a(o){var l=Array.from(e.apply(this,arguments),$je),c,d=l.length,u=-1,i;for(const m of o)for(c=0,++u;c<d;++c)(l[c][u]=[0,+n(m,l[c].key,u,o)]).data=m;for(c=0,i=Nk(t(l));c<d;++c)l[i[c]].index=c;return r(l,i),l}return a.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Cr(Array.from(o)),a):e},a.value=function(o){return arguments.length?(n=typeof o=="function"?o:Cr(+o),a):n},a.order=function(o){return arguments.length?(t=o==null?vA:typeof o=="function"?o:Cr(Array.from(o)),a):t},a.offset=function(o){return arguments.length?(r=o??$f,a):r},a}function zje(e,t){if((n=e.length)>0){for(var r,n,a=0,o=e[0].length,l;a<o;++a){for(l=r=0;r<n;++r)l+=e[r][a][1]||0;if(l)for(r=0;r<n;++r)e[r][a][1]/=l}$f(e,t)}}function qje(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,o=n.length;r<o;++r){for(var l=0,c=0;l<a;++l)c+=e[l][r][1]||0;n[r][1]+=n[r][0]=-c/2}$f(e,t)}}function Vje(e,t){if(!(!((l=e.length)>0)||!((o=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,o,l;n<o;++n){for(var c=0,d=0,u=0;c<l;++c){for(var i=e[t[c]],m=i[n][1]||0,g=i[n-1][1]||0,x=(m-g)/2,v=0;v<c;++v){var N=e[t[v]],h=N[n][1]||0,y=N[n-1][1]||0;x+=h-y}d+=m,u+=x*m}a[n-1][1]+=a[n-1][0]=r,d&&(r-=u/d)}a[n-1][1]+=a[n-1][0]=r,$f(e,t)}}var Wje=["type","size","sizeType"];function yA(){return yA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yA.apply(null,arguments)}function u5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function f5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u5(Object(r),!0).forEach(function(n){Gje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gje(e,t,r){return(t=Yje(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yje(e){var t=Zje(e,"string");return typeof t=="symbol"?t:t+""}function Zje(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kje(e,t){if(e==null)return{};var r,n,a=Xje(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Xje(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var y9={symbolCircle:Ck,symbolCross:vje,symbolDiamond:bje,symbolSquare:wje,symbolStar:Cje,symbolTriangle:Eje,symbolWye:Aje},Qje=Math.PI/180,Jje=e=>{var t="symbol".concat(Eg(e));return y9[t]||Ck},eNe=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*Qje;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},tNe=(e,t)=>{y9["symbol".concat(Eg(e))]=t},Ek=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=Kje(e,Wje),o=f5(f5({},a),{},{type:t,size:r,sizeType:n}),l=()=>{var m=Jje(t),g=kje().type(m).size(eNe(r,n,t));return g()},{className:c,cx:d,cy:u}=o,i=ma(o,!0);return d===+d&&u===+u&&r===+r?b.createElement("path",yA({},i,{className:un("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(u,")"),d:l()})):null};Ek.registerSymbol=tNe;function bA(){return bA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bA.apply(null,arguments)}function m5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rNe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m5(Object(r),!0).forEach(function(n){_k(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _k(e,t,r){return(t=nNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nNe(e){var t=sNe(e,"string");return typeof t=="symbol"?t:t+""}function sNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Da=32;class Ak extends b.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,a=Da/2,o=Da/6,l=Da/3,c=t.inactive?n:t.color,d=r??t.type;if(d==="none")return null;if(d==="plainline")return b.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:a,x2:Da,y2:a,className:"recharts-legend-icon"});if(d==="line")return b.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Da,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(d==="rect")return b.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Da/8,"h").concat(Da,"v").concat(Da*3/4,"h").concat(-Da,"z"),className:"recharts-legend-icon"});if(b.isValidElement(t.legendIcon)){var u=rNe({},t);return delete u.legendIcon,b.cloneElement(t.legendIcon,u)}return b.createElement(Ek,{fill:c,cx:a,cy:a,size:Da,sizeType:"diameter",type:d})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:o,iconType:l}=this.props,c={x:0,y:0,width:Da,height:Da},d={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((i,m)=>{var g=i.formatter||a,x=un({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:i.inactive});if(i.type==="none")return null;var v=i.inactive?o:i.color,N=g?g(i.value,i,m):i.value;return b.createElement("li",bA({className:x,style:d,key:"legend-item-".concat(m)},Qz(this.props,i,m)),b.createElement(Sk,{width:r,height:r,viewBox:c,style:u,"aria-label":"".concat(N," legend icon")},this.renderIcon(i,l)),b.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},N))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return b.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}_k(Ak,"displayName","Legend");_k(Ak,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var LC={},BC={},h5;function aNe(){return h5||(h5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let o=0;o<r.length;o++){const l=r[o],c=n(l);a.has(c)||a.set(c,l)}return Array.from(a.values())}e.uniqBy=t}(BC)),BC}var FC={},p5;function b9(){return p5||(p5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t}(FC)),FC}var UC={},$C={},HC={},g5;function oNe(){return g5||(g5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t}(HC)),HC}var x5;function w9(){return x5||(x5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oNe();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r}($C)),$C}var zC={},v5;function iNe(){return v5||(v5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t}(zC)),zC}var y5;function lNe(){return y5||(y5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w9(),r=iNe();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n}(UC)),UC}var qC={},VC={},b5;function cNe(){return b5||(b5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bk();function r(n){return function(a){return t.get(a,n)}}e.property=r}(VC)),VC}var WC={},GC={},YC={},ZC={},w5;function S9(){return w5||(w5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t}(ZC)),ZC}var KC={},S5;function j9(){return S5||(S5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t}(KC)),KC}var XC={},j5;function kk(){return j5||(j5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t}(XC)),XC}var N5;function dNe(){return N5||(N5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dk(),r=S9(),n=j9(),a=kk();function o(m,g,x){return typeof x!="function"?t.isMatch(m,g):l(m,g,function v(N,h,y,w,j,C){const _=x(N,h,y,w,j,C);return _!==void 0?!!_:l(N,h,v,C)},new Map)}function l(m,g,x,v){if(g===m)return!0;switch(typeof g){case"object":return c(m,g,x,v);case"function":return Object.keys(g).length>0?l(m,{...g},x,v):a.eq(m,g);default:return r.isObject(m)?typeof g=="string"?g==="":!0:a.eq(m,g)}}function c(m,g,x,v){if(g==null)return!0;if(Array.isArray(g))return u(m,g,x,v);if(g instanceof Map)return d(m,g,x,v);if(g instanceof Set)return i(m,g,x,v);const N=Object.keys(g);if(m==null)return N.length===0;if(N.length===0)return!0;if(v&&v.has(g))return v.get(g)===m;v&&v.set(g,m);try{for(let h=0;h<N.length;h++){const y=N[h];if(!n.isPrimitive(m)&&!(y in m)||g[y]===void 0&&m[y]!==void 0||g[y]===null&&m[y]!==null||!x(m[y],g[y],y,m,g,v))return!1}return!0}finally{v&&v.delete(g)}}function d(m,g,x,v){if(g.size===0)return!0;if(!(m instanceof Map))return!1;for(const[N,h]of g.entries()){const y=m.get(N);if(x(y,h,N,m,g,v)===!1)return!1}return!0}function u(m,g,x,v){if(g.length===0)return!0;if(!Array.isArray(m))return!1;const N=new Set;for(let h=0;h<g.length;h++){const y=g[h];let w=!1;for(let j=0;j<m.length;j++){if(N.has(j))continue;const C=m[j];let _=!1;if(x(C,y,h,m,g,v)&&(_=!0),_){N.add(j),w=!0;break}}if(!w)return!1}return!0}function i(m,g,x,v){return g.size===0?!0:m instanceof Set?u([...m],[...g],x,v):!1}e.isMatchWith=o,e.isSetMatch=i}(YC)),YC}var C5;function Dk(){return C5||(C5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dNe();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r}(GC)),GC}var QC={},JC={},eE={},E5;function N9(){return E5||(E5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t}(eE)),eE}var tE={},_5;function Tk(){return _5||(_5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t}(tE)),tE}var rE={},A5;function Rk(){return A5||(A5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",o="[object Arguments]",l="[object Symbol]",c="[object Date]",d="[object Map]",u="[object Set]",i="[object Array]",m="[object Function]",g="[object ArrayBuffer]",x="[object Object]",v="[object Error]",N="[object DataView]",h="[object Uint8Array]",y="[object Uint8ClampedArray]",w="[object Uint16Array]",j="[object Uint32Array]",C="[object BigUint64Array]",_="[object Int8Array]",k="[object Int16Array]",A="[object Int32Array]",T="[object BigInt64Array]",R="[object Float32Array]",P="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=g,e.arrayTag=i,e.bigInt64ArrayTag=T,e.bigUint64ArrayTag=C,e.booleanTag=a,e.dataViewTag=N,e.dateTag=c,e.errorTag=v,e.float32ArrayTag=R,e.float64ArrayTag=P,e.functionTag=m,e.int16ArrayTag=k,e.int32ArrayTag=A,e.int8ArrayTag=_,e.mapTag=d,e.numberTag=n,e.objectTag=x,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=l,e.uint16ArrayTag=w,e.uint32ArrayTag=j,e.uint8ArrayTag=h,e.uint8ClampedArrayTag=y}(rE)),rE}var nE={},k5;function uNe(){return k5||(k5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t}(nE)),nE}var D5;function C9(){return D5||(D5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N9(),r=Tk(),n=Rk(),a=j9(),o=uNe();function l(i,m){return c(i,void 0,i,new Map,m)}function c(i,m,g,x=new Map,v=void 0){const N=v?.(i,m,g,x);if(N!==void 0)return N;if(a.isPrimitive(i))return i;if(x.has(i))return x.get(i);if(Array.isArray(i)){const h=new Array(i.length);x.set(i,h);for(let y=0;y<i.length;y++)h[y]=c(i[y],y,g,x,v);return Object.hasOwn(i,"index")&&(h.index=i.index),Object.hasOwn(i,"input")&&(h.input=i.input),h}if(i instanceof Date)return new Date(i.getTime());if(i instanceof RegExp){const h=new RegExp(i.source,i.flags);return h.lastIndex=i.lastIndex,h}if(i instanceof Map){const h=new Map;x.set(i,h);for(const[y,w]of i)h.set(y,c(w,y,g,x,v));return h}if(i instanceof Set){const h=new Set;x.set(i,h);for(const y of i)h.add(c(y,void 0,g,x,v));return h}if(typeof Buffer<"u"&&Buffer.isBuffer(i))return i.subarray();if(o.isTypedArray(i)){const h=new(Object.getPrototypeOf(i)).constructor(i.length);x.set(i,h);for(let y=0;y<i.length;y++)h[y]=c(i[y],y,g,x,v);return h}if(i instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&i instanceof SharedArrayBuffer)return i.slice(0);if(i instanceof DataView){const h=new DataView(i.buffer.slice(0),i.byteOffset,i.byteLength);return x.set(i,h),d(h,i,g,x,v),h}if(typeof File<"u"&&i instanceof File){const h=new File([i],i.name,{type:i.type});return x.set(i,h),d(h,i,g,x,v),h}if(i instanceof Blob){const h=new Blob([i],{type:i.type});return x.set(i,h),d(h,i,g,x,v),h}if(i instanceof Error){const h=new i.constructor;return x.set(i,h),h.message=i.message,h.name=i.name,h.stack=i.stack,h.cause=i.cause,d(h,i,g,x,v),h}if(typeof i=="object"&&u(i)){const h=Object.create(Object.getPrototypeOf(i));return x.set(i,h),d(h,i,g,x,v),h}return i}function d(i,m,g=i,x,v){const N=[...Object.keys(m),...t.getSymbols(m)];for(let h=0;h<N.length;h++){const y=N[h],w=Object.getOwnPropertyDescriptor(i,y);(w==null||w.writable)&&(i[y]=c(m[y],y,g,x,v))}}function u(i){switch(r.getTag(i)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=c,e.copyProperties=d}(JC)),JC}var T5;function fNe(){return T5||(T5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C9();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r}(QC)),QC}var R5;function mNe(){return R5||(R5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dk(),r=fNe();function n(a){return a=r.cloneDeep(a),o=>t.isMatch(o,a)}e.matches=n}(WC)),WC}var sE={},aE={},oE={},P5;function hNe(){return P5||(P5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C9(),r=Rk();function n(a,o){return t.cloneDeepWith(a,(l,c,d,u)=>{const i=o?.(l,c,d,u);if(i!==void 0)return i;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const m=new a.constructor(a?.valueOf());return t.copyProperties(m,a),m}case r.argumentsTag:{const m={};return t.copyProperties(m,a),m.length=a.length,m[Symbol.iterator]=a[Symbol.iterator],m}default:return}})}e.cloneDeepWith=n}(oE)),oE}var M5;function pNe(){return M5||(M5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hNe();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r}(aE)),aE}var iE={},lE={},O5;function E9(){return O5||(O5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r}(lE)),lE}var cE={},I5;function gNe(){return I5||(I5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tk();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r}(cE)),cE}var L5;function xNe(){return L5||(L5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zz(),r=E9(),n=gNe(),a=yk();function o(l,c){let d;if(Array.isArray(c)?d=c:typeof c=="string"&&t.isDeepKey(c)&&l?.[c]==null?d=a.toPath(c):d=[c],d.length===0)return!1;let u=l;for(let i=0;i<d.length;i++){const m=d[i];if((u==null||!Object.hasOwn(u,m))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(m)&&m<u.length))return!1;u=u[m]}return!0}e.has=o}(iE)),iE}var B5;function vNe(){return B5||(B5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dk(),r=Kz(),n=pNe(),a=bk(),o=xNe();function l(c,d){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=r.toKey(c);break}}return d=n.cloneDeep(d),function(u){const i=a.get(u,c);return i===void 0?o.has(u,c):d===void 0?i===void 0:t.isMatch(i,d)}}e.matchesProperty=l}(sE)),sE}var F5;function yNe(){return F5||(F5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b9(),r=cNe(),n=mNe(),a=vNe();function o(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}e.iteratee=o}(qC)),qC}var U5;function bNe(){return U5||(U5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aNe(),r=b9(),n=lNe(),a=yNe();function o(l,c=r.identity){return n.isArrayLikeObject(l)?t.uniqBy(Array.from(l),a.iteratee(c)):[]}e.uniqBy=o}(LC)),LC}var dE,$5;function wNe(){return $5||($5=1,dE=bNe().uniqBy),dE}var SNe=wNe();const H5=uo(SNe);function _9(e,t,r){return t===!0?H5(e,r):typeof t=="function"?H5(e,t):e}var uE={exports:{}},fE={},mE={exports:{}},hE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z5;function jNe(){if(z5)return hE;z5=1;var e=fc();function t(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,o=e.useLayoutEffect,l=e.useDebugValue;function c(m,g){var x=g(),v=n({inst:{value:x,getSnapshot:g}}),N=v[0].inst,h=v[1];return o(function(){N.value=x,N.getSnapshot=g,d(N)&&h({inst:N})},[m,x,g]),a(function(){return d(N)&&h({inst:N}),m(function(){d(N)&&h({inst:N})})},[m]),l(x),x}function d(m){var g=m.getSnapshot;m=m.value;try{var x=g();return!r(m,x)}catch{return!0}}function u(m,g){return g()}var i=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:c;return hE.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:i,hE}var q5;function A9(){return q5||(q5=1,mE.exports=jNe()),mE.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V5;function NNe(){if(V5)return fE;V5=1;var e=fc(),t=A9();function r(u,i){return u===i&&(u!==0||1/u===1/i)||u!==u&&i!==i}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,o=e.useRef,l=e.useEffect,c=e.useMemo,d=e.useDebugValue;return fE.useSyncExternalStoreWithSelector=function(u,i,m,g,x){var v=o(null);if(v.current===null){var N={hasValue:!1,value:null};v.current=N}else N=v.current;v=c(function(){function y(k){if(!w){if(w=!0,j=k,k=g(k),x!==void 0&&N.hasValue){var A=N.value;if(x(A,k))return C=A}return C=k}if(A=C,n(j,k))return A;var T=g(k);return x!==void 0&&x(A,T)?(j=k,A):(j=k,C=T)}var w=!1,j,C,_=m===void 0?null:m;return[function(){return y(i())},_===null?void 0:function(){return y(_())}]},[i,m,g,x]);var h=a(u,v[0],v[1]);return l(function(){N.hasValue=!0,N.value=h},[h]),d(h),h},fE}var W5;function CNe(){return W5||(W5=1,uE.exports=NNe()),uE.exports}var ENe=CNe(),Pk=b.createContext(null),_Ne=e=>e,Gn=()=>{var e=b.useContext(Pk);return e?e.store.dispatch:_Ne},Zy=()=>{},ANe=()=>Zy,kNe=(e,t)=>e===t;function It(e){var t=b.useContext(Pk);return ENe.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:ANe,t?t.store.getState:Zy,t?t.store.getState:Zy,t?e:Zy,kNe)}var pE={},gE={},xE={},G5;function DNe(){return G5||(G5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,o)=>{if(n!==a){const l=t(n),c=t(a);if(l===c&&l===0){if(n<a)return o==="desc"?1:-1;if(n>a)return o==="desc"?-1:1}return o==="desc"?c-l:l-c}return 0};e.compareValues=r}(xE)),xE}var vE={},yE={},Y5;function k9(){return Y5||(Y5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t}(yE)),yE}var Z5;function TNe(){return Z5||(Z5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k9(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(o,l){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(n.test(o)||!r.test(o))||l!=null&&Object.hasOwn(l,o)}e.isKey=a}(vE)),vE}var K5;function RNe(){return K5||(K5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DNe(),r=TNe(),n=yk();function a(o,l,c,d){if(o==null)return[];c=d?void 0:c,Array.isArray(o)||(o=Object.values(o)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(x=>String(x));const u=(x,v)=>{let N=x;for(let h=0;h<v.length&&N!=null;++h)N=N[v[h]];return N},i=(x,v)=>v==null||x==null?v:typeof x=="object"&&"key"in x?Object.hasOwn(v,x.key)?v[x.key]:u(v,x.path):typeof x=="function"?x(v):Array.isArray(x)?u(v,x):typeof v=="object"?v[x]:v,m=l.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||r.isKey(x)?x:{key:x,path:n.toPath(x)}));return o.map(x=>({original:x,criteria:m.map(v=>i(v,x))})).slice().sort((x,v)=>{for(let N=0;N<m.length;N++){const h=t.compareValues(x.criteria[N],v.criteria[N],c[N]);if(h!==0)return h}return 0}).map(x=>x.original)}e.orderBy=a}(gE)),gE}var bE={},X5;function PNe(){return X5||(X5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],o=Math.floor(n),l=(c,d)=>{for(let u=0;u<c.length;u++){const i=c[u];Array.isArray(i)&&d<o?l(i,d+1):a.push(i)}};return l(r,0),a}e.flatten=t}(bE)),bE}var wE={},Q5;function D9(){return Q5||(Q5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E9(),r=w9(),n=S9(),a=kk();function o(l,c,d){return n.isObject(d)&&(typeof c=="number"&&r.isArrayLike(d)&&t.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?a.eq(d[c],l):!1}e.isIterateeCall=o}(wE)),wE}var J5;function MNe(){return J5||(J5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RNe(),r=PNe(),n=D9();function a(o,...l){const c=l.length;return c>1&&n.isIterateeCall(o,l[0],l[1])?l=[]:c>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(o,r.flatten(l),["asc"])}e.sortBy=a}(pE)),pE}var SE,e6;function ONe(){return e6||(e6=1,SE=MNe().sortBy),SE}var INe=ONe();const v1=uo(INe);var T9=e=>e.legend.settings,LNe=e=>e.legend.size,BNe=e=>e.legend.payload,FNe=he([BNe,T9],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?v1(n,r):n});function UNe(){return It(FNe)}var Lv=1;function R9(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=b.useState({height:0,left:0,top:0,width:0}),n=b.useCallback(a=>{if(a!=null){var o=a.getBoundingClientRect(),l={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(l.height-t.height)>Lv||Math.abs(l.left-t.left)>Lv||Math.abs(l.top-t.top)>Lv||Math.abs(l.width-t.width)>Lv)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}var $Ne={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},P9=Zt({name:"chartLayout",initialState:$Ne,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:HNe,setLayout:zNe,setChartSize:qNe,setScale:VNe}=P9.actions,WNe=P9.reducer;function t6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function r6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t6(Object(r),!0).forEach(function(n){GNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GNe(e,t,r){return(t=YNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YNe(e){var t=ZNe(e,"string");return typeof t=="symbol"?t:t+""}function ZNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fb=Math.PI/180,KNe=e=>e*180/Math.PI,ds=(e,t,r,n)=>({x:e+Math.cos(-Fb*n)*r,y:t+Math.sin(-Fb*n)*r}),M9=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},XNe=(e,t)=>{var{x:r,y:n}=e,{x:a,y:o}=t;return Math.sqrt((r-a)**2+(n-o)**2)},QNe=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:o}=t,l=XNe({x:r,y:n},{x:a,y:o});if(l<=0)return{radius:l,angle:0};var c=(r-a)/l,d=Math.acos(c);return n>o&&(d=2*Math.PI-d),{radius:l,angle:KNe(d),angleInRadian:d}},JNe=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),o=Math.min(n,a);return{startAngle:t-o*360,endAngle:r-o*360}},eCe=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),o=Math.floor(n/360),l=Math.min(a,o);return e+l*360},tCe=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:o}=QNe({x:r,y:n},t),{innerRadius:l,outerRadius:c}=t;if(a<l||a>c||a===0)return null;var{startAngle:d,endAngle:u}=JNe(t),i=o,m;if(d<=u){for(;i>u;)i-=360;for(;i<d;)i+=360;m=i>=d&&i<=u}else{for(;i>d;)i-=360;for(;i<u;)i+=360;m=i>=u&&i<=d}return m?r6(r6({},t),{},{radius:a,angle:eCe(i,t)}):null};function O9(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function n6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ma(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n6(Object(r),!0).forEach(function(n){rCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rCe(e,t,r){return(t=nCe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nCe(e){var t=sCe(e,"string");return typeof t=="symbol"?t:t+""}function sCe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yn(e,t,r){return Pd(e)||Pd(t)?r:Xi(t)?Ff(e,t,r):typeof t=="function"?t(e):r}var aCe=(e,t,r,n,a)=>{var o,l=-1,c=(o=t?.length)!==null&&o!==void 0?o:0;if(c<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var d=0;d<c;d++){var u=d>0?r[d-1].coordinate:r[c-1].coordinate,i=r[d].coordinate,m=d>=c-1?r[0].coordinate:r[d+1].coordinate,g=void 0;if(oa(i-u)!==oa(m-i)){var x=[];if(oa(m-i)===oa(a[1]-a[0])){g=m;var v=i+a[1]-a[0];x[0]=Math.min(v,(v+u)/2),x[1]=Math.max(v,(v+u)/2)}else{g=u;var N=m+a[1]-a[0];x[0]=Math.min(i,(N+i)/2),x[1]=Math.max(i,(N+i)/2)}var h=[Math.min(i,(g+i)/2),Math.max(i,(g+i)/2)];if(e>h[0]&&e<=h[1]||e>=x[0]&&e<=x[1]){({index:l}=r[d]);break}}else{var y=Math.min(u,m),w=Math.max(u,m);if(e>(y+i)/2&&e<=(w+i)/2){({index:l}=r[d]);break}}}else if(t){for(var j=0;j<c;j++)if(j===0&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j>0&&j<c-1&&e>(t[j].coordinate+t[j-1].coordinate)/2&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j===c-1&&e>(t[j].coordinate+t[j-1].coordinate)/2){({index:l}=t[j]);break}}return l},oCe=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:o,verticalAlign:l,layout:c}=t;if((c==="vertical"||c==="horizontal"&&l==="middle")&&o!=="center"&&Wt(e[o]))return Ma(Ma({},e),{},{[o]:e[o]+(n||0)});if((c==="horizontal"||c==="vertical"&&o==="center")&&l!=="middle"&&Wt(e[l]))return Ma(Ma({},e),{},{[l]:e[l]+(a||0)})}return e},Gd=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",s6=1e-4,iCe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-s6,o=Math.max(n[0],n[1])+s6,l=e(t[0]),c=e(t[r-1]);(l<a||l>o||c<a||c>o)&&e.domain([t[0],t[r-1]])}},lCe=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,o=0,l=0;l<t;++l){var c=io(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=a,e[l][r][1]=a+c,a=e[l][r][1]):(e[l][r][0]=o,e[l][r][1]=o+c,o=e[l][r][1])}},cCe=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,o=0;o<t;++o){var l=io(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},dCe={sign:lCe,expand:zje,none:$f,silhouette:qje,wiggle:Vje,positive:cCe},uCe=(e,t,r)=>{var n=dCe[r],a=Hje().keys(t).value((o,l)=>+yn(o,l,0)).order(vA).offset(n);return a(e)},fCe=e=>{var t=e.flat(2).filter(Wt);return[Math.min(...t),Math.max(...t)]},mCe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],hCe=(e,t,r)=>{if(e!=null)return mCe(Object.keys(e).reduce((n,a)=>{var o=e[a],{stackedData:l}=o,c=l.reduce((d,u)=>{var i=O9(u,t,r),m=fCe(i);return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],n[0]),Math.max(c[1],n[1])]},[1/0,-1/0]))},a6=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,o6=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,pCe=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();return n}if(e&&t&&t.length>=2){for(var a=v1(t,i=>i.coordinate),o=1/0,l=1,c=a.length;l<c;l++){var d=a[l],u=a[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return 0};function i6(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:o}=e;return Ma(Ma({},t),{},{dataKey:r,payload:n,value:a,name:o})}function I9(e,t){if(e)return String(e);if(typeof t=="string")return t}function gCe(e,t,r,n,a){if(r==="horizontal"||r==="vertical"){var o=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return o?{x:e,y:t}:null}return n?tCe({x:e,y:t},n):null}var xCe=(e,t,r,n)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,{radius:l}=n;return Ma(Ma(Ma({},n),ds(n.cx,n.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,{angle:d}=n;return Ma(Ma(Ma({},n),ds(n.cx,n.cy,c,d)),{},{angle:d,radius:c})}return{x:0,y:0}},vCe=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,il=e=>e.layout.width,ll=e=>e.layout.height,yCe=e=>e.layout.scale,L9=e=>e.layout.margin,Mk=he(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Ok=he(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),B9="data-recharts-item-index",F9="data-recharts-item-data-key",y1=60;function l6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l6(Object(r),!0).forEach(function(n){bCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bCe(e,t,r){return(t=wCe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wCe(e){var t=SCe(e,"string");return typeof t=="symbol"?t:t+""}function SCe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jCe=e=>e.brush.height,hs=he([il,ll,L9,jCe,Mk,Ok,T9,LNe],(e,t,r,n,a,o,l,c)=>{var d=o.reduce((v,N)=>{var{orientation:h}=N;if(!N.mirror&&!N.hide){var y=typeof N.width=="number"?N.width:y1;return Fl(Fl({},v),{},{[h]:v[h]+y})}return v},{left:r.left||0,right:r.right||0}),u=a.reduce((v,N)=>{var{orientation:h}=N;return!N.mirror&&!N.hide?Fl(Fl({},v),{},{[h]:Ff(v,"".concat(h))+N.height}):v},{top:r.top||0,bottom:r.bottom||0}),i=Fl(Fl({},u),d),m=i.bottom;i.bottom+=n,i=oCe(i,l,c);var g=e-i.left-i.right,x=t-i.top-i.bottom;return Fl(Fl({brushBottom:m},i),{},{width:Math.max(g,0),height:Math.max(x,0)})}),NCe=he(hs,e=>({x:e.left,y:e.top,width:e.width,height:e.height}));he(il,ll,(e,t)=>({x:0,y:0,width:e,height:t}));var CCe=b.createContext(null),gm=()=>b.useContext(CCe)!=null,b1=e=>e.brush,w1=he([b1,hs,L9],(e,t,r)=>({height:e.height,x:Wt(e.x)?e.x:t.left,y:Wt(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Wt(e.width)?e.width:t.width})),U9=()=>{var e,t=gm(),r=It(NCe),n=It(w1),a=(e=It(b1))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},ECe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},_Ce=()=>{var e;return(e=It(hs))!==null&&e!==void 0?e:ECe},$9=()=>It(il),H9=()=>It(ll),ACe={top:0,right:0,bottom:0,left:0},kCe=()=>{var e;return(e=It(t=>t.layout.margin))!==null&&e!==void 0?e:ACe},Ar=e=>e.layout.layoutType,z9=()=>It(Ar),DCe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},q9=Zt({name:"legend",initialState:DCe,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=Fi(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:c6,setLegendSettings:TCe,addLegendPayload:RCe,removeLegendPayload:PCe}=q9.actions,MCe=q9.reducer,OCe=["contextPayload"];function wA(){return wA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wA.apply(null,arguments)}function d6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d6(Object(r),!0).forEach(function(n){Ik(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ik(e,t,r){return(t=ICe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ICe(e){var t=LCe(e,"string");return typeof t=="symbol"?t:t+""}function LCe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BCe(e,t){if(e==null)return{};var r,n,a=FCe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function FCe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function UCe(e){return e.value}function $Ce(e){var{contextPayload:t}=e,r=BCe(e,OCe),n=_9(t,e.payloadUniqBy,UCe),a=Hf(Hf({},r),{},{payload:n});return b.isValidElement(e.content)?b.cloneElement(e.content,a):typeof e.content=="function"?b.createElement(e.content,a):b.createElement(Ak,a)}function HCe(e,t,r,n,a,o){var{layout:l,align:c,verticalAlign:d}=t,u,i;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(c==="center"&&l==="vertical"?u={left:((n||0)-o.width)/2}:u=c==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(d==="middle"?i={top:((a||0)-o.height)/2}:i=d==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Hf(Hf({},u),i)}function zCe(e){var t=Gn();return b.useEffect(()=>{t(TCe(e))},[t,e]),null}function qCe(e){var t=Gn();return b.useEffect(()=>(t(c6(e)),()=>{t(c6({width:0,height:0}))}),[t,e]),null}function VCe(e){var t=UNe(),r=fje(),n=kCe(),{width:a,height:o,wrapperStyle:l,portal:c}=e,[d,u]=R9([t]),i=$9(),m=H9(),g=i-(n.left||0)-(n.right||0),x=S1.getWidthOrHeight(e.layout,o,a,g),v=c?l:Hf(Hf({position:"absolute",width:x?.width||a||"auto",height:x?.height||o||"auto"},HCe(l,e,n,i,m,d)),l),N=c??r;if(N==null)return null;var h=b.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:u},b.createElement(zCe,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),b.createElement(qCe,{width:d.width,height:d.height}),b.createElement($Ce,wA({},e,x,{margin:n,chartWidth:i,chartHeight:m,contextPayload:t})));return Hd.createPortal(h,N)}class S1 extends b.PureComponent{static getWidthOrHeight(t,r,n,a){return t==="vertical"&&Wt(r)?{height:r}:t==="horizontal"?{width:n||a}:null}render(){return b.createElement(VCe,this.props)}}Ik(S1,"displayName","Legend");Ik(S1,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function SA(){return SA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SA.apply(null,arguments)}function u6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u6(Object(r),!0).forEach(function(n){WCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WCe(e,t,r){return(t=GCe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GCe(e){var t=YCe(e,"string");return typeof t=="symbol"?t:t+""}function YCe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZCe(e){return Array.isArray(e)&&Xi(e[0])&&Xi(e[1])?e.join(" ~ "):e}var KCe=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:o,formatter:l,itemSorter:c,wrapperClassName:d,labelClassName:u,label:i,labelFormatter:m,accessibilityLayer:g=!1}=e,x=()=>{if(o&&o.length){var _={padding:0,margin:0},k=(c?v1(o,c):o).map((A,T)=>{if(A.type==="none")return null;var R=A.formatter||l||ZCe,{value:P,name:M}=A,I=P,L=M;if(R){var B=R(P,M,A,T,o);if(Array.isArray(B))[I,L]=B;else if(B!=null)I=B;else return null}var U=jE({display:"block",paddingTop:4,paddingBottom:4,color:A.color||"#000"},n);return b.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:U},Xi(L)?b.createElement("span",{className:"recharts-tooltip-item-name"},L):null,Xi(L)?b.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,b.createElement("span",{className:"recharts-tooltip-item-value"},I),b.createElement("span",{className:"recharts-tooltip-item-unit"},A.unit||""))});return b.createElement("ul",{className:"recharts-tooltip-item-list",style:_},k)}return null},v=jE({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),N=jE({margin:0},a),h=!Pd(i),y=h?i:"",w=un("recharts-default-tooltip",d),j=un("recharts-tooltip-label",u);h&&m&&o!==void 0&&o!==null&&(y=m(i,o));var C=g?{role:"status","aria-live":"assertive"}:{};return b.createElement("div",SA({className:w,style:v},C),b.createElement("p",{className:j,style:N},b.isValidElement(y)?y:"".concat(y)),x())},Xh="recharts-tooltip-wrapper",XCe={visibility:"hidden"};function QCe(e){var{coordinate:t,translateX:r,translateY:n}=e;return un(Xh,{["".concat(Xh,"-right")]:Wt(r)&&t&&Wt(t.x)&&r>=t.x,["".concat(Xh,"-left")]:Wt(r)&&t&&Wt(t.x)&&r<t.x,["".concat(Xh,"-bottom")]:Wt(n)&&t&&Wt(t.y)&&n>=t.y,["".concat(Xh,"-top")]:Wt(n)&&t&&Wt(t.y)&&n<t.y})}function f6(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:o,reverseDirection:l,tooltipDimension:c,viewBox:d,viewBoxDimension:u}=e;if(o&&Wt(o[n]))return o[n];var i=r[n]-c-(a>0?a:0),m=r[n]+a;if(t[n])return l[n]?i:m;var g=d[n];if(g==null)return 0;if(l[n]){var x=i,v=g;return x<v?Math.max(m,g):Math.max(i,g)}if(u==null)return 0;var N=m+c,h=g+u;return N>h?Math.max(i,g):Math.max(m,g)}function JCe(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function eEe(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:o,tooltipBox:l,useTranslate3d:c,viewBox:d}=e,u,i,m;return l.height>0&&l.width>0&&r?(i=f6({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),m=f6({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),u=JCe({translateX:i,translateY:m,useTranslate3d:c})):u=XCe,{cssProperties:u,cssClasses:QCe({translateX:i,translateY:m,coordinate:r})}}function m6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m6(Object(r),!0).forEach(function(n){jA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jA(e,t,r){return(t=tEe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tEe(e){var t=rEe(e,"string");return typeof t=="symbol"?t:t+""}function rEe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class nEe extends b.PureComponent{constructor(){super(...arguments),jA(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),jA(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:o,coordinate:l,hasPayload:c,isAnimationActive:d,offset:u,position:i,reverseDirection:m,useTranslate3d:g,viewBox:x,wrapperStyle:v,lastBoundingBox:N,innerRef:h,hasPortalFromProps:y}=this.props,{cssClasses:w,cssProperties:j}=eEe({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:u,position:i,reverseDirection:m,tooltipBox:{height:N.height,width:N.width},useTranslate3d:g,viewBox:x}),C=y?{}:Bv(Bv({transition:d&&t?"transform ".concat(n,"ms ").concat(a):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),_=Bv(Bv({},C),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},v);return b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:_,ref:h},o)}}var sEe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),j1={isSsr:sEe()},V9=()=>It(e=>e.rootProps.accessibilityLayer);function lo(e){return Number.isFinite(e)}function Ub(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function NA(){return NA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NA.apply(null,arguments)}function h6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function p6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h6(Object(r),!0).forEach(function(n){aEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aEe(e,t,r){return(t=oEe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oEe(e){var t=iEe(e,"string");return typeof t=="symbol"?t:t+""}function iEe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var g6={curveBasisClosed:Tje,curveBasisOpen:Rje,curveBasis:Dje,curveBumpX:gje,curveBumpY:xje,curveLinearClosed:Pje,curveLinear:g1,curveMonotoneX:Mje,curveMonotoneY:Oje,curveNatural:Ije,curveStep:Lje,curveStepAfter:Fje,curveStepBefore:Bje},Fv=e=>lo(e.x)&&lo(e.y),Qh=e=>e.x,Jh=e=>e.y,lEe=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Eg(e));return(r==="curveMonotone"||r==="curveBump")&&t?g6["".concat(r).concat(t==="vertical"?"Y":"X")]:g6[r]||g1},cEe=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:o=!1}=e,l=lEe(t,a),c=o?r.filter(Fv):r,d;if(Array.isArray(n)){var u=o?n.filter(m=>Fv(m)):n,i=c.map((m,g)=>p6(p6({},m),{},{base:u[g]}));return a==="vertical"?d=Iv().y(Jh).x1(Qh).x0(m=>m.base.x):d=Iv().x(Qh).y1(Jh).y0(m=>m.base.y),d.defined(Fv).curve(l),d(i)}return a==="vertical"&&Wt(n)?d=Iv().y(Jh).x1(Qh).x0(n):Wt(n)?d=Iv().x(Qh).y1(Jh).y0(n):d=l9().x(Qh).y(Jh),d.defined(Fv).curve(l),d(c)},W9=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var o=r&&r.length?cEe(e):n;return b.createElement("path",NA({},h1(e),rje(e),{className:un("recharts-curve",t),d:o===null?void 0:o,ref:a}))},dEe=["x","y","top","left","width","height","className"];function CA(){return CA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CA.apply(null,arguments)}function x6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uEe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x6(Object(r),!0).forEach(function(n){fEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fEe(e,t,r){return(t=mEe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mEe(e){var t=hEe(e,"string");return typeof t=="symbol"?t:t+""}function hEe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pEe(e,t){if(e==null)return{};var r,n,a=gEe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function gEe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var xEe=(e,t,r,n,a,o)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(o,",").concat(t,"h").concat(r),vEe=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:o=0,height:l=0,className:c}=e,d=pEe(e,dEe),u=uEe({x:t,y:r,top:n,left:a,width:o,height:l},d);return!Wt(t)||!Wt(r)||!Wt(o)||!Wt(l)||!Wt(n)||!Wt(a)?null:b.createElement("path",CA({},ma(u,!0),{className:un("recharts-cross",c),d:xEe(t,r,o,l,n,a)}))};function yEe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function v6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bEe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v6(Object(r),!0).forEach(function(n){wEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wEe(e,t,r){return(t=SEe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SEe(e){var t=jEe(e,"string");return typeof t=="symbol"?t:t+""}function jEe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jc(e,t){var r=bEe({},e),n=t,a=Object.keys(t),o=a.reduce((l,c)=>(l[c]===void 0&&n[c]!==void 0&&(l[c]=n[c]),l),r);return o}var NE={},CE={},EE={},y6;function NEe(){return y6||(y6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}e.isPlainObject=t}(EE)),EE}var b6;function CEe(){return b6||(b6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NEe(),r=N9(),n=Tk(),a=Rk(),o=kk();function l(u,i,m){return c(u,i,void 0,void 0,void 0,void 0,m)}function c(u,i,m,g,x,v,N){const h=N(u,i,m,g,x,v);if(h!==void 0)return h;if(typeof u==typeof i)switch(typeof u){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return u===i;case"number":return u===i||Object.is(u,i);case"function":return u===i;case"object":return d(u,i,v,N)}return d(u,i,v,N)}function d(u,i,m,g){if(Object.is(u,i))return!0;let x=n.getTag(u),v=n.getTag(i);if(x===a.argumentsTag&&(x=a.objectTag),v===a.argumentsTag&&(v=a.objectTag),x!==v)return!1;switch(x){case a.stringTag:return u.toString()===i.toString();case a.numberTag:{const y=u.valueOf(),w=i.valueOf();return o.eq(y,w)}case a.booleanTag:case a.dateTag:case a.symbolTag:return Object.is(u.valueOf(),i.valueOf());case a.regexpTag:return u.source===i.source&&u.flags===i.flags;case a.functionTag:return u===i}m=m??new Map;const N=m.get(u),h=m.get(i);if(N!=null&&h!=null)return N===i;m.set(u,i),m.set(i,u);try{switch(x){case a.mapTag:{if(u.size!==i.size)return!1;for(const[y,w]of u.entries())if(!i.has(y)||!c(w,i.get(y),y,u,i,m,g))return!1;return!0}case a.setTag:{if(u.size!==i.size)return!1;const y=Array.from(u.values()),w=Array.from(i.values());for(let j=0;j<y.length;j++){const C=y[j],_=w.findIndex(k=>c(C,k,void 0,u,i,m,g));if(_===-1)return!1;w.splice(_,1)}return!0}case a.arrayTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:case a.bigUint64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.bigInt64ArrayTag:case a.float32ArrayTag:case a.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(u)!==Buffer.isBuffer(i)||u.length!==i.length)return!1;for(let y=0;y<u.length;y++)if(!c(u[y],i[y],y,u,i,m,g))return!1;return!0}case a.arrayBufferTag:return u.byteLength!==i.byteLength?!1:d(new Uint8Array(u),new Uint8Array(i),m,g);case a.dataViewTag:return u.byteLength!==i.byteLength||u.byteOffset!==i.byteOffset?!1:d(new Uint8Array(u),new Uint8Array(i),m,g);case a.errorTag:return u.name===i.name&&u.message===i.message;case a.objectTag:{if(!(d(u.constructor,i.constructor,m,g)||t.isPlainObject(u)&&t.isPlainObject(i)))return!1;const w=[...Object.keys(u),...r.getSymbols(u)],j=[...Object.keys(i),...r.getSymbols(i)];if(w.length!==j.length)return!1;for(let C=0;C<w.length;C++){const _=w[C],k=u[_];if(!Object.hasOwn(i,_))return!1;const A=i[_];if(!c(k,A,_,u,i,m,g))return!1}return!0}default:return!1}}finally{m.delete(u),m.delete(i)}}e.isEqualWith=l}(CE)),CE}var _E={},w6;function EEe(){return w6||(w6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t}(_E)),_E}var S6;function _Ee(){return S6||(S6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CEe(),r=EEe();function n(a,o){return t.isEqualWith(a,o,r.noop)}e.isEqual=n}(NE)),NE}var AE,j6;function AEe(){return j6||(j6=1,AE=_Ee().isEqual),AE}var kEe=AEe();const DEe=uo(kEe);var $b=1e-4,G9=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],Y9=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),N6=(e,t)=>r=>{var n=G9(e,t);return Y9(n,r)},TEe=(e,t)=>r=>{var n=G9(e,t),a=[...n.map((o,l)=>o*l).slice(1),0];return Y9(a,r)},C6=function(){for(var t,r,n,a,o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];if(l.length===1)switch(l[0]){case"linear":[t,n,r,a]=[0,0,1,1];break;case"ease":[t,n,r,a]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,a]=[.42,0,1,1];break;case"ease-out":[t,n,r,a]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,a]=[0,0,.58,1];break;default:{var d=l[0].split("(");d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4&&([t,n,r,a]=d[1].split(")")[0].split(",").map(v=>parseFloat(v)))}}else l.length===4&&([t,n,r,a]=l);var u=N6(t,r),i=N6(n,a),m=TEe(t,r),g=v=>v>1?1:v<0?0:v,x=v=>{for(var N=v>1?1:v,h=N,y=0;y<8;++y){var w=u(h)-N,j=m(h);if(Math.abs(w-N)<$b||j<$b)return i(h);h=g(h-w/j)}return i(h)};return x.isStepper=!1,x},REe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,o=(l,c,d)=>{var u=-(l-c)*r,i=d*n,m=d+(u-i)*a/1e3,g=d*a/1e3+l;return Math.abs(g-c)<$b&&Math.abs(m)<$b?[c,0]:[g,m]};return o.isStepper=!0,o.dt=a,o},Z9=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return C6(e);case"spring":return REe();default:if(e.split("(")[0]==="cubic-bezier")return C6(e)}return typeof e=="function"?e:null};function E6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E6(Object(r),!0).forEach(function(n){PEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PEe(e,t,r){return(t=MEe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MEe(e){var t=OEe(e,"string");return typeof t=="symbol"?t:t+""}function OEe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IEe=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),LEe=(e,t,r)=>e.map(n=>"".concat(IEe(n)," ").concat(t,"ms ").concat(r)).join(","),BEe=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),Lp=(e,t)=>Object.keys(t).reduce((r,n)=>_6(_6({},r),{},{[n]:e(n,t[n])}),{});function A6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function es(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A6(Object(r),!0).forEach(function(n){FEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FEe(e,t,r){return(t=UEe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UEe(e){var t=$Ee(e,"string");return typeof t=="symbol"?t:t+""}function $Ee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hb=(e,t,r)=>e+(t-e)*r,EA=e=>{var{from:t,to:r}=e;return t!==r},K9=(e,t,r)=>{var n=Lp((a,o)=>{if(EA(o)){var[l,c]=e(o.from,o.to,o.velocity);return es(es({},o),{},{from:l,velocity:c})}return o},t);return r<1?Lp((a,o)=>EA(o)?es(es({},o),{},{velocity:Hb(o.velocity,n[a].velocity,r),from:Hb(o.from,n[a].from,r)}):o,t):K9(e,n,r-1)};function HEe(e,t,r,n,a,o){var l,c=n.reduce((g,x)=>es(es({},g),{},{[x]:{from:e[x],velocity:0,to:t[x]}}),{}),d=()=>Lp((g,x)=>x.from,c),u=()=>!Object.values(c).filter(EA).length,i=null,m=g=>{l||(l=g);var x=g-l,v=x/r.dt;c=K9(r,c,v),a(es(es(es({},e),t),d())),l=g,u()||(i=o.setTimeout(m))};return()=>(i=o.setTimeout(m),()=>{i()})}function zEe(e,t,r,n,a,o,l){var c=null,d=a.reduce((m,g)=>es(es({},m),{},{[g]:[e[g],t[g]]}),{}),u,i=m=>{u||(u=m);var g=(m-u)/n,x=Lp((N,h)=>Hb(...h,r(g)),d);if(o(es(es(es({},e),t),x)),g<1)c=l.setTimeout(i);else{var v=Lp((N,h)=>Hb(...h,r(1)),d);o(es(es(es({},e),t),v))}};return()=>(c=l.setTimeout(i),()=>{c()})}const X9=(e,t,r,n,a,o)=>{var l=BEe(e,t);return r.isStepper===!0?HEe(e,t,r,l,a,o):zEe(e,t,r,n,l,a,o)};function qEe(e){var t,r=()=>null,n=!1,a=null,o=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var c=l,[d,...u]=c;if(typeof d=="number"){a=e.setTimeout(o.bind(null,u),d);return}o(d),a=e.setTimeout(o.bind(null,u));return}typeof l=="string"&&(t=l,r(t)),typeof l=="object"&&(t=l,r(t)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,a&&(a(),a=null),o(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>e}}class VEe{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,o=l=>{l-n>=r?t(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(o))};return a=requestAnimationFrame(o),()=>{cancelAnimationFrame(a)}}}function WEe(){return qEe(new VEe)}var GEe=b.createContext(WEe);function Q9(e,t){var r=b.useContext(GEe);return b.useMemo(()=>t??r(e),[e,t,r])}var YEe=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function _A(){return _A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_A.apply(null,arguments)}function ZEe(e,t){if(e==null)return{};var r,n,a=KEe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function KEe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function k6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ul(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k6(Object(r),!0).forEach(function(n){dd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dd(e,t,r){return(t=XEe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XEe(e){var t=QEe(e,"string");return typeof t=="symbol"?t:t+""}function QEe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Lk extends b.PureComponent{constructor(t,r){super(t,r),dd(this,"mounted",!1),dd(this,"manager",void 0),dd(this,"stopJSAnimation",null),dd(this,"unSubscribe",null);var{isActive:n,attributeName:a,from:o,to:l,children:c,duration:d,animationManager:u}=this.props;if(this.manager=u,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||d<=0){this.state={style:{}},typeof c=="function"&&(this.state={style:l});return}if(o){if(typeof c=="function"){this.state={style:o};return}this.state={style:a?{[a]:o}:o}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:r}=this.props;this.mounted=!0,!(!t||!r)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:r,canBegin:n,attributeName:a,shouldReAnimate:o,to:l,from:c}=this.props,{style:d}=this.state;if(n){if(!r){var u={style:a?{[a]:l}:l};this.state&&d&&(a&&d[a]!==l||!a&&d!==l)&&this.setState(u);return}if(!(DEe(t.to,l)&&t.canBegin&&t.isActive)){var i=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=i||o?c:t.to;if(this.state&&d){var g={style:a?{[a]:m}:m};(a&&d[a]!==m||!a&&d!==m)&&this.setState(g)}this.runAnimation(Ul(Ul({},this.props),{},{from:m,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:r,to:n,duration:a,easing:o,begin:l,onAnimationEnd:c,onAnimationStart:d}=t,u=X9(r,n,Z9(o),a,this.changeStyle,this.manager.getTimeoutController()),i=()=>{this.stopJSAnimation=u()};this.manager.start([d,l,i,a,c])}runAnimation(t){var{begin:r,duration:n,attributeName:a,to:o,easing:l,onAnimationStart:c,onAnimationEnd:d,children:u}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof l=="function"||typeof u=="function"||l==="spring"){this.runJSAnimation(t);return}var i=a?{[a]:o}:o,m=LEe(Object.keys(i),n,l);this.manager.start([c,r,Ul(Ul({},i),{},{transition:m}),n,d])}render(){var t=this.props,{children:r,begin:n,duration:a,attributeName:o,easing:l,isActive:c,from:d,to:u,canBegin:i,onAnimationEnd:m,shouldReAnimate:g,onAnimationReStart:x,animationManager:v}=t,N=ZEe(t,YEe),h=b.Children.count(r),y=this.state.style;if(typeof r=="function")return r(y);if(!c||h===0||a<=0)return r;var w=j=>{var{style:C={},className:_}=j.props,k=b.cloneElement(j,Ul(Ul({},N),{},{style:Ul(Ul({},C),y),className:_}));return k};return h===1?w(b.Children.only(r)):b.createElement("div",null,b.Children.map(r,j=>w(j)))}}dd(Lk,"displayName","Animate");dd(Lk,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function zb(e){var t,r=Q9((t=e.attributeName)!==null&&t!==void 0?t:Object.keys(e.to).join(","),e.animationManager);return b.createElement(Lk,_A({},e,{animationManager:r}))}function qb(){return qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qb.apply(null,arguments)}var D6=(e,t,r,n,a)=>{var o=Math.min(Math.abs(r)/2,Math.abs(n)/2),l=n>=0?1:-1,c=r>=0?1:-1,d=n>=0&&r>=0||n<0&&r<0?1:0,u;if(o>0&&a instanceof Array){for(var i=[0,0,0,0],m=0,g=4;m<g;m++)i[m]=a[m]>o?o:a[m];u="M".concat(e,",").concat(t+l*i[0]),i[0]>0&&(u+="A ".concat(i[0],",").concat(i[0],",0,0,").concat(d,",").concat(e+c*i[0],",").concat(t)),u+="L ".concat(e+r-c*i[1],",").concat(t),i[1]>0&&(u+="A ".concat(i[1],",").concat(i[1],",0,0,").concat(d,`,
        `).concat(e+r,",").concat(t+l*i[1])),u+="L ".concat(e+r,",").concat(t+n-l*i[2]),i[2]>0&&(u+="A ".concat(i[2],",").concat(i[2],",0,0,").concat(d,`,
        `).concat(e+r-c*i[2],",").concat(t+n)),u+="L ".concat(e+c*i[3],",").concat(t+n),i[3]>0&&(u+="A ".concat(i[3],",").concat(i[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(t+n-l*i[3])),u+="Z"}else if(o>0&&a===+a&&a>0){var x=Math.min(o,a);u="M ".concat(e,",").concat(t+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+c*x,",").concat(t,`
            L `).concat(e+r-c*x,",").concat(t,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+r,",").concat(t+l*x,`
            L `).concat(e+r,",").concat(t+n-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+r-c*x,",").concat(t+n,`
            L `).concat(e+c*x,",").concat(t+n,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e,",").concat(t+n-l*x," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},JEe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},J9=e=>{var t=jc(e,JEe),r=b.useRef(null),[n,a]=b.useState(-1);b.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var y=r.current.getTotalLength();y&&a(y)}catch{}},[]);var{x:o,y:l,width:c,height:d,radius:u,className:i}=t,{animationEasing:m,animationDuration:g,animationBegin:x,isAnimationActive:v,isUpdateAnimationActive:N}=t;if(o!==+o||l!==+l||c!==+c||d!==+d||c===0||d===0)return null;var h=un("recharts-rectangle",i);return N?b.createElement(zb,{canBegin:n>0,from:{width:c,height:d,x:o,y:l},to:{width:c,height:d,x:o,y:l},duration:g,animationEasing:m,isActive:N},y=>{var{width:w,height:j,x:C,y:_}=y;return b.createElement(zb,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,isActive:v,easing:m},b.createElement("path",qb({},ma(t,!0),{className:h,d:D6(C,_,w,j,u),ref:r})))}):b.createElement("path",qb({},ma(t,!0),{className:h,d:D6(o,l,c,d,u)}))};function e7(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:o}=e,l=ds(t,r,n,a),c=ds(t,r,n,o);return{points:[l,c],cx:t,cy:r,radius:n,startAngle:a,endAngle:o}}function AA(){return AA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AA.apply(null,arguments)}var e_e=(e,t)=>{var r=oa(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Uv=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:o,isExternal:l,cornerRadius:c,cornerIsExternal:d}=e,u=c*(l?1:-1)+n,i=Math.asin(c/u)/Fb,m=d?a:a+o*i,g=ds(t,r,u,m),x=ds(t,r,n,m),v=d?a-o*i:a,N=ds(t,r,u*Math.cos(i*Fb),v);return{center:g,circleTangency:x,lineTangency:N,theta:i}},t7=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:o,endAngle:l}=e,c=e_e(o,l),d=o+c,u=ds(t,r,a,o),i=ds(t,r,a,d),m="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(i.x,",").concat(i.y,`
  `);if(n>0){var g=ds(t,r,n,o),x=ds(t,r,n,d);m+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(g.x,",").concat(g.y," Z")}else m+="L ".concat(t,",").concat(r," Z");return m},t_e=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u}=e,i=oa(u-d),{circleTangency:m,lineTangency:g,theta:x}=Uv({cx:t,cy:r,radius:a,angle:d,sign:i,cornerRadius:o,cornerIsExternal:c}),{circleTangency:v,lineTangency:N,theta:h}=Uv({cx:t,cy:r,radius:a,angle:u,sign:-i,cornerRadius:o,cornerIsExternal:c}),y=c?Math.abs(d-u):Math.abs(d-u)-x-h;if(y<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):t7({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:d,endAngle:u});var w="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(i<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(y>180),",").concat(+(i<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(i<0),",").concat(N.x,",").concat(N.y,`
  `);if(n>0){var{circleTangency:j,lineTangency:C,theta:_}=Uv({cx:t,cy:r,radius:n,angle:d,sign:i,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),{circleTangency:k,lineTangency:A,theta:T}=Uv({cx:t,cy:r,radius:n,angle:u,sign:-i,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),R=c?Math.abs(d-u):Math.abs(d-u)-_-T;if(R<0&&o===0)return"".concat(w,"L").concat(t,",").concat(r,"Z");w+="L".concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(i<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(R>180),",").concat(+(i>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(i<0),",").concat(C.x,",").concat(C.y,"Z")}else w+="L".concat(t,",").concat(r,"Z");return w},r_e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},r7=e=>{var t=jc(e,r_e),{cx:r,cy:n,innerRadius:a,outerRadius:o,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:i,className:m}=t;if(o<a||u===i)return null;var g=un("recharts-sector",m),x=o-a,v=qo(l,x,0,!0),N;return v>0&&Math.abs(u-i)<360?N=t_e({cx:r,cy:n,innerRadius:a,outerRadius:o,cornerRadius:Math.min(v,x/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:i}):N=t7({cx:r,cy:n,innerRadius:a,outerRadius:o,startAngle:u,endAngle:i}),b.createElement("path",AA({},ma(t,!0),{className:g,d:N}))};function n_e(e,t,r){var n,a,o,l;if(e==="horizontal")n=t.x,o=n,a=r.top,l=r.top+r.height;else if(e==="vertical")a=t.y,l=a,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:c,cy:d,innerRadius:u,outerRadius:i,angle:m}=t,g=ds(c,d,u,m),x=ds(c,d,i,m);n=g.x,a=g.y,o=x.x,l=x.y}else return e7(t);return[{x:n,y:a},{x:o,y:l}]}var kE={},DE={},TE={},T6;function s_e(){return T6||(T6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k9();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r}(TE)),TE}var R6;function a_e(){return R6||(R6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s_e();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r}(DE)),DE}var P6;function o_e(){return P6||(P6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D9(),r=a_e();function n(a,o,l){l&&typeof l!="number"&&t.isIterateeCall(a,o,l)&&(o=l=void 0),a=r.toFinite(a),o===void 0?(o=a,a=0):o=r.toFinite(o),l=l===void 0?a<o?1:-1:r.toFinite(l);const c=Math.max(Math.ceil((o-a)/(l||1)),0),d=new Array(c);for(let u=0;u<c;u++)d[u]=a,a+=l;return d}e.range=n}(kE)),kE}var RE,M6;function i_e(){return M6||(M6=1,RE=o_e().range),RE}var l_e=i_e();const n7=uo(l_e);function ec(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function c_e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Bk(e){let t,r,n;e.length!==2?(t=ec,r=(c,d)=>ec(e(c),d),n=(c,d)=>e(c)-d):(t=e===ec||e===c_e?e:d_e,r=e,n=e);function a(c,d,u=0,i=c.length){if(u<i){if(t(d,d)!==0)return i;do{const m=u+i>>>1;r(c[m],d)<0?u=m+1:i=m}while(u<i)}return u}function o(c,d,u=0,i=c.length){if(u<i){if(t(d,d)!==0)return i;do{const m=u+i>>>1;r(c[m],d)<=0?u=m+1:i=m}while(u<i)}return u}function l(c,d,u=0,i=c.length){const m=a(c,d,u,i-1);return m>u&&n(c[m-1],d)>-n(c[m],d)?m-1:m}return{left:a,center:l,right:o}}function d_e(){return 0}function s7(e){return e===null?NaN:+e}function*u_e(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const f_e=Bk(ec),_g=f_e.right;Bk(s7).center;class O6 extends Map{constructor(t,r=p_e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(I6(this,t))}has(t){return super.has(I6(this,t))}set(t,r){return super.set(m_e(this,t),r)}delete(t){return super.delete(h_e(this,t))}}function I6({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function m_e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function h_e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function p_e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function g_e(e=ec){if(e===ec)return a7;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function a7(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const x_e=Math.sqrt(50),v_e=Math.sqrt(10),y_e=Math.sqrt(2);function Vb(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),o=n/Math.pow(10,a),l=o>=x_e?10:o>=v_e?5:o>=y_e?2:1;let c,d,u;return a<0?(u=Math.pow(10,-a)/l,c=Math.round(e*u),d=Math.round(t*u),c/u<e&&++c,d/u>t&&--d,u=-u):(u=Math.pow(10,a)*l,c=Math.round(e/u),d=Math.round(t/u),c*u<e&&++c,d*u>t&&--d),d<c&&.5<=r&&r<2?Vb(e,t,r*2):[c,d,u]}function kA(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,o,l]=n?Vb(t,e,r):Vb(e,t,r);if(!(o>=a))return[];const c=o-a+1,d=new Array(c);if(n)if(l<0)for(let u=0;u<c;++u)d[u]=(o-u)/-l;else for(let u=0;u<c;++u)d[u]=(o-u)*l;else if(l<0)for(let u=0;u<c;++u)d[u]=(a+u)/-l;else for(let u=0;u<c;++u)d[u]=(a+u)*l;return d}function DA(e,t,r){return t=+t,e=+e,r=+r,Vb(e,t,r)[2]}function TA(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?DA(t,e,r):DA(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function L6(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function B6(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function o7(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?a7:g_e(a);n>r;){if(n-r>600){const d=n-r+1,u=t-r+1,i=Math.log(d),m=.5*Math.exp(2*i/3),g=.5*Math.sqrt(i*m*(d-m)/d)*(u-d/2<0?-1:1),x=Math.max(r,Math.floor(t-u*m/d+g)),v=Math.min(n,Math.floor(t+(d-u)*m/d+g));o7(e,t,x,v,a)}const o=e[t];let l=r,c=n;for(ep(e,r,t),a(e[n],o)>0&&ep(e,r,n);l<c;){for(ep(e,l,c),++l,--c;a(e[l],o)<0;)++l;for(;a(e[c],o)>0;)--c}a(e[r],o)===0?ep(e,r,c):(++c,ep(e,c,n)),c<=t&&(r=c+1),t<=c&&(n=c-1)}return e}function ep(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function b_e(e,t,r){if(e=Float64Array.from(u_e(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return B6(e);if(t>=1)return L6(e);var n,a=(n-1)*t,o=Math.floor(a),l=L6(o7(e,o).subarray(0,o+1)),c=B6(e.subarray(o+1));return l+(c-l)*(a-o)}}function w_e(e,t,r=s7){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,o=Math.floor(a),l=+r(e[o],o,e),c=+r(e[o+1],o+1,e);return l+(c-l)*(a-o)}}function S_e(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(a);++n<a;)o[n]=e+n*r;return o}function Va(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function cl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const RA=Symbol("implicit");function Fk(){var e=new O6,t=[],r=[],n=RA;function a(o){let l=e.get(o);if(l===void 0){if(n!==RA)return n;e.set(o,l=t.push(o)-1)}return r[l%r.length]}return a.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new O6;for(const l of o)e.has(l)||e.set(l,t.push(l)-1);return a},a.range=function(o){return arguments.length?(r=Array.from(o),a):r.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return Fk(t,r).unknown(n)},Va.apply(a,arguments),a}function Uk(){var e=Fk().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,o,l,c=!1,d=0,u=0,i=.5;delete e.unknown;function m(){var g=t().length,x=a<n,v=x?a:n,N=x?n:a;o=(N-v)/Math.max(1,g-d+u*2),c&&(o=Math.floor(o)),v+=(N-v-o*(g-d))*i,l=o*(1-d),c&&(v=Math.round(v),l=Math.round(l));var h=S_e(g).map(function(y){return v+o*y});return r(x?h.reverse():h)}return e.domain=function(g){return arguments.length?(t(g),m()):t()},e.range=function(g){return arguments.length?([n,a]=g,n=+n,a=+a,m()):[n,a]},e.rangeRound=function(g){return[n,a]=g,n=+n,a=+a,c=!0,m()},e.bandwidth=function(){return l},e.step=function(){return o},e.round=function(g){return arguments.length?(c=!!g,m()):c},e.padding=function(g){return arguments.length?(d=Math.min(1,u=+g),m()):d},e.paddingInner=function(g){return arguments.length?(d=Math.min(1,g),m()):d},e.paddingOuter=function(g){return arguments.length?(u=+g,m()):u},e.align=function(g){return arguments.length?(i=Math.max(0,Math.min(1,g)),m()):i},e.copy=function(){return Uk(t(),[n,a]).round(c).paddingInner(d).paddingOuter(u).align(i)},Va.apply(m(),arguments)}function i7(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return i7(t())},e}function j_e(){return i7(Uk.apply(null,arguments).paddingInner(1))}function $k(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function l7(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ag(){}var Bp=.7,Wb=1/Bp,Ef="\\s*([+-]?\\d+)\\s*",Fp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",N_e=/^#([0-9a-f]{3,8})$/,C_e=new RegExp(`^rgb\\(${Ef},${Ef},${Ef}\\)$`),E_e=new RegExp(`^rgb\\(${Vo},${Vo},${Vo}\\)$`),__e=new RegExp(`^rgba\\(${Ef},${Ef},${Ef},${Fp}\\)$`),A_e=new RegExp(`^rgba\\(${Vo},${Vo},${Vo},${Fp}\\)$`),k_e=new RegExp(`^hsl\\(${Fp},${Vo},${Vo}\\)$`),D_e=new RegExp(`^hsla\\(${Fp},${Vo},${Vo},${Fp}\\)$`),F6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$k(Ag,Up,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:U6,formatHex:U6,formatHex8:T_e,formatHsl:R_e,formatRgb:$6,toString:$6});function U6(){return this.rgb().formatHex()}function T_e(){return this.rgb().formatHex8()}function R_e(){return c7(this).formatHsl()}function $6(){return this.rgb().formatRgb()}function Up(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=N_e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?H6(t):r===3?new Ls(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?$v(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?$v(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=C_e.exec(e))?new Ls(t[1],t[2],t[3],1):(t=E_e.exec(e))?new Ls(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=__e.exec(e))?$v(t[1],t[2],t[3],t[4]):(t=A_e.exec(e))?$v(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=k_e.exec(e))?V6(t[1],t[2]/100,t[3]/100,1):(t=D_e.exec(e))?V6(t[1],t[2]/100,t[3]/100,t[4]):F6.hasOwnProperty(e)?H6(F6[e]):e==="transparent"?new Ls(NaN,NaN,NaN,0):null}function H6(e){return new Ls(e>>16&255,e>>8&255,e&255,1)}function $v(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ls(e,t,r,n)}function P_e(e){return e instanceof Ag||(e=Up(e)),e?(e=e.rgb(),new Ls(e.r,e.g,e.b,e.opacity)):new Ls}function PA(e,t,r,n){return arguments.length===1?P_e(e):new Ls(e,t,r,n??1)}function Ls(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}$k(Ls,PA,l7(Ag,{brighter(e){return e=e==null?Wb:Math.pow(Wb,e),new Ls(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Bp:Math.pow(Bp,e),new Ls(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ls(wd(this.r),wd(this.g),wd(this.b),Gb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:z6,formatHex:z6,formatHex8:M_e,formatRgb:q6,toString:q6}));function z6(){return`#${ud(this.r)}${ud(this.g)}${ud(this.b)}`}function M_e(){return`#${ud(this.r)}${ud(this.g)}${ud(this.b)}${ud((isNaN(this.opacity)?1:this.opacity)*255)}`}function q6(){const e=Gb(this.opacity);return`${e===1?"rgb(":"rgba("}${wd(this.r)}, ${wd(this.g)}, ${wd(this.b)}${e===1?")":`, ${e})`}`}function Gb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function wd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ud(e){return e=wd(e),(e<16?"0":"")+e.toString(16)}function V6(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new to(e,t,r,n)}function c7(e){if(e instanceof to)return new to(e.h,e.s,e.l,e.opacity);if(e instanceof Ag||(e=Up(e)),!e)return new to;if(e instanceof to)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),o=Math.max(t,r,n),l=NaN,c=o-a,d=(o+a)/2;return c?(t===o?l=(r-n)/c+(r<n)*6:r===o?l=(n-t)/c+2:l=(t-r)/c+4,c/=d<.5?o+a:2-o-a,l*=60):c=d>0&&d<1?0:l,new to(l,c,d,e.opacity)}function O_e(e,t,r,n){return arguments.length===1?c7(e):new to(e,t,r,n??1)}function to(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}$k(to,O_e,l7(Ag,{brighter(e){return e=e==null?Wb:Math.pow(Wb,e),new to(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Bp:Math.pow(Bp,e),new to(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Ls(PE(e>=240?e-240:e+120,a,n),PE(e,a,n),PE(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new to(W6(this.h),Hv(this.s),Hv(this.l),Gb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Gb(this.opacity);return`${e===1?"hsl(":"hsla("}${W6(this.h)}, ${Hv(this.s)*100}%, ${Hv(this.l)*100}%${e===1?")":`, ${e})`}`}}));function W6(e){return e=(e||0)%360,e<0?e+360:e}function Hv(e){return Math.max(0,Math.min(1,e||0))}function PE(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Hk=e=>()=>e;function I_e(e,t){return function(r){return e+r*t}}function L_e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function B_e(e){return(e=+e)==1?d7:function(t,r){return r-t?L_e(t,r,e):Hk(isNaN(t)?r:t)}}function d7(e,t){var r=t-e;return r?I_e(e,r):Hk(isNaN(e)?t:e)}const G6=function e(t){var r=B_e(t);function n(a,o){var l=r((a=PA(a)).r,(o=PA(o)).r),c=r(a.g,o.g),d=r(a.b,o.b),u=d7(a.opacity,o.opacity);return function(i){return a.r=l(i),a.g=c(i),a.b=d(i),a.opacity=u(i),a+""}}return n.gamma=e,n}(1);function F_e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(o){for(a=0;a<r;++a)n[a]=e[a]*(1-o)+t[a]*o;return n}}function U_e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function $_e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),o=new Array(r),l;for(l=0;l<n;++l)a[l]=xm(e[l],t[l]);for(;l<r;++l)o[l]=t[l];return function(c){for(l=0;l<n;++l)o[l]=a[l](c);return o}}function H_e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Yb(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function z_e(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=xm(e[a],t[a]):n[a]=t[a];return function(o){for(a in r)n[a]=r[a](o);return n}}var MA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ME=new RegExp(MA.source,"g");function q_e(e){return function(){return e}}function V_e(e){return function(t){return e(t)+""}}function W_e(e,t){var r=MA.lastIndex=ME.lastIndex=0,n,a,o,l=-1,c=[],d=[];for(e=e+"",t=t+"";(n=MA.exec(e))&&(a=ME.exec(t));)(o=a.index)>r&&(o=t.slice(r,o),c[l]?c[l]+=o:c[++l]=o),(n=n[0])===(a=a[0])?c[l]?c[l]+=a:c[++l]=a:(c[++l]=null,d.push({i:l,x:Yb(n,a)})),r=ME.lastIndex;return r<t.length&&(o=t.slice(r),c[l]?c[l]+=o:c[++l]=o),c.length<2?d[0]?V_e(d[0].x):q_e(t):(t=d.length,function(u){for(var i=0,m;i<t;++i)c[(m=d[i]).i]=m.x(u);return c.join("")})}function xm(e,t){var r=typeof t,n;return t==null||r==="boolean"?Hk(t):(r==="number"?Yb:r==="string"?(n=Up(t))?(t=n,G6):W_e:t instanceof Up?G6:t instanceof Date?H_e:U_e(t)?F_e:Array.isArray(t)?$_e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?z_e:Yb)(e,t)}function zk(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function G_e(e,t){t===void 0&&(t=e,e=xm);for(var r=0,n=t.length-1,a=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(a,a=t[++r]);return function(l){var c=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return o[c](l-c)}}function Y_e(e){return function(){return e}}function Zb(e){return+e}var Y6=[0,1];function bs(e){return e}function OA(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Y_e(isNaN(t)?NaN:.5)}function Z_e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function K_e(e,t,r){var n=e[0],a=e[1],o=t[0],l=t[1];return a<n?(n=OA(a,n),o=r(l,o)):(n=OA(n,a),o=r(o,l)),function(c){return o(n(c))}}function X_e(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),o=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)a[l]=OA(e[l],e[l+1]),o[l]=r(t[l],t[l+1]);return function(c){var d=_g(e,c,1,n)-1;return o[d](a[d](c))}}function kg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function N1(){var e=Y6,t=Y6,r=xm,n,a,o,l=bs,c,d,u;function i(){var g=Math.min(e.length,t.length);return l!==bs&&(l=Z_e(e[0],e[g-1])),c=g>2?X_e:K_e,d=u=null,m}function m(g){return g==null||isNaN(g=+g)?o:(d||(d=c(e.map(n),t,r)))(n(l(g)))}return m.invert=function(g){return l(a((u||(u=c(t,e.map(n),Yb)))(g)))},m.domain=function(g){return arguments.length?(e=Array.from(g,Zb),i()):e.slice()},m.range=function(g){return arguments.length?(t=Array.from(g),i()):t.slice()},m.rangeRound=function(g){return t=Array.from(g),r=zk,i()},m.clamp=function(g){return arguments.length?(l=g?!0:bs,i()):l!==bs},m.interpolate=function(g){return arguments.length?(r=g,i()):r},m.unknown=function(g){return arguments.length?(o=g,m):o},function(g,x){return n=g,a=x,i()}}function qk(){return N1()(bs,bs)}function Q_e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Kb(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function zf(e){return e=Kb(Math.abs(e)),e?e[1]:NaN}function J_e(e,t){return function(r,n){for(var a=r.length,o=[],l=0,c=e[0],d=0;a>0&&c>0&&(d+c+1>n&&(c=Math.max(1,n-d)),o.push(r.substring(a-=c,a+c)),!((d+=c+1)>n));)c=e[l=(l+1)%e.length];return o.reverse().join(t)}}function eAe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var tAe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $p(e){if(!(t=tAe.exec(e)))throw new Error("invalid format: "+e);var t;return new Vk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}$p.prototype=Vk.prototype;function Vk(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Vk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function rAe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var u7;function nAe(e,t){var r=Kb(e,t);if(!r)return e+"";var n=r[0],a=r[1],o=a-(u7=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=n.length;return o===l?n:o>l?n+new Array(o-l+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Kb(e,Math.max(0,t+o-1))[0]}function Z6(e,t){var r=Kb(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const K6={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Q_e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Z6(e*100,t),r:Z6,s:nAe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function X6(e){return e}var Q6=Array.prototype.map,J6=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function sAe(e){var t=e.grouping===void 0||e.thousands===void 0?X6:J_e(Q6.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?X6:eAe(Q6.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"−":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function u(m){m=$p(m);var g=m.fill,x=m.align,v=m.sign,N=m.symbol,h=m.zero,y=m.width,w=m.comma,j=m.precision,C=m.trim,_=m.type;_==="n"?(w=!0,_="g"):K6[_]||(j===void 0&&(j=12),C=!0,_="g"),(h||g==="0"&&x==="=")&&(h=!0,g="0",x="=");var k=N==="$"?r:N==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",A=N==="$"?n:/[%p]/.test(_)?l:"",T=K6[_],R=/[defgprs%]/.test(_);j=j===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function P(M){var I=k,L=A,B,U,F;if(_==="c")L=T(M)+L,M="";else{M=+M;var H=M<0||1/M<0;if(M=isNaN(M)?d:T(Math.abs(M),j),C&&(M=rAe(M)),H&&+M==0&&v!=="+"&&(H=!1),I=(H?v==="("?v:c:v==="-"||v==="("?"":v)+I,L=(_==="s"?J6[8+u7/3]:"")+L+(H&&v==="("?")":""),R){for(B=-1,U=M.length;++B<U;)if(F=M.charCodeAt(B),48>F||F>57){L=(F===46?a+M.slice(B+1):M.slice(B))+L,M=M.slice(0,B);break}}}w&&!h&&(M=t(M,1/0));var W=I.length+M.length+L.length,J=W<y?new Array(y-W+1).join(g):"";switch(w&&h&&(M=t(J+M,J.length?y-L.length:1/0),J=""),x){case"<":M=I+M+L+J;break;case"=":M=I+J+M+L;break;case"^":M=J.slice(0,W=J.length>>1)+I+M+L+J.slice(W);break;default:M=J+I+M+L;break}return o(M)}return P.toString=function(){return m+""},P}function i(m,g){var x=u((m=$p(m),m.type="f",m)),v=Math.max(-8,Math.min(8,Math.floor(zf(g)/3)))*3,N=Math.pow(10,-v),h=J6[8+v/3];return function(y){return x(N*y)+h}}return{format:u,formatPrefix:i}}var zv,Wk,f7;aAe({thousands:",",grouping:[3],currency:["$",""]});function aAe(e){return zv=sAe(e),Wk=zv.format,f7=zv.formatPrefix,zv}function oAe(e){return Math.max(0,-zf(Math.abs(e)))}function iAe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(zf(t)/3)))*3-zf(Math.abs(e)))}function lAe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,zf(t)-zf(e))+1}function m7(e,t,r,n){var a=TA(e,t,r),o;switch(n=$p(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=iAe(a,l))&&(n.precision=o),f7(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=lAe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=oAe(a))&&(n.precision=o-(n.type==="%")*2);break}}return Wk(n)}function Nc(e){var t=e.domain;return e.ticks=function(r){var n=t();return kA(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return m7(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,o=n.length-1,l=n[a],c=n[o],d,u,i=10;for(c<l&&(u=l,l=c,c=u,u=a,a=o,o=u);i-- >0;){if(u=DA(l,c,r),u===d)return n[a]=l,n[o]=c,t(n);if(u>0)l=Math.floor(l/u)*u,c=Math.ceil(c/u)*u;else if(u<0)l=Math.ceil(l*u)/u,c=Math.floor(c*u)/u;else break;d=u}return e},e}function h7(){var e=qk();return e.copy=function(){return kg(e,h7())},Va.apply(e,arguments),Nc(e)}function p7(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Zb),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return p7(e).unknown(t)},e=arguments.length?Array.from(e,Zb):[0,1],Nc(r)}function g7(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],o=e[n],l;return o<a&&(l=r,r=n,n=l,l=a,a=o,o=l),e[r]=t.floor(a),e[n]=t.ceil(o),e}function eL(e){return Math.log(e)}function tL(e){return Math.exp(e)}function cAe(e){return-Math.log(-e)}function dAe(e){return-Math.exp(-e)}function uAe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function fAe(e){return e===10?uAe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function mAe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function rL(e){return(t,r)=>-e(-t,r)}function Gk(e){const t=e(eL,tL),r=t.domain;let n=10,a,o;function l(){return a=mAe(n),o=fAe(n),r()[0]<0?(a=rL(a),o=rL(o),e(cAe,dAe)):e(eL,tL),t}return t.base=function(c){return arguments.length?(n=+c,l()):n},t.domain=function(c){return arguments.length?(r(c),l()):r()},t.ticks=c=>{const d=r();let u=d[0],i=d[d.length-1];const m=i<u;m&&([u,i]=[i,u]);let g=a(u),x=a(i),v,N;const h=c==null?10:+c;let y=[];if(!(n%1)&&x-g<h){if(g=Math.floor(g),x=Math.ceil(x),u>0){for(;g<=x;++g)for(v=1;v<n;++v)if(N=g<0?v/o(-g):v*o(g),!(N<u)){if(N>i)break;y.push(N)}}else for(;g<=x;++g)for(v=n-1;v>=1;--v)if(N=g>0?v/o(-g):v*o(g),!(N<u)){if(N>i)break;y.push(N)}y.length*2<h&&(y=kA(u,i,h))}else y=kA(g,x,Math.min(x-g,h)).map(o);return m?y.reverse():y},t.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=$p(d)).precision==null&&(d.trim=!0),d=Wk(d)),c===1/0)return d;const u=Math.max(1,n*c/t.ticks().length);return i=>{let m=i/o(Math.round(a(i)));return m*n<n-.5&&(m*=n),m<=u?d(i):""}},t.nice=()=>r(g7(r(),{floor:c=>o(Math.floor(a(c))),ceil:c=>o(Math.ceil(a(c)))})),t}function x7(){const e=Gk(N1()).domain([1,10]);return e.copy=()=>kg(e,x7()).base(e.base()),Va.apply(e,arguments),e}function nL(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function sL(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Yk(e){var t=1,r=e(nL(t),sL(t));return r.constant=function(n){return arguments.length?e(nL(t=+n),sL(t)):t},Nc(r)}function v7(){var e=Yk(N1());return e.copy=function(){return kg(e,v7()).constant(e.constant())},Va.apply(e,arguments)}function aL(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function hAe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function pAe(e){return e<0?-e*e:e*e}function Zk(e){var t=e(bs,bs),r=1;function n(){return r===1?e(bs,bs):r===.5?e(hAe,pAe):e(aL(r),aL(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Nc(t)}function Kk(){var e=Zk(N1());return e.copy=function(){return kg(e,Kk()).exponent(e.exponent())},Va.apply(e,arguments),e}function gAe(){return Kk.apply(null,arguments).exponent(.5)}function oL(e){return Math.sign(e)*e*e}function xAe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function y7(){var e=qk(),t=[0,1],r=!1,n;function a(o){var l=xAe(e(o));return isNaN(l)?n:r?Math.round(l):l}return a.invert=function(o){return e.invert(oL(o))},a.domain=function(o){return arguments.length?(e.domain(o),a):e.domain()},a.range=function(o){return arguments.length?(e.range((t=Array.from(o,Zb)).map(oL)),a):t.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(r=!!o,a):r},a.clamp=function(o){return arguments.length?(e.clamp(o),a):e.clamp()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return y7(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Va.apply(a,arguments),Nc(a)}function b7(){var e=[],t=[],r=[],n;function a(){var l=0,c=Math.max(1,t.length);for(r=new Array(c-1);++l<c;)r[l-1]=w_e(e,l/c);return o}function o(l){return l==null||isNaN(l=+l)?n:t[_g(r,l)]}return o.invertExtent=function(l){var c=t.indexOf(l);return c<0?[NaN,NaN]:[c>0?r[c-1]:e[0],c<r.length?r[c]:e[e.length-1]]},o.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let c of l)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(ec),a()},o.range=function(l){return arguments.length?(t=Array.from(l),a()):t.slice()},o.unknown=function(l){return arguments.length?(n=l,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return b7().domain(e).range(t).unknown(n)},Va.apply(o,arguments)}function w7(){var e=0,t=1,r=1,n=[.5],a=[0,1],o;function l(d){return d!=null&&d<=d?a[_g(n,d,0,r)]:o}function c(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,c()):[e,t]},l.range=function(d){return arguments.length?(r=(a=Array.from(d)).length-1,c()):a.slice()},l.invertExtent=function(d){var u=a.indexOf(d);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},l.unknown=function(d){return arguments.length&&(o=d),l},l.thresholds=function(){return n.slice()},l.copy=function(){return w7().domain([e,t]).range(a).unknown(o)},Va.apply(Nc(l),arguments)}function S7(){var e=[.5],t=[0,1],r,n=1;function a(o){return o!=null&&o<=o?t[_g(e,o,0,n)]:r}return a.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(o){var l=t.indexOf(o);return[e[l-1],e[l]]},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return S7().domain(e).range(t).unknown(r)},Va.apply(a,arguments)}const OE=new Date,IE=new Date;function Rn(e,t,r,n){function a(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(e(o=new Date(+o)),o),a.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),a.round=o=>{const l=a(o),c=a.ceil(o);return o-l<c-o?l:c},a.offset=(o,l)=>(t(o=new Date(+o),l==null?1:Math.floor(l)),o),a.range=(o,l,c)=>{const d=[];if(o=a.ceil(o),c=c==null?1:Math.floor(c),!(o<l)||!(c>0))return d;let u;do d.push(u=new Date(+o)),t(o,c),e(o);while(u<o&&o<l);return d},a.filter=o=>Rn(l=>{if(l>=l)for(;e(l),!o(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;t(l,-1),!o(l););else for(;--c>=0;)for(;t(l,1),!o(l););}),r&&(a.count=(o,l)=>(OE.setTime(+o),IE.setTime(+l),e(OE),e(IE),Math.floor(r(OE,IE))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(n?l=>n(l)%o===0:l=>a.count(0,l)%o===0):a)),a}const Xb=Rn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Xb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Rn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Xb);Xb.range;const Oi=1e3,Ia=Oi*60,Ii=Ia*60,Qi=Ii*24,Xk=Qi*7,iL=Qi*30,LE=Qi*365,fd=Rn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Oi)},(e,t)=>(t-e)/Oi,e=>e.getUTCSeconds());fd.range;const Qk=Rn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Oi)},(e,t)=>{e.setTime(+e+t*Ia)},(e,t)=>(t-e)/Ia,e=>e.getMinutes());Qk.range;const Jk=Rn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ia)},(e,t)=>(t-e)/Ia,e=>e.getUTCMinutes());Jk.range;const eD=Rn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Oi-e.getMinutes()*Ia)},(e,t)=>{e.setTime(+e+t*Ii)},(e,t)=>(t-e)/Ii,e=>e.getHours());eD.range;const tD=Rn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ii)},(e,t)=>(t-e)/Ii,e=>e.getUTCHours());tD.range;const Dg=Rn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ia)/Qi,e=>e.getDate()-1);Dg.range;const C1=Rn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qi,e=>e.getUTCDate()-1);C1.range;const j7=Rn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qi,e=>Math.floor(e/Qi));j7.range;function Yd(e){return Rn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ia)/Xk)}const E1=Yd(0),Qb=Yd(1),vAe=Yd(2),yAe=Yd(3),qf=Yd(4),bAe=Yd(5),wAe=Yd(6);E1.range;Qb.range;vAe.range;yAe.range;qf.range;bAe.range;wAe.range;function Zd(e){return Rn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Xk)}const _1=Zd(0),Jb=Zd(1),SAe=Zd(2),jAe=Zd(3),Vf=Zd(4),NAe=Zd(5),CAe=Zd(6);_1.range;Jb.range;SAe.range;jAe.range;Vf.range;NAe.range;CAe.range;const rD=Rn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());rD.range;const nD=Rn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());nD.range;const Ji=Rn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ji.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Rn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ji.range;const el=Rn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());el.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Rn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});el.range;function N7(e,t,r,n,a,o){const l=[[fd,1,Oi],[fd,5,5*Oi],[fd,15,15*Oi],[fd,30,30*Oi],[o,1,Ia],[o,5,5*Ia],[o,15,15*Ia],[o,30,30*Ia],[a,1,Ii],[a,3,3*Ii],[a,6,6*Ii],[a,12,12*Ii],[n,1,Qi],[n,2,2*Qi],[r,1,Xk],[t,1,iL],[t,3,3*iL],[e,1,LE]];function c(u,i,m){const g=i<u;g&&([u,i]=[i,u]);const x=m&&typeof m.range=="function"?m:d(u,i,m),v=x?x.range(u,+i+1):[];return g?v.reverse():v}function d(u,i,m){const g=Math.abs(i-u)/m,x=Bk(([,,h])=>h).right(l,g);if(x===l.length)return e.every(TA(u/LE,i/LE,m));if(x===0)return Xb.every(Math.max(TA(u,i,m),1));const[v,N]=l[g/l[x-1][2]<l[x][2]/g?x-1:x];return v.every(N)}return[c,d]}const[EAe,_Ae]=N7(el,nD,_1,j7,tD,Jk),[AAe,kAe]=N7(Ji,rD,E1,Dg,eD,Qk);function BE(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function FE(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function tp(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function DAe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,o=e.days,l=e.shortDays,c=e.months,d=e.shortMonths,u=rp(a),i=np(a),m=rp(o),g=np(o),x=rp(l),v=np(l),N=rp(c),h=np(c),y=rp(d),w=np(d),j={a:H,A:W,b:J,B:q,c:null,d:mL,e:mL,f:JAe,g:c2e,G:u2e,H:KAe,I:XAe,j:QAe,L:C7,m:e2e,M:t2e,p:G,q:z,Q:gL,s:xL,S:r2e,u:n2e,U:s2e,V:a2e,w:o2e,W:i2e,x:null,X:null,y:l2e,Y:d2e,Z:f2e,"%":pL},C={a:K,A:Z,b:ie,B:ye,c:null,d:hL,e:hL,f:g2e,g:E2e,G:A2e,H:m2e,I:h2e,j:p2e,L:_7,m:x2e,M:v2e,p:de,q:xe,Q:gL,s:xL,S:y2e,u:b2e,U:w2e,V:S2e,w:j2e,W:N2e,x:null,X:null,y:C2e,Y:_2e,Z:k2e,"%":pL},_={a:P,A:M,b:I,B:L,c:B,d:uL,e:uL,f:WAe,g:dL,G:cL,H:fL,I:fL,j:HAe,L:VAe,m:$Ae,M:zAe,p:R,q:UAe,Q:YAe,s:ZAe,S:qAe,u:OAe,U:IAe,V:LAe,w:MAe,W:BAe,x:U,X:F,y:dL,Y:cL,Z:FAe,"%":GAe};j.x=k(r,j),j.X=k(n,j),j.c=k(t,j),C.x=k(r,C),C.X=k(n,C),C.c=k(t,C);function k(ne,ge){return function(Ce){var ce=[],Oe=-1,Pe=0,ae=ne.length,$e,nt,oe;for(Ce instanceof Date||(Ce=new Date(+Ce));++Oe<ae;)ne.charCodeAt(Oe)===37&&(ce.push(ne.slice(Pe,Oe)),(nt=lL[$e=ne.charAt(++Oe)])!=null?$e=ne.charAt(++Oe):nt=$e==="e"?" ":"0",(oe=ge[$e])&&($e=oe(Ce,nt)),ce.push($e),Pe=Oe+1);return ce.push(ne.slice(Pe,Oe)),ce.join("")}}function A(ne,ge){return function(Ce){var ce=tp(1900,void 0,1),Oe=T(ce,ne,Ce+="",0),Pe,ae;if(Oe!=Ce.length)return null;if("Q"in ce)return new Date(ce.Q);if("s"in ce)return new Date(ce.s*1e3+("L"in ce?ce.L:0));if(ge&&!("Z"in ce)&&(ce.Z=0),"p"in ce&&(ce.H=ce.H%12+ce.p*12),ce.m===void 0&&(ce.m="q"in ce?ce.q:0),"V"in ce){if(ce.V<1||ce.V>53)return null;"w"in ce||(ce.w=1),"Z"in ce?(Pe=FE(tp(ce.y,0,1)),ae=Pe.getUTCDay(),Pe=ae>4||ae===0?Jb.ceil(Pe):Jb(Pe),Pe=C1.offset(Pe,(ce.V-1)*7),ce.y=Pe.getUTCFullYear(),ce.m=Pe.getUTCMonth(),ce.d=Pe.getUTCDate()+(ce.w+6)%7):(Pe=BE(tp(ce.y,0,1)),ae=Pe.getDay(),Pe=ae>4||ae===0?Qb.ceil(Pe):Qb(Pe),Pe=Dg.offset(Pe,(ce.V-1)*7),ce.y=Pe.getFullYear(),ce.m=Pe.getMonth(),ce.d=Pe.getDate()+(ce.w+6)%7)}else("W"in ce||"U"in ce)&&("w"in ce||(ce.w="u"in ce?ce.u%7:"W"in ce?1:0),ae="Z"in ce?FE(tp(ce.y,0,1)).getUTCDay():BE(tp(ce.y,0,1)).getDay(),ce.m=0,ce.d="W"in ce?(ce.w+6)%7+ce.W*7-(ae+5)%7:ce.w+ce.U*7-(ae+6)%7);return"Z"in ce?(ce.H+=ce.Z/100|0,ce.M+=ce.Z%100,FE(ce)):BE(ce)}}function T(ne,ge,Ce,ce){for(var Oe=0,Pe=ge.length,ae=Ce.length,$e,nt;Oe<Pe;){if(ce>=ae)return-1;if($e=ge.charCodeAt(Oe++),$e===37){if($e=ge.charAt(Oe++),nt=_[$e in lL?ge.charAt(Oe++):$e],!nt||(ce=nt(ne,Ce,ce))<0)return-1}else if($e!=Ce.charCodeAt(ce++))return-1}return ce}function R(ne,ge,Ce){var ce=u.exec(ge.slice(Ce));return ce?(ne.p=i.get(ce[0].toLowerCase()),Ce+ce[0].length):-1}function P(ne,ge,Ce){var ce=x.exec(ge.slice(Ce));return ce?(ne.w=v.get(ce[0].toLowerCase()),Ce+ce[0].length):-1}function M(ne,ge,Ce){var ce=m.exec(ge.slice(Ce));return ce?(ne.w=g.get(ce[0].toLowerCase()),Ce+ce[0].length):-1}function I(ne,ge,Ce){var ce=y.exec(ge.slice(Ce));return ce?(ne.m=w.get(ce[0].toLowerCase()),Ce+ce[0].length):-1}function L(ne,ge,Ce){var ce=N.exec(ge.slice(Ce));return ce?(ne.m=h.get(ce[0].toLowerCase()),Ce+ce[0].length):-1}function B(ne,ge,Ce){return T(ne,t,ge,Ce)}function U(ne,ge,Ce){return T(ne,r,ge,Ce)}function F(ne,ge,Ce){return T(ne,n,ge,Ce)}function H(ne){return l[ne.getDay()]}function W(ne){return o[ne.getDay()]}function J(ne){return d[ne.getMonth()]}function q(ne){return c[ne.getMonth()]}function G(ne){return a[+(ne.getHours()>=12)]}function z(ne){return 1+~~(ne.getMonth()/3)}function K(ne){return l[ne.getUTCDay()]}function Z(ne){return o[ne.getUTCDay()]}function ie(ne){return d[ne.getUTCMonth()]}function ye(ne){return c[ne.getUTCMonth()]}function de(ne){return a[+(ne.getUTCHours()>=12)]}function xe(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var ge=k(ne+="",j);return ge.toString=function(){return ne},ge},parse:function(ne){var ge=A(ne+="",!1);return ge.toString=function(){return ne},ge},utcFormat:function(ne){var ge=k(ne+="",C);return ge.toString=function(){return ne},ge},utcParse:function(ne){var ge=A(ne+="",!0);return ge.toString=function(){return ne},ge}}}var lL={"-":"",_:" ",0:"0"},Yn=/^\s*\d+/,TAe=/^%/,RAe=/[\\^$*+?|[\]().{}]/g;function rr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",o=a.length;return n+(o<r?new Array(r-o+1).join(t)+a:a)}function PAe(e){return e.replace(RAe,"\\$&")}function rp(e){return new RegExp("^(?:"+e.map(PAe).join("|")+")","i")}function np(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function MAe(e,t,r){var n=Yn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function OAe(e,t,r){var n=Yn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function IAe(e,t,r){var n=Yn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function LAe(e,t,r){var n=Yn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function BAe(e,t,r){var n=Yn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function cL(e,t,r){var n=Yn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function dL(e,t,r){var n=Yn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function FAe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function UAe(e,t,r){var n=Yn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function $Ae(e,t,r){var n=Yn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function uL(e,t,r){var n=Yn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function HAe(e,t,r){var n=Yn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function fL(e,t,r){var n=Yn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function zAe(e,t,r){var n=Yn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function qAe(e,t,r){var n=Yn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function VAe(e,t,r){var n=Yn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function WAe(e,t,r){var n=Yn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function GAe(e,t,r){var n=TAe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function YAe(e,t,r){var n=Yn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function ZAe(e,t,r){var n=Yn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function mL(e,t){return rr(e.getDate(),t,2)}function KAe(e,t){return rr(e.getHours(),t,2)}function XAe(e,t){return rr(e.getHours()%12||12,t,2)}function QAe(e,t){return rr(1+Dg.count(Ji(e),e),t,3)}function C7(e,t){return rr(e.getMilliseconds(),t,3)}function JAe(e,t){return C7(e,t)+"000"}function e2e(e,t){return rr(e.getMonth()+1,t,2)}function t2e(e,t){return rr(e.getMinutes(),t,2)}function r2e(e,t){return rr(e.getSeconds(),t,2)}function n2e(e){var t=e.getDay();return t===0?7:t}function s2e(e,t){return rr(E1.count(Ji(e)-1,e),t,2)}function E7(e){var t=e.getDay();return t>=4||t===0?qf(e):qf.ceil(e)}function a2e(e,t){return e=E7(e),rr(qf.count(Ji(e),e)+(Ji(e).getDay()===4),t,2)}function o2e(e){return e.getDay()}function i2e(e,t){return rr(Qb.count(Ji(e)-1,e),t,2)}function l2e(e,t){return rr(e.getFullYear()%100,t,2)}function c2e(e,t){return e=E7(e),rr(e.getFullYear()%100,t,2)}function d2e(e,t){return rr(e.getFullYear()%1e4,t,4)}function u2e(e,t){var r=e.getDay();return e=r>=4||r===0?qf(e):qf.ceil(e),rr(e.getFullYear()%1e4,t,4)}function f2e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+rr(t/60|0,"0",2)+rr(t%60,"0",2)}function hL(e,t){return rr(e.getUTCDate(),t,2)}function m2e(e,t){return rr(e.getUTCHours(),t,2)}function h2e(e,t){return rr(e.getUTCHours()%12||12,t,2)}function p2e(e,t){return rr(1+C1.count(el(e),e),t,3)}function _7(e,t){return rr(e.getUTCMilliseconds(),t,3)}function g2e(e,t){return _7(e,t)+"000"}function x2e(e,t){return rr(e.getUTCMonth()+1,t,2)}function v2e(e,t){return rr(e.getUTCMinutes(),t,2)}function y2e(e,t){return rr(e.getUTCSeconds(),t,2)}function b2e(e){var t=e.getUTCDay();return t===0?7:t}function w2e(e,t){return rr(_1.count(el(e)-1,e),t,2)}function A7(e){var t=e.getUTCDay();return t>=4||t===0?Vf(e):Vf.ceil(e)}function S2e(e,t){return e=A7(e),rr(Vf.count(el(e),e)+(el(e).getUTCDay()===4),t,2)}function j2e(e){return e.getUTCDay()}function N2e(e,t){return rr(Jb.count(el(e)-1,e),t,2)}function C2e(e,t){return rr(e.getUTCFullYear()%100,t,2)}function E2e(e,t){return e=A7(e),rr(e.getUTCFullYear()%100,t,2)}function _2e(e,t){return rr(e.getUTCFullYear()%1e4,t,4)}function A2e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Vf(e):Vf.ceil(e),rr(e.getUTCFullYear()%1e4,t,4)}function k2e(){return"+0000"}function pL(){return"%"}function gL(e){return+e}function xL(e){return Math.floor(+e/1e3)}var Ju,k7,D7;D2e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function D2e(e){return Ju=DAe(e),k7=Ju.format,Ju.parse,D7=Ju.utcFormat,Ju.utcParse,Ju}function T2e(e){return new Date(e)}function R2e(e){return e instanceof Date?+e:+new Date(+e)}function sD(e,t,r,n,a,o,l,c,d,u){var i=qk(),m=i.invert,g=i.domain,x=u(".%L"),v=u(":%S"),N=u("%I:%M"),h=u("%I %p"),y=u("%a %d"),w=u("%b %d"),j=u("%B"),C=u("%Y");function _(k){return(d(k)<k?x:c(k)<k?v:l(k)<k?N:o(k)<k?h:n(k)<k?a(k)<k?y:w:r(k)<k?j:C)(k)}return i.invert=function(k){return new Date(m(k))},i.domain=function(k){return arguments.length?g(Array.from(k,R2e)):g().map(T2e)},i.ticks=function(k){var A=g();return e(A[0],A[A.length-1],k??10)},i.tickFormat=function(k,A){return A==null?_:u(A)},i.nice=function(k){var A=g();return(!k||typeof k.range!="function")&&(k=t(A[0],A[A.length-1],k??10)),k?g(g7(A,k)):i},i.copy=function(){return kg(i,sD(e,t,r,n,a,o,l,c,d,u))},i}function P2e(){return Va.apply(sD(AAe,kAe,Ji,rD,E1,Dg,eD,Qk,fd,k7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function M2e(){return Va.apply(sD(EAe,_Ae,el,nD,_1,C1,tD,Jk,fd,D7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function A1(){var e=0,t=1,r,n,a,o,l=bs,c=!1,d;function u(m){return m==null||isNaN(m=+m)?d:l(a===0?.5:(m=(o(m)-r)*a,c?Math.max(0,Math.min(1,m)):m))}u.domain=function(m){return arguments.length?([e,t]=m,r=o(e=+e),n=o(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(m){return arguments.length?(c=!!m,u):c},u.interpolator=function(m){return arguments.length?(l=m,u):l};function i(m){return function(g){var x,v;return arguments.length?([x,v]=g,l=m(x,v),u):[l(0),l(1)]}}return u.range=i(xm),u.rangeRound=i(zk),u.unknown=function(m){return arguments.length?(d=m,u):d},function(m){return o=m,r=m(e),n=m(t),a=r===n?0:1/(n-r),u}}function Cc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function T7(){var e=Nc(A1()(bs));return e.copy=function(){return Cc(e,T7())},cl.apply(e,arguments)}function R7(){var e=Gk(A1()).domain([1,10]);return e.copy=function(){return Cc(e,R7()).base(e.base())},cl.apply(e,arguments)}function P7(){var e=Yk(A1());return e.copy=function(){return Cc(e,P7()).constant(e.constant())},cl.apply(e,arguments)}function aD(){var e=Zk(A1());return e.copy=function(){return Cc(e,aD()).exponent(e.exponent())},cl.apply(e,arguments)}function O2e(){return aD.apply(null,arguments).exponent(.5)}function M7(){var e=[],t=bs;function r(n){if(n!=null&&!isNaN(n=+n))return t((_g(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(ec),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,o)=>b_e(e,o/n))},r.copy=function(){return M7(t).domain(e)},cl.apply(r,arguments)}function k1(){var e=0,t=.5,r=1,n=1,a,o,l,c,d,u=bs,i,m=!1,g;function x(N){return isNaN(N=+N)?g:(N=.5+((N=+i(N))-o)*(n*N<n*o?c:d),u(m?Math.max(0,Math.min(1,N)):N))}x.domain=function(N){return arguments.length?([e,t,r]=N,a=i(e=+e),o=i(t=+t),l=i(r=+r),c=a===o?0:.5/(o-a),d=o===l?0:.5/(l-o),n=o<a?-1:1,x):[e,t,r]},x.clamp=function(N){return arguments.length?(m=!!N,x):m},x.interpolator=function(N){return arguments.length?(u=N,x):u};function v(N){return function(h){var y,w,j;return arguments.length?([y,w,j]=h,u=G_e(N,[y,w,j]),x):[u(0),u(.5),u(1)]}}return x.range=v(xm),x.rangeRound=v(zk),x.unknown=function(N){return arguments.length?(g=N,x):g},function(N){return i=N,a=N(e),o=N(t),l=N(r),c=a===o?0:.5/(o-a),d=o===l?0:.5/(l-o),n=o<a?-1:1,x}}function O7(){var e=Nc(k1()(bs));return e.copy=function(){return Cc(e,O7())},cl.apply(e,arguments)}function I7(){var e=Gk(k1()).domain([.1,1,10]);return e.copy=function(){return Cc(e,I7()).base(e.base())},cl.apply(e,arguments)}function L7(){var e=Yk(k1());return e.copy=function(){return Cc(e,L7()).constant(e.constant())},cl.apply(e,arguments)}function oD(){var e=Zk(k1());return e.copy=function(){return Cc(e,oD()).exponent(e.exponent())},cl.apply(e,arguments)}function I2e(){return oD.apply(null,arguments).exponent(.5)}const fp=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Uk,scaleDiverging:O7,scaleDivergingLog:I7,scaleDivergingPow:oD,scaleDivergingSqrt:I2e,scaleDivergingSymlog:L7,scaleIdentity:p7,scaleImplicit:RA,scaleLinear:h7,scaleLog:x7,scaleOrdinal:Fk,scalePoint:j_e,scalePow:Kk,scaleQuantile:b7,scaleQuantize:w7,scaleRadial:y7,scaleSequential:T7,scaleSequentialLog:R7,scaleSequentialPow:aD,scaleSequentialQuantile:M7,scaleSequentialSqrt:O2e,scaleSequentialSymlog:P7,scaleSqrt:gAe,scaleSymlog:v7,scaleThreshold:S7,scaleTime:P2e,scaleUtc:M2e,tickFormat:m7},Symbol.toStringTag,{value:"Module"}));var Ec=e=>e.chartData,iD=he([Ec],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),B7=(e,t,r,n)=>n?iD(e):Ec(e);function Wf(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(lo(t)&&lo(r))return!0}return!1}function vL(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function L2e(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,o;if(lo(r))a=r;else if(typeof r=="function")return;if(lo(n))o=n;else if(typeof n=="function")return;var l=[a,o];if(Wf(l))return l}}function B2e(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Wf(n))return vL(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,o]=e,l,c;if(a==="auto")t!=null&&(l=Math.min(...t));else if(Wt(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t?.[0]))}catch{}else if(typeof a=="string"&&a6.test(a)){var d=a6.exec(a);if(d==null||t==null)l=void 0;else{var u=+d[1];l=t[0]-u}}else l=t?.[0];if(o==="auto")t!=null&&(c=Math.max(...t));else if(Wt(o))c=o;else if(typeof o=="function")try{t!=null&&(c=o(t?.[1]))}catch{}else if(typeof o=="string"&&o6.test(o)){var i=o6.exec(o);if(i==null||t==null)c=void 0;else{var m=+i[1];c=t[1]+m}}else c=t?.[1];var g=[l,c];if(Wf(g))return t==null?g:vL(g,t,r)}}}var vm=1e9,F2e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},cD,Or=!0,Ua="[DecimalError] ",Sd=Ua+"Invalid argument: ",lD=Ua+"Exponent out of range: ",ym=Math.floor,td=Math.pow,U2e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,aa,Fn=1e7,Dr=7,F7=9007199254740991,ew=ym(F7/Dr),Je={};Je.absoluteValue=Je.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Je.comparedTo=Je.cmp=function(e){var t,r,n,a,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===a?0:n>a^o.s<0?1:-1};Je.decimalPlaces=Je.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Dr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Je.dividedBy=Je.div=function(e){return qi(this,new this.constructor(e))};Je.dividedToIntegerBy=Je.idiv=function(e){var t=this,r=t.constructor;return Sr(qi(t,new r(e),0,1),r.precision)};Je.equals=Je.eq=function(e){return!this.cmp(e)};Je.exponent=function(){return wn(this)};Je.greaterThan=Je.gt=function(e){return this.cmp(e)>0};Je.greaterThanOrEqualTo=Je.gte=function(e){return this.cmp(e)>=0};Je.isInteger=Je.isint=function(){return this.e>this.d.length-2};Je.isNegative=Je.isneg=function(){return this.s<0};Je.isPositive=Je.ispos=function(){return this.s>0};Je.isZero=function(){return this.s===0};Je.lessThan=Je.lt=function(e){return this.cmp(e)<0};Je.lessThanOrEqualTo=Je.lte=function(e){return this.cmp(e)<1};Je.logarithm=Je.log=function(e){var t,r=this,n=r.constructor,a=n.precision,o=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(aa))throw Error(Ua+"NaN");if(r.s<1)throw Error(Ua+(r.s?"NaN":"-Infinity"));return r.eq(aa)?new n(0):(Or=!1,t=qi(Hp(r,o),Hp(e,o),o),Or=!0,Sr(t,a))};Je.minus=Je.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?H7(t,e):U7(t,(e.s=-e.s,e))};Je.modulo=Je.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Ua+"NaN");return r.s?(Or=!1,t=qi(r,e,0,1).times(e),Or=!0,r.minus(t)):Sr(new n(r),a)};Je.naturalExponential=Je.exp=function(){return $7(this)};Je.naturalLogarithm=Je.ln=function(){return Hp(this)};Je.negated=Je.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Je.plus=Je.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?U7(t,e):H7(t,(e.s=-e.s,e))};Je.precision=Je.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Sd+e);if(t=wn(a)+1,n=a.d.length-1,r=n*Dr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Je.squareRoot=Je.sqrt=function(){var e,t,r,n,a,o,l,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(Ua+"NaN")}for(e=wn(c),Or=!1,a=Math.sqrt(+c),a==0||a==1/0?(t=Fo(c.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=ym((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(a.toString()),r=d.precision,a=l=r+3;;)if(o=n,n=o.plus(qi(c,o,l+2)).times(.5),Fo(o.d).slice(0,l)===(t=Fo(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),a==l&&t=="4999"){if(Sr(o,r+1,0),o.times(o).eq(c)){n=o;break}}else if(t!="9999")break;l+=4}return Or=!0,Sr(n,r)};Je.times=Je.mul=function(e){var t,r,n,a,o,l,c,d,u,i=this,m=i.constructor,g=i.d,x=(e=new m(e)).d;if(!i.s||!e.s)return new m(0);for(e.s*=i.s,r=i.e+e.e,d=g.length,u=x.length,d<u&&(o=g,g=x,x=o,l=d,d=u,u=l),o=[],l=d+u,n=l;n--;)o.push(0);for(n=u;--n>=0;){for(t=0,a=d+n;a>n;)c=o[a]+x[n]*g[a-n-1]+t,o[a--]=c%Fn|0,t=c/Fn|0;o[a]=(o[a]+t)%Fn|0}for(;!o[--l];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,Or?Sr(e,m.precision):e};Je.toDecimalPlaces=Je.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Go(e,0,vm),t===void 0?t=n.rounding:Go(t,0,8),Sr(r,e+wn(r)+1,t))};Je.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Md(n,!0):(Go(e,0,vm),t===void 0?t=a.rounding:Go(t,0,8),n=Sr(new a(n),e+1,t),r=Md(n,!0,e+1)),r};Je.toFixed=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?Md(a):(Go(e,0,vm),t===void 0?t=o.rounding:Go(t,0,8),n=Sr(new o(a),e+wn(a)+1,t),r=Md(n.abs(),!1,e+wn(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Je.toInteger=Je.toint=function(){var e=this,t=e.constructor;return Sr(new t(e),wn(e)+1,t.rounding)};Je.toNumber=function(){return+this};Je.toPower=Je.pow=function(e){var t,r,n,a,o,l,c=this,d=c.constructor,u=12,i=+(e=new d(e));if(!e.s)return new d(aa);if(c=new d(c),!c.s){if(e.s<1)throw Error(Ua+"Infinity");return c}if(c.eq(aa))return c;if(n=d.precision,e.eq(aa))return Sr(c,n);if(t=e.e,r=e.d.length-1,l=t>=r,o=c.s,l){if((r=i<0?-i:i)<=F7){for(a=new d(aa),t=Math.ceil(n/Dr+4),Or=!1;r%2&&(a=a.times(c),bL(a.d,t)),r=ym(r/2),r!==0;)c=c.times(c),bL(c.d,t);return Or=!0,e.s<0?new d(aa).div(a):Sr(a,n)}}else if(o<0)throw Error(Ua+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,c.s=1,Or=!1,a=e.times(Hp(c,n+u)),Or=!0,a=$7(a),a.s=o,a};Je.toPrecision=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?(r=wn(a),n=Md(a,r<=o.toExpNeg||r>=o.toExpPos)):(Go(e,1,vm),t===void 0?t=o.rounding:Go(t,0,8),a=Sr(new o(a),e,t),r=wn(a),n=Md(a,e<=r||r<=o.toExpNeg,e)),n};Je.toSignificantDigits=Je.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Go(e,1,vm),t===void 0?t=n.rounding:Go(t,0,8)),Sr(new n(r),e,t)};Je.toString=Je.valueOf=Je.val=Je.toJSON=Je[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=wn(e),r=e.constructor;return Md(e,t<=r.toExpNeg||t>=r.toExpPos)};function U7(e,t){var r,n,a,o,l,c,d,u,i=e.constructor,m=i.precision;if(!e.s||!t.s)return t.s||(t=new i(e)),Or?Sr(t,m):t;if(d=e.d,u=t.d,l=e.e,a=t.e,d=d.slice(),o=l-a,o){for(o<0?(n=d,o=-o,c=u.length):(n=u,a=l,c=d.length),l=Math.ceil(m/Dr),c=l>c?l+1:c+1,o>c&&(o=c,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(c=d.length,o=u.length,c-o<0&&(o=c,n=u,u=d,d=n),r=0;o;)r=(d[--o]=d[o]+u[o]+r)/Fn|0,d[o]%=Fn;for(r&&(d.unshift(r),++a),c=d.length;d[--c]==0;)d.pop();return t.d=d,t.e=a,Or?Sr(t,m):t}function Go(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Sd+e)}function Fo(e){var t,r,n,a=e.length-1,o="",l=e[0];if(a>0){for(o+=l,t=1;t<a;t++)n=e[t]+"",r=Dr-n.length,r&&(o+=Wl(r)),o+=n;l=e[t],n=l+"",r=Dr-n.length,r&&(o+=Wl(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var qi=function(){function e(n,a){var o,l=0,c=n.length;for(n=n.slice();c--;)o=n[c]*a+l,n[c]=o%Fn|0,l=o/Fn|0;return l&&n.unshift(l),n}function t(n,a,o,l){var c,d;if(o!=l)d=o>l?1:-1;else for(c=d=0;c<o;c++)if(n[c]!=a[c]){d=n[c]>a[c]?1:-1;break}return d}function r(n,a,o){for(var l=0;o--;)n[o]-=l,l=n[o]<a[o]?1:0,n[o]=l*Fn+n[o]-a[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,o,l){var c,d,u,i,m,g,x,v,N,h,y,w,j,C,_,k,A,T,R=n.constructor,P=n.s==a.s?1:-1,M=n.d,I=a.d;if(!n.s)return new R(n);if(!a.s)throw Error(Ua+"Division by zero");for(d=n.e-a.e,A=I.length,_=M.length,x=new R(P),v=x.d=[],u=0;I[u]==(M[u]||0);)++u;if(I[u]>(M[u]||0)&&--d,o==null?w=o=R.precision:l?w=o+(wn(n)-wn(a))+1:w=o,w<0)return new R(0);if(w=w/Dr+2|0,u=0,A==1)for(i=0,I=I[0],w++;(u<_||i)&&w--;u++)j=i*Fn+(M[u]||0),v[u]=j/I|0,i=j%I|0;else{for(i=Fn/(I[0]+1)|0,i>1&&(I=e(I,i),M=e(M,i),A=I.length,_=M.length),C=A,N=M.slice(0,A),h=N.length;h<A;)N[h++]=0;T=I.slice(),T.unshift(0),k=I[0],I[1]>=Fn/2&&++k;do i=0,c=t(I,N,A,h),c<0?(y=N[0],A!=h&&(y=y*Fn+(N[1]||0)),i=y/k|0,i>1?(i>=Fn&&(i=Fn-1),m=e(I,i),g=m.length,h=N.length,c=t(m,N,g,h),c==1&&(i--,r(m,A<g?T:I,g))):(i==0&&(c=i=1),m=I.slice()),g=m.length,g<h&&m.unshift(0),r(N,m,h),c==-1&&(h=N.length,c=t(I,N,A,h),c<1&&(i++,r(N,A<h?T:I,h))),h=N.length):c===0&&(i++,N=[0]),v[u++]=i,c&&N[0]?N[h++]=M[C]||0:(N=[M[C]],h=1);while((C++<_||N[0]!==void 0)&&w--)}return v[0]||v.shift(),x.e=d,Sr(x,l?o+wn(x)+1:o)}}();function $7(e,t){var r,n,a,o,l,c,d=0,u=0,i=e.constructor,m=i.precision;if(wn(e)>16)throw Error(lD+wn(e));if(!e.s)return new i(aa);for(Or=!1,c=m,l=new i(.03125);e.abs().gte(.1);)e=e.times(l),u+=5;for(n=Math.log(td(2,u))/Math.LN10*2+5|0,c+=n,r=a=o=new i(aa),i.precision=c;;){if(a=Sr(a.times(e),c),r=r.times(++d),l=o.plus(qi(a,r,c)),Fo(l.d).slice(0,c)===Fo(o.d).slice(0,c)){for(;u--;)o=Sr(o.times(o),c);return i.precision=m,t==null?(Or=!0,Sr(o,m)):o}o=l}}function wn(e){for(var t=e.e*Dr,r=e.d[0];r>=10;r/=10)t++;return t}function UE(e,t,r){if(t>e.LN10.sd())throw Or=!0,r&&(e.precision=r),Error(Ua+"LN10 precision limit exceeded");return Sr(new e(e.LN10),t)}function Wl(e){for(var t="";e--;)t+="0";return t}function Hp(e,t){var r,n,a,o,l,c,d,u,i,m=1,g=10,x=e,v=x.d,N=x.constructor,h=N.precision;if(x.s<1)throw Error(Ua+(x.s?"NaN":"-Infinity"));if(x.eq(aa))return new N(0);if(t==null?(Or=!1,u=h):u=t,x.eq(10))return t==null&&(Or=!0),UE(N,u);if(u+=g,N.precision=u,r=Fo(v),n=r.charAt(0),o=wn(x),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(e),r=Fo(x.d),n=r.charAt(0),m++;o=wn(x),n>1?(x=new N("0."+r),o++):x=new N(n+"."+r.slice(1))}else return d=UE(N,u+2,h).times(o+""),x=Hp(new N(n+"."+r.slice(1)),u-g).plus(d),N.precision=h,t==null?(Or=!0,Sr(x,h)):x;for(c=l=x=qi(x.minus(aa),x.plus(aa),u),i=Sr(x.times(x),u),a=3;;){if(l=Sr(l.times(i),u),d=c.plus(qi(l,new N(a),u)),Fo(d.d).slice(0,u)===Fo(c.d).slice(0,u))return c=c.times(2),o!==0&&(c=c.plus(UE(N,u+2,h).times(o+""))),c=qi(c,new N(m),u),N.precision=h,t==null?(Or=!0,Sr(c,h)):c;c=d,a+=2}}function yL(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=ym(r/Dr),e.d=[],n=(r+1)%Dr,r<0&&(n+=Dr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Dr;n<a;)e.d.push(+t.slice(n,n+=Dr));t=t.slice(n),n=Dr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Or&&(e.e>ew||e.e<-ew))throw Error(lD+r)}else e.s=0,e.e=0,e.d=[0];return e}function Sr(e,t,r){var n,a,o,l,c,d,u,i,m=e.d;for(l=1,o=m[0];o>=10;o/=10)l++;if(n=t-l,n<0)n+=Dr,a=t,u=m[i=0];else{if(i=Math.ceil((n+1)/Dr),o=m.length,i>=o)return e;for(u=o=m[i],l=1;o>=10;o/=10)l++;n%=Dr,a=n-Dr+l}if(r!==void 0&&(o=td(10,l-a-1),c=u/o%10|0,d=t<0||m[i+1]!==void 0||u%o,d=r<4?(c||d)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||d||r==6&&(n>0?a>0?u/td(10,l-a):0:m[i-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return d?(o=wn(e),m.length=1,t=t-o-1,m[0]=td(10,(Dr-t%Dr)%Dr),e.e=ym(-t/Dr)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=i,o=1,i--):(m.length=i+1,o=td(10,Dr-n),m[i]=a>0?(u/td(10,l-a)%td(10,a)|0)*o:0),d)for(;;)if(i==0){(m[0]+=o)==Fn&&(m[0]=1,++e.e);break}else{if(m[i]+=o,m[i]!=Fn)break;m[i--]=0,o=1}for(n=m.length;m[--n]===0;)m.pop();if(Or&&(e.e>ew||e.e<-ew))throw Error(lD+wn(e));return e}function H7(e,t){var r,n,a,o,l,c,d,u,i,m,g=e.constructor,x=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),Or?Sr(t,x):t;if(d=e.d,m=t.d,n=t.e,u=e.e,d=d.slice(),l=u-n,l){for(i=l<0,i?(r=d,l=-l,c=m.length):(r=m,n=u,c=d.length),a=Math.max(Math.ceil(x/Dr),c)+2,l>a&&(l=a,r.length=1),r.reverse(),a=l;a--;)r.push(0);r.reverse()}else{for(a=d.length,c=m.length,i=a<c,i&&(c=a),a=0;a<c;a++)if(d[a]!=m[a]){i=d[a]<m[a];break}l=0}for(i&&(r=d,d=m,m=r,t.s=-t.s),c=d.length,a=m.length-c;a>0;--a)d[c++]=0;for(a=m.length;a>l;){if(d[--a]<m[a]){for(o=a;o&&d[--o]===0;)d[o]=Fn-1;--d[o],d[a]+=Fn}d[a]-=m[a]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,Or?Sr(t,x):t):new g(0)}function Md(e,t,r){var n,a=wn(e),o=Fo(e.d),l=o.length;return t?(r&&(n=r-l)>0?o=o.charAt(0)+"."+o.slice(1)+Wl(n):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+Wl(-a-1)+o,r&&(n=r-l)>0&&(o+=Wl(n))):a>=l?(o+=Wl(a+1-l),r&&(n=r-a-1)>0&&(o=o+"."+Wl(n))):((n=a+1)<l&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-l)>0&&(a+1===l&&(o+="."),o+=Wl(n))),e.s<0?"-"+o:o}function bL(e,t){if(e.length>t)return e.length=t,!0}function z7(e){var t,r,n;function a(o){var l=this;if(!(l instanceof a))return new a(o);if(l.constructor=a,o instanceof a){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Sd+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return yL(l,o.toString())}else if(typeof o!="string")throw Error(Sd+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,U2e.test(o))yL(l,o);else throw Error(Sd+o)}if(a.prototype=Je,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=z7,a.config=a.set=$2e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function $2e(e){if(!e||typeof e!="object")throw Error(Ua+"Object expected");var t,r,n,a=["precision",1,vm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(ym(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Sd+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Sd+r+": "+n);return this}var cD=z7(F2e);aa=new cD(1);const fr=cD;var H2e=e=>e,q7={},V7=e=>e===q7,wL=e=>function t(){return arguments.length===0||arguments.length===1&&V7(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},W7=(e,t)=>e===1?t:wL(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var o=n.filter(l=>l!==q7).length;return o>=e?t(...n):W7(e-o,wL(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=n.map(i=>V7(i)?c.shift():i);return t(...u,...c)}))}),D1=e=>W7(e.length,e),IA=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},z2e=D1((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),q2e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return H2e;var a=r.reverse(),o=a[0],l=a.slice(1);return function(){return l.reduce((c,d)=>d(c),o(...arguments))}},LA=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),G7=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t&&a.every((l,c)=>{var d;return l===((d=t)===null||d===void 0?void 0:d[c])})||(t=a,r=e(...a)),r}};function Y7(e){var t;return e===0?t=1:t=Math.floor(new fr(e).abs().log(10).toNumber())+1,t}function Z7(e,t,r){for(var n=new fr(e),a=0,o=[];n.lt(t)&&a<1e5;)o.push(n.toNumber()),n=n.add(r),a++;return o}D1((e,t,r)=>{var n=+e,a=+t;return n+r*(a-n)});D1((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});D1((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var K7=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},X7=(e,t,r)=>{if(e.lte(0))return new fr(0);var n=Y7(e.toNumber()),a=new fr(10).pow(n),o=e.div(a),l=n!==1?.05:.1,c=new fr(Math.ceil(o.div(l).toNumber())).add(r).mul(l),d=c.mul(a);return t?new fr(d.toNumber()):new fr(Math.ceil(d.toNumber()))},V2e=(e,t,r)=>{var n=new fr(1),a=new fr(e);if(!a.isint()&&r){var o=Math.abs(e);o<1?(n=new fr(10).pow(Y7(e)-1),a=new fr(Math.floor(a.div(n).toNumber())).mul(n)):o>1&&(a=new fr(Math.floor(e)))}else e===0?a=new fr(Math.floor((t-1)/2)):r||(a=new fr(Math.floor(e)));var l=Math.floor((t-1)/2),c=q2e(z2e(d=>a.add(new fr(d-l).mul(n)).toNumber()),IA);return c(0,t)},Q7=function(t,r,n,a){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new fr(0),tickMin:new fr(0),tickMax:new fr(0)};var l=X7(new fr(r).sub(t).div(n-1),a,o),c;t<=0&&r>=0?c=new fr(0):(c=new fr(t).add(r).div(2),c=c.sub(new fr(c).mod(l)));var d=Math.ceil(c.sub(t).div(l).toNumber()),u=Math.ceil(new fr(r).sub(c).div(l).toNumber()),i=d+u+1;return i>n?Q7(t,r,n,a,o+1):(i<n&&(u=r>0?u+(n-i):u,d=r>0?d:d+(n-i)),{step:l,tickMin:c.sub(new fr(d).mul(l)),tickMax:c.add(new fr(u).mul(l))})};function W2e(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(n,2),[l,c]=K7([t,r]);if(l===-1/0||c===1/0){var d=c===1/0?[l,...IA(0,n-1).map(()=>1/0)]:[...IA(0,n-1).map(()=>-1/0),c];return t>r?LA(d):d}if(l===c)return V2e(l,n,a);var{step:u,tickMin:i,tickMax:m}=Q7(l,c,o,a,0),g=Z7(i,m.add(new fr(.1).mul(u)),u);return t>r?LA(g):g}function G2e(e,t){var[r,n]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=K7([r,n]);if(o===-1/0||l===1/0)return[r,n];if(o===l)return[o];var c=Math.max(t,2),d=X7(new fr(l).sub(o).div(c-1),a,0),u=[...Z7(new fr(o),new fr(l),d),l];return a===!1&&(u=u.map(i=>Math.round(i))),r>n?LA(u):u}var Y2e=G7(W2e),Z2e=G7(G2e),K2e=e=>e.rootProps.barCategoryGap,Tg=e=>e.rootProps.stackOffset,dD=e=>e.options.chartName,uD=e=>e.rootProps.syncId,J7=e=>e.rootProps.syncMethod,fD=e=>e.options.eventEmitter,Ri={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ta={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},T1=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},X2e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ri.angleAxisId,includeHidden:!1,name:void 0,reversed:Ri.reversed,scale:Ri.scale,tick:Ri.tick,tickCount:void 0,ticks:void 0,type:Ri.type,unit:void 0},Q2e={allowDataOverflow:ta.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ta.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ta.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ta.scale,tick:ta.tick,tickCount:ta.tickCount,ticks:void 0,type:ta.type,unit:void 0},J2e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ri.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ri.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ri.scale,tick:Ri.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},eke={allowDataOverflow:ta.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ta.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ta.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ta.scale,tick:ta.tick,tickCount:ta.tickCount,ticks:void 0,type:"category",unit:void 0},mD=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?J2e:X2e,hD=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?eke:Q2e,R1=e=>e.polarOptions,pD=he([il,ll,hs],M9),eq=he([R1,pD],(e,t)=>{if(e!=null)return qo(e.innerRadius,t,0)}),tq=he([R1,pD],(e,t)=>{if(e!=null)return qo(e.outerRadius,t,t*.8)}),tke=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},rq=he([R1],tke);he([mD,rq],T1);var nq=he([pD,eq,tq],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});he([hD,nq],T1);var rke=he([Ar,R1,eq,tq,il,ll],(e,t,r,n,a,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:l,cy:c,startAngle:d,endAngle:u}=t;return{cx:qo(l,a,a/2),cy:qo(c,o,o/2),innerRadius:r,outerRadius:n,startAngle:d,endAngle:u,clockWise:!1}}}),Ur=(e,t)=>t,Rg=(e,t,r)=>r;function sq(e){return e?.id}var Pn=e=>{var t=Ar(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},bm=e=>e.tooltip.settings.axisId,Mn=e=>{var t=Pn(e),r=bm(e);return Pg(e,t,r)};function aq(e,t,r){var{chartData:n=[]}=t,a=r?.dataKey,o=new Map;return e.forEach(l=>{var c,d=(c=l.data)!==null&&c!==void 0?c:n;if(!(d==null||d.length===0)){var u=sq(l);d.forEach((i,m)=>{var g=a==null?m:String(yn(i,a,null)),x=yn(i,l.dataKey,0),v;o.has(g)?v=o.get(g):v={},Object.assign(v,{[u]:x}),o.set(g,v)})}}),Array.from(o.values())}function gD(e){return e.stackId!=null&&e.dataKey!=null}function SL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SL(Object(r),!0).forEach(function(n){nke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nke(e,t,r){return(t=ske(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ske(e){var t=ake(e,"string");return typeof t=="symbol"?t:t+""}function ake(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BA=[0,"auto"],oke={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},wm=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return r??oke},ike={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:BA,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:y1},Sm=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return r??ike},lke={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},xD=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??lke},fn=(e,t,r)=>{switch(t){case"xAxis":return wm(e,r);case"yAxis":return Sm(e,r);case"zAxis":return xD(e,r);case"angleAxis":return mD(e,r);case"radiusAxis":return hD(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},cke=(e,t,r)=>{switch(t){case"xAxis":return wm(e,r);case"yAxis":return Sm(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Pg=(e,t,r)=>{switch(t){case"xAxis":return wm(e,r);case"yAxis":return Sm(e,r);case"angleAxis":return mD(e,r);case"radiusAxis":return hD(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},oq=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function vD(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var dke=e=>e.graphicalItems.cartesianItems,uke=he([Ur,Rg],vD),yD=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),Mg=he([dke,fn,uke],yD),iq=he([Mg],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(gD)),lq=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),cq=he([Mg],lq),bD=e=>e.map(t=>t.data).filter(Boolean).flat(1),fke=he([Mg],bD),wD=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},SD=he([fke,B7],wD),jD=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:yn(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:yn(a,n)}))):e.map(n=>({value:n})),P1=he([SD,fn,Mg],jD);function dq(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Kd(e){return e.filter(t=>Xi(t)||t instanceof Date).map(Number).filter(t=>io(t)===!1)}function mke(e,t,r){return!r||typeof t!="number"||io(t)?[]:r.length?Kd(r.flatMap(n=>{var a=yn(e,n.dataKey),o,l;if(Array.isArray(a)?[o,l]=a:o=l=a,!(!lo(o)||!lo(l)))return[t-o,t+l]})):[]}var hke=he([iq,B7,Mn],aq),uq=(e,t,r)=>{var n={},a=t.reduce((o,l)=>(l.stackId==null||(o[l.stackId]==null&&(o[l.stackId]=[]),o[l.stackId].push(l)),o),n);return Object.fromEntries(Object.entries(a).map(o=>{var[l,c]=o,d=c.map(sq);return[l,{stackedData:uCe(e,d,r),graphicalItems:c}]}))},pke=he([hke,iq,Tg],uq),fq=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:a}=t;if(r!=="zAxis"){var o=hCe(e,n,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},gke=he([pke,Ec,Ur],fq),mq=(e,t,r,n,a)=>r.length>0?e.flatMap(o=>r.flatMap(l=>{var c,d,u=(c=n[l.id])===null||c===void 0?void 0:c.filter(m=>dq(a,m)),i=yn(o,(d=t.dataKey)!==null&&d!==void 0?d:l.dataKey);return{value:i,errorDomain:mke(o,i,u)}})).filter(Boolean):t?.dataKey!=null?e.map(o=>({value:yn(o,t.dataKey),errorDomain:[]})):e.map(o=>({value:o,errorDomain:[]})),M1=e=>e.errorBars,hq=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>dq(r,n));he([cq,M1,Ur],hq);var xke=he([SD,fn,cq,M1,Ur],mq);function vke(e){var{value:t}=e;if(Xi(t)||t instanceof Date)return t}var jL=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=Kd(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},yke=(e,t,r)=>{var n=e.map(vke).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&Xz(n))?n7(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},ND=e=>{var t;if(e==null||!("domain"in e))return BA;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Kd(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:BA},rw=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var o=a.flat(),l=Math.min(...o),c=Math.max(...o);return[l,c]}},pq=e=>e.referenceElements.dots,jm=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),bke=he([pq,Ur,Rg],jm),gq=e=>e.referenceElements.areas,wke=he([gq,Ur,Rg],jm),xq=e=>e.referenceElements.lines,Ske=he([xq,Ur,Rg],jm),vq=(e,t)=>{var r=Kd(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},jke=he(bke,Ur,vq),yq=(e,t)=>{var r=Kd(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Nke=he([wke,Ur],yq),bq=(e,t)=>{var r=Kd(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Cke=he(Ske,Ur,bq),Eke=he(jke,Cke,Nke,(e,t,r)=>rw(e,r,t)),wq=he([fn],ND),CD=(e,t,r,n,a,o,l)=>{var c=L2e(t,e.allowDataOverflow);if(c!=null)return c;var d=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",u=d?rw(r,a,jL(n)):rw(a,jL(n));return B2e(t,u,e.allowDataOverflow)},_ke=he([fn,wq,gke,xke,Eke,Ar,Ur],CD),Ake=[0,1],ED=(e,t,r,n,a,o,l)=>{if(!((e==null||r==null||r.length===0)&&l===void 0)){var{dataKey:c,type:d}=e,u=Gd(t,o);return u&&c==null?n7(0,r.length):d==="category"?yke(n,e,u):a==="expand"?Ake:l}},_D=he([fn,Ar,SD,P1,Tg,Ur,_ke],ED),Sq=(e,t,r,n,a)=>{if(e!=null){var{scale:o,type:l}=e;if(o==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":l==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":l==="category"?"band":"linear";if(typeof o=="string"){var c="scale".concat(Eg(o));return c in fp?c:"point"}}},Nm=he([fn,Ar,oq,dD,Ur],Sq);function kke(e){if(e!=null){if(e in fp)return fp[e]();var t="scale".concat(Eg(e));if(t in fp)return fp[t]()}}function AD(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=kke(t);if(a!=null){var o=a.domain(r).range(n);return iCe(o),o}}}var kD=(e,t,r)=>{var n=ND(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Wf(e))return Y2e(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Wf(e))return Z2e(e,t.tickCount,t.allowDecimals)}},DD=he([_D,Pg,Nm],kD),TD=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&Wf(t)&&Array.isArray(r)&&r.length>0){var a=t[0],o=r[0],l=t[1],c=r[r.length-1];return[Math.min(a,o),Math.max(l,c)]}return t},Dke=he([fn,_D,DD,Ur],TD),Tke=he(P1,fn,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Kd(e.map(c=>c.value))).sort((c,d)=>c-d);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var o=0;o<n.length-1;o++){var l=n[o+1]-n[o];r=Math.min(r,l)}return r/a}}),jq=he(Tke,Ar,K2e,hs,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!lo(e))return 0;var o=t==="vertical"?n.height:n.width;if(a==="gap")return e*o/2;if(a==="no-gap"){var l=qo(r,e*o),c=e*o/2;return c-l-(c-l)/o*l}return 0}),Rke=(e,t)=>{var r=wm(e,t);return r==null||typeof r.padding!="string"?0:jq(e,"xAxis",t,r.padding)},Pke=(e,t)=>{var r=Sm(e,t);return r==null||typeof r.padding!="string"?0:jq(e,"yAxis",t,r.padding)},Mke=he(wm,Rke,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),Oke=he(Sm,Pke,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),Ike=he([hs,Mke,w1,b1,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:o}=n;return a?[o.left,r.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),Lke=he([hs,Ar,Oke,w1,b1,(e,t,r)=>r],(e,t,r,n,a,o)=>{var{padding:l}=a;return o?[n.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Og=(e,t,r,n)=>{var a;switch(t){case"xAxis":return Ike(e,r,n);case"yAxis":return Lke(e,r,n);case"zAxis":return(a=xD(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return rq(e);case"radiusAxis":return nq(e,r);default:return}},Nq=he([fn,Og],T1),O1=he([fn,Nm,Dke,Nq],AD);he([Mg,M1,Ur],hq);function Cq(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var I1=(e,t)=>t,L1=(e,t,r)=>r,Bke=he(Mk,I1,L1,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Cq)),Fke=he(Ok,I1,L1,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Cq)),Eq=(e,t)=>({width:e.width,height:t.height}),Uke=(e,t)=>{var r=typeof t.width=="number"?t.width:y1;return{width:r,height:e.height}};he(hs,wm,Eq);var $ke=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Hke=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}};he(ll,hs,Bke,I1,L1,(e,t,r,n,a)=>{var o={},l;return r.forEach(c=>{var d=Eq(t,c);l==null&&(l=$ke(t,n,e));var u=n==="top"&&!a||n==="bottom"&&a;o[c.id]=l-Number(u)*d.height,l+=(u?-1:1)*d.height}),o});he(il,hs,Fke,I1,L1,(e,t,r,n,a)=>{var o={},l;return r.forEach(c=>{var d=Uke(t,c);l==null&&(l=Hke(t,n,e));var u=n==="left"&&!a||n==="right"&&a;o[c.id]=l-Number(u)*d.width,l+=(u?-1:1)*d.width}),o});he(hs,Sm,(e,t)=>{var r=typeof t.width=="number"?t.width:y1;return{width:r,height:e.height}});var _q=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:o,dataKey:l}=r,c=Gd(e,n),d=t.map(u=>u.value);if(l&&c&&o==="category"&&a&&Xz(d))return d}},RD=he([Ar,P1,fn,Ur],_q),Aq=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:o}=r,l=Gd(e,n);if(l&&(a==="number"||o!=="auto"))return t.map(c=>c.value)}},PD=he([Ar,P1,Pg,Ur],Aq);he([Ar,cke,Nm,O1,RD,PD,Og,DD,Ur],(e,t,r,n,a,o,l,c,d)=>{if(t==null)return null;var u=Gd(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:o,duplicateDomain:a,isCategorical:u,niceTicks:c,range:l,realScaleType:r,scale:n}});var zke=(e,t,r,n,a,o,l,c,d)=>{if(!(t==null||n==null)){var u=Gd(e,d),{type:i,ticks:m,tickCount:g}=t,x=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,v=i==="category"&&n.bandwidth?n.bandwidth()/x:0;v=d==="angleAxis"&&o!=null&&o.length>=2?oa(o[0]-o[1])*2*v:v;var N=m||a;if(N){var h=N.map((y,w)=>{var j=l?l.indexOf(y):y;return{index:w,coordinate:n(j)+v,value:y,offset:v}});return h.filter(y=>!io(y.coordinate))}return u&&c?c.map((y,w)=>({coordinate:n(y)+v,value:y,index:w,offset:v})):n.ticks?n.ticks(g).map(y=>({coordinate:n(y)+v,value:y,offset:v})):n.domain().map((y,w)=>({coordinate:n(y)+v,value:l?l[y]:y,index:w,offset:v}))}};he([Ar,Pg,Nm,O1,DD,Og,RD,PD,Ur],zke);var qke=(e,t,r,n,a,o,l)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var c=Gd(e,l),{tickCount:d}=t,u=0;return u=l==="angleAxis"&&n?.length>=2?oa(n[0]-n[1])*2*u:u,c&&o?o.map((i,m)=>({coordinate:r(i)+u,value:i,index:m,offset:u})):r.ticks?r.ticks(d).map(i=>({coordinate:r(i)+u,value:i,offset:u})):r.domain().map((i,m)=>({coordinate:r(i)+u,value:a?a[i]:i,index:m,offset:u}))}};he([Ar,Pg,O1,Og,RD,PD,Ur],qke);he(fn,O1,(e,t)=>{if(!(e==null||t==null))return tw(tw({},e),{},{scale:t})});var Vke=he([fn,Nm,_D,Nq],AD);he((e,t,r)=>xD(e,r),Vke,(e,t)=>{if(!(e==null||t==null))return tw(tw({},e),{},{scale:t})});var Wke=he([Ar,Mk,Ok],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),kq=e=>e.options.defaultTooltipEventType,Dq=e=>e.options.validateTooltipEventTypes;function Tq(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function MD(e,t){var r=kq(e),n=Dq(e);return Tq(t,r,n)}function Gke(e){return It(t=>MD(t,e))}var Rq=(e,t)=>{var r,n=Number(t);if(!(io(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},Yke=e=>e.tooltip.settings,Yl={active:!1,index:null,dataKey:void 0,coordinate:void 0},Zke={itemInteraction:{click:Yl,hover:Yl},axisInteraction:{click:Yl,hover:Yl},keyboardInteraction:Yl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Pq=Zt({name:"tooltip",initialState:Zke,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=Fi(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Kke,removeTooltipEntrySettings:Xke,setTooltipSettingsState:Qke,setActiveMouseOverItemIndex:Mq,mouseLeaveItem:Jke,mouseLeaveChart:Oq,setActiveClickItemIndex:eDe,setMouseOverAxisIndex:Iq,setMouseClickAxisIndex:tDe,setSyncInteraction:FA,setKeyboardInteraction:UA}=Pq.actions,rDe=Pq.reducer;function NL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NL(Object(r),!0).forEach(function(n){nDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nDe(e,t,r){return(t=sDe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sDe(e){var t=aDe(e,"string");return typeof t=="symbol"?t:t+""}function aDe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oDe(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function iDe(e){return e.index!=null}var Lq=(e,t,r,n)=>{if(t==null)return Yl;var a=oDe(e,t,r);if(a==null)return Yl;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(iDe(a)){if(o)return qv(qv({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return qv(qv({},Yl),{},{coordinate:a.coordinate})},OD=(e,t)=>{var r=e?.index;if(r==null)return null;var n=Number(r);if(!lo(n))return r;var a=0,o=1/0;return t.length>0&&(o=t.length-1),String(Math.max(a,Math.min(n,o)))},Bq=(e,t,r,n,a,o,l,c)=>{if(!(o==null||c==null)){var d=l[0],u=d==null?void 0:c(d.positions,o);if(u!=null)return u;var i=a?.[Number(o)];if(i)switch(r){case"horizontal":return{x:i.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:i.coordinate}}}},Fq=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.dataKey)===a})},Ig=e=>e.options.tooltipPayloadSearcher,Cm=e=>e.tooltip;function CL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function EL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CL(Object(r),!0).forEach(function(n){lDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lDe(e,t,r){return(t=cDe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cDe(e){var t=dDe(e,"string");return typeof t=="symbol"?t:t+""}function dDe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uDe(e,t){return e??t}var Uq=(e,t,r,n,a,o,l)=>{if(!(t==null||o==null)){var{chartData:c,computedData:d,dataStartIndex:u,dataEndIndex:i}=r,m=[];return e.reduce((g,x)=>{var v,{dataDefinedOnItem:N,settings:h}=x,y=uDe(N,c),w=Array.isArray(y)?O9(y,u,i):y,j=(v=h?.dataKey)!==null&&v!==void 0?v:n?.dataKey,C=h?.nameKey,_;if(n!=null&&n.dataKey&&Array.isArray(w)&&!Array.isArray(w[0])&&l==="axis"?_=JSe(w,n.dataKey,a):_=o(w,t,d,C),Array.isArray(_))_.forEach(A=>{var T=EL(EL({},h),{},{name:A.name,unit:A.unit,color:void 0,fill:void 0});g.push(i6({tooltipEntrySettings:T,dataKey:A.dataKey,payload:A.payload,value:yn(A.payload,A.dataKey),name:A.name}))});else{var k;g.push(i6({tooltipEntrySettings:h,dataKey:j,payload:_,value:yn(_,j),name:(k=yn(_,C))!==null&&k!==void 0?k:h?.name}))}return g},m)}},ID=he([Mn,Ar,oq,dD,Pn],Sq),fDe=he([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),mDe=he([Pn,bm],vD),Lg=he([fDe,Mn,mDe],yD),hDe=he([Lg],e=>e.filter(gD)),pDe=he([Lg],bD),Em=he([pDe,Ec],wD),gDe=he([hDe,Ec,Mn],aq),LD=he([Em,Mn,Lg],jD),xDe=he([Mn],ND),vDe=he([Lg],e=>e.filter(gD)),yDe=he([gDe,vDe,Tg],uq),bDe=he([yDe,Ec,Pn],fq),wDe=he([Lg],lq),SDe=he([Em,Mn,wDe,M1,Pn],mq),jDe=he([pq,Pn,bm],jm),NDe=he([jDe,Pn],vq),CDe=he([gq,Pn,bm],jm),EDe=he([CDe,Pn],yq),_De=he([xq,Pn,bm],jm),ADe=he([_De,Pn],bq),kDe=he([NDe,ADe,EDe],rw),DDe=he([Mn,xDe,bDe,SDe,kDe,Ar,Pn],CD),$q=he([Mn,Ar,Em,LD,Tg,Pn,DDe],ED),TDe=he([$q,Mn,ID],kD),RDe=he([Mn,$q,TDe,Pn],TD),Hq=e=>{var t=Pn(e),r=bm(e),n=!1;return Og(e,t,r,n)},zq=he([Mn,Hq],T1),qq=he([Mn,ID,RDe,zq],AD),PDe=he([Ar,LD,Mn,Pn],_q),MDe=he([Ar,LD,Mn,Pn],Aq),ODe=(e,t,r,n,a,o,l,c)=>{if(t){var{type:d}=t,u=Gd(e,c);if(n){var i=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,m=d==="category"&&n.bandwidth?n.bandwidth()/i:0;return m=c==="angleAxis"&&a!=null&&a?.length>=2?oa(a[0]-a[1])*2*m:m,u&&l?l.map((g,x)=>({coordinate:n(g)+m,value:g,index:x,offset:m})):n.domain().map((g,x)=>({coordinate:n(g)+m,value:o?o[g]:g,index:x,offset:m}))}}},dl=he([Ar,Mn,ID,qq,Hq,PDe,MDe,Pn],ODe),BD=he([kq,Dq,Yke],(e,t,r)=>Tq(r.shared,e,t)),Vq=e=>e.tooltip.settings.trigger,FD=e=>e.tooltip.settings.defaultIndex,B1=he([Cm,BD,Vq,FD],Lq),zp=he([B1,Em],OD),Wq=he([dl,zp],Rq),IDe=he([B1],e=>{if(e)return e.dataKey}),Gq=he([Cm,BD,Vq,FD],Fq),LDe=he([il,ll,Ar,hs,dl,FD,Gq,Ig],Bq),BDe=he([B1,LDe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),FDe=he([B1],e=>e.active),UDe=he([Gq,zp,Ec,Mn,Wq,Ig,BD],Uq);he([UDe],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function _L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_L(Object(r),!0).forEach(function(n){$De(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_L(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $De(e,t,r){return(t=HDe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HDe(e){var t=zDe(e,"string");return typeof t=="symbol"?t:t+""}function zDe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qDe=()=>It(Mn),VDe=()=>{var e=qDe(),t=It(dl),r=It(qq);return pCe(AL(AL({},e),{},{scale:r}),t)},WDe=()=>It(dD),UD=(e,t)=>t,Yq=(e,t,r)=>r,$D=(e,t,r,n)=>n,GDe=he(dl,e=>v1(e,t=>t.coordinate)),HD=he([Cm,UD,Yq,$D],Lq),Zq=he([HD,Em],OD),YDe=(e,t,r)=>{if(t!=null){var n=Cm(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},Kq=he([Cm,UD,Yq,$D],Fq),nw=he([il,ll,Ar,hs,dl,$D,Kq,Ig],Bq),ZDe=he([HD,nw],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),Xq=he(dl,Zq,Rq),KDe=he([Kq,Zq,Ec,Mn,Xq,Ig,UD],Uq),XDe=he([HD],e=>({isActive:e.active,activeIndex:e.index})),QDe=(e,t,r,n,a,o,l,c)=>{if(!(!e||!t||!n||!a||!o)){var d=gCe(e.chartX,e.chartY,t,r,c);if(d){var u=vCe(d,t),i=aCe(u,l,o,n,a),m=xCe(t,o,i,d);return{activeIndex:String(i),activeCoordinate:m}}}};function $A(){return $A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$A.apply(null,arguments)}function kL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kL(Object(r),!0).forEach(function(n){JDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JDe(e,t,r){return(t=eTe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eTe(e){var t=tTe(e,"string");return typeof t=="symbol"?t:t+""}function tTe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rTe(e){var{coordinate:t,payload:r,index:n,offset:a,tooltipAxisBandSize:o,layout:l,cursor:c,tooltipEventType:d,chartName:u}=e,i=t,m=r,g=n;if(!c||!i||u!=="ScatterChart"&&d!=="axis")return null;var x,v;if(u==="ScatterChart")x=i,v=vEe;else if(u==="BarChart")x=yEe(l,i,a,o),v=J9;else if(l==="radial"){var{cx:N,cy:h,radius:y,startAngle:w,endAngle:j}=e7(i);x={cx:N,cy:h,startAngle:w,endAngle:j,innerRadius:y,outerRadius:y},v=r7}else x={points:n_e(l,i,a)},v=W9;var C=typeof c=="object"&&"className"in c?c.className:void 0,_=Vv(Vv(Vv(Vv({stroke:"#ccc",pointerEvents:"none"},a),x),ma(c,!1)),{},{payload:m,payloadIndex:g,className:un("recharts-tooltip-cursor",C)});return b.isValidElement(c)?b.cloneElement(c,_):b.createElement(v,_)}function nTe(e){var t=VDe(),r=_Ce(),n=z9(),a=WDe();return b.createElement(rTe,$A({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var Qq=b.createContext(null),sTe=()=>b.useContext(Qq),$E={exports:{}},DL;function aTe(){return DL||(DL=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(d,u,i){this.fn=d,this.context=u,this.once=i||!1}function o(d,u,i,m,g){if(typeof i!="function")throw new TypeError("The listener must be a function");var x=new a(i,m||d,g),v=r?r+u:u;return d._events[v]?d._events[v].fn?d._events[v]=[d._events[v],x]:d._events[v].push(x):(d._events[v]=x,d._eventsCount++),d}function l(d,u){--d._eventsCount===0?d._events=new n:delete d._events[u]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var u=[],i,m;if(this._eventsCount===0)return u;for(m in i=this._events)t.call(i,m)&&u.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(i)):u},c.prototype.listeners=function(u){var i=r?r+u:u,m=this._events[i];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,x=m.length,v=new Array(x);g<x;g++)v[g]=m[g].fn;return v},c.prototype.listenerCount=function(u){var i=r?r+u:u,m=this._events[i];return m?m.fn?1:m.length:0},c.prototype.emit=function(u,i,m,g,x,v){var N=r?r+u:u;if(!this._events[N])return!1;var h=this._events[N],y=arguments.length,w,j;if(h.fn){switch(h.once&&this.removeListener(u,h.fn,void 0,!0),y){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,i),!0;case 3:return h.fn.call(h.context,i,m),!0;case 4:return h.fn.call(h.context,i,m,g),!0;case 5:return h.fn.call(h.context,i,m,g,x),!0;case 6:return h.fn.call(h.context,i,m,g,x,v),!0}for(j=1,w=new Array(y-1);j<y;j++)w[j-1]=arguments[j];h.fn.apply(h.context,w)}else{var C=h.length,_;for(j=0;j<C;j++)switch(h[j].once&&this.removeListener(u,h[j].fn,void 0,!0),y){case 1:h[j].fn.call(h[j].context);break;case 2:h[j].fn.call(h[j].context,i);break;case 3:h[j].fn.call(h[j].context,i,m);break;case 4:h[j].fn.call(h[j].context,i,m,g);break;default:if(!w)for(_=1,w=new Array(y-1);_<y;_++)w[_-1]=arguments[_];h[j].fn.apply(h[j].context,w)}}return!0},c.prototype.on=function(u,i,m){return o(this,u,i,m,!1)},c.prototype.once=function(u,i,m){return o(this,u,i,m,!0)},c.prototype.removeListener=function(u,i,m,g){var x=r?r+u:u;if(!this._events[x])return this;if(!i)return l(this,x),this;var v=this._events[x];if(v.fn)v.fn===i&&(!g||v.once)&&(!m||v.context===m)&&l(this,x);else{for(var N=0,h=[],y=v.length;N<y;N++)(v[N].fn!==i||g&&!v[N].once||m&&v[N].context!==m)&&h.push(v[N]);h.length?this._events[x]=h.length===1?h[0]:h:l(this,x)}return this},c.prototype.removeAllListeners=function(u){var i;return u?(i=r?r+u:u,this._events[i]&&l(this,i)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,e.exports=c}($E)),$E.exports}var oTe=aTe();const iTe=uo(oTe);var qp=new iTe,HA="recharts.syncEvent.tooltip",TL="recharts.syncEvent.brush";function lTe(e,t){if(t){var r=Number.parseInt(t,10);if(!io(r))return e?.[r]}}var cTe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Jq=Zt({name:"options",initialState:cTe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),dTe=Jq.reducer,{createEventEmitter:uTe}=Jq.actions;function fTe(e){return e.tooltip.syncInteraction}var mTe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},eV=Zt({name:"chartData",initialState:mTe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:RL,setDataStartEndIndexes:hTe,setComputedData:e7e}=eV.actions,pTe=eV.reducer,tV=()=>{};function gTe(){var e=It(uD),t=It(fD),r=Gn(),n=It(J7),a=It(dl),o=z9(),l=U9(),c=It(d=>d.rootProps.className);b.useEffect(()=>{if(e==null)return tV;var d=(u,i,m)=>{if(t!==m&&e===u){if(n==="index"){r(i);return}if(a!=null){var g;if(typeof n=="function"){var x={activeTooltipIndex:i.payload.index==null?void 0:Number(i.payload.index),isTooltipActive:i.payload.active,activeIndex:i.payload.index==null?void 0:Number(i.payload.index),activeLabel:i.payload.label,activeDataKey:i.payload.dataKey,activeCoordinate:i.payload.coordinate},v=n(a,x);g=a[v]}else n==="value"&&(g=a.find(k=>String(k.value)===i.payload.label));var{coordinate:N}=i.payload;if(g==null||i.payload.active===!1||N==null||l==null){r(FA({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:h,y}=N,w=Math.min(h,l.x+l.width),j=Math.min(y,l.y+l.height),C={x:o==="horizontal"?g.coordinate:w,y:o==="horizontal"?j:g.coordinate},_=FA({active:i.payload.active,coordinate:C,dataKey:i.payload.dataKey,index:String(g.index),label:i.payload.label});r(_)}}};return qp.on(HA,d),()=>{qp.off(HA,d)}},[c,r,t,e,n,a,o,l])}function xTe(){var e=It(uD),t=It(fD),r=Gn();b.useEffect(()=>{if(e==null)return tV;var n=(a,o,l)=>{t!==l&&e===a&&r(hTe(o))};return qp.on(TL,n),()=>{qp.off(TL,n)}},[r,t,e])}function vTe(){var e=Gn();b.useEffect(()=>{e(uTe())},[e]),gTe(),xTe()}function yTe(e,t,r,n,a,o){var l=It(g=>YDe(g,e,t)),c=It(fD),d=It(uD),u=It(J7),i=It(fTe),m=i?.active;b.useEffect(()=>{if(!m&&d!=null&&c!=null){var g=FA({active:o,coordinate:r,dataKey:l,index:a,label:typeof n=="number"?String(n):n});qp.emit(HA,d,g,c)}},[m,r,l,a,n,c,d,u,o])}function PL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ML(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PL(Object(r),!0).forEach(function(n){bTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bTe(e,t,r){return(t=wTe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wTe(e){var t=STe(e,"string");return typeof t=="symbol"?t:t+""}function STe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jTe(e){return e.dataKey}function NTe(e,t){return b.isValidElement(e)?b.cloneElement(e,t):typeof e=="function"?b.createElement(e,t):b.createElement(KCe,t)}var OL=[],CTe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!j1.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ETe(e){var t=jc(e,CTe),{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:o,content:l,filterNull:c,isAnimationActive:d,offset:u,payloadUniqBy:i,position:m,reverseDirection:g,useTranslate3d:x,wrapperStyle:v,cursor:N,shared:h,trigger:y,defaultIndex:w,portal:j,axisId:C}=t,_=Gn(),k=typeof w=="number"?String(w):w;b.useEffect(()=>{_(Qke({shared:h,trigger:y,axisId:C,active:r,defaultIndex:k}))},[_,h,y,C,r,k]);var A=U9(),T=V9(),R=Gke(h),{activeIndex:P,isActive:M}=It(ie=>XDe(ie,R,y,k)),I=It(ie=>KDe(ie,R,y,k)),L=It(ie=>Xq(ie,R,y,k)),B=It(ie=>ZDe(ie,R,y,k)),U=I,F=sTe(),H=r??M,[W,J]=R9([U,H]),q=R==="axis"?L:void 0;yTe(R,y,B,q,P,H);var G=j??F;if(G==null)return null;var z=U??OL;H||(z=OL),c&&z.length&&(z=_9(U.filter(ie=>ie.value!=null&&(ie.hide!==!0||t.includeHidden)),i,jTe));var K=z.length>0,Z=b.createElement(nEe,{allowEscapeViewBox:n,animationDuration:a,animationEasing:o,isAnimationActive:d,active:H,coordinate:B,hasPayload:K,offset:u,position:m,reverseDirection:g,useTranslate3d:x,viewBox:A,wrapperStyle:v,lastBoundingBox:W,innerRef:J,hasPortalFromProps:!!j},NTe(l,ML(ML({},t),{},{payload:z,label:q,active:H,coordinate:B,accessibilityLayer:T})));return b.createElement(b.Fragment,null,Hd.createPortal(Z,G),H&&b.createElement(nTe,{cursor:N,tooltipEventType:R,coordinate:B,payload:U,index:P}))}var HE={},zE={},qE={},IL;function _Te(){return IL||(IL=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:o}={}){let l,c=null;const d=o!=null&&o.includes("leading"),u=o==null||o.includes("trailing"),i=()=>{c!==null&&(r.apply(l,c),l=void 0,c=null)},m=()=>{u&&i(),N()};let g=null;const x=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,m()},n)},v=()=>{g!==null&&(clearTimeout(g),g=null)},N=()=>{v(),l=void 0,c=null},h=()=>{i()},y=function(...w){if(a?.aborted)return;l=this,c=w;const j=g==null;x(),d&&j&&i()};return y.schedule=x,y.cancel=N,y.flush=h,a?.addEventListener("abort",N,{once:!0}),y}e.debounce=t}(qE)),qE}var LL;function ATe(){return LL||(LL=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_Te();function r(n,a=0,o={}){typeof o!="object"&&(o={});const{leading:l=!1,trailing:c=!0,maxWait:d}=o,u=Array(2);l&&(u[0]="leading"),c&&(u[1]="trailing");let i,m=null;const g=t.debounce(function(...N){i=n.apply(this,N),m=null},a,{edges:u}),x=function(...N){return d!=null&&(m===null&&(m=Date.now()),Date.now()-m>=d)?(i=n.apply(this,N),m=Date.now(),g.cancel(),g.schedule(),i):(g.apply(this,N),i)},v=()=>(g.flush(),i);return x.cancel=g.cancel,x.flush=v,x}e.debounce=r}(zE)),zE}var BL;function kTe(){return BL||(BL=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ATe();function r(n,a=0,o={}){const{leading:l=!0,trailing:c=!0}=o;return t.debounce(n,a,{leading:l,maxWait:a,trailing:c})}e.throttle=r}(HE)),HE}var VE,FL;function DTe(){return FL||(FL=1,VE=kTe().throttle),VE}var TTe=DTe();const RTe=uo(TTe);var WE=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o]};function UL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function GE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UL(Object(r),!0).forEach(function(n){PTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PTe(e,t,r){return(t=MTe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MTe(e){var t=OTe(e,"string");return typeof t=="symbol"?t:t+""}function OTe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ITe=b.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a="100%",height:o="100%",minWidth:l=0,minHeight:c,maxHeight:d,children:u,debounce:i=0,id:m,className:g,onResize:x,style:v={}}=e,N=b.useRef(null),h=b.useRef();h.current=x,b.useImperativeHandle(t,()=>N.current);var[y,w]=b.useState({containerWidth:n.width,containerHeight:n.height}),j=b.useCallback((_,k)=>{w(A=>{var T=Math.round(_),R=Math.round(k);return A.containerWidth===T&&A.containerHeight===R?A:{containerWidth:T,containerHeight:R}})},[]);b.useEffect(()=>{var _=R=>{var P,{width:M,height:I}=R[0].contentRect;j(M,I),(P=h.current)===null||P===void 0||P.call(h,M,I)};i>0&&(_=RTe(_,i,{trailing:!0,leading:!1}));var k=new ResizeObserver(_),{width:A,height:T}=N.current.getBoundingClientRect();return j(A,T),k.observe(N.current),()=>{k.disconnect()}},[j,i]);var C=b.useMemo(()=>{var{containerWidth:_,containerHeight:k}=y;if(_<0||k<0)return null;WE(up(a)||up(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,o),WE(!r||r>0,"The aspect(%s) must be greater than zero.",r);var A=up(a)?_:a,T=up(o)?k:o;return r&&r>0&&(A?T=A/r:T&&(A=T*r),d&&T>d&&(T=d)),WE(A>0||T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,A,T,a,o,l,c,r),b.Children.map(u,R=>b.cloneElement(R,{width:A,height:T,style:GE({width:A,height:T},R.props.style)}))},[r,u,o,d,c,l,y,a]);return b.createElement("div",{id:m?"".concat(m):void 0,className:un("recharts-responsive-container",g),style:GE(GE({},v),{},{width:a,height:o,minWidth:l,minHeight:c,maxHeight:d}),ref:N},b.createElement("div",{style:{width:0,height:0,overflow:"visible"}},C))}),F1=e=>null;F1.displayName="Cell";function LTe(e,t,r){return(t=BTe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BTe(e){var t=FTe(e,"string");return typeof t=="symbol"?t:t+""}function FTe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class UTe{constructor(t){LTe(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function $L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $Te(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$L(Object(r),!0).forEach(function(n){HTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$L(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HTe(e,t,r){return(t=zTe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zTe(e){var t=qTe(e,"string");return typeof t=="symbol"?t:t+""}function qTe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VTe={cacheSize:2e3,enableCache:!0},rV=$Te({},VTe),HL=new UTe(rV.cacheSize),WTe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},zL="recharts_measurement_span";function GTe(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",o=t.fontStyle||"",l=t.letterSpacing||"",c=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(o,"|").concat(l,"|").concat(c)}var qL=(e,t)=>{try{var r=document.getElementById(zL);r||(r=document.createElement("span"),r.setAttribute("id",zL),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,WTe,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},VL=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||j1.isSsr)return{width:0,height:0};if(!rV.enableCache)return qL(t,r);var n=GTe(t,r),a=HL.get(n);if(a)return a;var o=qL(t,r);return HL.set(n,o),o},WL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,YTe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ZTe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,nV={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},KTe=Object.keys(nV),gf="NaN";function XTe(e,t){return e*nV[t]}class Ps{static parse(t){var r,[,n,a]=(r=ZTe.exec(t))!==null&&r!==void 0?r:[];return new Ps(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,io(t)&&(this.unit=""),r!==""&&!YTe.test(r)&&(this.num=NaN,this.unit=""),KTe.includes(r)&&(this.num=XTe(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Ps(NaN,""):new Ps(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ps(NaN,""):new Ps(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ps(NaN,""):new Ps(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ps(NaN,""):new Ps(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return io(this.num)}}function sV(e){if(e.includes(gf))return gf;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,o]=(r=WL.exec(t))!==null&&r!==void 0?r:[],l=Ps.parse(n??""),c=Ps.parse(o??""),d=a==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return gf;t=t.replace(WL,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,i,m,g]=(u=GL.exec(t))!==null&&u!==void 0?u:[],x=Ps.parse(i??""),v=Ps.parse(g??""),N=m==="+"?x.add(v):x.subtract(v);if(N.isNaN())return gf;t=t.replace(GL,N.toString())}return t}var YL=/\(([^()]*)\)/;function QTe(e){for(var t=e,r;(r=YL.exec(t))!=null;){var[,n]=r;t=t.replace(YL,sV(n))}return t}function JTe(e){var t=e.replace(/\s+/g,"");return t=QTe(t),t=sV(t),t}function eRe(e){try{return JTe(e)}catch{return gf}}function YE(e){var t=eRe(e.slice(5,-1));return t===gf?"":t}var tRe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],rRe=["dx","dy","angle","className","breakAll"];function zA(){return zA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zA.apply(null,arguments)}function ZL(e,t){if(e==null)return{};var r,n,a=nRe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function nRe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var aV=/[ \f\n\r\t\v\u2028\u2029]+/,oV=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];Pd(t)||(r?a=t.toString().split(""):a=t.toString().split(aV));var o=a.map(c=>({word:c,width:VL(c,n).width})),l=r?0:VL(" ",n).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},sRe=(e,t,r,n,a)=>{var{maxLines:o,children:l,style:c,breakAll:d}=e,u=Wt(o),i=l,m=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce((I,L)=>{var{word:B,width:U}=L,F=I[I.length-1];if(F&&(n==null||a||F.width+U+r<Number(n)))F.words.push(B),F.width+=U+r;else{var H={words:[B],width:U};I.push(H)}return I},[])},g=m(t),x=P=>P.reduce((M,I)=>M.width>I.width?M:I);if(!u||a)return g;var v=g.length>o||x(g).width>Number(n);if(!v)return g;for(var N="…",h=P=>{var M=i.slice(0,P),I=oV({breakAll:d,style:c,children:M+N}).wordsWithComputedWidth,L=m(I),B=L.length>o||x(L).width>Number(n);return[B,L]},y=0,w=i.length-1,j=0,C;y<=w&&j<=i.length-1;){var _=Math.floor((y+w)/2),k=_-1,[A,T]=h(k),[R]=h(_);if(!A&&!R&&(y=_+1),A&&R&&(w=_-1),!A&&R){C=T;break}j++}return C||g},KL=e=>{var t=Pd(e)?[]:e.toString().split(aV);return[{words:t}]},aRe=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:o,maxLines:l}=e;if((t||r)&&!j1.isSsr){var c,d,u=oV({breakAll:o,children:n,style:a});if(u){var{wordsWithComputedWidth:i,spaceWidth:m}=u;c=i,d=m}else return KL(n);return sRe({breakAll:o,children:n,maxLines:l,style:a},c,d,t,r)}return KL(n)},XL="#808080",iV=b.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:a="1em",capHeight:o="0.71em",scaleToFit:l=!1,textAnchor:c="start",verticalAnchor:d="end",fill:u=XL}=e,i=ZL(e,tRe),m=b.useMemo(()=>aRe({breakAll:i.breakAll,children:i.children,maxLines:i.maxLines,scaleToFit:l,style:i.style,width:i.width}),[i.breakAll,i.children,i.maxLines,l,i.style,i.width]),{dx:g,dy:x,angle:v,className:N,breakAll:h}=i,y=ZL(i,rRe);if(!Xi(r)||!Xi(n))return null;var w=r+(Wt(g)?g:0),j=n+(Wt(x)?x:0),C;switch(d){case"start":C=YE("calc(".concat(o,")"));break;case"middle":C=YE("calc(".concat((m.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:C=YE("calc(".concat(m.length-1," * -").concat(a,")"));break}var _=[];if(l){var k=m[0].width,{width:A}=i;_.push("scale(".concat(Wt(A)?A/k:1,")"))}return v&&_.push("rotate(".concat(v,", ").concat(w,", ").concat(j,")")),_.length&&(y.transform=_.join(" ")),b.createElement("text",zA({},ma(y,!0),{ref:t,x:w,y:j,className:un("recharts-text",N),textAnchor:c,fill:u.includes("url")?XL:u}),m.map((T,R)=>{var P=T.words.join(h?"":" ");return b.createElement("tspan",{x:w,dy:R===0?C:a,key:"".concat(P,"-").concat(R)},P)}))});iV.displayName="Text";var lV=e=>e.graphicalItems.polarItems,oRe=he([Ur,Rg],vD),zD=he([lV,fn,oRe],yD),iRe=he([zD],bD),qD=he([iRe,iD],wD),lRe=he([qD,fn,zD],jD),cRe=he([qD,fn,zD],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var o,l=yn(n,(o=t.dataKey)!==null&&o!==void 0?o:a.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:yn(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),QL=()=>{},dRe=he([fn,wq,QL,cRe,QL,Ar,Ur],CD),cV=he([fn,Ar,qD,lRe,Tg,Ur,dRe],ED),uRe=he([cV,fn,Nm],kD);he([fn,cV,uRe,Ur],TD);var fRe={radiusAxis:{},angleAxis:{}},dV=Zt({name:"polarAxis",initialState:fRe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:t7e,removeRadiusAxis:r7e,addAngleAxis:n7e,removeAngleAxis:s7e}=dV.actions,mRe=dV.reducer;function JL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JL(Object(r),!0).forEach(function(n){hRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hRe(e,t,r){return(t=pRe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pRe(e){var t=gRe(e,"string");return typeof t=="symbol"?t:t+""}function gRe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xRe=(e,t)=>t,VD=he([lV,xRe],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),vRe=[],WD=(e,t,r)=>r?.length===0?vRe:r,uV=he([iD,VD,WD],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if(t?.data!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(o=>eB(eB({},t.presentationProps),o.props))),a!=null)return a}}),yRe=he([uV,VD,WD],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var o,l=yn(n,t.nameKey,t.name),c;return r!=null&&(o=r[a])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?c=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?c=n.fill:c=t.fill,{value:I9(l,t.dataKey),color:c,payload:n,type:t.legendType}})}),bRe=he([uV,VD,WD,hs],(e,t,r,n)=>{if(!(t==null||e==null))return yPe({offset:n,pieSettings:t,displayedData:e,cells:r})}),ZE={},tB;function wRe(){return tB||(tB=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t}(ZE)),ZE}var KE,rB;function SRe(){return rB||(rB=1,KE=wRe().isPlainObject),KE}var jRe=SRe();const NRe=uo(jRe);function sw(){return sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sw.apply(null,arguments)}var nB=(e,t,r,n,a)=>{var o=r-n,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+r,",").concat(t),l+="L ".concat(e+r-o/2,",").concat(t+a),l+="L ".concat(e+r-o/2-n,",").concat(t+a),l+="L ".concat(e,",").concat(t," Z"),l},CRe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ERe=e=>{var t=jc(e,CRe),r=b.useRef(),[n,a]=b.useState(-1);b.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var h=r.current.getTotalLength();h&&a(h)}catch{}},[]);var{x:o,y:l,upperWidth:c,lowerWidth:d,height:u,className:i}=t,{animationEasing:m,animationDuration:g,animationBegin:x,isUpdateAnimationActive:v}=t;if(o!==+o||l!==+l||c!==+c||d!==+d||u!==+u||c===0&&d===0||u===0)return null;var N=un("recharts-trapezoid",i);return v?b.createElement(zb,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:u,x:o,y:l},to:{upperWidth:c,lowerWidth:d,height:u,x:o,y:l},duration:g,animationEasing:m,isActive:v},h=>{var{upperWidth:y,lowerWidth:w,height:j,x:C,y:_}=h;return b.createElement(zb,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,easing:m},b.createElement("path",sw({},ma(t,!0),{className:N,d:nB(C,_,y,w,j),ref:r})))}):b.createElement("g",null,b.createElement("path",sw({},ma(t,!0),{className:N,d:nB(o,l,c,d,u)})))},_Re=["option","shapeType","propTransformer","activeClassName","isActive"];function ARe(e,t){if(e==null)return{};var r,n,a=kRe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kRe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function sB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sB(Object(r),!0).forEach(function(n){DRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DRe(e,t,r){return(t=TRe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TRe(e){var t=RRe(e,"string");return typeof t=="symbol"?t:t+""}function RRe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PRe(e,t){return aw(aw({},t),e)}function MRe(e,t){return e==="symbols"}function aB(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return b.createElement(J9,r);case"trapezoid":return b.createElement(ERe,r);case"sector":return b.createElement(r7,r);case"symbols":if(MRe(t))return b.createElement(Ek,r);break;default:return null}}function ORe(e){return b.isValidElement(e)?e.props:e}function IRe(e){var{option:t,shapeType:r,propTransformer:n=PRe,activeClassName:a="recharts-active-shape",isActive:o}=e,l=ARe(e,_Re),c;if(b.isValidElement(t))c=b.cloneElement(t,aw(aw({},l),ORe(t)));else if(typeof t=="function")c=t(l);else if(NRe(t)&&typeof t!="boolean"){var d=n(t,l);c=b.createElement(aB,{shapeType:r,elementProps:d})}else{var u=l;c=b.createElement(aB,{shapeType:r,elementProps:u})}return o?b.createElement(Uf,{className:a},c):c}var LRe=(e,t)=>{var r=Gn();return(n,a)=>o=>{e?.(n,a,o),r(Mq({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},BRe=e=>{var t=Gn();return(r,n)=>a=>{e?.(r,n,a),t(Jke())}},FRe=(e,t)=>{var r=Gn();return(n,a)=>o=>{e?.(n,a,o),r(eDe({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function URe(e){var{fn:t,args:r}=e,n=Gn(),a=gm();return b.useEffect(()=>{if(!a){var o=t(r);return n(Kke(o)),()=>{n(Xke(o))}}},[t,r,n,a]),null}var $Re=()=>{};function HRe(e){var{legendPayload:t}=e,r=Gn(),n=It(Ar);return b.useEffect(()=>n!=="centric"&&n!=="radial"?$Re:(r(RCe(t)),()=>{r(PCe(t))}),[r,n,t]),null}function zRe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=b.useRef(Pb(t)),n=b.useRef(e);return n.current!==e&&(r.current=Pb(t),n.current=e),r.current}var XE,qRe=()=>{var[e]=b.useState(()=>Pb("uid-"));return e},VRe=(XE=u2.useId)!==null&&XE!==void 0?XE:qRe;function WRe(e,t){var r=VRe();return t||(e?"".concat(e,"-").concat(r):r)}var GRe=b.createContext(void 0),YRe=e=>{var{id:t,type:r,children:n}=e,a=WRe("recharts-".concat(r),t);return b.createElement(GRe.Provider,{value:a},n(a))},ZRe={cartesianItems:[],polarItems:[]},fV=Zt({name:"graphicalItems",initialState:ZRe,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,a=Fi(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},removeCartesianGraphicalItem(e,t){var r=Fi(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=Fi(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:a7e,replaceCartesianGraphicalItem:o7e,removeCartesianGraphicalItem:i7e,addPolarGraphicalItem:KRe,removePolarGraphicalItem:XRe}=fV.actions,QRe=fV.reducer;function JRe(e){var t=Gn();return b.useEffect(()=>(t(KRe(e)),()=>{t(XRe(e))}),[t,e]),null}function ePe(){}var tPe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},oB={t:0},QE={t:1};function rPe(e){var t=jc(e,tPe),{isActive:r,canBegin:n,duration:a,easing:o,begin:l,onAnimationEnd:c,onAnimationStart:d,children:u}=t,i=Q9("JavascriptAnimate",t.animationManager),[m,g]=b.useState(r?oB:QE),x=b.useRef(null);return b.useEffect(()=>{r||g(QE)},[r]),b.useEffect(()=>{if(!r||!n)return ePe;var v=X9(oB,QE,Z9(o),a,g,i.getTimeoutController()),N=()=>{x.current=v()};return i.start([d,l,N,a,c]),()=>{i.stop(),x.current&&x.current(),c()}},[r,n,a,o,l,d,c,i]),u(m.t)}var nPe=["onMouseEnter","onClick","onMouseLeave"],sPe=["id"],aPe=["id"];function GD(e,t){if(e==null)return{};var r,n,a=oPe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function oPe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function iB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function en(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iB(Object(r),!0).forEach(function(n){iPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iPe(e,t,r){return(t=lPe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lPe(e){var t=cPe(e,"string");return typeof t=="symbol"?t:t+""}function cPe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tl(){return tl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tl.apply(null,arguments)}function dPe(e){var t=b.useMemo(()=>t9(e.children,F1),[e.children]),r=It(n=>yRe(n,e.id,t));return r==null?null:b.createElement(HRe,{legendPayload:r})}function uPe(e){var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:o,fill:l,name:c,hide:d,tooltipType:u}=e;return{dataDefinedOnItem:n?.map(i=>i.tooltipPayload),positions:n?.map(i=>i.tooltipPosition),settings:{stroke:a,strokeWidth:o,fill:l,dataKey:t,nameKey:r,name:I9(c,t),hide:d,type:u,color:l,unit:""}}}var fPe=(e,t)=>e>t?"start":e<t?"end":"middle",mPe=(e,t,r)=>typeof t=="function"?t(e):qo(t,r,r*.8),hPe=(e,t,r)=>{var{top:n,left:a,width:o,height:l}=t,c=M9(o,l),d=a+qo(e.cx,o,o/2),u=n+qo(e.cy,l,l/2),i=qo(e.innerRadius,c,0),m=mPe(r,e.outerRadius,c),g=e.maxRadius||Math.sqrt(o*o+l*l)/2;return{cx:d,cy:u,innerRadius:i,outerRadius:m,maxRadius:g}},pPe=(e,t)=>{var r=oa(t-e),n=Math.min(Math.abs(t-e),360);return r*n},gPe=(e,t)=>{if(b.isValidElement(e))return b.cloneElement(e,t);if(typeof e=="function")return e(t);var r=un("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return b.createElement(W9,tl({},t,{type:"linear",className:r}))},xPe=(e,t,r)=>{if(b.isValidElement(e))return b.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),b.isValidElement(n)))return n;var a=un("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return b.createElement(iV,tl({},t,{alignmentBaseline:"middle",className:a}),n)};function vPe(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:o,dataKey:l}=r;if(!n||!a||!t)return null;var c=h1(r),d=ma(a,!1),u=ma(o,!1),i=typeof a=="object"&&"offsetRadius"in a&&a.offsetRadius||20,m=t.map((g,x)=>{var v=(g.startAngle+g.endAngle)/2,N=ds(g.cx,g.cy,g.outerRadius+i,v),h=en(en(en(en({},c),g),{},{stroke:"none"},d),{},{index:x,textAnchor:fPe(N.x,g.cx)},N),y=en(en(en(en({},c),g),{},{fill:"none",stroke:g.fill},u),{},{index:x,points:[ds(g.cx,g.cy,g.outerRadius,v),N],key:"line"});return b.createElement(Uf,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(x)},o&&gPe(o,y),xPe(a,h,yn(g,l)))});return b.createElement(Uf,{className:"recharts-pie-labels"},m)}function mV(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a,showLabels:o}=e,l=It(zp),{onMouseEnter:c,onClick:d,onMouseLeave:u}=a,i=GD(a,nPe),m=LRe(c,a.dataKey),g=BRe(u),x=FRe(d,a.dataKey);return t==null?null:b.createElement(b.Fragment,null,t.map((v,N)=>{if(v?.startAngle===0&&v?.endAngle===0&&t.length!==1)return null;var h=r&&String(N)===l,y=l?n:null,w=h?r:y,j=en(en({},v),{},{stroke:v.stroke,tabIndex:-1,[B9]:N,[F9]:a.dataKey});return b.createElement(Uf,tl({tabIndex:-1,className:"recharts-pie-sector"},Qz(i,v,N),{onMouseEnter:m(v,N),onMouseLeave:g(v,N),onClick:x(v,N),key:"sector-".concat(v?.startAngle,"-").concat(v?.endAngle,"-").concat(v.midAngle,"-").concat(N)}),b.createElement(IRe,tl({option:w,isActive:h,shapeType:"sector"},j)))}),b.createElement(vPe,{sectors:t,props:a,showLabels:o}))}function yPe(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:o}=e,{cornerRadius:l,startAngle:c,endAngle:d,dataKey:u,nameKey:i,tooltipType:m}=r,g=Math.abs(r.minAngle),x=pPe(c,d),v=Math.abs(x),N=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,h=n.filter(k=>yn(k,u,0)!==0).length,y=(v>=360?h:h-1)*N,w=v-h*g-y,j=n.reduce((k,A)=>{var T=yn(A,u,0);return k+(Wt(T)?T:0)},0),C;if(j>0){var _;C=n.map((k,A)=>{var T=yn(k,u,0),R=yn(k,i,A),P=hPe(r,o,k),M=(Wt(T)?T:0)/j,I,L=en(en({},k),a&&a[A]&&a[A].props);A?I=_.endAngle+oa(x)*N*(T!==0?1:0):I=c;var B=I+oa(x)*((T!==0?g:0)+M*w),U=(I+B)/2,F=(P.innerRadius+P.outerRadius)/2,H=[{name:R,value:T,payload:L,dataKey:u,type:m}],W=ds(P.cx,P.cy,F,U);return _=en(en(en(en({},r.presentationProps),{},{percent:M,cornerRadius:l,name:R,tooltipPayload:H,midAngle:U,middleRadius:F,tooltipPosition:W},L),P),{},{value:yn(k,u),startAngle:I,endAngle:B,payload:L,paddingAngle:oa(x)*N}),_})}return C}function bPe(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:a,animationBegin:o,animationDuration:l,animationEasing:c,activeShape:d,inactiveShape:u,onAnimationStart:i,onAnimationEnd:m}=t,g=zRe(t,"recharts-pie-"),x=r.current,[v,N]=b.useState(!0),h=b.useCallback(()=>{typeof m=="function"&&m(),N(!1)},[m]),y=b.useCallback(()=>{typeof i=="function"&&i(),N(!0)},[i]);return b.createElement(rPe,{begin:o,duration:l,isActive:a,easing:c,onAnimationStart:y,onAnimationEnd:h,key:g},w=>{var j=[],C=n&&n[0],_=C.startAngle;return n.forEach((k,A)=>{var T=x&&x[A],R=A>0?Ff(k,"paddingAngle",0):0;if(T){var P=n5(T.endAngle-T.startAngle,k.endAngle-k.startAngle),M=en(en({},k),{},{startAngle:_+R,endAngle:_+P(w)+R});j.push(M),_=M.endAngle}else{var{endAngle:I,startAngle:L}=k,B=n5(0,I-L),U=B(w),F=en(en({},k),{},{startAngle:_+R,endAngle:_+U+R});j.push(F),_=F.endAngle}}),r.current=j,b.createElement(Uf,null,b.createElement(mV,{sectors:j,activeShape:d,inactiveShape:u,allOtherPieProps:t,showLabels:!v}))})}function wPe(e){var{sectors:t,isAnimationActive:r,activeShape:n,inactiveShape:a}=e,o=b.useRef(null),l=o.current;return r&&t&&t.length&&(!l||l!==t)?b.createElement(bPe,{props:e,previousSectorsRef:o}):b.createElement(mV,{sectors:t,activeShape:n,inactiveShape:a,allOtherPieProps:e,showLabels:!0})}function SPe(e){var{hide:t,className:r,rootTabIndex:n}=e,a=un("recharts-pie",r);return t?null:b.createElement(Uf,{tabIndex:n,className:a},b.createElement(wPe,e))}var jPe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!j1.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function NPe(e){var{id:t}=e,r=GD(e,sPe),n=b.useMemo(()=>t9(e.children,F1),[e.children]),a=It(o=>bRe(o,t,n));return b.createElement(b.Fragment,null,b.createElement(URe,{fn:uPe,args:en(en({},e),{},{sectors:a})}),b.createElement(SPe,tl({},r,{sectors:a})))}function hV(e){var t=jc(e,jPe),{id:r}=t,n=GD(t,aPe),a=h1(n);return b.createElement(YRe,{id:r,type:"pie"},o=>b.createElement(b.Fragment,null,b.createElement(JRe,{type:"pie",id:o,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a}),b.createElement(dPe,tl({},n,{id:o})),b.createElement(NPe,tl({},n,{id:o})),n.children))}hV.displayName="Pie";var CPe=he([hs],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),EPe=he([CPe,il,ll],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),_Pe=()=>It(EPe),APe={},pV=Zt({name:"errorBars",initialState:APe,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:l7e,removeErrorBar:c7e}=pV.actions,kPe=pV.reducer,DPe=e=>{var{chartData:t}=e,r=Gn(),n=gm();return b.useEffect(()=>n?()=>{}:(r(RL(t)),()=>{r(RL(void 0))}),[t,r,n]),null},lB={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},gV=Zt({name:"brush",initialState:lB,reducers:{setBrushSettings(e,t){return t.payload==null?lB:t.payload}}}),{setBrushSettings:d7e}=gV.actions,TPe=gV.reducer,RPe={dots:[],areas:[],lines:[]},xV=Zt({name:"referenceElements",initialState:RPe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Fi(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Fi(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Fi(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:u7e,removeDot:f7e,addArea:m7e,removeArea:h7e,addLine:p7e,removeLine:g7e}=xV.actions,PPe=xV.reducer,MPe=b.createContext(void 0),OPe=e=>{var{children:t}=e,[r]=b.useState("".concat(Pb("recharts"),"-clip")),n=_Pe();if(n==null)return null;var{x:a,y:o,width:l,height:c}=n;return b.createElement(MPe.Provider,{value:r},b.createElement("defs",null,b.createElement("clipPath",{id:r},b.createElement("rect",{x:a,y:o,height:c,width:l}))),t)};function cB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cB(Object(r),!0).forEach(function(n){IPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IPe(e,t,r){return(t=LPe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LPe(e){var t=BPe(e,"string");return typeof t=="symbol"?t:t+""}function BPe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FPe={xAxis:{},yAxis:{},zAxis:{}},vV=Zt({name:"cartesianAxis",initialState:FPe,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=dB(dB({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:x7e,removeXAxis:v7e,addYAxis:y7e,removeYAxis:b7e,addZAxis:w7e,removeZAxis:S7e,updateYAxisWidth:j7e}=vV.actions,UPe=vV.reducer,$Pe=(e,t)=>t,YD=he([$Pe,Ar,rke,Pn,zq,dl,GDe,hs],QDe),ZD=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},yV=ws("mouseClick"),bV=Zp();bV.startListening({actionCreator:yV,effect:(e,t)=>{var r=e.payload,n=YD(t.getState(),ZD(r));n?.activeIndex!=null&&t.dispatch(tDe({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var qA=ws("mouseMove"),wV=Zp();wV.startListening({actionCreator:qA,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=MD(n,n.tooltip.settings.shared),o=YD(n,ZD(r));a==="axis"&&(o?.activeIndex!=null?t.dispatch(Iq({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(Oq()))}});function HPe(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var uB={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},SV=Zt({name:"rootProps",initialState:uB,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:uB.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),zPe=SV.reducer,{updateOptions:qPe}=SV.actions,jV=Zt({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:VPe}=jV.actions,WPe=jV.reducer,NV=ws("keyDown"),CV=ws("focus"),KD=Zp();KD.startListening({actionCreator:NV,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var l=Number(OD(a,Em(r))),c=dl(r);if(o==="Enter"){var d=nw(r,"axis","hover",String(a.index));t.dispatch(UA({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:d}));return}var u=Wke(r),i=u==="left-to-right"?1:-1,m=o==="ArrowRight"?1:-1,g=l+m*i;if(!(c==null||g>=c.length||g<0)){var x=nw(r,"axis","hover",String(g));t.dispatch(UA({active:!0,activeIndex:g.toString(),activeDataKey:void 0,activeCoordinate:x}))}}}}});KD.startListening({actionCreator:CV,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var o="0",l=nw(r,"axis","hover",String(o));t.dispatch(UA({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:l}))}}}});var Ta=ws("externalEvent"),EV=Zp();EV.startListening({actionCreator:Ta,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:BDe(r),activeDataKey:IDe(r),activeIndex:zp(r),activeLabel:Wq(r),activeTooltipIndex:zp(r),isTooltipActive:FDe(r)};e.payload.handler(n,e.payload.reactEvent)}}});var GPe=he([Cm],e=>e.tooltipItemPayloads),YPe=he([GPe,Ig,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(c=>c.settings.dataKey===n);if(a!=null){var{positions:o}=a;if(o!=null){var l=t(o,r);return l}}}),_V=ws("touchMove"),AV=Zp();AV.startListening({actionCreator:_V,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=MD(n,n.tooltip.settings.shared);if(a==="axis"){var o=YD(n,ZD({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));o?.activeIndex!=null&&t.dispatch(Iq({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var l,c=r.touches[0],d=document.elementFromPoint(c.clientX,c.clientY);if(!d||!d.getAttribute)return;var u=d.getAttribute(B9),i=(l=d.getAttribute(F9))!==null&&l!==void 0?l:void 0,m=YPe(t.getState(),u,i);t.dispatch(Mq({activeDataKey:i,activeIndex:u,activeCoordinate:m}))}}});var ZPe=h8({brush:TPe,cartesianAxis:UPe,chartData:pTe,errorBars:kPe,graphicalItems:QRe,layout:WNe,legend:MCe,options:dTe,polarAxis:mRe,polarOptions:WPe,referenceElements:PPe,rootProps:zPe,tooltip:rDe}),KPe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return E8({reducer:ZPe,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([bV.middleware,wV.middleware,KD.middleware,EV.middleware,AV.middleware]),devTools:{serialize:{replacer:HPe},name:"recharts-".concat(r)}})};function XPe(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=gm(),o=b.useRef(null);if(a)return r;o.current==null&&(o.current=KPe(t,n));var l=Pk;return b.createElement(d8,{context:l,store:o.current},r)}function QPe(e){var{layout:t,width:r,height:n,margin:a}=e,o=Gn(),l=gm();return b.useEffect(()=>{l||(o(zNe(t)),o(qNe({width:r,height:n})),o(HNe(a)))},[o,l,t,r,n,a]),null}function JPe(e){var t=Gn();return b.useEffect(()=>{t(qPe(e))},[t,e]),null}var e4e=["children"];function t4e(e,t){if(e==null)return{};var r,n,a=r4e(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function r4e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ow(){return ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ow.apply(null,arguments)}var n4e={width:"100%",height:"100%"},s4e=b.forwardRef((e,t)=>{var r=$9(),n=H9(),a=V9();if(!Ub(r)||!Ub(n))return null;var{children:o,otherAttributes:l,title:c,desc:d}=e,u,i;return typeof l.tabIndex=="number"?u=l.tabIndex:u=a?0:void 0,typeof l.role=="string"?i=l.role:i=a?"application":void 0,b.createElement(Sk,ow({},l,{title:c,desc:d,role:i,tabIndex:u,width:r,height:n,style:n4e,ref:t}),o)}),a4e=e=>{var{children:t}=e,r=It(w1);if(!r)return null;var{width:n,height:a,y:o,x:l}=r;return b.createElement(Sk,{width:n,height:a,x:l,y:o},t)},fB=b.forwardRef((e,t)=>{var{children:r}=e,n=t4e(e,e4e),a=gm();return a?b.createElement(a4e,null,r):b.createElement(s4e,ow({ref:t},n),r)});function o4e(){var e=Gn(),[t,r]=b.useState(null),n=It(yCe);return b.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),o=a.width/t.offsetWidth;lo(o)&&o!==n&&e(VNe(o))}},[t,e,n]),r}function mB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function i4e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mB(Object(r),!0).forEach(function(n){l4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l4e(e,t,r){return(t=c4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c4e(e){var t=d4e(e,"string");return typeof t=="symbol"?t:t+""}function d4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u4e=b.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:o,onContextMenu:l,onDoubleClick:c,onMouseDown:d,onMouseEnter:u,onMouseLeave:i,onMouseMove:m,onMouseUp:g,onTouchEnd:x,onTouchMove:v,onTouchStart:N,style:h,width:y}=e,w=Gn(),[j,C]=b.useState(null),[_,k]=b.useState(null);vTe();var A=o4e(),T=b.useCallback(z=>{A(z),typeof t=="function"&&t(z),C(z),k(z)},[A,t,C,k]),R=b.useCallback(z=>{w(yV(z)),w(Ta({handler:o,reactEvent:z}))},[w,o]),P=b.useCallback(z=>{w(qA(z)),w(Ta({handler:u,reactEvent:z}))},[w,u]),M=b.useCallback(z=>{w(Oq()),w(Ta({handler:i,reactEvent:z}))},[w,i]),I=b.useCallback(z=>{w(qA(z)),w(Ta({handler:m,reactEvent:z}))},[w,m]),L=b.useCallback(()=>{w(CV())},[w]),B=b.useCallback(z=>{w(NV(z.key))},[w]),U=b.useCallback(z=>{w(Ta({handler:l,reactEvent:z}))},[w,l]),F=b.useCallback(z=>{w(Ta({handler:c,reactEvent:z}))},[w,c]),H=b.useCallback(z=>{w(Ta({handler:d,reactEvent:z}))},[w,d]),W=b.useCallback(z=>{w(Ta({handler:g,reactEvent:z}))},[w,g]),J=b.useCallback(z=>{w(Ta({handler:N,reactEvent:z}))},[w,N]),q=b.useCallback(z=>{w(_V(z)),w(Ta({handler:v,reactEvent:z}))},[w,v]),G=b.useCallback(z=>{w(Ta({handler:x,reactEvent:z}))},[w,x]);return b.createElement(Qq.Provider,{value:j},b.createElement(r9.Provider,{value:_},b.createElement("div",{className:un("recharts-wrapper",n),style:i4e({position:"relative",cursor:"default",width:y,height:a},h),onClick:R,onContextMenu:U,onDoubleClick:F,onFocus:L,onKeyDown:B,onMouseDown:H,onMouseEnter:P,onMouseLeave:M,onMouseMove:I,onMouseUp:W,onTouchEnd:G,onTouchMove:q,onTouchStart:J,ref:T},r)))}),f4e=["children","className","width","height","style","compact","title","desc"];function m4e(e,t){if(e==null)return{};var r,n,a=h4e(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function h4e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var p4e=b.forwardRef((e,t)=>{var{children:r,className:n,width:a,height:o,style:l,compact:c,title:d,desc:u}=e,i=m4e(e,f4e),m=h1(i);return c?b.createElement(fB,{otherAttributes:m,title:d,desc:u},r):b.createElement(u4e,{className:n,style:l,width:a,height:o,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},b.createElement(fB,{otherAttributes:m,title:d,desc:u,ref:t},b.createElement(OPe,null,r)))});function g4e(e){var t=Gn();return b.useEffect(()=>{t(VPe(e))},[t,e]),null}var x4e=["width","height","layout"];function VA(){return VA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VA.apply(null,arguments)}function v4e(e,t){if(e==null)return{};var r,n,a=y4e(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function y4e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var b4e={top:5,right:5,bottom:5,left:5},w4e={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:b4e,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},S4e=b.forwardRef(function(t,r){var n,a=jc(t.categoricalChartProps,w4e),{width:o,height:l,layout:c}=a,d=v4e(a,x4e);if(!Ub(o)||!Ub(l))return null;var{chartName:u,defaultTooltipEventType:i,validateTooltipEventTypes:m,tooltipPayloadSearcher:g}=t,x={chartName:u,defaultTooltipEventType:i,validateTooltipEventTypes:m,tooltipPayloadSearcher:g,eventEmitter:void 0};return b.createElement(XPe,{preloadedState:{options:x},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:u},b.createElement(DPe,{chartData:a.data}),b.createElement(QPe,{width:o,height:l,layout:c,margin:a.margin}),b.createElement(JPe,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),b.createElement(g4e,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),b.createElement(p4e,VA({width:o,height:l},d,{ref:r})))}),j4e=["item"],N4e={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},C4e=b.forwardRef((e,t)=>{var r=jc(e,N4e);return b.createElement(S4e,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:j4e,tooltipPayloadSearcher:lTe,categoricalChartProps:r,ref:t})});const $l={DoorDash:"#E4572E",UberEats:"#2E933C",GrubHub:"#D81B60",Phone:"#1E88E5",Call_Center:"#00897B",Website:"#F9A825",Mobile:"#8E24AA",Drive_Thru:"#6D4C41"},E4e=({title:e="Channel Sales",channels:t,className:r})=>{const{dailyRawData:n,weeklyRawData:a,isLoading:o,error:l}=m1(),c=Ko(),d=b.useMemo(()=>{if(!n)return[];const x=[];if(n.DoorDash_Sales!==void 0){const v=n.DoorDash_Sales||0,N=a?.DoorDash_Sales||0;x.push({id:"doordash",name:"DoorDash",daily:`$${v.toFixed(2)}`,weekly:`$${N.toFixed(2)}`})}if(n.UberEats_Sales!==void 0){const v=n.UberEats_Sales||0,N=a?.UberEats_Sales||0;x.push({id:"ubereats",name:"UberEats",daily:`$${v.toFixed(2)}`,weekly:`$${N.toFixed(2)}`})}if(n.GrubHub_Sales!==void 0){const v=n.GrubHub_Sales||0,N=a?.GrubHub_Sales||0;x.push({id:"grubhub",name:"GrubHub",daily:`$${v.toFixed(2)}`,weekly:`$${N.toFixed(2)}`})}if(n.Phone!==void 0){const v=n.Phone||0,N=a?.Phone||0;x.push({id:"phone",name:"Phone",daily:`$${v.toFixed(2)}`,weekly:`$${N.toFixed(2)}`})}if(n.Call_Center_Agent!==void 0){const v=n.Call_Center_Agent||0,N=a?.Call_Center_Agent||0;x.push({id:"call_center",name:"Call Center",daily:`$${v.toFixed(2)}`,weekly:`$${N.toFixed(2)}`})}if(n.Website!==void 0){const v=n.Website||0,N=a?.Website||0;x.push({id:"website",name:"Website",daily:`$${v.toFixed(2)}`,weekly:`$${N.toFixed(2)}`})}if(n.Mobile!==void 0){const v=n.Mobile||0,N=a?.Mobile||0;x.push({id:"mobile",name:"Mobile",daily:`$${v.toFixed(2)}`,weekly:`$${N.toFixed(2)}`})}if(n.Drive_Thru_Sales!==void 0){const v=n.Drive_Thru_Sales||0,N=a?.Drive_Thru_Sales||0;x.push({id:"drive_thru",name:"Drive Thru",daily:`$${v.toFixed(2)}`,weekly:`$${N.toFixed(2)}`})}return x},[n,a]),u=t||d,i=b.useMemo(()=>{if(!n)return[];const x=[{name:"DoorDash",value:n.DoorDash_Sales||0,fill:$l.DoorDash},{name:"UberEats",value:n.UberEats_Sales||0,fill:$l.UberEats},{name:"GrubHub",value:n.GrubHub_Sales||0,fill:$l.GrubHub},{name:"Phone",value:n.Phone||0,fill:$l.Phone},{name:"Call Center",value:n.Call_Center_Agent||0,fill:$l.Call_Center},{name:"Website",value:n.Website||0,fill:$l.Website},{name:"Mobile",value:n.Mobile||0,fill:$l.Mobile}];return n.Drive_Thru_Sales!==void 0&&x.push({name:"Drive Thru",value:n.Drive_Thru_Sales||0,fill:$l.Drive_Thru}),x.filter(v=>v.value>0)},[n]),m=({cx:x,cy:v,midAngle:N,innerRadius:h,outerRadius:y,percent:w})=>{if(w<.1)return null;const j=Math.PI/180,C=h+(y-h)*.5,_=x+C*Math.cos(-N*j),k=v+C*Math.sin(-N*j);return s.jsx("text",{x:_,y:k,fill:"white",textAnchor:_>x?"start":"end",dominantBaseline:"central",fontSize:12,fontWeight:"bold",children:`${(w*100).toFixed(0)}%`})},g=({active:x,payload:v})=>{if(x&&v&&v.length){const N=v[0];return s.jsxs("div",{className:"bg-white p-3 border border-gray-300 rounded shadow-lg",children:[s.jsx("p",{className:"font-semibold text-black",children:N.name}),s.jsxs("p",{className:"text-blue-600",children:["Sales: $",N.value?.toLocaleString()||0]}),s.jsxs("p",{className:"text-gray-600",children:[(N.value/i.reduce((h,y)=>h+y.value,0)*100).toFixed(1),"%"]})]})}return null};return s.jsxs("div",{className:ee("w-full grid grid-cols-1 gap-8 p-2 overflow-hidden",c?"grid-cols-1":"grid-cols-2"),children:[s.jsxs(be,{className:ee("shadow-realistic-lg flex-shrink-0 overflow-hidden","w-full",r),children:[s.jsx(Te,{className:ee("bg-channel-header text-channel-header-foreground rounded-t-lg",c?"p-3":"p-6"),children:s.jsx(Ue,{className:ee("font-bold text-center",c?"text-base":"text-lg md:text-xl"),children:e})}),s.jsx(Ne,{className:"p-0",children:o?s.jsx("div",{className:"flex items-center justify-center h-48",children:s.jsx("div",{className:"text-gray-500",children:"Loading channel sales data..."})}):l?s.jsx("div",{className:"flex items-center justify-center h-48",children:s.jsx("div",{className:"text-red-500",children:"Error loading channel sales data"})}):u.length===0?s.jsx("div",{className:"flex items-center justify-center h-48",children:s.jsx("div",{className:"text-gray-500",children:"No channel sales data available"})}):s.jsx(VSe,{channels:u})})]}),s.jsxs(be,{className:ee("shadow-realistic-lg flex-1 overflow-hidden","w-full"),children:[s.jsx(Te,{className:ee("bg-channel-header text-channel-header-foreground rounded-t-lg",c?"p-3":"p-6"),children:s.jsx(Ue,{className:ee("font-bold text-center",c?"text-base":"text-lg md:text-xl"),children:"Sales Distribution"})}),s.jsx(Ne,{className:ee("p-4 overflow-hidden",c?"h-64":"h-96 "),children:o?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("div",{className:"text-gray-500",children:"Loading sales data..."})}):l?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("div",{className:"text-red-500",children:"Error loading sales data"})}):i.length===0?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("div",{className:"text-gray-500",children:"No sales data available"})}):s.jsx(ITe,{width:"100%",height:"100%",children:s.jsxs(C4e,{children:[s.jsx(hV,{data:i,cx:"50%",cy:"50%",labelLine:!1,label:m,outerRadius:c?60:90,fill:"#8884d8",dataKey:"value",children:i.map((x,v)=>s.jsx(F1,{fill:x.fill},`cell-${v}`))}),s.jsx(ETe,{content:s.jsx(g,{})}),s.jsx(S1,{})]})})})]})]})};function _4e(e,t,r="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:r}).format(t).split(/\s/g).slice(2).join(" ")}const A4e={},mp={};function md(e,t){try{const n=(A4e[e]||=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format)(t).split("GMT")[1];return n in mp?mp[n]:hB(n,n.split(":"))}catch{if(e in mp)return mp[e];const r=e?.match(k4e);return r?hB(e,r.slice(1)):NaN}}const k4e=/([+-]\d\d):?(\d\d)?/;function hB(e,t){const r=+(t[0]||0),n=+(t[1]||0),a=+(t[2]||0)/60;return mp[e]=r*60+n>0?r*60+n+a:r*60-n-a}class Uo extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(md(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),kV(this),WA(this)):this.setTime(Date.now())}static tz(t,...r){return r.length?new Uo(...r,t):new Uo(Date.now(),t)}withTimeZone(t){return new Uo(+this,t)}getTimezoneOffset(){const t=-md(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),WA(this),+this}[Symbol.for("constructDateFrom")](t){return new Uo(+new Date(t),this.timeZone)}}const pB=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!pB.test(e))return;const t=e.replace(pB,"$1UTC");Uo.prototype[t]&&(e.startsWith("get")?Uo.prototype[e]=function(){return this.internal[t]()}:(Uo.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),D4e(this),+this},Uo.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),WA(this),+this}))});function WA(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-md(e.timeZone,e)*60))}function D4e(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),kV(e)}function kV(e){const t=md(e.timeZone,e),r=t>0?Math.floor(t):Math.ceil(t),n=new Date(+e);n.setUTCHours(n.getUTCHours()-1);const a=-new Date(+e).getTimezoneOffset(),o=-new Date(+n).getTimezoneOffset(),l=a-o,c=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();l&&c&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+l);const d=a-r;d&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+d);const u=new Date(+e);u.setUTCSeconds(0);const i=a>0?u.getSeconds():(u.getSeconds()-60)%60,m=Math.round(-(md(e.timeZone,e)*60))%60;(m||i)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+m),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+m+i));const g=md(e.timeZone,e),x=g>0?Math.floor(g):Math.ceil(g),N=-new Date(+e).getTimezoneOffset()-x,h=x!==r,y=N-d;if(h&&y){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+y);const w=md(e.timeZone,e),j=w>0?Math.floor(w):Math.ceil(w),C=x-j;C&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+C),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+C))}}class as extends Uo{static tz(t,...r){return r.length?new as(...r,t):new as(Date.now(),t)}toISOString(){const[t,r,n]=this.tzComponents(),a=`${t}${r}:${n}`;return this.internal.toISOString().slice(0,-1)+a}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,r,n,a]=this.internal.toUTCString().split(" ");return`${t?.slice(0,-1)} ${n} ${r} ${a}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[r,n,a]=this.tzComponents();return`${t} GMT${r}${n}${a} (${_4e(this.timeZone,this)})`}toLocaleString(t,r){return Date.prototype.toLocaleString.call(this,t,{...r,timeZone:r?.timeZone||this.timeZone})}toLocaleDateString(t,r){return Date.prototype.toLocaleDateString.call(this,t,{...r,timeZone:r?.timeZone||this.timeZone})}toLocaleTimeString(t,r){return Date.prototype.toLocaleTimeString.call(this,t,{...r,timeZone:r?.timeZone||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),r=t>0?"-":"+",n=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),a=String(Math.abs(t)%60).padStart(2,"0");return[r,n,a]}withTimeZone(t){return new as(+this,t)}[Symbol.for("constructDateFrom")](t){return new as(+new Date(t),this.timeZone)}}const DV=6048e5,T4e=864e5,gB=Symbol.for("constructDateFrom");function Tn(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&gB in e?e[gB](t):e instanceof Date?new e.constructor(t):new Date(t)}function yr(e,t){return Tn(t||e,e)}function TV(e,t,r){const n=yr(e,r?.in);return isNaN(t)?Tn(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function RV(e,t,r){const n=yr(e,r?.in);if(isNaN(t))return Tn(e,NaN);if(!t)return n;const a=n.getDate(),o=Tn(e,n.getTime());o.setMonth(n.getMonth()+t+1,0);const l=o.getDate();return a>=l?o:(n.setFullYear(o.getFullYear(),o.getMonth(),a),n)}let R4e={};function Bg(){return R4e}function Gf(e,t){const r=Bg(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=yr(e,t?.in),o=a.getDay(),l=(o<n?7:0)+o-n;return a.setDate(a.getDate()-l),a.setHours(0,0,0,0),a}function Vp(e,t){return Gf(e,{...t,weekStartsOn:1})}function PV(e,t){const r=yr(e,t?.in),n=r.getFullYear(),a=Tn(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const o=Vp(a),l=Tn(r,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);const c=Vp(l);return r.getTime()>=o.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function xB(e){const t=yr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function _m(e,...t){const r=Tn.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function Wp(e,t){const r=yr(e,t?.in);return r.setHours(0,0,0,0),r}function MV(e,t,r){const[n,a]=_m(r?.in,e,t),o=Wp(n),l=Wp(a),c=+o-xB(o),d=+l-xB(l);return Math.round((c-d)/T4e)}function P4e(e,t){const r=PV(e,t),n=Tn(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Vp(n)}function M4e(e,t,r){return TV(e,t*7,r)}function O4e(e,t,r){return RV(e,t*12,r)}function I4e(e,t){let r,n=t?.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=Tn.bind(null,a));const o=yr(a,n);(!r||r<o||isNaN(+o))&&(r=o)}),Tn(n,r||NaN)}function L4e(e,t){let r,n=t?.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=Tn.bind(null,a));const o=yr(a,n);(!r||r>o||isNaN(+o))&&(r=o)}),Tn(n,r||NaN)}function B4e(e,t,r){const[n,a]=_m(r?.in,e,t);return+Wp(n)==+Wp(a)}function OV(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function F4e(e){return!(!OV(e)&&typeof e!="number"||isNaN(+yr(e)))}function U4e(e,t,r){const[n,a]=_m(r?.in,e,t),o=n.getFullYear()-a.getFullYear(),l=n.getMonth()-a.getMonth();return o*12+l}function $4e(e,t){const r=yr(e,t?.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function H4e(e,t){const[r,n]=_m(e,t.start,t.end);return{start:r,end:n}}function z4e(e,t){const{start:r,end:n}=H4e(t?.in,e);let a=+r>+n;const o=a?+r:+n,l=a?n:r;l.setHours(0,0,0,0),l.setDate(1);let c=1;const d=[];for(;+l<=o;)d.push(Tn(r,l)),l.setMonth(l.getMonth()+c);return a?d.reverse():d}function q4e(e,t){const r=yr(e,t?.in);return r.setDate(1),r.setHours(0,0,0,0),r}function V4e(e,t){const r=yr(e,t?.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function IV(e,t){const r=yr(e,t?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function LV(e,t){const r=Bg(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=yr(e,t?.in),o=a.getDay(),l=(o<n?-7:0)+6-(o-n);return a.setDate(a.getDate()+l),a.setHours(23,59,59,999),a}function W4e(e,t){return LV(e,{...t,weekStartsOn:1})}const G4e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Y4e=(e,t,r)=>{let n;const a=G4e[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function JE(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Z4e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},K4e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},X4e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Q4e={date:JE({formats:Z4e,defaultWidth:"full"}),time:JE({formats:K4e,defaultWidth:"full"}),dateTime:JE({formats:X4e,defaultWidth:"full"})},J4e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},eMe=(e,t,r,n)=>J4e[e];function sp(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,c=r?.width?String(r.width):l;a=e.formattingValues[c]||e.formattingValues[l]}else{const l=e.defaultWidth,c=r?.width?String(r.width):e.defaultWidth;a=e.values[c]||e.values[l]}const o=e.argumentCallback?e.argumentCallback(t):t;return a[o]}}const tMe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},rMe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},nMe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},sMe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},aMe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},oMe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},iMe=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},lMe={ordinalNumber:iMe,era:sp({values:tMe,defaultWidth:"wide"}),quarter:sp({values:rMe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:sp({values:nMe,defaultWidth:"wide"}),day:sp({values:sMe,defaultWidth:"wide"}),dayPeriod:sp({values:aMe,defaultWidth:"wide",formattingValues:oMe,defaultFormattingWidth:"wide"})};function ap(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(a);if(!o)return null;const l=o[0],c=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(c)?dMe(c,m=>m.test(l)):cMe(c,m=>m.test(l));let u;u=e.valueCallback?e.valueCallback(d):d,u=r.valueCallback?r.valueCallback(u):u;const i=t.slice(l.length);return{value:u,rest:i}}}function cMe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function dMe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function uMe(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],o=t.match(e.parsePattern);if(!o)return null;let l=e.valueCallback?e.valueCallback(o[0]):o[0];l=r.valueCallback?r.valueCallback(l):l;const c=t.slice(a.length);return{value:l,rest:c}}}const fMe=/^(\d+)(th|st|nd|rd)?/i,mMe=/\d+/i,hMe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},pMe={any:[/^b/i,/^(a|c)/i]},gMe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},xMe={any:[/1/i,/2/i,/3/i,/4/i]},vMe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},yMe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},bMe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},wMe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},SMe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},jMe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},NMe={ordinalNumber:uMe({matchPattern:fMe,parsePattern:mMe,valueCallback:e=>parseInt(e,10)}),era:ap({matchPatterns:hMe,defaultMatchWidth:"wide",parsePatterns:pMe,defaultParseWidth:"any"}),quarter:ap({matchPatterns:gMe,defaultMatchWidth:"wide",parsePatterns:xMe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ap({matchPatterns:vMe,defaultMatchWidth:"wide",parsePatterns:yMe,defaultParseWidth:"any"}),day:ap({matchPatterns:bMe,defaultMatchWidth:"wide",parsePatterns:wMe,defaultParseWidth:"any"}),dayPeriod:ap({matchPatterns:SMe,defaultMatchWidth:"any",parsePatterns:jMe,defaultParseWidth:"any"})},XD={code:"en-US",formatDistance:Y4e,formatLong:Q4e,formatRelative:eMe,localize:lMe,match:NMe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function CMe(e,t){const r=yr(e,t?.in);return MV(r,IV(r))+1}function BV(e,t){const r=yr(e,t?.in),n=+Vp(r)-+P4e(r);return Math.round(n/DV)+1}function FV(e,t){const r=yr(e,t?.in),n=r.getFullYear(),a=Bg(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,l=Tn(t?.in||e,0);l.setFullYear(n+1,0,o),l.setHours(0,0,0,0);const c=Gf(l,t),d=Tn(t?.in||e,0);d.setFullYear(n,0,o),d.setHours(0,0,0,0);const u=Gf(d,t);return+r>=+c?n+1:+r>=+u?n:n-1}function EMe(e,t){const r=Bg(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=FV(e,t),o=Tn(t?.in||e,0);return o.setFullYear(a,0,n),o.setHours(0,0,0,0),Gf(o,t)}function UV(e,t){const r=yr(e,t?.in),n=+Gf(r,t)-+EMe(r,t);return Math.round(n/DV)+1}function ur(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Hl={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return ur(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):ur(r+1,2)},d(e,t){return ur(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return ur(e.getHours()%12||12,t.length)},H(e,t){return ur(e.getHours(),t.length)},m(e,t){return ur(e.getMinutes(),t.length)},s(e,t){return ur(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return ur(a,t.length)}},ef={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},vB={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Hl.y(e,t)},Y:function(e,t,r,n){const a=FV(e,n),o=a>0?a:1-a;if(t==="YY"){const l=o%100;return ur(l,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):ur(o,t.length)},R:function(e,t){const r=PV(e);return ur(r,t.length)},u:function(e,t){const r=e.getFullYear();return ur(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return ur(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return ur(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Hl.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return ur(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=UV(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):ur(a,t.length)},I:function(e,t,r){const n=BV(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):ur(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Hl.d(e,t)},D:function(e,t,r){const n=CMe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ur(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return ur(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return ur(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return ur(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=ef.noon:n===0?a=ef.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=ef.evening:n>=12?a=ef.afternoon:n>=4?a=ef.morning:a=ef.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Hl.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Hl.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ur(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):ur(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Hl.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Hl.s(e,t)},S:function(e,t){return Hl.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return bB(n);case"XXXX":case"XX":return rd(n);case"XXXXX":case"XXX":default:return rd(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return bB(n);case"xxxx":case"xx":return rd(n);case"xxxxx":case"xxx":default:return rd(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+yB(n,":");case"OOOO":default:return"GMT"+rd(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+yB(n,":");case"zzzz":default:return"GMT"+rd(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return ur(n,t.length)},T:function(e,t,r){return ur(+e,t.length)}};function yB(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),o=n%60;return o===0?r+String(a):r+String(a)+t+ur(o,2)}function bB(e,t){return e%60===0?(e>0?"-":"+")+ur(Math.abs(e)/60,2):rd(e,t)}function rd(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=ur(Math.trunc(n/60),2),o=ur(n%60,2);return r+a+t+o}const wB=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},$V=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},_Me=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return wB(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",wB(n,t)).replace("{{time}}",$V(a,t))},AMe={p:$V,P:_Me},kMe=/^D+$/,DMe=/^Y+$/,TMe=["D","DD","YY","YYYY"];function RMe(e){return kMe.test(e)}function PMe(e){return DMe.test(e)}function MMe(e,t,r){const n=OMe(e,t,r);if(console.warn(n),TMe.includes(e))throw new RangeError(n)}function OMe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const IMe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,LMe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,BMe=/^'([^]*?)'?$/,FMe=/''/g,UMe=/[a-zA-Z]/;function $Me(e,t,r){const n=Bg(),a=r?.locale??n.locale??XD,o=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,l=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,c=yr(e,r?.in);if(!F4e(c))throw new RangeError("Invalid time value");let d=t.match(LMe).map(i=>{const m=i[0];if(m==="p"||m==="P"){const g=AMe[m];return g(i,a.formatLong)}return i}).join("").match(IMe).map(i=>{if(i==="''")return{isToken:!1,value:"'"};const m=i[0];if(m==="'")return{isToken:!1,value:HMe(i)};if(vB[m])return{isToken:!0,value:i};if(m.match(UMe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:i}});a.localize.preprocessor&&(d=a.localize.preprocessor(c,d));const u={firstWeekContainsDate:o,weekStartsOn:l,locale:a};return d.map(i=>{if(!i.isToken)return i.value;const m=i.value;(!r?.useAdditionalWeekYearTokens&&PMe(m)||!r?.useAdditionalDayOfYearTokens&&RMe(m))&&MMe(m,t,String(e));const g=vB[m[0]];return g(c,m,a.localize,u)}).join("")}function HMe(e){const t=e.match(BMe);return t?t[1].replace(FMe,"'"):e}function zMe(e,t){const r=yr(e,t?.in),n=r.getFullYear(),a=r.getMonth(),o=Tn(r,0);return o.setFullYear(n,a+1,0),o.setHours(0,0,0,0),o.getDate()}function qMe(e,t){return yr(e,t?.in).getMonth()}function VMe(e,t){return yr(e,t?.in).getFullYear()}function WMe(e,t){return+yr(e)>+yr(t)}function GMe(e,t){return+yr(e)<+yr(t)}function YMe(e,t,r){const[n,a]=_m(r?.in,e,t);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function ZMe(e,t,r){const[n,a]=_m(r?.in,e,t);return n.getFullYear()===a.getFullYear()}function KMe(e,t,r){const n=yr(e,r?.in),a=n.getFullYear(),o=n.getDate(),l=Tn(e,0);l.setFullYear(a,t,15),l.setHours(0,0,0,0);const c=zMe(l);return n.setMonth(t,Math.min(o,c)),n}function XMe(e,t,r){const n=yr(e,r?.in);return isNaN(+n)?Tn(e,NaN):(n.setFullYear(t),n)}const SB=5,QMe=4;function JMe(e,t){const r=t.startOfMonth(e),n=r.getDay()>0?r.getDay():7,a=t.addDays(e,-n+1),o=t.addDays(a,SB*7-1);return t.getMonth(e)===t.getMonth(o)?SB:QMe}function HV(e,t){const r=t.startOfMonth(e),n=r.getDay();return n===1?r:n===0?t.addDays(r,-1*6):t.addDays(r,-1*(n-1))}function eOe(e,t){const r=HV(e,t),n=JMe(e,t);return t.addDays(r,n*7-1)}class ha{constructor(t,r){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?as.tz(this.options.timeZone):new this.Date,this.newDate=(n,a,o)=>this.overrides?.newDate?this.overrides.newDate(n,a,o):this.options.timeZone?new as(n,a,o,this.options.timeZone):new Date(n,a,o),this.addDays=(n,a)=>this.overrides?.addDays?this.overrides.addDays(n,a):TV(n,a),this.addMonths=(n,a)=>this.overrides?.addMonths?this.overrides.addMonths(n,a):RV(n,a),this.addWeeks=(n,a)=>this.overrides?.addWeeks?this.overrides.addWeeks(n,a):M4e(n,a),this.addYears=(n,a)=>this.overrides?.addYears?this.overrides.addYears(n,a):O4e(n,a),this.differenceInCalendarDays=(n,a)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(n,a):MV(n,a),this.differenceInCalendarMonths=(n,a)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(n,a):U4e(n,a),this.eachMonthOfInterval=n=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(n):z4e(n),this.endOfBroadcastWeek=n=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(n):eOe(n,this),this.endOfISOWeek=n=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(n):W4e(n),this.endOfMonth=n=>this.overrides?.endOfMonth?this.overrides.endOfMonth(n):$4e(n),this.endOfWeek=(n,a)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(n,a):LV(n,this.options),this.endOfYear=n=>this.overrides?.endOfYear?this.overrides.endOfYear(n):V4e(n),this.format=(n,a,o)=>{const l=this.overrides?.format?this.overrides.format(n,a,this.options):$Me(n,a,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(l):l},this.getISOWeek=n=>this.overrides?.getISOWeek?this.overrides.getISOWeek(n):BV(n),this.getMonth=(n,a)=>this.overrides?.getMonth?this.overrides.getMonth(n,this.options):qMe(n,this.options),this.getYear=(n,a)=>this.overrides?.getYear?this.overrides.getYear(n,this.options):VMe(n,this.options),this.getWeek=(n,a)=>this.overrides?.getWeek?this.overrides.getWeek(n,this.options):UV(n,this.options),this.isAfter=(n,a)=>this.overrides?.isAfter?this.overrides.isAfter(n,a):WMe(n,a),this.isBefore=(n,a)=>this.overrides?.isBefore?this.overrides.isBefore(n,a):GMe(n,a),this.isDate=n=>this.overrides?.isDate?this.overrides.isDate(n):OV(n),this.isSameDay=(n,a)=>this.overrides?.isSameDay?this.overrides.isSameDay(n,a):B4e(n,a),this.isSameMonth=(n,a)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(n,a):YMe(n,a),this.isSameYear=(n,a)=>this.overrides?.isSameYear?this.overrides.isSameYear(n,a):ZMe(n,a),this.max=n=>this.overrides?.max?this.overrides.max(n):I4e(n),this.min=n=>this.overrides?.min?this.overrides.min(n):L4e(n),this.setMonth=(n,a)=>this.overrides?.setMonth?this.overrides.setMonth(n,a):KMe(n,a),this.setYear=(n,a)=>this.overrides?.setYear?this.overrides.setYear(n,a):XMe(n,a),this.startOfBroadcastWeek=(n,a)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(n,this):HV(n,this),this.startOfDay=n=>this.overrides?.startOfDay?this.overrides.startOfDay(n):Wp(n),this.startOfISOWeek=n=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(n):Vp(n),this.startOfMonth=n=>this.overrides?.startOfMonth?this.overrides.startOfMonth(n):q4e(n),this.startOfWeek=(n,a)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(n,this.options):Gf(n,this.options),this.startOfYear=n=>this.overrides?.startOfYear?this.overrides.startOfYear(n):IV(n),this.options={locale:XD,...t},this.overrides=r}getDigitMap(){const{numerals:t="latn"}=this.options,r=new Intl.NumberFormat("en-US",{numberingSystem:t}),n={};for(let a=0;a<10;a++)n[a.toString()]=r.format(a);return n}replaceDigits(t){const r=this.getDigitMap();return t.replace(/\d/g,n=>r[n]||n)}formatNumber(t){return this.replaceDigits(t.toString())}getMonthYearOrder(){const t=this.options.locale?.code;return t&&ha.yearFirstLocales.has(t)?"year-first":"month-first"}formatMonthYear(t){const{locale:r,timeZone:n,numerals:a}=this.options,o=r?.code;if(o&&ha.yearFirstLocales.has(o))try{return new Intl.DateTimeFormat(o,{month:"long",year:"numeric",timeZone:n,numberingSystem:a}).format(t)}catch{}const l=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(t,l)}}ha.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const Jo=new ha;class zV{constructor(t,r,n=Jo){this.date=t,this.displayMonth=r,this.outside=!!(r&&!n.isSameMonth(t,r)),this.dateLib=n}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class tOe{constructor(t,r){this.date=t,this.weeks=r}}class rOe{constructor(t,r){this.days=r,this.weekNumber=t}}function nOe(e){return pe.createElement("button",{...e})}function sOe(e){return pe.createElement("span",{...e})}function aOe(e){const{size:t=24,orientation:r="left",className:n}=e;return pe.createElement("svg",{className:n,width:t,height:t,viewBox:"0 0 24 24"},r==="up"&&pe.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),r==="down"&&pe.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),r==="left"&&pe.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),r==="right"&&pe.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function oOe(e){const{day:t,modifiers:r,...n}=e;return pe.createElement("td",{...n})}function iOe(e){const{day:t,modifiers:r,...n}=e,a=pe.useRef(null);return pe.useEffect(()=>{r.focused&&a.current?.focus()},[r.focused]),pe.createElement("button",{ref:a,...n})}var dt;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(dt||(dt={}));var Hr;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(Hr||(Hr={}));var no;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(no||(no={}));var ea;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(ea||(ea={}));function lOe(e){const{options:t,className:r,components:n,classNames:a,...o}=e,l=[a[dt.Dropdown],r].join(" "),c=t?.find(({value:d})=>d===o.value);return pe.createElement("span",{"data-disabled":o.disabled,className:a[dt.DropdownRoot]},pe.createElement(n.Select,{className:l,...o},t?.map(({value:d,label:u,disabled:i})=>pe.createElement(n.Option,{key:d,value:d,disabled:i},u))),pe.createElement("span",{className:a[dt.CaptionLabel],"aria-hidden":!0},c?.label,pe.createElement(n.Chevron,{orientation:"down",size:18,className:a[dt.Chevron]})))}function cOe(e){return pe.createElement("div",{...e})}function dOe(e){return pe.createElement("div",{...e})}function uOe(e){const{calendarMonth:t,displayIndex:r,...n}=e;return pe.createElement("div",{...n},e.children)}function fOe(e){const{calendarMonth:t,displayIndex:r,...n}=e;return pe.createElement("div",{...n})}function mOe(e){return pe.createElement("table",{...e})}function hOe(e){return pe.createElement("div",{...e})}const qV=b.createContext(void 0);function Fg(){const e=b.useContext(qV);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function pOe(e){const{components:t}=Fg();return pe.createElement(t.Dropdown,{...e})}function gOe(e){const{onPreviousClick:t,onNextClick:r,previousMonth:n,nextMonth:a,...o}=e,{components:l,classNames:c,labels:{labelPrevious:d,labelNext:u}}=Fg(),i=b.useCallback(g=>{a&&r?.(g)},[a,r]),m=b.useCallback(g=>{n&&t?.(g)},[n,t]);return pe.createElement("nav",{...o},pe.createElement(l.PreviousMonthButton,{type:"button",className:c[dt.PreviousMonthButton],tabIndex:n?void 0:-1,"aria-disabled":n?void 0:!0,"aria-label":d(n),onClick:m},pe.createElement(l.Chevron,{disabled:n?void 0:!0,className:c[dt.Chevron],orientation:"left"})),pe.createElement(l.NextMonthButton,{type:"button",className:c[dt.NextMonthButton],tabIndex:a?void 0:-1,"aria-disabled":a?void 0:!0,"aria-label":u(a),onClick:i},pe.createElement(l.Chevron,{disabled:a?void 0:!0,orientation:"right",className:c[dt.Chevron]})))}function xOe(e){const{components:t}=Fg();return pe.createElement(t.Button,{...e})}function vOe(e){return pe.createElement("option",{...e})}function yOe(e){const{components:t}=Fg();return pe.createElement(t.Button,{...e})}function bOe(e){const{rootRef:t,...r}=e;return pe.createElement("div",{...r,ref:t})}function wOe(e){return pe.createElement("select",{...e})}function SOe(e){const{week:t,...r}=e;return pe.createElement("tr",{...r})}function jOe(e){return pe.createElement("th",{...e})}function NOe(e){return pe.createElement("thead",{"aria-hidden":!0},pe.createElement("tr",{...e}))}function COe(e){const{week:t,...r}=e;return pe.createElement("th",{...r})}function EOe(e){return pe.createElement("th",{...e})}function _Oe(e){return pe.createElement("tbody",{...e})}function AOe(e){const{components:t}=Fg();return pe.createElement(t.Dropdown,{...e})}const kOe=Object.freeze(Object.defineProperty({__proto__:null,Button:nOe,CaptionLabel:sOe,Chevron:aOe,Day:oOe,DayButton:iOe,Dropdown:lOe,DropdownNav:cOe,Footer:dOe,Month:uOe,MonthCaption:fOe,MonthGrid:mOe,Months:hOe,MonthsDropdown:pOe,Nav:gOe,NextMonthButton:xOe,Option:vOe,PreviousMonthButton:yOe,Root:bOe,Select:wOe,Week:SOe,WeekNumber:COe,WeekNumberHeader:EOe,Weekday:jOe,Weekdays:NOe,Weeks:_Oe,YearsDropdown:AOe},Symbol.toStringTag,{value:"Module"}));function Li(e,t,r=!1,n=Jo){let{from:a,to:o}=e;const{differenceInCalendarDays:l,isSameDay:c}=n;return a&&o?(l(o,a)<0&&([a,o]=[o,a]),l(t,a)>=(r?1:0)&&l(o,t)>=(r?1:0)):!r&&o?c(o,t):!r&&a?c(a,t):!1}function VV(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function QD(e){return!!(e&&typeof e=="object"&&"from"in e)}function WV(e){return!!(e&&typeof e=="object"&&"after"in e)}function GV(e){return!!(e&&typeof e=="object"&&"before"in e)}function YV(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function ZV(e,t){return Array.isArray(e)&&e.every(t.isDate)}function Bi(e,t,r=Jo){const n=Array.isArray(t)?t:[t],{isSameDay:a,differenceInCalendarDays:o,isAfter:l}=r;return n.some(c=>{if(typeof c=="boolean")return c;if(r.isDate(c))return a(e,c);if(ZV(c,r))return c.includes(e);if(QD(c))return Li(c,e,!1,r);if(YV(c))return Array.isArray(c.dayOfWeek)?c.dayOfWeek.includes(e.getDay()):c.dayOfWeek===e.getDay();if(VV(c)){const d=o(c.before,e),u=o(c.after,e),i=d>0,m=u<0;return l(c.before,c.after)?m&&i:i||m}return WV(c)?o(e,c.after)>0:GV(c)?o(c.before,e)>0:typeof c=="function"?c(e):!1})}function DOe(e,t,r,n,a){const{disabled:o,hidden:l,modifiers:c,showOutsideDays:d,broadcastCalendar:u,today:i}=t,{isSameDay:m,isSameMonth:g,startOfMonth:x,isBefore:v,endOfMonth:N,isAfter:h}=a,y=r&&x(r),w=n&&N(n),j={[Hr.focused]:[],[Hr.outside]:[],[Hr.disabled]:[],[Hr.hidden]:[],[Hr.today]:[]},C={};for(const _ of e){const{date:k,displayMonth:A}=_,T=!!(A&&!g(k,A)),R=!!(y&&v(k,y)),P=!!(w&&h(k,w)),M=!!(o&&Bi(k,o,a)),I=!!(l&&Bi(k,l,a))||R||P||!u&&!d&&T||u&&d===!1&&T,L=m(k,i??a.today());T&&j.outside.push(_),M&&j.disabled.push(_),I&&j.hidden.push(_),L&&j.today.push(_),c&&Object.keys(c).forEach(B=>{const U=c?.[B];U&&Bi(k,U,a)&&(C[B]?C[B].push(_):C[B]=[_])})}return _=>{const k={[Hr.focused]:!1,[Hr.disabled]:!1,[Hr.hidden]:!1,[Hr.outside]:!1,[Hr.today]:!1},A={};for(const T in j){const R=j[T];k[T]=R.some(P=>P===_)}for(const T in C)A[T]=C[T].some(R=>R===_);return{...k,...A}}}function TOe(e,t,r={}){return Object.entries(e).filter(([,a])=>a===!0).reduce((a,[o])=>(r[o]?a.push(r[o]):t[Hr[o]]?a.push(t[Hr[o]]):t[no[o]]&&a.push(t[no[o]]),a),[t[dt.Day]])}function ROe(e){return{...kOe,...e}}function POe(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([r,n])=>{r.startsWith("data-")&&(t[r]=n)}),t}function JD(){const e={};for(const t in dt)e[dt[t]]=`rdp-${dt[t]}`;for(const t in Hr)e[Hr[t]]=`rdp-${Hr[t]}`;for(const t in no)e[no[t]]=`rdp-${no[t]}`;for(const t in ea)e[ea[t]]=`rdp-${ea[t]}`;return e}function KV(e,t,r){return(r??new ha(t)).formatMonthYear(e)}const MOe=KV;function OOe(e,t,r){return(r??new ha(t)).format(e,"d")}function IOe(e,t=Jo){return t.format(e,"LLLL")}function LOe(e,t,r){return(r??new ha(t)).format(e,"cccccc")}function BOe(e,t=Jo){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function FOe(){return""}function XV(e,t=Jo){return t.format(e,"yyyy")}const UOe=XV,$Oe=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:KV,formatDay:OOe,formatMonthCaption:MOe,formatMonthDropdown:IOe,formatWeekNumber:BOe,formatWeekNumberHeader:FOe,formatWeekdayName:LOe,formatYearCaption:UOe,formatYearDropdown:XV},Symbol.toStringTag,{value:"Module"}));function HOe(e){return e?.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e?.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...$Oe,...e}}function zOe(e,t,r,n,a){const{startOfMonth:o,startOfYear:l,endOfYear:c,eachMonthOfInterval:d,getMonth:u}=a;return d({start:l(e),end:c(e)}).map(g=>{const x=n.formatMonthDropdown(g,a),v=u(g),N=t&&g<o(t)||r&&g>o(r)||!1;return{value:v,label:x,disabled:N}})}function qOe(e,t={},r={}){let n={...t?.[dt.Day]};return Object.entries(e).filter(([,a])=>a===!0).forEach(([a])=>{n={...n,...r?.[a]}}),n}function VOe(e,t,r){const n=e.today(),a=t?e.startOfISOWeek(n):e.startOfWeek(n),o=[];for(let l=0;l<7;l++){const c=e.addDays(a,l);o.push(c)}return o}function WOe(e,t,r,n,a=!1){if(!e||!t)return;const{startOfYear:o,endOfYear:l,addYears:c,getYear:d,isBefore:u,isSameYear:i}=n,m=o(e),g=l(t),x=[];let v=m;for(;u(v,g)||i(v,g);)x.push(v),v=c(v,1);return a&&x.reverse(),x.map(N=>{const h=r.formatYearDropdown(N,n);return{value:d(N),label:h,disabled:!1}})}function QV(e,t,r,n){let a=(n??new ha(r)).format(e,"PPPP");return t.today&&(a=`Today, ${a}`),t.selected&&(a=`${a}, selected`),a}const GOe=QV;function JV(e,t,r){return(r??new ha(t)).formatMonthYear(e)}const YOe=JV;function ZOe(e,t,r,n){let a=(n??new ha(r)).format(e,"PPPP");return t?.today&&(a=`Today, ${a}`),a}function KOe(e){return"Choose the Month"}function XOe(){return""}function QOe(e){return"Go to the Next Month"}function JOe(e){return"Go to the Previous Month"}function eIe(e,t,r){return(r??new ha(t)).format(e,"cccc")}function tIe(e,t){return`Week ${e}`}function rIe(e){return"Week Number"}function nIe(e){return"Choose the Year"}const sIe=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:YOe,labelDay:GOe,labelDayButton:QV,labelGrid:JV,labelGridcell:ZOe,labelMonthDropdown:KOe,labelNav:XOe,labelNext:QOe,labelPrevious:JOe,labelWeekNumber:tIe,labelWeekNumberHeader:rIe,labelWeekday:eIe,labelYearDropdown:nIe},Symbol.toStringTag,{value:"Module"})),Ug=e=>e instanceof HTMLElement?e:null,e_=e=>[...e.querySelectorAll("[data-animated-month]")??[]],aIe=e=>Ug(e.querySelector("[data-animated-month]")),t_=e=>Ug(e.querySelector("[data-animated-caption]")),r_=e=>Ug(e.querySelector("[data-animated-weeks]")),oIe=e=>Ug(e.querySelector("[data-animated-nav]")),iIe=e=>Ug(e.querySelector("[data-animated-weekdays]"));function lIe(e,t,{classNames:r,months:n,focused:a,dateLib:o}){const l=b.useRef(null),c=b.useRef(n),d=b.useRef(!1);b.useLayoutEffect(()=>{const u=c.current;if(c.current=n,!t||!e.current||!(e.current instanceof HTMLElement)||n.length===0||u.length===0||n.length!==u.length)return;const i=o.isSameMonth(n[0].date,u[0].date),m=o.isAfter(n[0].date,u[0].date),g=m?r[ea.caption_after_enter]:r[ea.caption_before_enter],x=m?r[ea.weeks_after_enter]:r[ea.weeks_before_enter],v=l.current,N=e.current.cloneNode(!0);if(N instanceof HTMLElement?(e_(N).forEach(j=>{if(!(j instanceof HTMLElement))return;const C=aIe(j);C&&j.contains(C)&&j.removeChild(C);const _=t_(j);_&&_.classList.remove(g);const k=r_(j);k&&k.classList.remove(x)}),l.current=N):l.current=null,d.current||i||a)return;const h=v instanceof HTMLElement?e_(v):[],y=e_(e.current);if(y?.every(w=>w instanceof HTMLElement)&&h&&h.every(w=>w instanceof HTMLElement)){d.current=!0,e.current.style.isolation="isolate";const w=oIe(e.current);w&&(w.style.zIndex="1"),y.forEach((j,C)=>{const _=h[C];if(!_)return;j.style.position="relative",j.style.overflow="hidden";const k=t_(j);k&&k.classList.add(g);const A=r_(j);A&&A.classList.add(x);const T=()=>{d.current=!1,e.current&&(e.current.style.isolation=""),w&&(w.style.zIndex=""),k&&k.classList.remove(g),A&&A.classList.remove(x),j.style.position="",j.style.overflow="",j.contains(_)&&j.removeChild(_)};_.style.pointerEvents="none",_.style.position="absolute",_.style.overflow="hidden",_.setAttribute("aria-hidden","true");const R=iIe(_);R&&(R.style.opacity="0");const P=t_(_);P&&(P.classList.add(m?r[ea.caption_before_exit]:r[ea.caption_after_exit]),P.addEventListener("animationend",T));const M=r_(_);M&&M.classList.add(m?r[ea.weeks_before_exit]:r[ea.weeks_after_exit]),j.insertBefore(_,j.firstChild)})}})}function cIe(e,t,r,n){const a=e[0],o=e[e.length-1],{ISOWeek:l,fixedWeeks:c,broadcastCalendar:d}=r??{},{addDays:u,differenceInCalendarDays:i,differenceInCalendarMonths:m,endOfBroadcastWeek:g,endOfISOWeek:x,endOfMonth:v,endOfWeek:N,isAfter:h,startOfBroadcastWeek:y,startOfISOWeek:w,startOfWeek:j}=n,C=d?y(a,n):l?w(a):j(a),_=d?g(o):l?x(v(o)):N(v(o)),k=i(_,C),A=m(o,a)+1,T=[];for(let M=0;M<=k;M++){const I=u(C,M);if(t&&h(I,t))break;T.push(I)}const P=(d?35:42)*A;if(c&&T.length<P){const M=P-T.length;for(let I=0;I<M;I++){const L=u(T[T.length-1],1);T.push(L)}}return T}function dIe(e){const t=[];return e.reduce((r,n)=>{const a=n.weeks.reduce((o,l)=>o.concat(l.days.slice()),t.slice());return r.concat(a.slice())},t.slice())}function uIe(e,t,r,n){const{numberOfMonths:a=1}=r,o=[];for(let l=0;l<a;l++){const c=n.addMonths(e,l);if(t&&c>t)break;o.push(c)}return o}function jB(e,t,r,n){const{month:a,defaultMonth:o,today:l=n.today(),numberOfMonths:c=1}=e;let d=a||o||l;const{differenceInCalendarMonths:u,addMonths:i,startOfMonth:m}=n;if(r&&u(r,d)<c-1){const g=-1*(c-1);d=i(r,g)}return t&&u(d,t)<0&&(d=t),m(d)}function fIe(e,t,r,n){const{addDays:a,endOfBroadcastWeek:o,endOfISOWeek:l,endOfMonth:c,endOfWeek:d,getISOWeek:u,getWeek:i,startOfBroadcastWeek:m,startOfISOWeek:g,startOfWeek:x}=n,v=e.reduce((N,h)=>{const y=r.broadcastCalendar?m(h,n):r.ISOWeek?g(h):x(h),w=r.broadcastCalendar?o(h):r.ISOWeek?l(c(h)):d(c(h)),j=t.filter(A=>A>=y&&A<=w),C=r.broadcastCalendar?35:42;if(r.fixedWeeks&&j.length<C){const A=t.filter(T=>{const R=C-j.length;return T>w&&T<=a(w,R)});j.push(...A)}const _=j.reduce((A,T)=>{const R=r.ISOWeek?u(T):i(T),P=A.find(I=>I.weekNumber===R),M=new zV(T,h,n);return P?P.days.push(M):A.push(new rOe(R,[M])),A},[]),k=new tOe(h,_);return N.push(k),N},[]);return r.reverseMonths?v.reverse():v}function mIe(e,t){let{startMonth:r,endMonth:n}=e;const{startOfYear:a,startOfDay:o,startOfMonth:l,endOfMonth:c,addYears:d,endOfYear:u,newDate:i,today:m}=t,{fromYear:g,toYear:x,fromMonth:v,toMonth:N}=e;!r&&v&&(r=v),!r&&g&&(r=t.newDate(g,0,1)),!n&&N&&(n=N),!n&&x&&(n=i(x,11,31));const h=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return r?r=l(r):g?r=i(g,0,1):!r&&h&&(r=a(d(e.today??m(),-100))),n?n=c(n):x?n=i(x,11,31):!n&&h&&(n=u(e.today??m())),[r&&o(r),n&&o(n)]}function hIe(e,t,r,n){if(r.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:o=1}=r,{startOfMonth:l,addMonths:c,differenceInCalendarMonths:d}=n,u=a?o:1,i=l(e);if(!t)return c(i,u);if(!(d(t,e)<o))return c(i,u)}function pIe(e,t,r,n){if(r.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:o}=r,{startOfMonth:l,addMonths:c,differenceInCalendarMonths:d}=n,u=a?o??1:1,i=l(e);if(!t)return c(i,-u);if(!(d(i,t)<=0))return c(i,-u)}function gIe(e){const t=[];return e.reduce((r,n)=>r.concat(n.weeks.slice()),t.slice())}function U1(e,t){const[r,n]=b.useState(e);return[t===void 0?r:t,n]}function xIe(e,t){const[r,n]=mIe(e,t),{startOfMonth:a,endOfMonth:o}=t,l=jB(e,r,n,t),[c,d]=U1(l,e.month?l:void 0);b.useEffect(()=>{const k=jB(e,r,n,t);d(k)},[e.timeZone]);const u=uIe(c,n,e,t),i=cIe(u,e.endMonth?o(e.endMonth):void 0,e,t),m=fIe(u,i,e,t),g=gIe(m),x=dIe(m),v=pIe(c,r,e,t),N=hIe(c,n,e,t),{disableNavigation:h,onMonthChange:y}=e,w=k=>g.some(A=>A.days.some(T=>T.isEqualTo(k))),j=k=>{if(h)return;let A=a(k);r&&A<a(r)&&(A=a(r)),n&&A>a(n)&&(A=a(n)),d(A),y?.(A)};return{months:m,weeks:g,days:x,navStart:r,navEnd:n,previousMonth:v,nextMonth:N,goToMonth:j,goToDay:k=>{w(k)||j(k.date)}}}var Ro;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(Ro||(Ro={}));function NB(e){return!e[Hr.disabled]&&!e[Hr.hidden]&&!e[Hr.outside]}function vIe(e,t,r,n){let a,o=-1;for(const l of e){const c=t(l);NB(c)&&(c[Hr.focused]&&o<Ro.FocusedModifier?(a=l,o=Ro.FocusedModifier):n?.isEqualTo(l)&&o<Ro.LastFocused?(a=l,o=Ro.LastFocused):r(l.date)&&o<Ro.Selected?(a=l,o=Ro.Selected):c[Hr.today]&&o<Ro.Today&&(a=l,o=Ro.Today))}return a||(a=e.find(l=>NB(t(l)))),a}function yIe(e,t,r,n,a,o,l){const{ISOWeek:c,broadcastCalendar:d}=o,{addDays:u,addMonths:i,addWeeks:m,addYears:g,endOfBroadcastWeek:x,endOfISOWeek:v,endOfWeek:N,max:h,min:y,startOfBroadcastWeek:w,startOfISOWeek:j,startOfWeek:C}=l;let k={day:u,week:m,month:i,year:g,startOfWeek:A=>d?w(A,l):c?j(A):C(A),endOfWeek:A=>d?x(A):c?v(A):N(A)}[e](r,t==="after"?1:-1);return t==="before"&&n?k=h([n,k]):t==="after"&&a&&(k=y([a,k])),k}function eW(e,t,r,n,a,o,l,c=0){if(c>365)return;const d=yIe(e,t,r.date,n,a,o,l),u=!!(o.disabled&&Bi(d,o.disabled,l)),i=!!(o.hidden&&Bi(d,o.hidden,l)),m=d,g=new zV(d,m,l);return!u&&!i?g:eW(e,t,g,n,a,o,l,c+1)}function bIe(e,t,r,n,a){const{autoFocus:o}=e,[l,c]=b.useState(),d=vIe(t.days,r,n||(()=>!1),l),[u,i]=b.useState(o?d:void 0);return{isFocusTarget:N=>!!d?.isEqualTo(N),setFocused:i,focused:u,blur:()=>{c(u),i(void 0)},moveFocus:(N,h)=>{if(!u)return;const y=eW(N,h,u,t.navStart,t.navEnd,e,a);y&&(t.goToDay(y),i(y))}}}function wIe(e,t){const{selected:r,required:n,onSelect:a}=e,[o,l]=U1(r,a?r:void 0),c=a?r:o,{isSameDay:d}=t,u=x=>c?.some(v=>d(v,x))??!1,{min:i,max:m}=e;return{selected:c,select:(x,v,N)=>{let h=[...c??[]];if(u(x)){if(c?.length===i||n&&c?.length===1)return;h=c?.filter(y=>!d(y,x))}else c?.length===m?h=[x]:h=[...h,x];return a||l(h),a?.(h,x,v,N),h},isSelected:u}}function SIe(e,t,r=0,n=0,a=!1,o=Jo){const{from:l,to:c}=t||{},{isSameDay:d,isAfter:u,isBefore:i}=o;let m;if(!l&&!c)m={from:e,to:r>0?void 0:e};else if(l&&!c)d(l,e)?r===0?m={from:l,to:e}:a?m={from:l,to:void 0}:m=void 0:i(e,l)?m={from:e,to:l}:m={from:l,to:e};else if(l&&c)if(d(l,e)&&d(c,e))a?m={from:l,to:c}:m=void 0;else if(d(l,e))m={from:l,to:r>0?void 0:e};else if(d(c,e))m={from:e,to:r>0?void 0:e};else if(i(e,l))m={from:e,to:c};else if(u(e,l))m={from:l,to:e};else if(u(e,c))m={from:l,to:e};else throw new Error("Invalid range");if(m?.from&&m?.to){const g=o.differenceInCalendarDays(m.to,m.from);n>0&&g>n?m={from:e,to:void 0}:r>1&&g<r&&(m={from:e,to:void 0})}return m}function jIe(e,t,r=Jo){const n=Array.isArray(t)?t:[t];let a=e.from;const o=r.differenceInCalendarDays(e.to,e.from),l=Math.min(o,6);for(let c=0;c<=l;c++){if(n.includes(a.getDay()))return!0;a=r.addDays(a,1)}return!1}function CB(e,t,r=Jo){return Li(e,t.from,!1,r)||Li(e,t.to,!1,r)||Li(t,e.from,!1,r)||Li(t,e.to,!1,r)}function NIe(e,t,r=Jo){const n=Array.isArray(t)?t:[t];if(n.filter(c=>typeof c!="function").some(c=>typeof c=="boolean"?c:r.isDate(c)?Li(e,c,!1,r):ZV(c,r)?c.some(d=>Li(e,d,!1,r)):QD(c)?c.from&&c.to?CB(e,{from:c.from,to:c.to},r):!1:YV(c)?jIe(e,c.dayOfWeek,r):VV(c)?r.isAfter(c.before,c.after)?CB(e,{from:r.addDays(c.after,1),to:r.addDays(c.before,-1)},r):Bi(e.from,c,r)||Bi(e.to,c,r):WV(c)||GV(c)?Bi(e.from,c,r)||Bi(e.to,c,r):!1))return!0;const l=n.filter(c=>typeof c=="function");if(l.length){let c=e.from;const d=r.differenceInCalendarDays(e.to,e.from);for(let u=0;u<=d;u++){if(l.some(i=>i(c)))return!0;c=r.addDays(c,1)}}return!1}function CIe(e,t){const{disabled:r,excludeDisabled:n,selected:a,required:o,onSelect:l}=e,[c,d]=U1(a,l?a:void 0),u=l?a:c;return{selected:u,select:(g,x,v)=>{const{min:N,max:h}=e,y=g?SIe(g,u,N,h,o,t):void 0;return n&&r&&y?.from&&y.to&&NIe({from:y.from,to:y.to},r,t)&&(y.from=g,y.to=void 0),l||d(y),l?.(y,g,x,v),y},isSelected:g=>u&&Li(u,g,!1,t)}}function EIe(e,t){const{selected:r,required:n,onSelect:a}=e,[o,l]=U1(r,a?r:void 0),c=a?r:o,{isSameDay:d}=t;return{selected:c,select:(m,g,x)=>{let v=m;return!n&&c&&c&&d(m,c)&&(v=void 0),a||l(v),a?.(v,m,g,x),v},isSelected:m=>c?d(c,m):!1}}function _Ie(e,t){const r=EIe(e,t),n=wIe(e,t),a=CIe(e,t);switch(e.mode){case"single":return r;case"multiple":return n;case"range":return a;default:return}}function AIe(e){let t=e;t.timeZone&&(t={...e},t.today&&(t.today=new as(t.today,t.timeZone)),t.month&&(t.month=new as(t.month,t.timeZone)),t.defaultMonth&&(t.defaultMonth=new as(t.defaultMonth,t.timeZone)),t.startMonth&&(t.startMonth=new as(t.startMonth,t.timeZone)),t.endMonth&&(t.endMonth=new as(t.endMonth,t.timeZone)),t.mode==="single"&&t.selected?t.selected=new as(t.selected,t.timeZone):t.mode==="multiple"&&t.selected?t.selected=t.selected?.map(jt=>new as(jt,t.timeZone)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?new as(t.selected.from,t.timeZone):void 0,to:t.selected.to?new as(t.selected.to,t.timeZone):void 0}));const{components:r,formatters:n,labels:a,dateLib:o,locale:l,classNames:c}=b.useMemo(()=>{const jt={...XD,...t.locale};return{dateLib:new ha({locale:jt,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:ROe(t.components),formatters:HOe(t.formatters),labels:{...sIe,...t.labels},locale:jt,classNames:{...JD(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]),{captionLayout:d,mode:u,navLayout:i,numberOfMonths:m=1,onDayBlur:g,onDayClick:x,onDayFocus:v,onDayKeyDown:N,onDayMouseEnter:h,onDayMouseLeave:y,onNextClick:w,onPrevClick:j,showWeekNumber:C,styles:_}=t,{formatCaption:k,formatDay:A,formatMonthDropdown:T,formatWeekNumber:R,formatWeekNumberHeader:P,formatWeekdayName:M,formatYearDropdown:I}=n,L=xIe(t,o),{days:B,months:U,navStart:F,navEnd:H,previousMonth:W,nextMonth:J,goToMonth:q}=L,G=DOe(B,t,F,H,o),{isSelected:z,select:K,selected:Z}=_Ie(t,o)??{},{blur:ie,focused:ye,isFocusTarget:de,moveFocus:xe,setFocused:ne}=bIe(t,L,G,z??(()=>!1),o),{labelDayButton:ge,labelGridcell:Ce,labelGrid:ce,labelMonthDropdown:Oe,labelNav:Pe,labelPrevious:ae,labelNext:$e,labelWeekday:nt,labelWeekNumber:oe,labelWeekNumberHeader:Fe,labelYearDropdown:Q}=a,Y=b.useMemo(()=>VOe(o,t.ISOWeek),[o,t.ISOWeek]),re=u!==void 0||x!==void 0,we=b.useCallback(()=>{W&&(q(W),j?.(W))},[W,q,j]),_e=b.useCallback(()=>{J&&(q(J),w?.(J))},[q,J,w]),Ee=b.useCallback((jt,lr)=>bt=>{bt.preventDefault(),bt.stopPropagation(),ne(jt),K?.(jt.date,lr,bt),x?.(jt.date,lr,bt)},[K,x,ne]),qe=b.useCallback((jt,lr)=>bt=>{ne(jt),v?.(jt.date,lr,bt)},[v,ne]),mt=b.useCallback((jt,lr)=>bt=>{ie(),g?.(jt.date,lr,bt)},[ie,g]),yt=b.useCallback((jt,lr)=>bt=>{const Jt={ArrowLeft:[bt.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[bt.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[bt.shiftKey?"year":"week","after"],ArrowUp:[bt.shiftKey?"year":"week","before"],PageUp:[bt.shiftKey?"year":"month","before"],PageDown:[bt.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Jt[bt.key]){bt.preventDefault(),bt.stopPropagation();const[Kr,Kt]=Jt[bt.key];xe(Kr,Kt)}N?.(jt.date,lr,bt)},[xe,N,t.dir]),Ft=b.useCallback((jt,lr)=>bt=>{h?.(jt.date,lr,bt)},[h]),Zn=b.useCallback((jt,lr)=>bt=>{y?.(jt.date,lr,bt)},[y]),Nn=b.useCallback(jt=>lr=>{const bt=Number(lr.target.value),Jt=o.setMonth(o.startOfMonth(jt),bt);q(Jt)},[o,q]),Ga=b.useCallback(jt=>lr=>{const bt=Number(lr.target.value),Jt=o.setYear(o.startOfMonth(jt),bt);q(Jt)},[o,q]),{className:ga,style:Vs}=b.useMemo(()=>({className:[c[dt.Root],t.className].filter(Boolean).join(" "),style:{..._?.[dt.Root],...t.style}}),[c,t.className,t.style,_]),As=POe(t),xa=b.useRef(null);lIe(xa,!!t.animate,{classNames:c,months:U,focused:ye,dateLib:o});const Ya={dayPickerProps:t,selected:Z,select:K,isSelected:z,months:U,nextMonth:J,previousMonth:W,goToMonth:q,getModifiers:G,components:r,classNames:c,styles:_,labels:a,formatters:n};return pe.createElement(qV.Provider,{value:Ya},pe.createElement(r.Root,{rootRef:t.animate?xa:void 0,className:ga,style:Vs,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],"aria-labelledby":t["aria-labelledby"],...As},pe.createElement(r.Months,{className:c[dt.Months],style:_?.[dt.Months]},!t.hideNavigation&&!i&&pe.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:c[dt.Nav],style:_?.[dt.Nav],"aria-label":Pe(),onPreviousClick:we,onNextClick:_e,previousMonth:W,nextMonth:J}),U.map((jt,lr)=>pe.createElement(r.Month,{"data-animated-month":t.animate?"true":void 0,className:c[dt.Month],style:_?.[dt.Month],key:lr,displayIndex:lr,calendarMonth:jt},i==="around"&&!t.hideNavigation&&lr===0&&pe.createElement(r.PreviousMonthButton,{type:"button",className:c[dt.PreviousMonthButton],tabIndex:W?void 0:-1,"aria-disabled":W?void 0:!0,"aria-label":ae(W),onClick:we,"data-animated-button":t.animate?"true":void 0},pe.createElement(r.Chevron,{disabled:W?void 0:!0,className:c[dt.Chevron],orientation:t.dir==="rtl"?"right":"left"})),pe.createElement(r.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:c[dt.MonthCaption],style:_?.[dt.MonthCaption],calendarMonth:jt,displayIndex:lr},d?.startsWith("dropdown")?pe.createElement(r.DropdownNav,{className:c[dt.Dropdowns],style:_?.[dt.Dropdowns]},(()=>{const bt=d==="dropdown"||d==="dropdown-months"?pe.createElement(r.MonthsDropdown,{key:"month",className:c[dt.MonthsDropdown],"aria-label":Oe(),classNames:c,components:r,disabled:!!t.disableNavigation,onChange:Nn(jt.date),options:zOe(jt.date,F,H,n,o),style:_?.[dt.Dropdown],value:o.getMonth(jt.date)}):pe.createElement("span",{key:"month"},T(jt.date,o)),Jt=d==="dropdown"||d==="dropdown-years"?pe.createElement(r.YearsDropdown,{key:"year",className:c[dt.YearsDropdown],"aria-label":Q(o.options),classNames:c,components:r,disabled:!!t.disableNavigation,onChange:Ga(jt.date),options:WOe(F,H,n,o,!!t.reverseYears),style:_?.[dt.Dropdown],value:o.getYear(jt.date)}):pe.createElement("span",{key:"year"},I(jt.date,o));return o.getMonthYearOrder()==="year-first"?[Jt,bt]:[bt,Jt]})(),pe.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},k(jt.date,o.options,o))):pe.createElement(r.CaptionLabel,{className:c[dt.CaptionLabel],role:"status","aria-live":"polite"},k(jt.date,o.options,o))),i==="around"&&!t.hideNavigation&&lr===m-1&&pe.createElement(r.NextMonthButton,{type:"button",className:c[dt.NextMonthButton],tabIndex:J?void 0:-1,"aria-disabled":J?void 0:!0,"aria-label":$e(J),onClick:_e,"data-animated-button":t.animate?"true":void 0},pe.createElement(r.Chevron,{disabled:J?void 0:!0,className:c[dt.Chevron],orientation:t.dir==="rtl"?"left":"right"})),lr===m-1&&i==="after"&&!t.hideNavigation&&pe.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:c[dt.Nav],style:_?.[dt.Nav],"aria-label":Pe(),onPreviousClick:we,onNextClick:_e,previousMonth:W,nextMonth:J}),pe.createElement(r.MonthGrid,{role:"grid","aria-multiselectable":u==="multiple"||u==="range","aria-label":ce(jt.date,o.options,o)||void 0,className:c[dt.MonthGrid],style:_?.[dt.MonthGrid]},!t.hideWeekdays&&pe.createElement(r.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:c[dt.Weekdays],style:_?.[dt.Weekdays]},C&&pe.createElement(r.WeekNumberHeader,{"aria-label":Fe(o.options),className:c[dt.WeekNumberHeader],style:_?.[dt.WeekNumberHeader],scope:"col"},P()),Y.map(bt=>pe.createElement(r.Weekday,{"aria-label":nt(bt,o.options,o),className:c[dt.Weekday],key:String(bt),style:_?.[dt.Weekday],scope:"col"},M(bt,o.options,o)))),pe.createElement(r.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:c[dt.Weeks],style:_?.[dt.Weeks]},jt.weeks.map(bt=>pe.createElement(r.Week,{className:c[dt.Week],key:bt.weekNumber,style:_?.[dt.Week],week:bt},C&&pe.createElement(r.WeekNumber,{week:bt,style:_?.[dt.WeekNumber],"aria-label":oe(bt.weekNumber,{locale:l}),className:c[dt.WeekNumber],scope:"row",role:"rowheader"},R(bt.weekNumber,o)),bt.days.map(Jt=>{const{date:Kr}=Jt,Kt=G(Jt);if(Kt[Hr.focused]=!Kt.hidden&&!!ye?.isEqualTo(Jt),Kt[no.selected]=z?.(Kr)||Kt.selected,QD(Z)){const{from:li,to:hl}=Z;Kt[no.range_start]=!!(li&&hl&&o.isSameDay(Kr,li)),Kt[no.range_end]=!!(li&&hl&&o.isSameDay(Kr,hl)),Kt[no.range_middle]=Li(Z,Kr,!0,o)}const ru=qOe(Kt,_,t.modifiersStyles),nu=TOe(Kt,c,t.modifiersClassNames),ml=!re&&!Kt.hidden?Ce(Kr,Kt,o.options,o):void 0;return pe.createElement(r.Day,{key:`${o.format(Kr,"yyyy-MM-dd")}_${o.format(Jt.displayMonth,"yyyy-MM")}`,day:Jt,modifiers:Kt,className:nu.join(" "),style:ru,role:"gridcell","aria-selected":Kt.selected||void 0,"aria-label":ml,"data-day":o.format(Kr,"yyyy-MM-dd"),"data-month":Jt.outside?o.format(Kr,"yyyy-MM"):void 0,"data-selected":Kt.selected||void 0,"data-disabled":Kt.disabled||void 0,"data-hidden":Kt.hidden||void 0,"data-outside":Jt.outside||void 0,"data-focused":Kt.focused||void 0,"data-today":Kt.today||void 0},!Kt.hidden&&re?pe.createElement(r.DayButton,{className:c[dt.DayButton],style:_?.[dt.DayButton],type:"button",day:Jt,modifiers:Kt,disabled:Kt.disabled||void 0,tabIndex:de(Jt)?0:-1,"aria-label":ge(Kr,Kt,o.options,o),onClick:Ee(Jt,Kt),onBlur:mt(Jt,Kt),onFocus:qe(Jt,Kt),onKeyDown:yt(Jt,Kt),onMouseEnter:Ft(Jt,Kt),onMouseLeave:Zn(Jt,Kt)},A(Kr,o.options,o)):!Kt.hidden&&A(Jt.date,o.options,o))})))))))),t.footer&&pe.createElement(r.Footer,{className:c[dt.Footer],style:_?.[dt.Footer],role:"status","aria-live":"polite"},t.footer)))}function kIe({className:e,classNames:t,showOutsideDays:r=!0,captionLayout:n="label",buttonVariant:a="ghost",formatters:o,components:l,...c}){const d=JD();return s.jsx(AIe,{showOutsideDays:r,className:ee("bg-background group/calendar p-3 [--cell-size:2rem] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,e),captionLayout:n,formatters:{formatMonthDropdown:u=>u.toLocaleString("default",{month:"short"}),...o},classNames:{root:ee("w-fit",d.root),months:ee("relative flex flex-col gap-4 md:flex-row",d.months),month:ee("flex w-full flex-col gap-4",d.month),nav:ee("absolute inset-x-0 top-0 flex w-full items-center justify-between gap-1",d.nav),button_previous:ee(Mf({variant:a}),"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50",d.button_previous),button_next:ee(Mf({variant:a}),"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50",d.button_next),month_caption:ee("flex h-[--cell-size] w-full items-center justify-center px-[--cell-size]",d.month_caption),dropdowns:ee("flex h-[--cell-size] w-full items-center justify-center gap-1.5 text-sm font-medium",d.dropdowns),dropdown_root:ee("has-focus:border-ring border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] relative rounded-md border",d.dropdown_root),dropdown:ee("bg-popover absolute inset-0 opacity-0",d.dropdown),caption_label:ee("select-none font-medium",n==="label"?"text-sm":"[&>svg]:text-muted-foreground flex h-8 items-center gap-1 rounded-md pl-2 pr-1 text-sm [&>svg]:size-3.5",d.caption_label),table:"w-full border-collapse",weekdays:ee("flex",d.weekdays),weekday:ee("text-muted-foreground flex-1 select-none rounded-md text-[0.8rem] font-normal",d.weekday),week:ee("mt-2 flex w-full",d.week),week_number_header:ee("w-[--cell-size] select-none",d.week_number_header),week_number:ee("text-muted-foreground select-none text-[0.8rem]",d.week_number),day:ee("group/day relative aspect-square h-full w-full select-none p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md",d.day),range_start:ee("bg-accent rounded-l-md",d.range_start),range_middle:ee("rounded-none",d.range_middle),range_end:ee("bg-accent rounded-r-md",d.range_end),today:ee("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",d.today),outside:ee("text-muted-foreground aria-selected:text-muted-foreground",d.outside),disabled:ee("text-muted-foreground opacity-50",d.disabled),hidden:ee("invisible",d.hidden),...t},components:{Root:({className:u,rootRef:i,...m})=>s.jsx("div",{"data-slot":"calendar",ref:i,className:ee(u),...m}),Chevron:({className:u,orientation:i,...m})=>i==="left"?s.jsx(al,{className:ee("size-4",u),...m}):i==="right"?s.jsx(qa,{className:ee("size-4",u),...m}):s.jsx(zd,{className:ee("size-4",u),...m}),DayButton:DIe,WeekNumber:({children:u,...i})=>s.jsx("td",{...i,children:s.jsx("div",{className:"flex size-[--cell-size] items-center justify-center text-center",children:u})}),...l},...c})}function DIe({className:e,day:t,modifiers:r,...n}){const a=JD(),o=b.useRef(null);return b.useEffect(()=>{r.focused&&o.current?.focus()},[r.focused]),s.jsx(X,{ref:o,variant:"ghost",size:"icon","data-day":t.date.toLocaleDateString(),"data-selected-single":r.selected&&!r.range_start&&!r.range_end&&!r.range_middle,"data-range-start":r.range_start,"data-range-end":r.range_end,"data-range-middle":r.range_middle,className:ee("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 flex aspect-square h-auto w-full min-w-[--cell-size] flex-col gap-1 font-normal leading-none data-[range-end=true]:rounded-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] [&>span]:text-xs [&>span]:opacity-70",a.day,e),...n})}const TIe=({value:e,onChange:t,placeholder:r="Pick a date",disabled:n=!1,maxDate:a,minDate:o,className:l=""})=>{const[c,d]=b.useState(!1),u=m=>{t?.(m),d(!1)},i=()=>{const m={};return a&&(m.after=a),o&&(m.before=o),Object.keys(m).length>0?m:void 0};return s.jsxs(Lz,{open:c,onOpenChange:d,children:[s.jsx(Bz,{asChild:!0,children:s.jsxs(X,{variant:"outline",className:`justify-between font-normal ${l}`,disabled:n,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(js,{className:"h-4 w-4"}),e?e.toLocaleDateString("en-US",{day:"2-digit",month:"short",year:"numeric"}):r]}),s.jsx(zd,{className:"h-4 w-4"})]})}),s.jsx(gk,{className:"w-auto overflow-hidden p-0",align:"start",children:s.jsx(kIe,{mode:"single",selected:e,onSelect:u,disabled:i(),captionLayout:"dropdown"})})]})},RIe=({className:e="",onFilterChange:t,onError:r})=>{const{currentStore:n}=Uz(),{fetchData:a}=Yz({enableLogging:!0,autoClearErrors:!0}),[,o]=b.useState(null),l=b.useCallback(C=>{o(C),r&&r(C)},[r]),c=C=>{if(!C)return!1;const[_,k,A]=C.split("-").map(Number),T=new Date(_,k-1,A),R=new Date,P=new Date(R.getFullYear(),R.getMonth(),R.getDate());return T<P},d=C=>{const _=C.getFullYear(),k=String(C.getMonth()+1).padStart(2,"0"),A=String(C.getDate()).padStart(2,"0");return`${_}-${k}-${A}`},u=()=>{const C=new Date,_=new Date(C.getFullYear(),C.getMonth(),C.getDate()-2);return d(_)},i=new Date,m=new Date(i.getFullYear(),i.getMonth(),i.getDate()-1),[g,x]=b.useState(new Date(u())),[v,N]=b.useState(new Date(u())),h=b.useCallback(async(C,_,k="filter-update")=>{try{if(C&&_){const A=d(_);await a({store:C,date:A},[]),console.log(`[${k}] DSPR API call initiated:`,{store:C,date:A,itemCount:0,items:[]}),l(null)}}catch(A){const T=`Failed to fetch store items data: ${A instanceof Error?A.message:"Unknown error"}`;console.error(`[${k}] DSPR API call failed:`,A),l(T)}},[a,l]),y=b.useRef(h);y.current=h,b.useEffect(()=>{n?.id&&!g&&(v&&c(d(v))?(x(v),t&&t({date:d(v),selectedItems:[]})):l("Default date is invalid. Please select a valid date."))},[n?.id,g,v,t,l]),b.useEffect(()=>{l(n?null:"No store selected. Please select a store to continue.")},[n,l]);const w=C=>{N(C)},j=b.useCallback(()=>{if(v&&!c(d(v))){l("Invalid date selected. Please select a date before today.");return}l(null),x(v),t&&v&&t({date:d(v),selectedItems:[]})},[v,t,l]);return b.useEffect(()=>{n?.id&&g&&(c(d(g))?y.current(n.id,g,"filters-changed"):l("Cannot make API call with invalid date."))},[n?.id,g,l]),n?s.jsxs(be,{className:`bg-card border-border shadow-sm ${e}`,children:[s.jsx(Te,{className:"px-4 py-2",children:s.jsxs(Ue,{className:"flex items-center gap-2 text-sm sm:text-base md:text-lg text-card-foreground",children:[s.jsx(Kw,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary flex-shrink-0"}),s.jsxs("span",{children:["Store Items Filter - ",n.name]})]})}),s.jsx(Ne,{className:"px-4 py-2",children:s.jsxs("div",{className:"flex justify-between w-full items-center gap-3",children:[s.jsx(TIe,{value:v,onChange:w,maxDate:m,placeholder:"Select date",className:"w-40 bg-background border-border text-foreground focus:ring-ring focus:border-ring text-sm"}),s.jsx("button",{onClick:j,className:`px-4 py-2 rounded-md focus:outline-none focus:ring-2 focus:ring-ring font-medium text-sm ${v&&!c(d(v))?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-primary text-primary-foreground hover:bg-primary/90"}`,children:"Apply Filters"})]})})]}):s.jsx(be,{className:`bg-yellow-50 border-yellow-200 ${e}`,children:s.jsx(Ne,{className:"p-4",children:s.jsx("p",{className:"text-yellow-800",children:"Please select a store to view filters."})})})},PIe=()=>{const{isAuthenticated:e,isLoading:t}=za(),r=Ct(),[n,a]=b.useState(null);b.useEffect(()=>{!e&&!t&&r("/login")},[e,t,r]);const o=b.useCallback(l=>{a(l)},[]);return t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),s.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading..."})]})}):e?s.jsxs("div",{className:"container mx-auto space-y-4 md:space-y-6 p-2 md:p-4 max-w-7xl",children:[s.jsx(RIe,{className:"mb-6",onError:o}),n?s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[s.jsx("div",{className:"text-red-600 font-semibold text-lg mb-2",children:"Store Items Filter Error"}),s.jsx("div",{className:"text-red-700 mb-4",children:n}),s.jsx("div",{className:"text-red-600 text-sm",children:"Dashboard components are unavailable due to filter processing failure."})]}):s.jsxs(s.Fragment,{children:[s.jsx($Se,{}),s.jsx(FSe,{}),s.jsx(USe,{}),s.jsx(E4e,{})]})]}):null},Vt=({title:e,subtitle:t,mainButtons:r,subButtons:n,backButton:a,children:o,className:l,headerClassName:c,contentClassName:d})=>{const u=Ct(),i=Ko(),m=()=>{a?.onClick?a.onClick():a?.to?u(a.to):u(-1)};return s.jsxs("div",{className:ee("flex-1 flex-col min-h-full space-y-6 p-4 md:p-6 lg:p-8",l),children:[s.jsx("header",{className:ee("flex flex-col space-y-4 pb-4 sm:pb-6 border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",c),children:s.jsxs("div",{className:"flex flex-col space-y-3 lg:flex-row lg:items-start lg:justify-between lg:space-y-0 ",children:[s.jsx("div",{className:"flex flex-col space-y-3 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-4",children:s.jsxs("div",{className:"flex items-center space-x-5 flex-1 ",children:[a?.show&&s.jsx(X,{onClick:m,variant:"outline",size:i?"sm":"default",className:"hover:bg-accent w-fit p-2 flex-shrink-0","aria-label":a.text||"Back",children:s.jsx($n,{className:"h-4 w-4"})}),s.jsxs("div",{className:"space-y-1 flex-1",children:[s.jsx("h1",{className:ee("font-bold text-foreground",i?"text-lg":"text-xl sm:text-2xl lg:text-3xl"),children:e}),t&&s.jsx("p",{className:ee("text-muted-foreground",i?"text-xs":"text-sm sm:text-base"),children:t})]})]})}),(r||n)&&s.jsxs("div",{className:"flex flex-col space-y-2 sm:flex-col sm:space-y-2 sm:items-end",children:[r&&s.jsx("div",{className:"flex flex-wrap mx-auto md:m-0 items-center gap-4",children:r}),n&&s.jsx("div",{className:"flex flex-wrap mx-auto md:m-0 items-center gap-4",children:n})]})]})}),s.jsx("main",{className:ee("flex-1 pt-4 sm:pt-6","px-0 sm:px-0","space-y-4 sm:space-y-6",d),children:o})]})},MIe=()=>s.jsx(Vt,{title:"",subtitle:"",children:s.jsx("div",{})}),OIe=()=>s.jsxs("div",{className:"container mx-auto p-3 sm:p-4 lg:p-6 ",children:[s.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[s.jsxs("div",{className:"flex items-center justify-center mb-3 sm:mb-4",children:[s.jsx(mve,{className:"h-6 w-6 sm:h-8 sm:w-8 text-primary mr-2 sm:mr-3"}),s.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-foreground",children:"Terms of Service"})]}),s.jsx("p",{className:"text-muted-foreground text-sm sm:text-lg px-2 sm:px-0",children:"Please read these terms carefully before using our pizza ordering service."}),s.jsxs("div",{className:"flex items-center justify-center mt-3 sm:mt-4 text-xs sm:text-sm text-muted-foreground",children:[s.jsx(js,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),s.jsxs("span",{children:["Last updated: ",new Date().toLocaleDateString()]})]})]}),s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsxs(be,{className:"border-border bg-card",children:[s.jsx(Te,{className:"pb-3 sm:pb-6",children:s.jsxs(Ue,{className:"flex items-center text-lg sm:text-xl text-card-foreground",children:[s.jsx(Br,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-primary"}),"1. Acceptance of Terms"]})}),s.jsx(Ne,{className:"space-y-3 sm:space-y-4 pt-0",children:s.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"By accessing and using Pizza Portal, you accept and agree to be bound by the terms and provision of this agreement. If you do not agree to abide by the above, please do not use this service."})})]}),s.jsxs(be,{className:"border-border bg-card",children:[s.jsx(Te,{className:"pb-3 sm:pb-6",children:s.jsx(Ue,{className:"text-lg sm:text-xl text-card-foreground",children:"2. Service Description"})}),s.jsxs(Ne,{className:"space-y-3 sm:space-y-4 pt-0",children:[s.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"Pizza Portal is an online platform that allows users to browse, customize, and order pizzas for delivery or pickup. Our service includes:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 sm:space-y-2 text-muted-foreground ml-3 sm:ml-4 text-sm sm:text-base",children:[s.jsx("li",{children:"Online pizza ordering and customization"}),s.jsx("li",{children:"Real-time order tracking"}),s.jsx("li",{children:"Payment processing"}),s.jsx("li",{children:"Customer account management"}),s.jsx("li",{children:"Delivery and pickup coordination"})]})]})]}),s.jsxs(be,{className:"border-border bg-card",children:[s.jsx(Te,{className:"pb-3 sm:pb-6",children:s.jsx(Ue,{className:"text-lg sm:text-xl text-card-foreground",children:"3. User Responsibilities"})}),s.jsxs(Ne,{className:"space-y-3 sm:space-y-4 pt-0",children:[s.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"As a user of our service, you agree to:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 sm:space-y-2 text-muted-foreground ml-3 sm:ml-4 text-sm sm:text-base",children:[s.jsx("li",{children:"Provide accurate and complete information when placing orders"}),s.jsx("li",{children:"Use the service only for lawful purposes"}),s.jsx("li",{children:"Maintain the security of your account credentials"}),s.jsx("li",{children:"Pay for all orders placed through your account"}),s.jsx("li",{children:"Respect our staff and delivery personnel"})]})]})]}),s.jsxs(be,{className:"border-border bg-card",children:[s.jsx(Te,{className:"pb-3 sm:pb-6",children:s.jsx(Ue,{className:"text-lg sm:text-xl text-card-foreground",children:"4. Payment Terms"})}),s.jsxs(Ne,{className:"space-y-3 sm:space-y-4 pt-0",children:[s.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"Payment is required at the time of order placement. We accept major credit cards, debit cards, and digital payment methods. All prices are subject to change without notice. Taxes and delivery fees may apply."}),s.jsx("div",{className:"bg-destructive/5 dark:bg-destructive/10 p-3 sm:p-4 rounded-lg border border-destructive/20",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(Cb,{className:"h-4 w-4 sm:h-5 sm:w-5 text-destructive mr-2 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-destructive",children:"Refund Policy"}),s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mt-1",children:"Refunds are available for cancelled orders before preparation begins. Contact customer service within 30 minutes of order placement."})]})]})})]})]}),s.jsxs(be,{className:"border-border bg-card",children:[s.jsx(Te,{className:"pb-3 sm:pb-6",children:s.jsx(Ue,{className:"text-lg sm:text-xl text-card-foreground",children:"5. Delivery Terms"})}),s.jsx(Ne,{className:"space-y-3 sm:space-y-4 pt-0",children:s.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"Delivery times are estimates and may vary based on location, weather, and order volume. We are not responsible for delays beyond our control. Delivery is available within our designated service areas only."})})]}),s.jsxs(be,{className:"border-border bg-card",children:[s.jsx(Te,{className:"pb-3 sm:pb-6",children:s.jsx(Ue,{className:"text-lg sm:text-xl text-card-foreground",children:"6. Limitation of Liability"})}),s.jsx(Ne,{className:"space-y-3 sm:space-y-4 pt-0",children:s.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"Pizza Portal shall not be liable for any indirect, incidental, special, consequential, or punitive damages, including without limitation, loss of profits, data, use, goodwill, or other intangible losses."})})]}),s.jsxs(be,{className:"border-border bg-card",children:[s.jsx(Te,{className:"pb-3 sm:pb-6",children:s.jsx(Ue,{className:"text-lg sm:text-xl text-card-foreground",children:"7. Privacy"})}),s.jsx(Ne,{className:"space-y-3 sm:space-y-4 pt-0",children:s.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"Your privacy is important to us. Please review our Privacy Policy, which also governs your use of the service, to understand our practices."})})]}),s.jsxs(be,{className:"border-border bg-card",children:[s.jsx(Te,{className:"pb-3 sm:pb-6",children:s.jsx(Ue,{className:"text-lg sm:text-xl text-card-foreground",children:"8. Modifications to Terms"})}),s.jsx(Ne,{className:"space-y-3 sm:space-y-4 pt-0",children:s.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"We reserve the right to modify these terms at any time. Changes will be effective immediately upon posting. Your continued use of the service constitutes acceptance of the modified terms."})})]}),s.jsxs(be,{className:"border-border bg-card",children:[s.jsx(Te,{className:"pb-3 sm:pb-6",children:s.jsx(Ue,{className:"text-lg sm:text-xl text-card-foreground",children:"9. Contact Information"})}),s.jsxs(Ne,{className:"space-y-3 sm:space-y-4 pt-0",children:[s.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"If you have any questions about these Terms of Service, please contact us at:"}),s.jsxs("div",{className:"bg-muted/50 p-3 sm:p-4 rounded-lg",children:[s.jsx("p",{className:"font-medium text-foreground text-sm sm:text-base",children:"Pizza Portal Support"}),s.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm",children:"Email: legal@pizzaportal.com"}),s.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm",children:"Phone: 1-800-PIZZA-01"}),s.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm",children:"Address: 123 Pizza Street, Food City, FC 12345"})]})]})]})]}),s.jsx(cs,{className:"my-6 sm:my-8"}),s.jsx("div",{className:"text-center text-xs sm:text-sm text-muted-foreground px-2 sm:px-0",children:s.jsx("p",{children:"By using Pizza Portal, you acknowledge that you have read, understood, and agree to be bound by these Terms of Service."})})]}),IIe=()=>s.jsxs("div",{className:"container mx-auto p-3 sm:p-4 md:p-6 lg:p-8",children:[s.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[s.jsxs("div",{className:"flex items-center justify-center mb-3 sm:mb-4",children:[s.jsx(Br,{className:"h-6 w-6 sm:h-7 sm:w-7 md:h-8 md:w-8 text-primary mr-2 sm:mr-3"}),s.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-foreground",children:"Privacy Policy"})]}),s.jsx("p",{className:"text-muted-foreground text-base sm:text-lg px-4 sm:px-0",children:"Your privacy is important to us. This policy explains how we collect, use, and protect your information."}),s.jsxs("div",{className:"flex items-center justify-center mt-3 sm:mt-4 text-xs sm:text-sm text-muted-foreground",children:[s.jsx(js,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),s.jsxs("span",{children:["Last updated: ",new Date().toLocaleDateString()]})]})]}),s.jsxs("div",{className:"space-y-4 sm:space-y-6 mx-2 sm:mx-0",children:[s.jsxs(be,{className:"border-border bg-card",children:[s.jsx(Te,{className:"pb-3 sm:pb-6",children:s.jsxs(Ue,{className:"flex items-center text-lg sm:text-xl text-card-foreground",children:[s.jsx(kxe,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-primary"}),"1. Information We Collect"]})}),s.jsxs(Ne,{className:"space-y-3 sm:space-y-4 pt-0",children:[s.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"We collect information you provide directly to us, such as when you create an account, place an order, or contact us for support."}),s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2 text-sm sm:text-base",children:"Personal Information:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground ml-3 sm:ml-4 text-sm sm:text-base",children:[s.jsx("li",{children:"Name, email address, and phone number"}),s.jsx("li",{children:"Delivery address and billing information"}),s.jsx("li",{children:"Payment method details (processed securely)"}),s.jsx("li",{children:"Order history and preferences"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2 text-sm sm:text-base",children:"Automatically Collected Information:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground ml-3 sm:ml-4 text-sm sm:text-base",children:[s.jsx("li",{children:"Device information and IP address"}),s.jsx("li",{children:"Browser type and operating system"}),s.jsx("li",{children:"Usage patterns and interaction data"}),s.jsx("li",{children:"Location data (with your permission)"})]})]})]})]})]}),s.jsxs(be,{className:"border-border bg-card",children:[s.jsx(Te,{className:"pb-3 sm:pb-6",children:s.jsxs(Ue,{className:"flex items-center text-lg sm:text-xl text-card-foreground",children:[s.jsx(Sn,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-primary"}),"2. How We Use Your Information"]})}),s.jsxs(Ne,{className:"space-y-3 sm:space-y-4 pt-0",children:[s.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"We use the information we collect to provide, maintain, and improve our services:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 sm:space-y-2 text-muted-foreground ml-3 sm:ml-4 text-sm sm:text-base",children:[s.jsx("li",{children:"Process and fulfill your pizza orders"}),s.jsx("li",{children:"Communicate with you about your orders and account"}),s.jsx("li",{children:"Provide customer support and respond to inquiries"}),s.jsx("li",{children:"Send promotional offers and updates (with your consent)"}),s.jsx("li",{children:"Improve our website and services"}),s.jsx("li",{children:"Prevent fraud and ensure security"}),s.jsx("li",{children:"Comply with legal obligations"})]})]})]}),s.jsxs(be,{className:"border-border bg-card",children:[s.jsx(Te,{className:"pb-3 sm:pb-6",children:s.jsx(Ue,{className:"text-lg sm:text-xl text-card-foreground",children:"3. Information Sharing and Disclosure"})}),s.jsxs(Ne,{className:"space-y-3 sm:space-y-4 pt-0",children:[s.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"We do not sell, trade, or otherwise transfer your personal information to third parties except in the following circumstances:"}),s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsxs("div",{className:"bg-primary/5 dark:bg-primary/10 p-3 sm:p-4 rounded-lg border border-primary/20",children:[s.jsx("h4",{className:"font-semibold text-primary mb-2 text-sm sm:text-base",children:"Service Providers:"}),s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"We share information with trusted third-party service providers who help us operate our business, such as payment processors, delivery services, and cloud hosting providers."})]}),s.jsxs("div",{className:"bg-destructive/5 dark:bg-destructive/10 p-3 sm:p-4 rounded-lg border border-destructive/20",children:[s.jsx("h4",{className:"font-semibold text-destructive mb-2 text-sm sm:text-base",children:"Legal Requirements:"}),s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"We may disclose information when required by law, court order, or government request, or to protect our rights and safety."})]})]})]})]}),s.jsxs(be,{className:"border-border bg-card",children:[s.jsx(Te,{className:"pb-3 sm:pb-6",children:s.jsxs(Ue,{className:"flex items-center text-lg sm:text-xl text-card-foreground",children:[s.jsx(kd,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-primary"}),"4. Data Security"]})}),s.jsxs(Ne,{className:"space-y-3 sm:space-y-4 pt-0",children:[s.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"We implement appropriate technical and organizational measures to protect your personal information:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 sm:space-y-2 text-muted-foreground ml-3 sm:ml-4 text-sm sm:text-base",children:[s.jsx("li",{children:"SSL encryption for data transmission"}),s.jsx("li",{children:"Secure servers and databases"}),s.jsx("li",{children:"Regular security audits and updates"}),s.jsx("li",{children:"Access controls and employee training"}),s.jsx("li",{children:"Payment card industry (PCI) compliance"})]}),s.jsx("div",{className:"bg-destructive/5 dark:bg-destructive/10 p-3 sm:p-4 rounded-lg border border-destructive/20 mt-3 sm:mt-4",children:s.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:[s.jsx("strong",{className:"text-destructive",children:"Important:"})," While we strive to protect your information, no method of transmission over the internet or electronic storage is 100% secure. We cannot guarantee absolute security."]})})]})]}),s.jsxs(be,{className:"border-border bg-card",children:[s.jsx(Te,{className:"pb-3 sm:pb-6",children:s.jsx(Ue,{className:"text-lg sm:text-xl text-card-foreground",children:"5. Your Rights and Choices"})}),s.jsxs(Ne,{className:"space-y-3 sm:space-y-4 pt-0",children:[s.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"You have several rights regarding your personal information:"}),s.jsxs("div",{className:"grid sm:grid-cols-2 gap-3 sm:gap-4",children:[s.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground text-sm sm:text-base",children:"Access & Update"}),s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"View and update your account information anytime"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground text-sm sm:text-base",children:"Delete Account"}),s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Request deletion of your account and data"})]})]}),s.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground text-sm sm:text-base",children:"Marketing Opt-out"}),s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Unsubscribe from promotional emails"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground text-sm sm:text-base",children:"Data Portability"}),s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Request a copy of your data"})]})]})]})]})]}),s.jsxs(be,{className:"border-border bg-card",children:[s.jsx(Te,{className:"pb-3 sm:pb-6",children:s.jsx(Ue,{className:"text-lg sm:text-xl text-card-foreground",children:"6. Cookies and Tracking Technologies"})}),s.jsxs(Ne,{className:"space-y-3 sm:space-y-4 pt-0",children:[s.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"We use cookies and similar technologies to enhance your experience:"}),s.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[s.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3",children:[s.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground text-sm sm:text-base",children:"Essential Cookies"}),s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Required for basic website functionality"})]})]}),s.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3",children:[s.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground text-sm sm:text-base",children:"Analytics Cookies"}),s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Help us understand how you use our website"})]})]}),s.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3",children:[s.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground text-sm sm:text-base",children:"Marketing Cookies"}),s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Used to show relevant advertisements"})]})]})]})]})]}),s.jsxs(be,{className:"border-border bg-card",children:[s.jsx(Te,{className:"pb-3 sm:pb-6",children:s.jsx(Ue,{className:"text-lg sm:text-xl text-card-foreground",children:"7. Children's Privacy"})}),s.jsx(Ne,{className:"space-y-3 sm:space-y-4 pt-0",children:s.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"Our service is not intended for children under 13 years of age. We do not knowingly collect personal information from children under 13. If you are a parent or guardian and believe your child has provided us with personal information, please contact us immediately."})})]}),s.jsxs(be,{className:"border-border bg-card",children:[s.jsx(Te,{className:"pb-3 sm:pb-6",children:s.jsx(Ue,{className:"text-lg sm:text-xl text-card-foreground",children:"8. Changes to This Privacy Policy"})}),s.jsx(Ne,{className:"space-y-3 sm:space-y-4 pt-0",children:s.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:'We may update this Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "Last updated" date. You are advised to review this Privacy Policy periodically for any changes.'})})]}),s.jsxs(be,{className:"border-border bg-card",children:[s.jsx(Te,{className:"pb-3 sm:pb-6",children:s.jsxs(Ue,{className:"flex items-center text-lg sm:text-xl text-card-foreground",children:[s.jsx(xc,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-primary"}),"9. Contact Us"]})}),s.jsxs(Ne,{className:"space-y-3 sm:space-y-4 pt-0",children:[s.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"If you have any questions about this Privacy Policy or our privacy practices, please contact us:"}),s.jsxs("div",{className:"bg-muted/50 p-3 sm:p-4 rounded-lg",children:[s.jsx("p",{className:"font-medium text-foreground text-sm sm:text-base",children:"Privacy Officer - Pizza Portal"}),s.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm",children:"Email: privacy@pizzaportal.com"}),s.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm",children:"Phone: 1-800-PRIVACY"}),s.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm",children:"Address: 123 Pizza Street, Food City, FC 12345"})]})]})]})]}),s.jsx(cs,{className:"my-6 sm:my-8"}),s.jsx("div",{className:"text-center text-xs sm:text-sm text-muted-foreground",children:s.jsx("p",{children:"By using Pizza Portal, you consent to the collection and use of your information as described in this Privacy Policy."})})]});function $1(e){const t=e+"CollectionProvider",[r,n]=jn(t),[a,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),l=N=>{const{scope:h,children:y}=N,w=pe.useRef(null),j=pe.useRef(new Map).current;return s.jsx(a,{scope:h,itemMap:j,collectionRef:w,children:y})};l.displayName=t;const c=e+"CollectionSlot",d=lc(c),u=pe.forwardRef((N,h)=>{const{scope:y,children:w}=N,j=o(c,y),C=ct(h,j.collectionRef);return s.jsx(d,{ref:C,children:w})});u.displayName=c;const i=e+"CollectionItemSlot",m="data-radix-collection-item",g=lc(i),x=pe.forwardRef((N,h)=>{const{scope:y,children:w,...j}=N,C=pe.useRef(null),_=ct(h,C),k=o(i,y);return pe.useEffect(()=>(k.itemMap.set(C,{ref:C,...j}),()=>void k.itemMap.delete(C))),s.jsx(g,{[m]:"",ref:_,children:w})});x.displayName=i;function v(N){const h=o(e+"CollectionConsumer",N);return pe.useCallback(()=>{const w=h.collectionRef.current;if(!w)return[];const j=Array.from(w.querySelectorAll(`[${m}]`));return Array.from(h.itemMap.values()).sort((k,A)=>j.indexOf(k.ref.current)-j.indexOf(A.ref.current))},[h.collectionRef,h.itemMap])}return[{Provider:l,Slot:u,ItemSlot:x},v,n]}var LIe=b.createContext(void 0);function Xd(e){const t=b.useContext(LIe);return e||t||"ltr"}var n_="rovingFocusGroup.onEntryFocus",BIe={bubbles:!1,cancelable:!0},$g="RovingFocusGroup",[GA,tW,FIe]=$1($g),[UIe,H1]=jn($g,[FIe]),[$Ie,HIe]=UIe($g),rW=b.forwardRef((e,t)=>s.jsx(GA.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(GA.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(zIe,{...e,ref:t})})}));rW.displayName=$g;var zIe=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:o,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:u,preventScrollOnEntryFocus:i=!1,...m}=e,g=b.useRef(null),x=ct(t,g),v=Xd(o),[N,h]=Fa({prop:l,defaultProp:c??null,onChange:d,caller:$g}),[y,w]=b.useState(!1),j=Mr(u),C=tW(r),_=b.useRef(!1),[k,A]=b.useState(0);return b.useEffect(()=>{const T=g.current;if(T)return T.addEventListener(n_,j),()=>T.removeEventListener(n_,j)},[j]),s.jsx($Ie,{scope:r,orientation:n,dir:v,loop:a,currentTabStopId:N,onItemFocus:b.useCallback(T=>h(T),[h]),onItemShiftTab:b.useCallback(()=>w(!0),[]),onFocusableItemAdd:b.useCallback(()=>A(T=>T+1),[]),onFocusableItemRemove:b.useCallback(()=>A(T=>T-1),[]),children:s.jsx(Ge.div,{tabIndex:y||k===0?-1:0,"data-orientation":n,...m,ref:x,style:{outline:"none",...e.style},onMouseDown:vt(e.onMouseDown,()=>{_.current=!0}),onFocus:vt(e.onFocus,T=>{const R=!_.current;if(T.target===T.currentTarget&&R&&!y){const P=new CustomEvent(n_,BIe);if(T.currentTarget.dispatchEvent(P),!P.defaultPrevented){const M=C().filter(F=>F.focusable),I=M.find(F=>F.active),L=M.find(F=>F.id===N),U=[I,L,...M].filter(Boolean).map(F=>F.ref.current);aW(U,i)}}_.current=!1}),onBlur:vt(e.onBlur,()=>w(!1))})})}),nW="RovingFocusGroupItem",sW=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:o,children:l,...c}=e,d=kn(),u=o||d,i=HIe(nW,r),m=i.currentTabStopId===u,g=tW(r),{onFocusableItemAdd:x,onFocusableItemRemove:v,currentTabStopId:N}=i;return b.useEffect(()=>{if(n)return x(),()=>v()},[n,x,v]),s.jsx(GA.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:s.jsx(Ge.span,{tabIndex:m?0:-1,"data-orientation":i.orientation,...c,ref:t,onMouseDown:vt(e.onMouseDown,h=>{n?i.onItemFocus(u):h.preventDefault()}),onFocus:vt(e.onFocus,()=>i.onItemFocus(u)),onKeyDown:vt(e.onKeyDown,h=>{if(h.key==="Tab"&&h.shiftKey){i.onItemShiftTab();return}if(h.target!==h.currentTarget)return;const y=WIe(h,i.orientation,i.dir);if(y!==void 0){if(h.metaKey||h.ctrlKey||h.altKey||h.shiftKey)return;h.preventDefault();let j=g().filter(C=>C.focusable).map(C=>C.ref.current);if(y==="last")j.reverse();else if(y==="prev"||y==="next"){y==="prev"&&j.reverse();const C=j.indexOf(h.currentTarget);j=i.loop?GIe(j,C+1):j.slice(C+1)}setTimeout(()=>aW(j))}}),children:typeof l=="function"?l({isCurrentTabStop:m,hasTabStop:N!=null}):l})})});sW.displayName=nW;var qIe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function VIe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function WIe(e,t,r){const n=VIe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return qIe[n]}function aW(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function GIe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var oW=rW,iW=sW,z1="Tabs",[YIe,N7e]=jn(z1,[H1]),lW=H1(),[ZIe,eT]=YIe(z1),cW=b.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:o,orientation:l="horizontal",dir:c,activationMode:d="automatic",...u}=e,i=Xd(c),[m,g]=Fa({prop:n,onChange:a,defaultProp:o??"",caller:z1});return s.jsx(ZIe,{scope:r,baseId:kn(),value:m,onValueChange:g,orientation:l,dir:i,activationMode:d,children:s.jsx(Ge.div,{dir:i,"data-orientation":l,...u,ref:t})})});cW.displayName=z1;var dW="TabsList",uW=b.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,o=eT(dW,r),l=lW(r);return s.jsx(oW,{asChild:!0,...l,orientation:o.orientation,dir:o.dir,loop:n,children:s.jsx(Ge.div,{role:"tablist","aria-orientation":o.orientation,...a,ref:t})})});uW.displayName=dW;var fW="TabsTrigger",mW=b.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...o}=e,l=eT(fW,r),c=lW(r),d=gW(l.baseId,n),u=xW(l.baseId,n),i=n===l.value;return s.jsx(iW,{asChild:!0,...c,focusable:!a,active:i,children:s.jsx(Ge.button,{type:"button",role:"tab","aria-selected":i,"aria-controls":u,"data-state":i?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:d,...o,ref:t,onMouseDown:vt(e.onMouseDown,m=>{!a&&m.button===0&&m.ctrlKey===!1?l.onValueChange(n):m.preventDefault()}),onKeyDown:vt(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&l.onValueChange(n)}),onFocus:vt(e.onFocus,()=>{const m=l.activationMode!=="manual";!i&&!a&&m&&l.onValueChange(n)})})})});mW.displayName=fW;var hW="TabsContent",pW=b.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:o,...l}=e,c=eT(hW,r),d=gW(c.baseId,n),u=xW(c.baseId,n),i=n===c.value,m=b.useRef(i);return b.useEffect(()=>{const g=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(g)},[]),s.jsx(Qo,{present:a||i,children:({present:g})=>s.jsx(Ge.div,{"data-state":i?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!g,id:u,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:g&&o})})});pW.displayName=hW;function gW(e,t){return`${e}-trigger-${t}`}function xW(e,t){return`${e}-content-${t}`}var KIe=cW,vW=uW,yW=mW,bW=pW;const Qd=KIe,_c=b.forwardRef(({className:e,...t},r)=>s.jsx(vW,{ref:r,className:ee("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));_c.displayName=vW.displayName;const fs=b.forwardRef(({className:e,...t},r)=>s.jsx(yW,{ref:r,className:ee("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));fs.displayName=yW.displayName;const ms=b.forwardRef(({className:e,...t},r)=>s.jsx(bW,{ref:r,className:ee("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ms.displayName=bW.displayName;const XIe=()=>{const{user:e,getUserProfile:t,logout:r}=za(),{theme:n,setTheme:a}=mg(),o=Ct(),[l,c]=b.useState(e),[d,u]=b.useState(!1),[i,m]=b.useState(""),[g,x]=b.useState(!1),[v]=b.useState(null);b.useEffect(()=>{c(e)},[e]),b.useEffect(()=>{e||N()},[]);const N=async()=>{u(!0),m("");try{const j=await t();j.type.endsWith("/fulfilled")?(m(""),c(j.payload||e)):m("Failed to load user profile")}catch(j){m("Failed to load user profile"),console.error("Profile refresh error:",j)}finally{u(!1)}},h=async()=>{x(!0);try{await r(),o("/login")}catch(j){console.error("Logout error:",j)}finally{x(!1)}},y=()=>{o("/settings/terms")},w=()=>{o("/settings/privacy")};return s.jsxs("div",{className:"container mx-auto p-3 sm:p-4 md:p-6 lg:p-8 max-w-4xl",children:[s.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[s.jsxs("div",{className:"flex items-center justify-center mb-3 sm:mb-4",children:[s.jsx(pg,{className:"h-6 w-6 sm:h-7 sm:w-7 md:h-8 md:w-8 text-primary mr-2 sm:mr-3"}),s.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-foreground",children:"Settings"})]}),s.jsx("p",{className:"text-muted-foreground text-base sm:text-lg px-4 sm:px-0",children:"Manage your account preferences and privacy settings."})]}),v&&s.jsxs(Ze,{className:`mb-4 sm:mb-6 mx-2 sm:mx-0 ${v.includes("successfully")?"border-green-200 bg-green-50 dark:bg-green-900/20":"border-red-200 bg-red-50 dark:bg-red-900/20"}`,children:[s.jsx(Ns,{className:`h-4 w-4 ${v.includes("successfully")?"text-green-600":"text-red-600"}`}),s.jsx(Ke,{className:v.includes("successfully")?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300",children:v})]}),s.jsxs(Qd,{defaultValue:"profile",className:"space-y-4 sm:space-y-6",children:[s.jsxs(_c,{className:"grid w-full grid-cols-2 mx-2 sm:mx-0",children:[s.jsxs(fs,{value:"profile",className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm",children:[s.jsx(Cs,{className:"h-3 w-3 sm:h-4 sm:w-4"}),s.jsx("span",{className:"hidden xs:inline sm:inline",children:"Profile"})]}),s.jsxs(fs,{value:"appearance",className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm",children:[s.jsx(eve,{className:"h-3 w-3 sm:h-4 sm:w-4"}),s.jsx("span",{className:"hidden xs:inline sm:inline",children:"Appearance"})]})]}),s.jsxs(ms,{value:"profile",className:"space-y-4 sm:space-y-6 mx-2 sm:mx-0",children:[s.jsxs(be,{className:"border-border bg-card",children:[s.jsxs(Te,{className:"pb-3 sm:pb-6",children:[s.jsx(Ue,{className:"text-lg sm:text-xl text-card-foreground",children:"Current Profile Information"}),s.jsx(bn,{className:"text-sm sm:text-base text-muted-foreground",children:"View your current account information and details"})]}),s.jsxs(Ne,{className:"pt-0",children:[i&&s.jsx("div",{className:"bg-destructive/10 border border-destructive/20 text-destructive px-3 sm:px-4 py-2 sm:py-3 rounded-md text-sm mb-3 sm:mb-4",children:i}),d?s.jsxs("div",{className:"text-center py-6 sm:py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 sm:h-8 sm:w-8 border-b-2 border-primary mx-auto"}),s.jsx("p",{className:"mt-2 text-muted-foreground text-sm sm:text-base",children:"Loading profile..."})]}):l?s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Name"}),s.jsx("p",{className:"mt-1 text-sm sm:text-base text-foreground font-medium",children:l.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Email"}),s.jsx("p",{className:"mt-1 text-sm sm:text-base text-foreground font-medium break-all",children:l.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Email Verified"}),s.jsx("p",{className:"mt-1",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${l.email_verified_at?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-destructive/10 text-destructive"}`,children:l.email_verified_at?"Verified":"Not Verified"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Member Since"}),s.jsx("p",{className:"mt-1 text-sm sm:text-base text-foreground",children:new Date(l.created_at).toLocaleDateString()})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Last Updated"}),s.jsx("p",{className:"mt-1 text-sm sm:text-base text-foreground",children:new Date(l.updated_at).toLocaleDateString()})]})]}):s.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"No profile data available"})]})]}),s.jsxs(be,{className:"border-border bg-card",children:[s.jsxs(Te,{className:"pb-3 sm:pb-6",children:[s.jsx(Ue,{className:"text-lg sm:text-xl text-card-foreground",children:"Account Actions"}),s.jsx(bn,{className:"text-sm sm:text-base text-muted-foreground",children:"Manage your account and access important information"})]}),s.jsx(Ne,{className:"pt-0",children:s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[s.jsxs(X,{variant:"outline",onClick:y,className:"flex items-center gap-2 justify-center sm:justify-start",children:[s.jsx(o$,{className:"h-4 w-4"}),"Terms & Services"]}),s.jsxs(X,{variant:"outline",onClick:w,className:"flex items-center gap-2 justify-center sm:justify-start",children:[s.jsx(Br,{className:"h-4 w-4"}),"Privacy Policy"]})]}),s.jsx("div",{className:"pt-2 border-t border-border",children:s.jsxs(X,{variant:"destructive",onClick:h,disabled:g,className:"flex items-center gap-2 w-full sm:w-auto",children:[s.jsx(Gxe,{className:"h-4 w-4"}),g?"Logging out...":"Logout"]})})]})})]})]}),s.jsx(ms,{value:"appearance",className:"space-y-4 sm:space-y-6 mx-2 sm:mx-0",children:s.jsxs(be,{className:"border-border bg-card",children:[s.jsxs(Te,{className:"pb-3 sm:pb-6",children:[s.jsx(Ue,{className:"text-lg sm:text-xl text-card-foreground",children:"Theme Preferences"}),s.jsx(bn,{className:"text-sm sm:text-base text-muted-foreground",children:"Customize the appearance of your Pizza Portal experience."})]}),s.jsx(Ne,{className:"space-y-3 sm:space-y-4 pt-0",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4",children:[s.jsxs(X,{variant:n==="light"?"default":"outline",onClick:()=>a("light"),className:"h-16 sm:h-20 flex flex-col items-center justify-center space-y-1 sm:space-y-2 text-sm sm:text-base",children:[s.jsx("div",{className:"w-6 h-6 bg-white border-2 border-gray-300 rounded"}),s.jsx("span",{children:"Light"})]}),s.jsxs(X,{variant:n==="dark"?"default":"outline",onClick:()=>a("dark"),className:"h-16 sm:h-20 flex flex-col items-center justify-center space-y-1 sm:space-y-2 text-sm sm:text-base",children:[s.jsx("div",{className:"w-6 h-6 bg-gray-800 border-2 border-gray-600 rounded"}),s.jsx("span",{children:"Dark"})]}),s.jsxs(X,{variant:n==="system"?"default":"outline",onClick:()=>a("system"),className:"h-16 sm:h-20 flex flex-col items-center justify-center space-y-1 sm:space-y-2 text-sm sm:text-base sm:col-span-1 col-span-1",children:[s.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-white to-gray-800 border-2 border-gray-400 rounded"}),s.jsx("span",{children:"System"})]})]})})]})})]})]})},QIe=[s.jsx(St,{path:"/dashboard",element:s.jsx(At,{children:s.jsx(kt,{children:s.jsx(PIe,{})})})},"dashboard"),s.jsx(St,{path:"/blank-page",element:s.jsx(At,{children:s.jsx(kt,{children:s.jsx(MIe,{})})})},"blank-page"),s.jsx(St,{path:"/settings",element:s.jsx(At,{children:s.jsx(kt,{children:s.jsx(XIe,{})})})},"settings"),s.jsx(St,{path:"/settings/terms",element:s.jsx(At,{children:s.jsx(kt,{children:s.jsx(OIe,{})})})},"terms"),s.jsx(St,{path:"/settings/privacy",element:s.jsx(At,{children:s.jsx(kt,{children:s.jsx(IIe,{})})})},"privacy")],Gl={validateName:e=>{if(!e||!e.trim())return{isValid:!1,error:"User name is required"};const t=e.trim();return t.length<Js.NAME_MIN_LENGTH?{isValid:!1,error:`Name must be at least ${Js.NAME_MIN_LENGTH} characters`}:t.length>Js.NAME_MAX_LENGTH?{isValid:!1,error:`Name must be less than ${Js.NAME_MAX_LENGTH} characters`}:/^[a-zA-Z\s'-]+$/.test(t)?{isValid:!0}:{isValid:!1,error:"Name can only contain letters, spaces, apostrophes, and hyphens"}},validateEmail:e=>{if(!e||!e.trim())return{isValid:!1,error:"Email is required"};const t=e.trim().toLowerCase();return t.length>Js.EMAIL_MAX_LENGTH?{isValid:!1,error:`Email must be less than ${Js.EMAIL_MAX_LENGTH} characters`}:/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)?{isValid:!0}:{isValid:!1,error:"Please enter a valid email address"}},validatePassword:(e,t={minLength:Js.PASSWORD_MIN_LENGTH,requireUppercase:!0,requireLowercase:!0,requireNumbers:!0,requireSpecialChars:!0})=>e?e.length<t.minLength?{isValid:!1,error:`Password must be at least ${t.minLength} characters long`}:e.length>Js.PASSWORD_MAX_LENGTH?{isValid:!1,error:`Password must be less than ${Js.PASSWORD_MAX_LENGTH} characters`}:t.requireUppercase&&!/[A-Z]/.test(e)?{isValid:!1,error:"Password must contain at least one uppercase letter"}:t.requireLowercase&&!/[a-z]/.test(e)?{isValid:!1,error:"Password must contain at least one lowercase letter"}:t.requireNumbers&&!/\d/.test(e)?{isValid:!1,error:"Password must contain at least one number"}:t.requireSpecialChars&&!/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\?]/.test(e)?{isValid:!1,error:"Password must contain at least one special character"}:t.forbiddenPasswords?.some(r=>e.toLowerCase().includes(r.toLowerCase()))?{isValid:!1,error:"Password contains forbidden words"}:{isValid:!0}:{isValid:!1,error:"Password is required"},validatePasswordConfirmation:(e,t)=>t?e!==t?{isValid:!1,error:"Password confirmation does not match"}:{isValid:!0}:{isValid:!1,error:"Password confirmation is required"},validateRoles:e=>Array.isArray(e)?e.length>Js.MAX_ROLES_PER_USER?{isValid:!1,error:`Cannot assign more than ${Js.MAX_ROLES_PER_USER} roles to a user`}:e.filter(r=>!r||!r.trim()).length>0?{isValid:!1,error:"All roles must have valid names"}:{isValid:!0}:{isValid:!1,error:"Roles must be an array"},validatePermissions:e=>Array.isArray(e)?e.length>Js.MAX_PERMISSIONS_PER_USER?{isValid:!1,error:`Cannot assign more than ${Js.MAX_PERMISSIONS_PER_USER} permissions to a user`}:e.filter(r=>!r||!r.trim()).length>0?{isValid:!1,error:"All permissions must have valid names"}:{isValid:!0}:{isValid:!1,error:"Permissions must be an array"},validateUserForm:(e,t=!1)=>{const r={},n=Gl.validateName(e.name);!n.isValid&&n.error&&(r.name=n.error);const a=Gl.validateEmail(e.email);if(!a.isValid&&a.error&&(r.email=a.error),!t||e.password){if(!e.password&&!t)r.password="Password is required";else if(e.password){const c=Gl.validatePassword(e.password);!c.isValid&&c.error&&(r.password=c.error);const d=Gl.validatePasswordConfirmation(e.password,e.password_confirmation||"");!d.isValid&&d.error&&(r.password_confirmation=d.error)}}const o=Gl.validateRoles(e.roles);!o.isValid&&o.error&&(r.roles=o.error);const l=Gl.validatePermissions(e.permissions);return!l.isValid&&l.error&&(r.permissions=l.error),{isValid:Object.keys(r).length===0,errors:r}}},Pr={formatDisplayName:e=>e?e.trim().toLowerCase().replace(/\b\w/g,t=>t.toUpperCase()):"",formatEmail:e=>e?e.trim().toLowerCase():"",formatCreatedAt:e=>{try{const t=new Date(e);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)}catch{return"Invalid Date"}},formatRelativeTime:e=>{try{const t=new Date(e),n=Math.floor((new Date().getTime()-t.getTime())/1e3);return n<60?"Just now":n<3600?`${Math.floor(n/60)} minutes ago`:n<86400?`${Math.floor(n/3600)} hours ago`:n<2592e3?`${Math.floor(n/86400)} days ago`:n<31536e3?`${Math.floor(n/2592e3)} months ago`:`${Math.floor(n/31536e3)} years ago`}catch{return"Unknown"}},formatEmailVerificationStatus:e=>e?"Verified":"Unverified",formatRoleCount:e=>e===0?"No roles":e===1?"1 role":`${e} roles`,formatPermissionCount:e=>e===0?"No permissions":e===1?"1 permission":`${e} permissions`,formatInitials:e=>{if(!e)return"";const t=e.trim().split(" ");return t.length===1?t[0].charAt(0).toUpperCase():(t[0].charAt(0)+t[t.length-1].charAt(0)).toUpperCase()}},tf={sortByName:(e,t="asc")=>[...e].sort((r,n)=>{const a=r.name.localeCompare(n.name);return t==="asc"?a:-a}),sortByEmail:(e,t="asc")=>[...e].sort((r,n)=>{const a=r.email.localeCompare(n.email);return t==="asc"?a:-a}),sortByCreatedAt:(e,t="desc")=>[...e].sort((r,n)=>{const a=new Date(r.created_at).getTime(),o=new Date(n.created_at).getTime();return t==="asc"?a-o:o-a}),sortByRoleCount:(e,t="desc")=>[...e].sort((r,n)=>{const a=r.roles?.length||0,o=n.roles?.length||0;return t==="asc"?a-o:o-a}),sortByPermissionCount:(e,t="desc")=>[...e].sort((r,n)=>{const a=r.permissions?.length||0,o=n.permissions?.length||0;return t==="asc"?a-o:o-a}),sortByVerificationStatus:(e,t="desc")=>[...e].sort((r,n)=>{const a=!!r.email_verified_at,o=!!n.email_verified_at;return a===o?0:t==="desc"?a?-1:1:a?1:-1})},Kc={filterBySearch:(e,t)=>{if(!t.trim())return e;const r=t.toLowerCase().trim();return e.filter(n=>n.name.toLowerCase().includes(r)||n.email.toLowerCase().includes(r))},filterByVerificationStatus:(e,t)=>e.filter(r=>t?!!r.email_verified_at:!r.email_verified_at),filterByRoles:(e,t)=>!t||t.length===0?e:e.filter(r=>r.roles?.some(n=>t.includes(n.name))),filterByPermissions:(e,t)=>!t||t.length===0?e:e.filter(r=>r.permissions?.some(n=>t.includes(n.name))||r.roles?.some(n=>n.permissions?.some(a=>t.includes(a.name)))),filterWithRoles:e=>e.filter(t=>t.roles&&t.roles.length>0),filterWithPermissions:e=>e.filter(t=>t.permissions&&t.permissions.length>0||t.roles&&t.roles.some(r=>r.permissions&&r.permissions.length>0)),filterByStores:(e,t)=>!t||t.length===0?e:e.filter(r=>r.stores?.some(n=>t.includes(n.store.id)))},wW={toSelectOption:e=>({value:e.id,label:`${Pr.formatDisplayName(e.name)} (${e.email})`,user:e}),toSelectOptions:e=>e.map(wW.toSelectOption),toSearchResult:e=>({id:e.id,title:Pr.formatDisplayName(e.name),subtitle:e.email,meta:`${Pr.formatRoleCount(e.roles?.length||0)} • ${Pr.formatEmailVerificationStatus(e.email_verified_at)}`,user:e}),toCsvData:e=>e.map(t=>({ID:t.id,Name:t.name,Email:t.email,"Email Verified":Pr.formatEmailVerificationStatus(t.email_verified_at),"Role Count":t.roles?.length||0,"Permission Count":t.permissions?.length||0,"Store Count":t.stores?.length||0,"Role Names":t.roles?.map(r=>r.name).join("; ")||"","Permission Names":t.permissions?.map(r=>r.name).join("; ")||"","Created At":Pr.formatCreatedAt(t.created_at),"Updated At":Pr.formatCreatedAt(t.updated_at)})),toAnalyticsData:e=>({id:e.id,name:e.name,email:e.email,is_verified:!!e.email_verified_at,role_count:e.roles?.length||0,permission_count:e.permissions?.length||0,store_count:e.stores?.length||0,created_date:e.created_at.split("T")[0],days_since_creation:Math.floor((new Date().getTime()-new Date(e.created_at).getTime())/(1e3*60*60*24))})},JIe=e=>{const t=e.length,r=e.filter(i=>i.email_verified_at).length,n=e.filter(i=>i.roles&&i.roles.length>0).length,a=e.filter(i=>i.permissions&&i.permissions.length>0).length,o=e.filter(i=>i.stores&&i.stores.length>0).length,l=e.reduce((i,m)=>i+(m.roles?.length||0),0),c=e.reduce((i,m)=>i+(m.permissions?.length||0),0),d=t>0?l/t:0,u=t>0?c/t:0;return{totalUsers:t,verifiedUsers:r,unverifiedUsers:t-r,verificationRate:t>0?r/t*100:0,usersWithRoles:n,usersWithPermissions:a,usersWithStores:o,usersWithoutRoles:t-n,avgRolesPerUser:Math.round(d*100)/100,avgPermissionsPerUser:Math.round(u*100)/100}},Am=(e=!0,t)=>{const r=Mt(),[n,a]=b.useState("name"),[o,l]=b.useState("asc"),c=ue(zse),d=ue(Ose),u=ue(jF),i=ue(NF),m=ue(Ise),g=ue(Gse),x=ue(Yse),v=ue(Zse),N=ue(Wse),h=ue(qse),y=ue(CF),w=b.useMemo(()=>{let M=[...d];switch(n){case"name":M=tf.sortByName(M,o);break;case"email":M=tf.sortByEmail(M,o);break;case"created_at":M=tf.sortByCreatedAt(M,o);break;case"role_count":M=tf.sortByRoleCount(M,o);break;case"permission_count":M=tf.sortByPermissionCount(M,o);break;default:M=tf.sortByName(M,o)}return M},[d,n,o]),j=b.useMemo(()=>{let M=w;return c&&(M=Kc.filterBySearch(M,c)),h.emailVerified!==void 0&&(M=Kc.filterByVerificationStatus(M,h.emailVerified)),h.roleNames&&h.roleNames.length>0&&(M=Kc.filterByRoles(M,h.roleNames)),h.permissionNames&&h.permissionNames.length>0&&(M=Kc.filterByPermissions(M,h.permissionNames)),h.storeIds&&h.storeIds.length>0&&(M=Kc.filterByStores(M,h.storeIds)),h.hasRoles===!0?M=Kc.filterWithRoles(M):h.hasRoles===!1&&(M=M.filter(I=>!I.roles||I.roles.length===0)),h.hasPermissions===!0?M=Kc.filterWithPermissions(M):h.hasPermissions===!1&&(M=M.filter(I=>(!I.permissions||I.permissions.length===0)&&(!I.roles||!I.roles.some(L=>L.permissions&&L.permissions.length>0)))),M},[w,c,h]),C=b.useMemo(()=>wW.toSelectOptions(j),[j]),_=b.useMemo(()=>JIe(d),[d]),k=b.useRef(t);k.current=t;const A=b.useCallback(async M=>{const I={page:m?.currentPage||1,per_page:y,search:c,...h,...M};try{await r(Ui(I)).unwrap()}catch(L){throw console.error("Failed to fetch users:",L),L}},[r,m?.currentPage,y,c,h]),T=b.useCallback(async()=>{await A(k.current)},[A]),R=b.useCallback(M=>{r(Pse(M))},[r]),P=b.useCallback(M=>{r(SF(M))},[r]);return b.useEffect(()=>{e&&!g&&!u&&!i&&A(k.current)},[e,g,u,i,A]),b.useEffect(()=>()=>{i&&r(kse())},[r,i]),b.useMemo(()=>({users:d,loading:u,error:i,pagination:m,hasUsers:g,isEmpty:x,totalUsers:v,fetchUsers:A,refetch:T,sortedUsers:w,setSortField:a,setSortDirection:l,sortField:n,sortDirection:o,searchTerm:c,setSearchTerm:R,filteredUsers:j,selectOptions:C,usersWithCounts:N,userStats:_,perPage:y,setPerPage:P}),[d,u,i,m,g,x,v,A,T,w,a,l,n,o,c,R,j,C,N,_,y,P])},e3e=()=>{const e=Mt(),t=ue(Lse),r=ue(Bse),n=b.useCallback(c=>Gl.validateUserForm(c,!1),[]),a=b.useCallback(c=>({name:Pr.formatDisplayName(c.name),email:Pr.formatEmail(c.email),password:c.password,password_confirmation:c.password_confirmation,roles:c.roles,permissions:c.permissions}),[]),o=b.useCallback(async c=>{const d={name:c.name,email:c.email,password:c.password,password_confirmation:c.password_confirmation,roles:c.roles,permissions:c.permissions},u=n(d);if(!u.isValid){const m=Object.values(u.errors)[0];throw new Error(m)}const i=a(d);try{return await e(G0(i)).unwrap()}catch(m){throw console.error("Failed to create user:",m),m}},[e,n,a]),l=b.useCallback(()=>{e(Dse())},[e]);return b.useMemo(()=>({createUser:o,loading:t,error:r,reset:l,validateForm:n,formatForApi:a}),[o,t,r,l,n,a])},t3e=()=>{const e=Mt(),t=ue(Fse),r=ue(Use),n=b.useCallback(c=>Gl.validateUserForm(c,!0),[]),a=b.useCallback(c=>{const d={name:Pr.formatDisplayName(c.name),email:Pr.formatEmail(c.email),roles:c.roles,permissions:c.permissions};return c.password&&(d.password=c.password,d.password_confirmation=c.password_confirmation),d},[]),o=b.useCallback(async(c,d)=>{const u={name:d.name||"",email:d.email||"",password:d.password,password_confirmation:d.password_confirmation,roles:d.roles||[],permissions:d.permissions||[]},i=n(u);if(!i.isValid){const m=Object.values(i.errors)[0];throw new Error(m)}try{return await e(Y0({userId:c,data:d})).unwrap()}catch(m){throw console.error("Failed to update user:",m),m}},[e,n]),l=b.useCallback(()=>{e(Tse())},[e]);return b.useMemo(()=>({updateUser:o,loading:t,error:r,reset:l,validateForm:n,formatForApi:a}),[o,t,r,l,n,a])},r3e=()=>{const e=Mt(),t=ue($se),r=ue(Hse),n=b.useCallback(async o=>{try{await e(Z0(o)).unwrap()}catch(l){throw console.error("Failed to delete user:",l),l}},[e]),a=b.useCallback(()=>{e(Rse())},[e]);return b.useMemo(()=>({deleteUser:n,loading:t,error:r,reset:a}),[n,t,r,a])},SW=e=>{const t=Mt(),r=ue(l=>e?Vse(l,e):void 0),n=ue(jF),a=ue(NF);b.useEffect(()=>{e&&!r&&!n&&t(K0(e))},[e,r,n,t]);const o=b.useMemo(()=>r?{displayName:Pr.formatDisplayName(r.name),formattedEmail:Pr.formatEmail(r.email),createdAt:Pr.formatCreatedAt(r.created_at),updatedAt:Pr.formatCreatedAt(r.updated_at),relativeTime:Pr.formatRelativeTime(r.created_at),verificationStatus:Pr.formatEmailVerificationStatus(r.email_verified_at),roleCount:r.roles?.length||0,permissionCount:r.permissions?.length||0,storeCount:r.stores?.length||0,roleNames:r.roles?.map(l=>l.name).join(", ")||"No roles",permissionNames:r.permissions?.map(l=>l.name).join(", ")||"No permissions",initials:Pr.formatInitials(r.name)}:null,[r]);return b.useMemo(()=>({user:r,formattedData:o,loading:n,error:a,exists:!!r}),[r,o,n,a])},mn=b.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:ee("w-full caption-bottom text-sm",e),...t})}));mn.displayName="Table";const hn=b.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:ee("[&_tr]:border-b",e),...t}));hn.displayName="TableHeader";const pn=b.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:ee("[&_tr:last-child]:border-0",e),...t}));pn.displayName="TableBody";const n3e=b.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:ee("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));n3e.displayName="TableFooter";const Nt=b.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:ee("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Nt.displayName="TableRow";const Be=b.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:ee("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));Be.displayName="TableHead";const Re=b.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:ee("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));Re.displayName="TableCell";const s3e=b.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:ee("mt-4 text-sm text-muted-foreground",e),...t}));s3e.displayName="TableCaption";const a3e=Vd("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ve({className:e,variant:t,...r}){return s.jsx("div",{className:ee(a3e({variant:t}),e),...r})}const o3e=({user:e,onView:t,onEdit:r,onDelete:n,deleteLoading:a=!1})=>s.jsxs(Nt,{className:"border-border bg-card hover:bg-muted/50",children:[s.jsx(Re,{className:"font-medium text-xs sm:text-sm p-2 sm:p-4 text-foreground",children:s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx("div",{className:"h-6 w-6 sm:h-8 sm:w-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-medium bg-primary text-primary-foreground",children:Pr.formatInitials(e.name)}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("div",{className:"text-xs sm:text-sm font-medium truncate text-foreground",title:Pr.formatDisplayName(e.name),children:Pr.formatDisplayName(e.name)}),s.jsxs("div",{className:"sm:hidden mt-1 space-y-1",children:[e.roles&&e.roles.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.roles.slice(0,2).map(o=>s.jsx(Ve,{variant:"outline",className:"text-xs px-1 py-0.5 bg-secondary text-secondary-foreground border-border",children:o.name},o.id)),e.roles.length>2&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",e.roles.length-2]})]}),e.stores&&e.stores.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.stores.slice(0,2).map(o=>s.jsx(Ve,{variant:"secondary",className:"text-xs px-1 py-0.5 bg-accent text-accent-foreground border-border",children:o.store.name},o.store.id)),e.stores.length>2&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",e.stores.length-2]})]})]})]})]})}),s.jsx(Re,{className:"p-2 sm:p-4 hidden sm:table-cell",children:s.jsx("div",{className:"space-y-1 max-w-[20rem] lg:max-w-none",children:e.roles&&e.roles.length>0?s.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.roles.slice(0,4).map(o=>s.jsx(Ve,{variant:"outline",className:"text-xs px-1 py-0.5 bg-secondary text-secondary-foreground border-border",children:s.jsx("span",{className:"truncate max-w-[7rem]",title:o.name,children:o.name})},o.id)),e.roles.length>4&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",e.roles.length-4]})]}):s.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground",children:"No roles"})})}),s.jsx(Re,{className:"p-2 sm:p-4 hidden md:table-cell",children:s.jsx("div",{className:"space-y-1 max-w-[20rem] lg:max-w-none",children:e.stores&&e.stores.length>0?s.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.stores.slice(0,4).map(o=>s.jsx(Ve,{variant:"secondary",className:"text-xs px-1 py-0.5 bg-accent text-accent-foreground border-border",children:s.jsx("span",{className:"truncate max-w-[7rem]",title:o.store.name,children:o.store.name})},o.store.id)),e.stores.length>4&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",e.stores.length-4]})]}):s.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground",children:"No stores"})})}),s.jsx(Re,{className:"text-right p-2 sm:p-4",children:s.jsxs("div",{className:"flex items-center justify-end gap-1 sm:gap-2",children:[s.jsx(X,{variant:"ghost",size:"sm",onClick:()=>t(e.id),className:"h-7 w-7 sm:h-8 sm:w-8 p-0 text-muted-foreground bg-transparent hover:bg-muted/50",title:"View user",children:s.jsx(Sn,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),s.jsx(X,{variant:"ghost",size:"sm",onClick:()=>r(e.id),className:"h-7 w-7 sm:h-8 sm:w-8 p-0 text-muted-foreground bg-transparent hover:bg-muted/50",title:"Edit user",children:s.jsx(pa,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),s.jsx(X,{variant:"ghost",size:"sm",onClick:()=>n({id:e.id,name:e.name}),className:"h-7 w-7 sm:h-8 sm:w-8 p-0 text-destructive bg-transparent hover:bg-destructive/10",disabled:a,title:"Delete user",children:s.jsx(Dn,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]})})]}),i3e=()=>s.jsx(hn,{className:"bg-muted border-b border-border",children:s.jsxs(Nt,{className:"border-border",children:[s.jsx(Be,{className:"min-w-[10rem] text-xs sm:text-sm text-foreground font-semibold",children:"Name"}),s.jsx(Be,{className:"min-w-[8rem] text-xs sm:text-sm hidden sm:table-cell text-foreground font-semibold",children:"Roles"}),s.jsx(Be,{className:"min-w-[8rem] text-xs sm:text-sm hidden md:table-cell text-foreground font-semibold",children:"Stores"}),s.jsx(Be,{className:"min-w-[6rem] text-xs sm:text-sm text-right text-foreground font-semibold",children:"Actions"})]})});function YA(e,[t,r]){return Math.min(r,Math.max(t,e))}function vn(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}var l3e="DismissableLayer",ZA="dismissableLayer.update",c3e="dismissableLayer.pointerDownOutside",d3e="dismissableLayer.focusOutside",EB,jW=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),NW=b.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...d}=e,u=b.useContext(jW),[i,m]=b.useState(null),g=i?.ownerDocument??globalThis?.document,[,x]=b.useState({}),v=ct(t,A=>m(A)),N=Array.from(u.layers),[h]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=N.indexOf(h),w=i?N.indexOf(i):-1,j=u.layersWithOutsidePointerEventsDisabled.size>0,C=w>=y,_=m3e(A=>{const T=A.target,R=[...u.branches].some(P=>P.contains(T));!C||R||(a?.(A),l?.(A),A.defaultPrevented||c?.())},g),k=h3e(A=>{const T=A.target;[...u.branches].some(P=>P.contains(T))||(o?.(A),l?.(A),A.defaultPrevented||c?.())},g);return Z2(A=>{w===u.layers.size-1&&(n?.(A),!A.defaultPrevented&&c&&(A.preventDefault(),c()))},g),b.useEffect(()=>{if(i)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(EB=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(i)),u.layers.add(i),_B(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=EB)}},[i,g,r,u]),b.useEffect(()=>()=>{i&&(u.layers.delete(i),u.layersWithOutsidePointerEventsDisabled.delete(i),_B())},[i,u]),b.useEffect(()=>{const A=()=>x({});return document.addEventListener(ZA,A),()=>document.removeEventListener(ZA,A)},[]),s.jsx(Ge.div,{...d,ref:v,style:{pointerEvents:j?C?"auto":"none":void 0,...e.style},onFocusCapture:vn(e.onFocusCapture,k.onFocusCapture),onBlurCapture:vn(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:vn(e.onPointerDownCapture,_.onPointerDownCapture)})});NW.displayName=l3e;var u3e="DismissableLayerBranch",f3e=b.forwardRef((e,t)=>{const r=b.useContext(jW),n=b.useRef(null),a=ct(t,n);return b.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),s.jsx(Ge.div,{...e,ref:a})});f3e.displayName=u3e;function m3e(e,t=globalThis?.document){const r=Mr(e),n=b.useRef(!1),a=b.useRef(()=>{});return b.useEffect(()=>{const o=c=>{if(c.target&&!n.current){let d=function(){CW(c3e,r,u,{discrete:!0})};const u={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=d,t.addEventListener("click",a.current,{once:!0})):d()}else t.removeEventListener("click",a.current);n.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function h3e(e,t=globalThis?.document){const r=Mr(e),n=b.useRef(!1);return b.useEffect(()=>{const a=o=>{o.target&&!n.current&&CW(d3e,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function _B(){const e=new CustomEvent(ZA);document.dispatchEvent(e)}function CW(e,t,r,{discrete:n}){const a=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Qw(a,o):a.dispatchEvent(o)}var s_=0;function p3e(){b.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??AB()),document.body.insertAdjacentElement("beforeend",e[1]??AB()),s_++,()=>{s_===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),s_--}},[])}function AB(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var tT="Popper",[EW,_W]=jn(tT),[g3e,AW]=EW(tT),kW=e=>{const{__scopePopper:t,children:r}=e,[n,a]=b.useState(null);return s.jsx(g3e,{scope:t,anchor:n,onAnchorChange:a,children:r})};kW.displayName=tT;var DW="PopperAnchor",TW=b.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,o=AW(DW,r),l=b.useRef(null),c=ct(t,l),d=b.useRef(null);return b.useEffect(()=>{const u=d.current;d.current=n?.current||l.current,u!==d.current&&o.onAnchorChange(d.current)}),n?null:s.jsx(Ge.div,{...a,ref:c})});TW.displayName=DW;var rT="PopperContent",[x3e,v3e]=EW(rT),RW=b.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:o="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:u=[],collisionPadding:i=0,sticky:m="partial",hideWhenDetached:g=!1,updatePositionStrategy:x="optimized",onPlaced:v,...N}=e,h=AW(rT,r),[y,w]=b.useState(null),j=ct(t,de=>w(de)),[C,_]=b.useState(null),k=Sg(C),A=k?.width??0,T=k?.height??0,R=n+(o!=="center"?"-"+o:""),P=typeof i=="number"?i:{top:0,right:0,bottom:0,left:0,...i},M=Array.isArray(u)?u:[u],I=M.length>0,L={padding:P,boundary:M.filter(b3e),altBoundary:I},{refs:B,floatingStyles:U,placement:F,isPositioned:H,middlewareData:W}=SH({strategy:"fixed",placement:R,whileElementsMounted:(...de)=>bH(...de,{animationFrame:x==="always"}),elements:{reference:h.anchor},middleware:[jH({mainAxis:a+T,alignmentAxis:l}),d&&NH({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?CH():void 0,...L}),d&&EH({...L}),_H({...L,apply:({elements:de,rects:xe,availableWidth:ne,availableHeight:ge})=>{const{width:Ce,height:ce}=xe.reference,Oe=de.floating.style;Oe.setProperty("--radix-popper-available-width",`${ne}px`),Oe.setProperty("--radix-popper-available-height",`${ge}px`),Oe.setProperty("--radix-popper-anchor-width",`${Ce}px`),Oe.setProperty("--radix-popper-anchor-height",`${ce}px`)}}),C&&kH({element:C,padding:c}),w3e({arrowWidth:A,arrowHeight:T}),g&&AH({strategy:"referenceHidden",...L})]}),[J,q]=OW(F),G=Mr(v);ir(()=>{H&&G?.()},[H,G]);const z=W.arrow?.x,K=W.arrow?.y,Z=W.arrow?.centerOffset!==0,[ie,ye]=b.useState();return ir(()=>{y&&ye(window.getComputedStyle(y).zIndex)},[y]),s.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:H?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[W.transformOrigin?.x,W.transformOrigin?.y].join(" "),...W.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(x3e,{scope:r,placedSide:J,onArrowChange:_,arrowX:z,arrowY:K,shouldHideArrow:Z,children:s.jsx(Ge.div,{"data-side":J,"data-align":q,...N,ref:j,style:{...N.style,animation:H?void 0:"none"}})})})});RW.displayName=rT;var PW="PopperArrow",y3e={top:"bottom",right:"left",bottom:"top",left:"right"},MW=b.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,o=v3e(PW,n),l=y3e[o.placedSide];return s.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:s.jsx(TH,{...a,ref:r,style:{...a.style,display:"block"}})})});MW.displayName=PW;function b3e(e){return e!==null}var w3e=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:a}=t,l=a.arrow?.centerOffset!==0,c=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[u,i]=OW(r),m={start:"0%",center:"50%",end:"100%"}[i],g=(a.arrow?.x??0)+c/2,x=(a.arrow?.y??0)+d/2;let v="",N="";return u==="bottom"?(v=l?m:`${g}px`,N=`${-d}px`):u==="top"?(v=l?m:`${g}px`,N=`${n.floating.height+d}px`):u==="right"?(v=`${-d}px`,N=l?m:`${x}px`):u==="left"&&(v=`${n.floating.width+d}px`,N=l?m:`${x}px`),{data:{x:v,y:N}}}});function OW(e){const[t,r="center"]=e.split("-");return[t,r]}var S3e=kW,j3e=TW,N3e=RW,C3e=MW;function q1(e){const t=b.useRef({value:e,previous:e});return b.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var E3e=[" ","Enter","ArrowUp","ArrowDown"],_3e=[" ","Enter"],Od="Select",[V1,W1,A3e]=$1(Od),[km,C7e]=jn(Od,[A3e,_W]),G1=_W(),[k3e,Ac]=km(Od),[D3e,T3e]=km(Od),IW=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:o,value:l,defaultValue:c,onValueChange:d,dir:u,name:i,autoComplete:m,disabled:g,required:x,form:v}=e,N=G1(t),[h,y]=b.useState(null),[w,j]=b.useState(null),[C,_]=b.useState(!1),k=Xd(u),[A,T]=Fa({prop:n,defaultProp:a??!1,onChange:o,caller:Od}),[R,P]=Fa({prop:l,defaultProp:c,onChange:d,caller:Od}),M=b.useRef(null),I=h?v||!!h.closest("form"):!0,[L,B]=b.useState(new Set),U=Array.from(L).map(F=>F.props.value).join(";");return s.jsx(S3e,{...N,children:s.jsxs(k3e,{required:x,scope:t,trigger:h,onTriggerChange:y,valueNode:w,onValueNodeChange:j,valueNodeHasChildren:C,onValueNodeHasChildrenChange:_,contentId:kn(),value:R,onValueChange:P,open:A,onOpenChange:T,dir:k,triggerPointerDownPosRef:M,disabled:g,children:[s.jsx(V1.Provider,{scope:t,children:s.jsx(D3e,{scope:e.__scopeSelect,onNativeOptionAdd:b.useCallback(F=>{B(H=>new Set(H).add(F))},[]),onNativeOptionRemove:b.useCallback(F=>{B(H=>{const W=new Set(H);return W.delete(F),W})},[]),children:r})}),I?s.jsxs(oG,{"aria-hidden":!0,required:x,tabIndex:-1,name:i,autoComplete:m,value:R,onChange:F=>P(F.target.value),disabled:g,form:v,children:[R===void 0?s.jsx("option",{value:""}):null,Array.from(L)]},U):null]})})};IW.displayName=Od;var LW="SelectTrigger",BW=b.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,o=G1(r),l=Ac(LW,r),c=l.disabled||n,d=ct(t,l.onTriggerChange),u=W1(r),i=b.useRef("touch"),[m,g,x]=lG(N=>{const h=u().filter(j=>!j.disabled),y=h.find(j=>j.value===l.value),w=cG(h,N,y);w!==void 0&&l.onValueChange(w.value)}),v=N=>{c||(l.onOpenChange(!0),x()),N&&(l.triggerPointerDownPosRef.current={x:Math.round(N.pageX),y:Math.round(N.pageY)})};return s.jsx(j3e,{asChild:!0,...o,children:s.jsx(Ge.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":iG(l.value)?"":void 0,...a,ref:d,onClick:vn(a.onClick,N=>{N.currentTarget.focus(),i.current!=="mouse"&&v(N)}),onPointerDown:vn(a.onPointerDown,N=>{i.current=N.pointerType;const h=N.target;h.hasPointerCapture(N.pointerId)&&h.releasePointerCapture(N.pointerId),N.button===0&&N.ctrlKey===!1&&N.pointerType==="mouse"&&(v(N),N.preventDefault())}),onKeyDown:vn(a.onKeyDown,N=>{const h=m.current!=="";!(N.ctrlKey||N.altKey||N.metaKey)&&N.key.length===1&&g(N.key),!(h&&N.key===" ")&&E3e.includes(N.key)&&(v(),N.preventDefault())})})})});BW.displayName=LW;var FW="SelectValue",UW=b.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:o,placeholder:l="",...c}=e,d=Ac(FW,r),{onValueNodeHasChildrenChange:u}=d,i=o!==void 0,m=ct(t,d.onValueNodeChange);return ir(()=>{u(i)},[u,i]),s.jsx(Ge.span,{...c,ref:m,style:{pointerEvents:"none"},children:iG(d.value)?s.jsx(s.Fragment,{children:l}):o})});UW.displayName=FW;var R3e="SelectIcon",$W=b.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(Ge.span,{"aria-hidden":!0,...a,ref:t,children:n||"▼"})});$W.displayName=R3e;var P3e="SelectPortal",HW=e=>s.jsx(fm,{asChild:!0,...e});HW.displayName=P3e;var Id="SelectContent",zW=b.forwardRef((e,t)=>{const r=Ac(Id,e.__scopeSelect),[n,a]=b.useState();if(ir(()=>{a(new DocumentFragment)},[]),!r.open){const o=n;return o?Hd.createPortal(s.jsx(qW,{scope:e.__scopeSelect,children:s.jsx(V1.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),o):null}return s.jsx(VW,{...e,ref:t})});zW.displayName=Id;var Ja=10,[qW,kc]=km(Id),M3e="SelectContentImpl",O3e=lc("SelectContent.RemoveScroll"),VW=b.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:o,onPointerDownOutside:l,side:c,sideOffset:d,align:u,alignOffset:i,arrowPadding:m,collisionBoundary:g,collisionPadding:x,sticky:v,hideWhenDetached:N,avoidCollisions:h,...y}=e,w=Ac(Id,r),[j,C]=b.useState(null),[_,k]=b.useState(null),A=ct(t,de=>C(de)),[T,R]=b.useState(null),[P,M]=b.useState(null),I=W1(r),[L,B]=b.useState(!1),U=b.useRef(!1);b.useEffect(()=>{if(j)return t1(j)},[j]),p3e();const F=b.useCallback(de=>{const[xe,...ne]=I().map(ce=>ce.ref.current),[ge]=ne.slice(-1),Ce=document.activeElement;for(const ce of de)if(ce===Ce||(ce?.scrollIntoView({block:"nearest"}),ce===xe&&_&&(_.scrollTop=0),ce===ge&&_&&(_.scrollTop=_.scrollHeight),ce?.focus(),document.activeElement!==Ce))return},[I,_]),H=b.useCallback(()=>F([T,j]),[F,T,j]);b.useEffect(()=>{L&&H()},[L,H]);const{onOpenChange:W,triggerPointerDownPosRef:J}=w;b.useEffect(()=>{if(j){let de={x:0,y:0};const xe=ge=>{de={x:Math.abs(Math.round(ge.pageX)-(J.current?.x??0)),y:Math.abs(Math.round(ge.pageY)-(J.current?.y??0))}},ne=ge=>{de.x<=10&&de.y<=10?ge.preventDefault():j.contains(ge.target)||W(!1),document.removeEventListener("pointermove",xe),J.current=null};return J.current!==null&&(document.addEventListener("pointermove",xe),document.addEventListener("pointerup",ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",xe),document.removeEventListener("pointerup",ne,{capture:!0})}}},[j,W,J]),b.useEffect(()=>{const de=()=>W(!1);return window.addEventListener("blur",de),window.addEventListener("resize",de),()=>{window.removeEventListener("blur",de),window.removeEventListener("resize",de)}},[W]);const[q,G]=lG(de=>{const xe=I().filter(Ce=>!Ce.disabled),ne=xe.find(Ce=>Ce.ref.current===document.activeElement),ge=cG(xe,de,ne);ge&&setTimeout(()=>ge.ref.current.focus())}),z=b.useCallback((de,xe,ne)=>{const ge=!U.current&&!ne;(w.value!==void 0&&w.value===xe||ge)&&(R(de),ge&&(U.current=!0))},[w.value]),K=b.useCallback(()=>j?.focus(),[j]),Z=b.useCallback((de,xe,ne)=>{const ge=!U.current&&!ne;(w.value!==void 0&&w.value===xe||ge)&&M(de)},[w.value]),ie=n==="popper"?KA:WW,ye=ie===KA?{side:c,sideOffset:d,align:u,alignOffset:i,arrowPadding:m,collisionBoundary:g,collisionPadding:x,sticky:v,hideWhenDetached:N,avoidCollisions:h}:{};return s.jsx(qW,{scope:r,content:j,viewport:_,onViewportChange:k,itemRefCallback:z,selectedItem:T,onItemLeave:K,itemTextRefCallback:Z,focusSelectedItem:H,selectedItemText:P,position:n,isPositioned:L,searchRef:q,children:s.jsx(xg,{as:O3e,allowPinchZoom:!0,children:s.jsx(gg,{asChild:!0,trapped:w.open,onMountAutoFocus:de=>{de.preventDefault()},onUnmountAutoFocus:vn(a,de=>{w.trigger?.focus({preventScroll:!0}),de.preventDefault()}),children:s.jsx(NW,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:de=>de.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:s.jsx(ie,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:de=>de.preventDefault(),...y,...ye,onPlaced:()=>B(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:vn(y.onKeyDown,de=>{const xe=de.ctrlKey||de.altKey||de.metaKey;if(de.key==="Tab"&&de.preventDefault(),!xe&&de.key.length===1&&G(de.key),["ArrowUp","ArrowDown","Home","End"].includes(de.key)){let ge=I().filter(Ce=>!Ce.disabled).map(Ce=>Ce.ref.current);if(["ArrowUp","End"].includes(de.key)&&(ge=ge.slice().reverse()),["ArrowUp","ArrowDown"].includes(de.key)){const Ce=de.target,ce=ge.indexOf(Ce);ge=ge.slice(ce+1)}setTimeout(()=>F(ge)),de.preventDefault()}})})})})})})});VW.displayName=M3e;var I3e="SelectItemAlignedPosition",WW=b.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,o=Ac(Id,r),l=kc(Id,r),[c,d]=b.useState(null),[u,i]=b.useState(null),m=ct(t,A=>i(A)),g=W1(r),x=b.useRef(!1),v=b.useRef(!0),{viewport:N,selectedItem:h,selectedItemText:y,focusSelectedItem:w}=l,j=b.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&u&&N&&h&&y){const A=o.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),R=o.valueNode.getBoundingClientRect(),P=y.getBoundingClientRect();if(o.dir!=="rtl"){const Ce=P.left-T.left,ce=R.left-Ce,Oe=A.left-ce,Pe=A.width+Oe,ae=Math.max(Pe,T.width),$e=window.innerWidth-Ja,nt=YA(ce,[Ja,Math.max(Ja,$e-ae)]);c.style.minWidth=Pe+"px",c.style.left=nt+"px"}else{const Ce=T.right-P.right,ce=window.innerWidth-R.right-Ce,Oe=window.innerWidth-A.right-ce,Pe=A.width+Oe,ae=Math.max(Pe,T.width),$e=window.innerWidth-Ja,nt=YA(ce,[Ja,Math.max(Ja,$e-ae)]);c.style.minWidth=Pe+"px",c.style.right=nt+"px"}const M=g(),I=window.innerHeight-Ja*2,L=N.scrollHeight,B=window.getComputedStyle(u),U=parseInt(B.borderTopWidth,10),F=parseInt(B.paddingTop,10),H=parseInt(B.borderBottomWidth,10),W=parseInt(B.paddingBottom,10),J=U+F+L+W+H,q=Math.min(h.offsetHeight*5,J),G=window.getComputedStyle(N),z=parseInt(G.paddingTop,10),K=parseInt(G.paddingBottom,10),Z=A.top+A.height/2-Ja,ie=I-Z,ye=h.offsetHeight/2,de=h.offsetTop+ye,xe=U+F+de,ne=J-xe;if(xe<=Z){const Ce=M.length>0&&h===M[M.length-1].ref.current;c.style.bottom="0px";const ce=u.clientHeight-N.offsetTop-N.offsetHeight,Oe=Math.max(ie,ye+(Ce?K:0)+ce+H),Pe=xe+Oe;c.style.height=Pe+"px"}else{const Ce=M.length>0&&h===M[0].ref.current;c.style.top="0px";const Oe=Math.max(Z,U+N.offsetTop+(Ce?z:0)+ye)+ne;c.style.height=Oe+"px",N.scrollTop=xe-Z+N.offsetTop}c.style.margin=`${Ja}px 0`,c.style.minHeight=q+"px",c.style.maxHeight=I+"px",n?.(),requestAnimationFrame(()=>x.current=!0)}},[g,o.trigger,o.valueNode,c,u,N,h,y,o.dir,n]);ir(()=>j(),[j]);const[C,_]=b.useState();ir(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const k=b.useCallback(A=>{A&&v.current===!0&&(j(),w?.(),v.current=!1)},[j,w]);return s.jsx(B3e,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:x,onScrollButtonChange:k,children:s.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:s.jsx(Ge.div,{...a,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});WW.displayName=I3e;var L3e="SelectPopperPosition",KA=b.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Ja,...o}=e,l=G1(r);return s.jsx(N3e,{...l,...o,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});KA.displayName=L3e;var[B3e,nT]=km(Id,{}),XA="SelectViewport",GW=b.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,o=kc(XA,r),l=nT(XA,r),c=ct(t,o.onViewportChange),d=b.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(V1.Slot,{scope:r,children:s.jsx(Ge.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:vn(a.onScroll,u=>{const i=u.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:g}=l;if(g?.current&&m){const x=Math.abs(d.current-i.scrollTop);if(x>0){const v=window.innerHeight-Ja*2,N=parseFloat(m.style.minHeight),h=parseFloat(m.style.height),y=Math.max(N,h);if(y<v){const w=y+x,j=Math.min(v,w),C=w-j;m.style.height=j+"px",m.style.bottom==="0px"&&(i.scrollTop=C>0?C:0,m.style.justifyContent="flex-end")}}}d.current=i.scrollTop})})})]})});GW.displayName=XA;var YW="SelectGroup",[F3e,U3e]=km(YW),$3e=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=kn();return s.jsx(F3e,{scope:r,id:a,children:s.jsx(Ge.div,{role:"group","aria-labelledby":a,...n,ref:t})})});$3e.displayName=YW;var ZW="SelectLabel",KW=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=U3e(ZW,r);return s.jsx(Ge.div,{id:a.id,...n,ref:t})});KW.displayName=ZW;var iw="SelectItem",[H3e,XW]=km(iw),QW=b.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:o,...l}=e,c=Ac(iw,r),d=kc(iw,r),u=c.value===n,[i,m]=b.useState(o??""),[g,x]=b.useState(!1),v=ct(t,w=>d.itemRefCallback?.(w,n,a)),N=kn(),h=b.useRef("touch"),y=()=>{a||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(H3e,{scope:r,value:n,disabled:a,textId:N,isSelected:u,onItemTextChange:b.useCallback(w=>{m(j=>j||(w?.textContent??"").trim())},[]),children:s.jsx(V1.ItemSlot,{scope:r,value:n,disabled:a,textValue:i,children:s.jsx(Ge.div,{role:"option","aria-labelledby":N,"data-highlighted":g?"":void 0,"aria-selected":u&&g,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...l,ref:v,onFocus:vn(l.onFocus,()=>x(!0)),onBlur:vn(l.onBlur,()=>x(!1)),onClick:vn(l.onClick,()=>{h.current!=="mouse"&&y()}),onPointerUp:vn(l.onPointerUp,()=>{h.current==="mouse"&&y()}),onPointerDown:vn(l.onPointerDown,w=>{h.current=w.pointerType}),onPointerMove:vn(l.onPointerMove,w=>{h.current=w.pointerType,a?d.onItemLeave?.():h.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:vn(l.onPointerLeave,w=>{w.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:vn(l.onKeyDown,w=>{d.searchRef?.current!==""&&w.key===" "||(_3e.includes(w.key)&&y(),w.key===" "&&w.preventDefault())})})})})});QW.displayName=iw;var hp="SelectItemText",JW=b.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...o}=e,l=Ac(hp,r),c=kc(hp,r),d=XW(hp,r),u=T3e(hp,r),[i,m]=b.useState(null),g=ct(t,y=>m(y),d.onItemTextChange,y=>c.itemTextRefCallback?.(y,d.value,d.disabled)),x=i?.textContent,v=b.useMemo(()=>s.jsx("option",{value:d.value,disabled:d.disabled,children:x},d.value),[d.disabled,d.value,x]),{onNativeOptionAdd:N,onNativeOptionRemove:h}=u;return ir(()=>(N(v),()=>h(v)),[N,h,v]),s.jsxs(s.Fragment,{children:[s.jsx(Ge.span,{id:d.textId,...o,ref:g}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Hd.createPortal(o.children,l.valueNode):null]})});JW.displayName=hp;var eG="SelectItemIndicator",tG=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return XW(eG,r).isSelected?s.jsx(Ge.span,{"aria-hidden":!0,...n,ref:t}):null});tG.displayName=eG;var QA="SelectScrollUpButton",rG=b.forwardRef((e,t)=>{const r=kc(QA,e.__scopeSelect),n=nT(QA,e.__scopeSelect),[a,o]=b.useState(!1),l=ct(t,n.onScrollButtonChange);return ir(()=>{if(r.viewport&&r.isPositioned){let c=function(){const u=d.scrollTop>0;o(u)};const d=r.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),a?s.jsx(sG,{...e,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=r;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});rG.displayName=QA;var JA="SelectScrollDownButton",nG=b.forwardRef((e,t)=>{const r=kc(JA,e.__scopeSelect),n=nT(JA,e.__scopeSelect),[a,o]=b.useState(!1),l=ct(t,n.onScrollButtonChange);return ir(()=>{if(r.viewport&&r.isPositioned){let c=function(){const u=d.scrollHeight-d.clientHeight,i=Math.ceil(d.scrollTop)<u;o(i)};const d=r.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),a?s.jsx(sG,{...e,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=r;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});nG.displayName=JA;var sG=b.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,o=kc("SelectScrollButton",r),l=b.useRef(null),c=W1(r),d=b.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return b.useEffect(()=>()=>d(),[d]),ir(()=>{c().find(i=>i.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),s.jsx(Ge.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:vn(a.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(n,50))}),onPointerMove:vn(a.onPointerMove,()=>{o.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(n,50))}),onPointerLeave:vn(a.onPointerLeave,()=>{d()})})}),z3e="SelectSeparator",aG=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(Ge.div,{"aria-hidden":!0,...n,ref:t})});aG.displayName=z3e;var e2="SelectArrow",q3e=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=G1(r),o=Ac(e2,r),l=kc(e2,r);return o.open&&l.position==="popper"?s.jsx(C3e,{...a,...n,ref:t}):null});q3e.displayName=e2;var V3e="SelectBubbleInput",oG=b.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=b.useRef(null),o=ct(n,a),l=q1(t);return b.useEffect(()=>{const c=a.current;if(!c)return;const d=window.HTMLSelectElement.prototype,i=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&i){const m=new Event("change",{bubbles:!0});i.call(c,t),c.dispatchEvent(m)}},[l,t]),s.jsx(Ge.select,{...r,style:{...$H,...r.style},ref:o,defaultValue:t})});oG.displayName=V3e;function iG(e){return e===""||e===void 0}function lG(e){const t=Mr(e),r=b.useRef(""),n=b.useRef(0),a=b.useCallback(l=>{const c=r.current+l;t(c),function d(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>d(""),1e3))}(c)},[t]),o=b.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,o]}function cG(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let l=W3e(e,Math.max(o,0));a.length===1&&(l=l.filter(u=>u!==r));const d=l.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return d!==r?d:void 0}function W3e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var G3e=IW,dG=BW,Y3e=UW,Z3e=$W,K3e=HW,uG=zW,X3e=GW,fG=KW,mG=QW,Q3e=JW,J3e=tG,hG=rG,pG=nG,gG=aG;const Lt=G3e,Bt=Y3e,Rt=b.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(dG,{ref:n,className:ee("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(Z3e,{asChild:!0,children:s.jsx(zd,{className:"h-4 w-4 opacity-50"})})]}));Rt.displayName=dG.displayName;const xG=b.forwardRef(({className:e,...t},r)=>s.jsx(hG,{ref:r,className:ee("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(n$,{className:"h-4 w-4"})}));xG.displayName=hG.displayName;const vG=b.forwardRef(({className:e,...t},r)=>s.jsx(pG,{ref:r,className:ee("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(zd,{className:"h-4 w-4"})}));vG.displayName=pG.displayName;const Pt=b.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(K3e,{children:s.jsxs(uG,{ref:a,className:ee("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(xG,{}),s.jsx(X3e,{className:ee("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(vG,{})]})}));Pt.displayName=uG.displayName;const e5e=b.forwardRef(({className:e,...t},r)=>s.jsx(fG,{ref:r,className:ee("px-2 py-1.5 text-sm font-semibold",e),...t}));e5e.displayName=fG.displayName;const ot=b.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(mG,{ref:n,className:ee("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(J3e,{children:s.jsx(Zw,{className:"h-4 w-4"})})}),s.jsx(Q3e,{children:t})]}));ot.displayName=mG.displayName;const t5e=b.forwardRef(({className:e,...t},r)=>s.jsx(gG,{ref:r,className:ee("-mx-1 my-1 h-px bg-muted",e),...t}));t5e.displayName=gG.displayName;const r5e=["5","10","15","20","25","50"],yG=b.memo(({loading:e,users:t,pagination:r,currentPage:n,perPage:a,onPerPageChange:o,onPreviousPage:l,onNextPage:c})=>{const d=b.useMemo(()=>a.toString(),[a]),u=b.useMemo(()=>!e&&t.length>0,[e,t.length]),i=b.useMemo(()=>r&&r.lastPage>1,[r]),m=b.useMemo(()=>n<=1,[n]),g=b.useMemo(()=>n>=(r?.lastPage||1),[n,r?.lastPage]),x=b.useMemo(()=>r?`${r.from} to ${r.to} of ${r.total} users`:`1 to ${t.length} of ${t.length} users`,[r,t.length]);return u?s.jsxs("div",{className:"px-4 py-3 border-t border-border bg-card flex flex-col lg:flex-row items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Show"}),s.jsxs(Lt,{value:d,onValueChange:o,children:[s.jsx(Rt,{className:"w-16 h-8 text-xs bg-background border-border text-foreground",children:s.jsx(Bt,{})}),s.jsx(Pt,{className:"bg-popover border-border",children:r5e.map(v=>s.jsx(ot,{value:v,children:v},v))})]}),s.jsx("span",{className:"text-muted-foreground",children:"per page"})]}),i&&r&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(X,{variant:"outline",size:"sm",onClick:l,disabled:m,className:"h-8 px-3 text-xs bg-background border-border text-foreground",children:"Prev"}),s.jsxs("span",{className:"text-xs sm:text-sm px-3 text-foreground",children:["Page ",n," of ",r.lastPage]}),s.jsx(X,{variant:"outline",size:"sm",onClick:c,disabled:g,className:"h-8 px-3 text-xs bg-background border-border text-foreground",children:"Next"})]}),s.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:x})]}):null});yG.displayName="UsersTableFooter";const n5e=()=>s.jsx("div",{className:"text-center py-6 sm:py-8 bg-card",children:s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"No users found."})}),Dc=({message:e="Loading...",showLogo:t=!0,showProgressBar:r=!0,size:n="medium",className:a=""})=>{const{theme:o}=mg(),[l,c]=b.useState(0),d=o==="dark"||o==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches;b.useEffect(()=>{let m=0;const g=setInterval(()=>{m+=.02,m>=1&&(m=1,clearInterval(g)),c(m)},10);return()=>clearInterval(g)},[]);const i={small:{logo:{width:"80px",height:"40px"},spinner:"h-6 w-6",text:"text-xs",title:"text-sm",progressBar:"w-24 h-1",spacing:"space-y-2"},medium:{logo:{width:"120px",height:"60px"},spinner:"h-8 w-8",text:"text-xs",title:"text-sm",progressBar:"w-32 h-1.5",spacing:"space-y-4"},large:{logo:{width:"220px",height:"110px"},spinner:"h-12 w-12",text:"text-base",title:"text-xl",progressBar:"w-48 h-2",spacing:"space-y-6"}}[n];return s.jsxs(s.Fragment,{children:[s.jsx("style",{children:`
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          20%, 60% { transform: translateX(-4px); }
          40%, 80% { transform: translateX(4px); }
        }
        .shake {
          animation: shake 0.5s ease-in-out infinite;
        }
      `}),s.jsxs("div",{className:`flex flex-col items-center justify-center ${i.spacing} ${a}`,children:[t&&s.jsx("img",{src:"/image.svg",alt:"PNE Empowering Logo",className:"shake",style:{transition:"clip-path 0.3s linear",width:i.logo.width,height:i.logo.height,objectFit:"contain",filter:d?"brightness(0) invert(1)":"none",clipPath:`inset(${100-l*100}% 0 0 0)`}}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:`animate-spin rounded-full border-4 ${i.spinner} ${d?"border-gray-600":"border-border"}`}),s.jsx("div",{className:`animate-spin rounded-full border-4 absolute top-0 left-0 border-t-transparent ${i.spinner} border-primary`})]}),s.jsxs("div",{className:"text-center space-y-1",children:[t&&s.jsx("p",{className:`font-medium ${d?"text-white":"text-card-foreground"} ${i.title}`,children:"Empowering a Brighter Future"}),s.jsx("p",{className:`${d?"text-gray-300":"text-muted-foreground"} ${i.text}`,children:e})]}),r&&s.jsx("div",{className:`rounded-full bg-muted ${i.progressBar}`,children:s.jsx("div",{className:"h-full rounded-full bg-primary transition-all duration-300",style:{width:`${Math.round(l*100)}%`}})})]})]})},s5e=()=>s.jsx(Dc,{message:"Loading users...",size:"medium",className:"h-48 sm:h-64 bg-card text-muted-foreground"});function a5e(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}var bG="AlertDialog",[o5e,E7e]=jn(bG,[U$]),ul=U$(),wG=e=>{const{__scopeAlertDialog:t,...r}=e,n=ul(t);return s.jsx(vg,{...n,...r,modal:!0})};wG.displayName=bG;var i5e="AlertDialogTrigger",l5e=b.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ul(r);return s.jsx(rH,{...a,...n,ref:t})});l5e.displayName=i5e;var c5e="AlertDialogPortal",SG=e=>{const{__scopeAlertDialog:t,...r}=e,n=ul(t);return s.jsx(yg,{...n,...r})};SG.displayName=c5e;var d5e="AlertDialogOverlay",jG=b.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ul(r);return s.jsx(yc,{...a,...n,ref:t})});jG.displayName=d5e;var _f="AlertDialogContent",[u5e,f5e]=o5e(_f),m5e=S$("AlertDialogContent"),NG=b.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,o=ul(r),l=b.useRef(null),c=ct(t,l),d=b.useRef(null);return s.jsx(Jye,{contentName:_f,titleName:CG,docsSlug:"alert-dialog",children:s.jsx(u5e,{scope:r,cancelRef:d,children:s.jsxs(bc,{role:"alertdialog",...o,...a,ref:c,onOpenAutoFocus:a5e(a.onOpenAutoFocus,u=>{u.preventDefault(),d.current?.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(m5e,{children:n}),s.jsx(p5e,{contentRef:l})]})})})});NG.displayName=_f;var CG="AlertDialogTitle",EG=b.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ul(r);return s.jsx(wc,{...a,...n,ref:t})});EG.displayName=CG;var _G="AlertDialogDescription",AG=b.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ul(r);return s.jsx(Wd,{...a,...n,ref:t})});AG.displayName=_G;var h5e="AlertDialogAction",kG=b.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ul(r);return s.jsx(bg,{...a,...n,ref:t})});kG.displayName=h5e;var DG="AlertDialogCancel",TG=b.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=f5e(DG,r),o=ul(r),l=ct(t,a);return s.jsx(bg,{...o,...n,ref:l})});TG.displayName=DG;var p5e=({contentRef:e})=>{const t=`\`${_f}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${_f}\` by passing a \`${_G}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${_f}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return b.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},g5e=wG,x5e=SG,RG=jG,PG=NG,MG=kG,OG=TG,IG=EG,LG=AG;const fl=g5e,v5e=x5e,BG=b.forwardRef(({className:e,...t},r)=>s.jsx(RG,{className:ee("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));BG.displayName=RG.displayName;const ei=b.forwardRef(({className:e,...t},r)=>s.jsxs(v5e,{children:[s.jsx(BG,{}),s.jsx(PG,{ref:r,className:ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));ei.displayName=PG.displayName;const ti=({className:e,...t})=>s.jsx("div",{className:ee("flex flex-col space-y-2 text-center sm:text-left",e),...t});ti.displayName="AlertDialogHeader";const ri=({className:e,...t})=>s.jsx("div",{className:ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ri.displayName="AlertDialogFooter";const ni=b.forwardRef(({className:e,...t},r)=>s.jsx(IG,{ref:r,className:ee("text-lg font-semibold",e),...t}));ni.displayName=IG.displayName;const si=b.forwardRef(({className:e,...t},r)=>s.jsx(LG,{ref:r,className:ee("text-sm text-muted-foreground",e),...t}));si.displayName=LG.displayName;const ai=b.forwardRef(({className:e,...t},r)=>s.jsx(MG,{ref:r,className:ee(Mf(),e),...t}));ai.displayName=MG.displayName;const oi=b.forwardRef(({className:e,...t},r)=>s.jsx(OG,{ref:r,className:ee(Mf({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));oi.displayName=OG.displayName;const y5e=({open:e,onOpenChange:t,userToDelete:r,onConfirm:n,loading:a=!1})=>s.jsx(fl,{open:e,onOpenChange:t,children:s.jsxs(ei,{className:"w-[90vw] max-w-md mx-auto",children:[s.jsxs(ti,{className:"space-y-3",children:[s.jsx(ni,{className:"text-lg sm:text-xl",children:"Are you absolutely sure?"}),s.jsxs(si,{className:"text-sm sm:text-base leading-relaxed",children:["This action cannot be undone. This will permanently delete the user"," ",s.jsx("span",{className:"font-semibold text-foreground",children:r?.name})," ","and remove all their data from our servers."]})]}),s.jsxs(ri,{className:"flex-col sm:flex-row gap-2 sm:gap-0",children:[s.jsx(oi,{className:"w-full sm:w-auto order-2 sm:order-1",children:"Cancel"}),s.jsxs(ai,{onClick:n,className:"w-full sm:w-auto order-1 sm:order-2 bg-destructive hover:bg-destructive/90 text-destructive-foreground",disabled:a,children:[a&&s.jsx(ut,{className:"mr-2 h-4 w-4 animate-spin"}),"Delete User"]})]})]})}),b5e=()=>{const e=Ct(),t=Mt(),{users:r,loading:n,error:a,pagination:o,refetch:l,perPage:c,setPerPage:d}=Am(),{deleteUser:u,loading:i}=r3e(),[m,g]=b.useState(!1),[x,v]=b.useState(null),N=R=>{e(`/user-management/view/user/${R}`)},h=R=>{e(`/user-management/edit/user/${R}`)},y=()=>{e("/user-management/create/user")},w=R=>{v(R),g(!0)},j=async()=>{if(x)try{await u(x.id),g(!1),v(null)}catch(R){console.error("Failed to delete user:",R)}},C=R=>{t(Ui({page:R,per_page:c}))},_=async R=>{const P=parseInt(R,10);d(P),t(Ui({page:1,per_page:P}))},k=()=>{o&&o.currentPage>1&&C(o.currentPage-1)},A=()=>{o&&o.currentPage<o.lastPage&&C(o.currentPage+1)},T=()=>n?s.jsx(s5e,{}):r.length?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(mn,{className:"min-w-full",children:[s.jsx(i3e,{}),s.jsx(pn,{children:r.map(R=>s.jsx(o3e,{user:R,onView:N,onEdit:h,onDelete:w,deleteLoading:i},R.id))})]})}):s.jsx(n5e,{});return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-4 sm:space-y-5 lg:space-y-6",children:[a&&s.jsxs(Ze,{variant:"destructive",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsxs(Ke,{children:["Error loading users: ",a]})]}),s.jsxs(be,{className:"rounded-sm bg-card border border-border shadow-sm",children:[s.jsx(Te,{className:"mb-0 bg-muted border-b border-border",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4",children:[s.jsx(Ue,{className:"text-lg sm:text-xl text-card-foreground",children:"Users"}),s.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-4 w-full sm:w-auto",children:s.jsxs("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>l(),disabled:n,className:`flex items-center gap-2 bg-secondary text-secondary-foreground border-border ${n?"bg-muted opacity-60":""}`,children:[s.jsx(Lr,{className:`h-4 w-4 ${n?"animate-spin":""}`}),s.jsx("span",{className:"hidden xs:inline",children:"Refresh"})]}),s.jsxs(X,{onClick:y,className:"flex items-center justify-center gap-2 text-sm bg-primary text-primary-foreground shadow-sm",children:[s.jsx(or,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden xs:inline",children:"Create User"}),s.jsx("span",{className:"xs:hidden",children:"Create"})]})]})})]})}),s.jsx(Ne,{className:"p-0 bg-card",children:T()}),s.jsx(yG,{loading:n,users:r,pagination:o,currentPage:o?.currentPage||1,perPage:c,onPerPageChange:_,onPreviousPage:k,onNextPage:A})]})]}),s.jsx(y5e,{open:m,onOpenChange:g,userToDelete:x,onConfirm:j,loading:i})]})},_p={validateName:e=>{if(!e||!e.trim())return{isValid:!1,error:"Role name is required"};const t=e.trim();return t.length<zu.NAME_MIN_LENGTH?{isValid:!1,error:`Role name must be at least ${zu.NAME_MIN_LENGTH} characters`}:t.length>zu.NAME_MAX_LENGTH?{isValid:!1,error:`Role name must be less than ${zu.NAME_MAX_LENGTH} characters`}:/^[a-zA-Z0-9\s\-_]+$/.test(t)?{isValid:!0}:{isValid:!1,error:"Role name can only contain letters, numbers, spaces, hyphens, and underscores"}},validateGuardName:e=>{if(!e||!e.trim())return{isValid:!1,error:"Guard name is required"};const t=Object.values(Mw);return t.includes(e)?{isValid:!0}:{isValid:!1,error:`Guard name must be one of: ${t.join(", ")}`}},validatePermissions:e=>Array.isArray(e)?e.length===0?{isValid:!1,error:"At least one permission must be selected"}:e.length>zu.MAX_PERMISSIONS_PER_ROLE?{isValid:!1,error:`Cannot assign more than ${zu.MAX_PERMISSIONS_PER_ROLE} permissions to a role`}:e.filter(r=>!r||!r.trim()).length>0?{isValid:!1,error:"All permissions must have valid names"}:{isValid:!0}:{isValid:!1,error:"Permissions must be an array"},validateRoleForm:e=>{const t={},r=_p.validateName(e.name);!r.isValid&&r.error&&(t.name=r.error);const n=_p.validateGuardName(e.guard_name);!n.isValid&&n.error&&(t.guard_name=n.error);const a=_p.validatePermissions(e.permissions);return!a.isValid&&a.error&&(t.permissions=a.error),{isValid:Object.keys(t).length===0,errors:t}}},Io={formatDisplayName:e=>e?e.trim().toLowerCase().replace(/[_-]/g," ").replace(/\s+/g," ").split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "):"",formatApiName:e=>e?e.trim().toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9\-]/g,""):"",formatCreatedAt:e=>{try{const t=new Date(e);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)}catch{return"Invalid Date"}},formatRelativeTime:e=>{try{const t=new Date(e),n=Math.floor((new Date().getTime()-t.getTime())/1e3);return n<60?"Just now":n<3600?`${Math.floor(n/60)} minutes ago`:n<86400?`${Math.floor(n/3600)} hours ago`:n<2592e3?`${Math.floor(n/86400)} days ago`:n<31536e3?`${Math.floor(n/2592e3)} months ago`:`${Math.floor(n/31536e3)} years ago`}catch{return"Unknown"}},formatPermissionCount:e=>e===0?"No permissions":e===1?"1 permission":`${e} permissions`},Wv={sortByName:(e,t="asc")=>[...e].sort((r,n)=>{const a=r.name.localeCompare(n.name);return t==="asc"?a:-a}),sortByCreatedAt:(e,t="desc")=>[...e].sort((r,n)=>{const a=new Date(r.created_at).getTime(),o=new Date(n.created_at).getTime();return t==="asc"?a-o:o-a}),sortByPermissionCount:(e,t="desc")=>[...e].sort((r,n)=>{const a=r.permissions?.length||0,o=n.permissions?.length||0;return t==="asc"?a-o:o-a})},w5e={filterBySearch:(e,t)=>{if(!t.trim())return e;const r=t.toLowerCase().trim();return e.filter(n=>n.name.toLowerCase().includes(r)||n.permissions?.some(a=>a.name.toLowerCase().includes(r)))},filterByGuardName:(e,t)=>t.trim()?e.filter(r=>r.guard_name===t.trim()):e,filterByPermissions:(e,t)=>!t||t.length===0?e:e.filter(r=>r.permissions?.some(n=>t.includes(n.name))),filterWithPermissions:e=>e.filter(t=>t.permissions&&t.permissions.length>0),filterWithoutPermissions:e=>e.filter(t=>!t.permissions||t.permissions.length===0)},FG={toSelectOption:e=>({value:e.id,label:Io.formatDisplayName(e.name),role:e}),toSelectOptions:e=>e.map(FG.toSelectOption),toSearchResult:e=>({id:e.id,title:Io.formatDisplayName(e.name),subtitle:`Guard: ${e.guard_name}`,meta:Io.formatPermissionCount(e.permissions?.length||0),role:e}),toCsvData:e=>e.map(t=>({ID:t.id,Name:t.name,"Guard Name":t.guard_name,"Permission Count":t.permissions?.length||0,"Permission Names":t.permissions?.map(r=>r.name).join("; ")||"","Created At":Io.formatCreatedAt(t.created_at),"Updated At":Io.formatCreatedAt(t.updated_at)})),toAnalyticsData:e=>({id:e.id,name:e.name,permission_count:e.permissions?.length||0,guard_name:e.guard_name,created_date:e.created_at.split("T")[0],days_since_creation:Math.floor((new Date().getTime()-new Date(e.created_at).getTime())/(1e3*60*60*24))})};Mw.WEB;const yo=(e=!0,t)=>{const r=Mt(),[n,a]=b.useState("name"),[o,l]=b.useState("asc"),[c,d]=b.useState(""),u=ue(mse),i=ue(hse),m=ue(pse),g=ue(gse),x=ue(Sse),v=ue(jse),N=ue(Nse),h=ue(wse),y=b.useMemo(()=>{let A=[...u];switch(n){case"name":A=Wv.sortByName(A,o);break;case"created_at":A=Wv.sortByCreatedAt(A,o);break;case"permission_count":A=Wv.sortByPermissionCount(A,o);break;default:A=Wv.sortByName(A,o)}return A},[u,n,o]),w=b.useMemo(()=>w5e.filterBySearch(y,c),[y,c]),j=b.useMemo(()=>FG.toSelectOptions(w),[w]),C=b.useRef(t);C.current=t;const _=b.useCallback(async A=>{try{await r(yp(A)).unwrap()}catch(T){throw console.error("Failed to fetch roles:",T),T}},[r]),k=b.useCallback(async()=>{await _(C.current)},[_]);return b.useEffect(()=>{e&&!x&&!i&&!m&&_(C.current)},[e,x,i,m,_]),b.useEffect(()=>()=>{m&&r(lse())},[r,m]),b.useMemo(()=>({roles:u,loading:i,error:m,pagination:g,hasRoles:x,isEmpty:v,totalRoles:N,fetchRoles:_,refetch:k,sortedRoles:y,setSortField:a,setSortDirection:l,sortField:n,sortDirection:o,searchTerm:c,setSearchTerm:d,filteredRoles:w,selectOptions:j,rolesWithCounts:h}),[u,i,m,g,x,v,N,_,k,y,a,l,n,o,c,d,w,j,h])},S5e=()=>{const e=Mt(),t=ue(xse),r=ue(vse),n=b.useCallback(c=>_p.validateRoleForm(c),[]),a=b.useCallback(c=>({name:Io.formatApiName(c.name),guard_name:c.guard_name,permissions:c.permissions}),[]),o=b.useCallback(async c=>{const d={name:c.name,guard_name:c.guard_name,permissions:c.permissions},u=n(d);if(!u.isValid){const x=Object.values(u.errors)[0];throw new Error(x)}const i=a(d),m=Date.now(),g={id:m,name:i.name,guard_name:i.guard_name,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),permissions:[]};try{e(use(g));const x=await e(V0(i)).unwrap();return e(JO(m)),x}catch(x){throw e(JO(m)),x}},[e,n,a]),l=b.useCallback(()=>{e(cse())},[e]);return b.useMemo(()=>({createRole:o,loading:t,error:r,reset:l,validateForm:n,formatForApi:a}),[o,t,r,l,n,a])},j5e=()=>{const e=Mt(),t=ue(yse),r=ue(bse),n=b.useCallback(l=>_p.validatePermissions(l),[]),a=b.useCallback(async(l,c)=>{const d=n(c);if(!d.isValid&&d.error)throw new Error(d.error);try{return await e(W0({roleId:l,permissions:c})).unwrap()}catch(u){throw console.error("Failed to assign permissions:",u),u}},[e,n]),o=b.useCallback(()=>{e(dse())},[e]);return b.useMemo(()=>({assignPermissions:a,loading:t,error:r,reset:o,validatePermissions:n}),[a,t,r,o,n])},N5e=({loading:e,onRefresh:t,onAssignPermissions:r,onCreateRole:n})=>s.jsx(Te,{className:"mb-0 bg-muted border border-border border-b",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4",children:[s.jsx(Ue,{className:"text-lg sm:text-xl text-card-foreground",children:"Roles"}),s.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-4 w-full sm:w-auto",children:s.jsxs("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:t,disabled:e,className:"flex items-center gap-2",style:{backgroundColor:e?"var(--muted)":"var(--secondary)",color:"var(--secondary-foreground)",borderColor:"var(--border)",opacity:e?.6:1},children:[s.jsx(Lr,{className:`h-4 w-4 ${e?"animate-spin":""}`}),s.jsx("span",{className:"hidden xs:inline",children:"Refresh"})]}),s.jsxs(X,{onClick:r,variant:"outline",size:"sm",className:"flex items-center gap-2 bg-secondary text-secondary-foreground border-border ",children:[s.jsx(pg,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden xs:inline",children:"Assign"})]}),s.jsxs(X,{onClick:n,className:"flex items-center justify-center gap-2 text-sm bg-primary text-primary-foreground",style:{boxShadow:"var(--shadow-sm)"},children:[s.jsx(or,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden xs:inline",children:"Create Role"}),s.jsx("span",{className:"xs:hidden",children:"Create"})]})]})})]})}),C5e=({role:e})=>s.jsxs(Nt,{className:"hover:bg-muted/50 border-border bg-card",children:[s.jsx(Re,{className:"font-medium text-xs sm:text-sm p-2 sm:p-4 text-foreground",children:s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx("div",{className:"bg-primary text-primary-foreground h-6 w-6 sm:h-8 sm:w-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-medium",children:Io.formatDisplayName(e.name).charAt(0).toUpperCase()}),s.jsx("div",{className:"min-w-0 flex-1",children:s.jsx("div",{className:"text-xs sm:text-sm font-medium truncate text-foreground",title:Io.formatDisplayName(e.name),children:Io.formatDisplayName(e.name)})})]})}),s.jsx(Re,{className:"p-2 sm:p-4",children:s.jsxs("div",{className:"space-y-1 max-w-[10rem] lg:max-w-none",children:[s.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground",children:Io.formatPermissionCount(e.permissions?.length||0)}),e.permissions&&e.permissions.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.permissions.slice(0,4).map(t=>s.jsx(Ve,{variant:"secondary",className:"text-xs px-1 py-0.5 bg-accent text-accent-foreground border-border",children:s.jsx("span",{className:"truncate max-w-[10rem]",title:t.name,children:t.name})},t.id)),e.permissions.length>4&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",e.permissions.length-4]})]})]})})]}),E5e=({roles:e,loading:t})=>t?s.jsx("div",{className:"flex items-center justify-center h-48 sm:h-64 bg-card",children:s.jsx(Dc,{message:"Loading roles...",size:"medium",className:"h-48 sm:h-64 bg-card text-muted-foreground"})}):e.length?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(mn,{className:"min-w-full",children:[s.jsx(hn,{className:"bg-muted border-border border border-b",children:s.jsxs(Nt,{className:"border-border",children:[s.jsx(Be,{className:"min-w-[8rem] text-xs sm:text-sm text-foreground font-semibold",children:"Name"}),s.jsx(Be,{className:"min-w-[12rem] text-xs sm:text-sm text-foreground font-semibold",children:"Permissions"})]})}),s.jsx(pn,{children:e.map(r=>s.jsx(C5e,{role:r},r.id))})]})}):s.jsx("div",{className:"text-center py-6 sm:py-8 bg-card",children:s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"No roles found."})}),_5e=({paginationInfo:e,perPage:t,loading:r,onPerPageChange:n,onPreviousPage:a,onNextPage:o})=>{const l=[5,10,15,25,50];return e?s.jsxs("div",{className:"bg-card border-border flex flex-col sm:flex-row items-center justify-between gap-4 px-4 py-3 border-t",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Show"}),s.jsxs(Lt,{value:t.toString(),onValueChange:n,children:[s.jsx(Rt,{className:"w-16 h-8 text-xs bg-background border-border text-foreground",children:s.jsx(Bt,{})}),s.jsx(Pt,{className:"bg-popover border-border",children:l.map(c=>s.jsx(ot,{value:c.toString(),children:c},c))})]}),s.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground",children:"per page"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(X,{variant:"outline",size:"sm",onClick:a,disabled:r||e.currentPage<=1,className:"h-8 px-3 text-xs bg-background border-border text-foreground",children:"Prev"}),s.jsxs("span",{className:"text-xs sm:text-sm px-3 text-foreground",children:["Page ",e.currentPage," of ",e.lastPage]}),s.jsx(X,{variant:"outline",size:"sm",onClick:o,disabled:r||e.currentPage>=e.lastPage,className:"h-8 px-3 text-xs bg-background border-border text-foreground",children:"Next"})]}),s.jsxs("div",{className:"text-xs sm:text-sm text-muted-foreground",children:[s.jsxs("span",{className:"hidden sm:inline",children:[e.from," to ",e.to," of ",e.total," ","roles"]}),s.jsxs("span",{className:"sm:hidden",children:[e.from,"-",e.to," of ",e.total]})]})]}):null},A5e=()=>{const e=Ct(),[t,r]=b.useState(10),[n,a]=b.useState(1),{roles:o,loading:l,error:c,pagination:d,fetchRoles:u,refetch:i}=yo(!0,{per_page:t,page:n}),m=b.useCallback(()=>{e("/user-management/roles/assign-permissions")},[e]),g=b.useCallback(()=>{e("/user-management/create/role")},[e]),x=b.useCallback(w=>{const j=parseInt(w,10);r(j),a(1),u({per_page:j,page:1})},[u]),v=b.useCallback(w=>{a(w),u({per_page:t,page:w})},[u,t]),N=b.useCallback(()=>{n>1&&v(n-1)},[n,v]),h=b.useCallback(()=>{d&&n<d.lastPage&&v(n+1)},[n,d,v]),y=d?{from:d.from||(n-1)*t+1,to:d.to||Math.min(n*t,d.total),total:d.total,currentPage:d.currentPage||n,lastPage:d.lastPage||Math.ceil(d.total/t)}:null;return s.jsxs("div",{className:"space-y-4 sm:space-y-5 lg:space-y-6",children:[c&&s.jsxs(Ze,{variant:"destructive",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsxs(Ke,{children:["Error loading roles: ",c]})]}),s.jsxs(be,{className:"rounded-sm bg-card border-border",style:{boxShadow:"var(--shadow-realistic)"},children:[s.jsx(N5e,{totalRoles:y?.total||o.length,loading:l,onRefresh:i,onAssignPermissions:m,onCreateRole:g}),s.jsxs(Ne,{className:"p-0 bg-card ",children:[s.jsx(E5e,{roles:o,loading:l}),s.jsx(_5e,{paginationInfo:y,perPage:t,loading:l,onPerPageChange:x,onPreviousPage:N,onNextPage:h})]})]})]})},k5e={WEB:"web",API:"api"},Gv={NAME_MIN_LENGTH:3,NAME_MAX_LENGTH:255},t2={validateName:e=>{if(!e||!e.trim())return{isValid:!1,error:"Permission name is required"};const t=e.trim();return t.length<Gv.NAME_MIN_LENGTH?{isValid:!1,error:`Permission name must be at least ${Gv.NAME_MIN_LENGTH} characters`}:t.length>Gv.NAME_MAX_LENGTH?{isValid:!1,error:`Permission name must be less than ${Gv.NAME_MAX_LENGTH} characters`}:/^[a-zA-Z0-9\s\-_]+$/.test(t)?{isValid:!0}:{isValid:!1,error:"Permission name can only contain letters, numbers, spaces, hyphens, and underscores"}},validateGuardName:e=>{if(!e||!e.trim())return{isValid:!1,error:"Guard name is required"};const t=Object.values(k5e);return t.includes(e)?{isValid:!0}:{isValid:!1,error:`Guard name must be one of: ${t.join(", ")}`}},validatePermissionForm:e=>{const t={},r=t2.validateName(e.name);!r.isValid&&r.error&&(t.name=r.error);const n=t2.validateGuardName(e.guard_name);return!n.isValid&&n.error&&(t.guard_name=n.error),{isValid:Object.keys(t).length===0,errors:t}}},xf={formatDisplayName:e=>e?e.trim().toLowerCase().replace(/[_-]/g," ").replace(/\s+/g," ").split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "):"",formatApiName:e=>e?e.trim().toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""):"",formatCreatedAt:e=>{try{const t=new Date(e);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)}catch{return"Invalid Date"}},formatRelativeTime:e=>{try{const t=new Date(e),n=Math.floor((new Date().getTime()-t.getTime())/1e3);return n<60?"Just now":n<3600?`${Math.floor(n/60)} minutes ago`:n<86400?`${Math.floor(n/3600)} hours ago`:n<2592e3?`${Math.floor(n/86400)} days ago`:n<31536e3?`${Math.floor(n/2592e3)} months ago`:`${Math.floor(n/31536e3)} years ago`}catch{return"Unknown"}}},a_={sortByName:(e,t="asc")=>[...e].sort((r,n)=>{const a=r.name.localeCompare(n.name);return t==="asc"?a:-a}),sortByCreatedAt:(e,t="desc")=>[...e].sort((r,n)=>{const a=new Date(r.created_at).getTime(),o=new Date(n.created_at).getTime();return t==="asc"?a-o:o-a}),sortByRoleCount:(e,t="desc")=>[...e].sort((r,n)=>{const a=r.roles?.length||0,o=n.roles?.length||0;return t==="asc"?a-o:o-a})},D5e={filterBySearch:(e,t)=>{if(!t.trim())return e;const r=t.toLowerCase().trim();return e.filter(n=>n.name.toLowerCase().includes(r))},filterByGuardName:(e,t)=>t.trim()?e.filter(r=>r.guard_name===t.trim()):e,filterWithRoles:e=>e.filter(t=>t.roles&&t.roles.length>0),filterWithoutRoles:e=>e.filter(t=>!t.roles||t.roles.length===0)},UG={toSelectOption:e=>({value:e.id,label:xf.formatDisplayName(e.name),permission:e}),toSelectOptions:e=>e.map(UG.toSelectOption),toSearchResult:e=>({id:e.id,title:xf.formatDisplayName(e.name),subtitle:`Guard: ${e.guard_name}`,meta:`${e.roles?.length||0} roles`,permission:e}),toCsvData:e=>e.map(t=>({ID:t.id,Name:t.name,"Guard Name":t.guard_name,"Role Count":t.roles?.length||0,"Created At":xf.formatCreatedAt(t.created_at),"Updated At":xf.formatCreatedAt(t.updated_at)}))},Dm=(e=!0,t)=>{const r=Mt(),[n,a]=b.useState("name"),[o,l]=b.useState("asc"),[c,d]=b.useState(""),u=ue(Zne),i=ue(Kne),m=ue(Xne),g=ue(Qne),x=ue(tse),v=ue(rse),N=ue(nse),h=b.useMemo(()=>{let k=[...u];switch(n){case"name":k=a_.sortByName(k,o);break;case"created_at":k=a_.sortByCreatedAt(k,o);break;default:k=a_.sortByName(k,o)}return k},[u,n,o]),y=b.useMemo(()=>D5e.filterBySearch(h,c),[h,c]),w=b.useMemo(()=>UG.toSelectOptions(y),[y]),j=b.useRef(t);j.current=t;const C=b.useCallback(async k=>{try{await r(vp(k)).unwrap()}catch(A){throw console.error("Failed to fetch permissions:",A),A}},[r]),_=b.useCallback(async()=>{await C(j.current)},[C]);return b.useEffect(()=>{e&&!x&&!i&&!m&&C(j.current)},[e,x,i,m,C]),b.useEffect(()=>()=>{m&&r(Vne())},[r,m]),b.useMemo(()=>({permissions:u,loading:i,error:m,pagination:g,hasPermissions:x,isEmpty:v,totalPermissions:N,fetchPermissions:C,refetch:_,sortedPermissions:h,setSortField:a,setSortDirection:l,sortField:n,sortDirection:o,searchTerm:c,setSearchTerm:d,filteredPermissions:y,selectOptions:w}),[u,i,m,g,x,v,N,C,_,h,a,l,n,o,c,d,y,w])},T5e=()=>{const e=Mt(),t=ue(Jne),r=ue(ese),n=b.useCallback(c=>t2.validatePermissionForm(c),[]),a=b.useCallback(c=>({name:xf.formatApiName(c.name),guard_name:c.guard_name}),[]),o=b.useCallback(async c=>{const d={name:c.name,guard_name:c.guard_name},u=n(d);if(!u.isValid){const x=Object.values(u.errors)[0];throw new Error(x)}const i=a(d),m=Date.now(),g={id:m,name:i.name,guard_name:i.guard_name,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),roles:[]};try{e(Gne(g));const x=await e(q0(i)).unwrap();return e(XO(m)),x}catch(x){throw e(XO(m)),x}},[e,n,a]),l=b.useCallback(()=>{e(Wne())},[e]);return b.useMemo(()=>({createPermission:o,loading:t,error:r,reset:l,validateForm:n,formatForApi:a}),[o,t,r,l,n,a])},$G=b.memo(({loading:e,onRefresh:t,onCreatePermission:r})=>{const n=b.useMemo(()=>`h-4 w-4 ${e?"animate-spin":""}`,[e]);return s.jsx(Te,{className:"mb-0 bg-muted border-b border-border",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4",children:[s.jsx(Ue,{className:"text-lg sm:text-xl text-card-foreground",children:"Permissions"}),s.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-4 w-full sm:w-auto",children:s.jsxs("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:t,disabled:e,className:"flex items-center gap-2 bg-secondary text-secondary-foreground border-border disabled:bg-muted disabled:opacity-60",children:[s.jsx(Lr,{className:n}),s.jsx("span",{className:"hidden xs:inline",children:"Refresh"})]}),s.jsxs(X,{onClick:r,className:"flex items-center justify-center gap-2 text-sm bg-primary text-primary-foreground shadow-sm",children:[s.jsx(or,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden xs:inline",children:"Create Permission"}),s.jsx("span",{className:"xs:hidden",children:"Create"})]})]})})]})})});$G.displayName="PermissionsTableHeader";const kB=4,HG=b.memo(({permission:e})=>{const t=b.useMemo(()=>xf.formatDisplayName(e.name),[e.name]),r=b.useMemo(()=>t.charAt(0).toUpperCase(),[t]),n=b.useMemo(()=>{const a=e.roles?.length||0,o=e.roles?.slice(0,kB)||[],l=Math.max(0,a-kB);return{rolesCount:a,visibleRoles:o,extraCount:l}},[e.roles]);return s.jsxs(Nt,{className:"border-border bg-card hover:bg-muted/50",children:[s.jsx(Re,{className:"font-medium text-xs sm:text-sm p-2 sm:p-4 text-foreground",children:s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx("div",{className:"h-6 w-6 sm:h-8 sm:w-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-medium bg-primary text-primary-foreground",children:r}),s.jsx("div",{className:"min-w-0 flex-1",children:s.jsx("div",{className:"text-xs sm:text-sm font-medium truncate text-foreground",title:t,children:t})})]})}),s.jsx(Re,{className:"p-2 sm:p-4",children:s.jsxs("div",{className:"space-y-1 max-w-[10rem] lg:max-w-none",children:[s.jsxs("span",{className:"text-xs sm:text-sm text-muted-foreground",children:[n.rolesCount," roles"]}),n.rolesCount>0&&s.jsxs("div",{className:"flex flex-wrap gap-1",children:[n.visibleRoles.map(a=>s.jsx(Ve,{variant:"secondary",className:"text-xs px-1 py-0.5 bg-accent text-accent-foreground border-border",children:s.jsx("span",{className:"truncate max-w-[7rem]",title:a.name,children:a.name})},a.id)),n.extraCount>0&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",n.extraCount]})]})]})})]})});HG.displayName="PermissionTableRow";const zG=b.memo(()=>s.jsx("div",{className:"flex items-center justify-center h-48 sm:h-64 bg-card",children:s.jsx(Dc,{message:"Loading permissions...",size:"medium",className:"h-48 sm:h-64 bg-card text-muted-foreground"})}));zG.displayName="LoadingState";const qG=b.memo(()=>s.jsx("div",{className:"text-center py-6 sm:py-8 bg-card",children:s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"No permissions found."})}));qG.displayName="EmptyState";const VG=b.memo(()=>s.jsx(hn,{className:"bg-muted border-b border-border",children:s.jsxs(Nt,{className:"border-border",children:[s.jsx(Be,{className:"min-w-[8rem] text-xs sm:text-sm text-foreground font-semibold",children:"Name"}),s.jsx(Be,{className:"min-w-[12rem] text-xs sm:text-sm text-foreground font-semibold",children:"Used by Roles"})]})}));VG.displayName="TableHeaderComponent";const WG=b.memo(({permissions:e,loading:t})=>t?s.jsx(zG,{}):e.length?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(mn,{className:"min-w-full",children:[s.jsx(VG,{}),s.jsx(pn,{children:e.map(r=>s.jsx(HG,{permission:r},r.id))})]})}):s.jsx(qG,{}));WG.displayName="PermissionsTableContent";const R5e=["5","10","15","20","50"],GG=b.memo(({loading:e,permissions:t,pagination:r,currentPage:n,perPage:a,onPerPageChange:o,onPreviousPage:l,onNextPage:c})=>{const d=b.useMemo(()=>a.toString(),[a]),u=b.useMemo(()=>!e&&t.length>0,[e,t.length]),i=b.useMemo(()=>r&&r.lastPage>1,[r]),m=b.useMemo(()=>n<=1,[n]),g=b.useMemo(()=>n>=(r?.lastPage||1),[n,r?.lastPage]),x=b.useMemo(()=>r?`${r.from} to ${r.to} of ${r.total} permissions`:`1 to ${t.length} of ${t.length} permissions`,[r,t.length]);return u?s.jsxs("div",{className:"px-4 py-3 border-t border-border bg-card flex flex-col lg:flex-row items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Show"}),s.jsxs(Lt,{value:d,onValueChange:o,children:[s.jsx(Rt,{className:"w-16 h-8 text-xs bg-background border-border text-foreground",children:s.jsx(Bt,{})}),s.jsx(Pt,{className:"bg-popover border-border",children:R5e.map(v=>s.jsx(ot,{value:v,children:v},v))})]}),s.jsx("span",{className:"text-muted-foreground",children:"per page"})]}),i&&r&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(X,{variant:"outline",size:"sm",onClick:l,disabled:m,className:"h-8 px-3 text-xs bg-background border-border text-foreground",children:"Prev"}),s.jsxs("span",{className:"text-xs sm:text-sm px-3 text-foreground",children:["Page ",n," of ",r.lastPage]}),s.jsx(X,{variant:"outline",size:"sm",onClick:c,disabled:g,className:"h-8 px-3 text-xs bg-background border-border text-foreground",children:"Next"})]}),s.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:x})]}):null});GG.displayName="PermissionsTableFooter";const P5e=()=>{const e=Ct(),[t,r]=b.useState(1),[n,a]=b.useState(10),o=b.useMemo(()=>({page:t,per_page:n}),[t,n]),{permissions:l,loading:c,error:d,refetch:u,pagination:i,fetchPermissions:m}=Dm(!0,o),g=b.useCallback(()=>{e("/user-management/create/permission")},[e]),x=b.useCallback(async w=>{const j=parseInt(w,10);a(j),r(1),await m({page:1,per_page:j})},[m]),v=b.useCallback(async w=>{r(w),await m({page:w,per_page:n})},[m,n]),N=b.useCallback(()=>{i&&t>1&&v(t-1)},[i,t,v]),h=b.useCallback(()=>{i&&t<i.lastPage&&v(t+1)},[i,t,v]),y=b.useMemo(()=>i?.total||l.length,[i?.total,l.length]);return s.jsxs("div",{className:"space-y-4 sm:space-y-5 lg:space-y-6",children:[d&&s.jsxs(Ze,{variant:"destructive",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsxs(Ke,{children:["Error loading permissions: ",d]})]}),s.jsxs(be,{className:"rounded-sm bg-card border border-border shadow-[var(--shadow-realistic)]",children:[s.jsx($G,{permissionsCount:y,loading:c,onRefresh:u,onCreatePermission:g}),s.jsx(Ne,{className:"p-0 bg-card",children:s.jsx(WG,{permissions:l,loading:c})}),s.jsx(GG,{loading:c,permissions:l,pagination:i,currentPage:t,perPage:n,onPerPageChange:x,onPreviousPage:N,onNextPage:h})]})]})},M5e=()=>s.jsx(Vt,{title:"User Management",subtitle:"Manage users, roles, and permissions for your application.",children:s.jsxs("div",{className:"grid gap-6 sm:gap-8 lg:gap-10",children:[s.jsx(b5e,{}),s.jsx(A5e,{}),s.jsx(P5e,{})]})});var Hg=e=>e.type==="checkbox",hd=e=>e instanceof Date,ys=e=>e==null;const YG=e=>typeof e=="object";var dn=e=>!ys(e)&&!Array.isArray(e)&&YG(e)&&!hd(e),ZG=e=>dn(e)&&e.target?Hg(e.target)?e.target.checked:e.target.value:e,O5e=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,KG=(e,t)=>e.has(O5e(t)),I5e=e=>{const t=e.constructor&&e.constructor.prototype;return dn(t)&&t.hasOwnProperty("isPrototypeOf")},sT=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function kr(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(sT&&(e instanceof Blob||n))&&(r||dn(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!I5e(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=kr(e[a]));else return e;return t}var Y1=e=>/^\w*$/.test(e),Tr=e=>e===void 0,Z1=e=>Array.isArray(e)?e.filter(Boolean):[],aT=e=>Z1(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ze=(e,t,r)=>{if(!t||!dn(e))return r;const n=(Y1(t)?[t]:aT(t)).reduce((a,o)=>ys(a)?a:a[o],e);return Tr(n)||n===e?Tr(e[t])?r:e[t]:n},ra=e=>typeof e=="boolean",sr=(e,t,r)=>{let n=-1;const a=Y1(t)?[t]:aT(t),o=a.length,l=o-1;for(;++n<o;){const c=a[n];let d=r;if(n!==l){const u=e[c];d=dn(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=d,e=e[c]}};const lw={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Oa={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ei={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},oT=pe.createContext(null);oT.displayName="HookFormContext";const zg=()=>pe.useContext(oT),L5e=e=>{const{children:t,...r}=e;return pe.createElement(oT.Provider,{value:r},t)};var XG=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(a,o,{get:()=>{const l=o;return t._proxyFormState[l]!==Oa.all&&(t._proxyFormState[l]=!n||Oa.all),r&&(r[l]=!0),e[l]}});return a};const K1=typeof window<"u"?pe.useLayoutEffect:pe.useEffect;function B5e(e){const t=zg(),{control:r=t.control,disabled:n,name:a,exact:o}=e||{},[l,c]=pe.useState(r._formState),d=pe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return K1(()=>r._subscribe({name:a,formState:d.current,exact:o,callback:u=>{!n&&c({...r._formState,...u})}}),[a,n,o]),pe.useEffect(()=>{d.current.isValid&&r._setValid(!0)},[r]),pe.useMemo(()=>XG(l,r,d.current,!1),[l,r])}var $o=e=>typeof e=="string",QG=(e,t,r,n,a)=>$o(e)?(n&&t.watch.add(e),ze(r,e,a)):Array.isArray(e)?e.map(o=>(n&&t.watch.add(o),ze(r,o))):(n&&(t.watchAll=!0),r),r2=e=>ys(e)||!YG(e);function Pi(e,t,r=new WeakSet){if(r2(e)||r2(t))return e===t;if(hd(e)&&hd(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const o of n){const l=e[o];if(!a.includes(o))return!1;if(o!=="ref"){const c=t[o];if(hd(l)&&hd(c)||dn(l)&&dn(c)||Array.isArray(l)&&Array.isArray(c)?!Pi(l,c,r):l!==c)return!1}}return!0}function F5e(e){const t=zg(),{control:r=t.control,name:n,defaultValue:a,disabled:o,exact:l,compute:c}=e||{},d=pe.useRef(a),u=pe.useRef(c),i=pe.useRef(void 0);u.current=c;const m=pe.useMemo(()=>r._getWatch(n,d.current),[r,n]),[g,x]=pe.useState(u.current?u.current(m):m);return K1(()=>r._subscribe({name:n,formState:{values:!0},exact:l,callback:v=>{if(!o){const N=QG(n,r._names,v.values||r._formValues,!1,d.current);if(u.current){const h=u.current(N);Pi(h,i.current)||(x(h),i.current=h)}else x(N)}}}),[r,o,n,l]),pe.useEffect(()=>r._removeUnmounted()),g}function U5e(e){const t=zg(),{name:r,disabled:n,control:a=t.control,shouldUnregister:o,defaultValue:l}=e,c=KG(a._names.array,r),d=pe.useMemo(()=>ze(a._formValues,r,ze(a._defaultValues,r,l)),[a,r,l]),u=F5e({control:a,name:r,defaultValue:d,exact:!0}),i=B5e({control:a,name:r,exact:!0}),m=pe.useRef(e),g=pe.useRef(a.register(r,{...e.rules,value:u,...ra(e.disabled)?{disabled:e.disabled}:{}}));m.current=e;const x=pe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ze(i.errors,r)},isDirty:{enumerable:!0,get:()=>!!ze(i.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!ze(i.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!ze(i.validatingFields,r)},error:{enumerable:!0,get:()=>ze(i.errors,r)}}),[i,r]),v=pe.useCallback(w=>g.current.onChange({target:{value:ZG(w),name:r},type:lw.CHANGE}),[r]),N=pe.useCallback(()=>g.current.onBlur({target:{value:ze(a._formValues,r),name:r},type:lw.BLUR}),[r,a._formValues]),h=pe.useCallback(w=>{const j=ze(a._fields,r);j&&w&&(j._f.ref={focus:()=>w.focus&&w.focus(),select:()=>w.select&&w.select(),setCustomValidity:C=>w.setCustomValidity(C),reportValidity:()=>w.reportValidity()})},[a._fields,r]),y=pe.useMemo(()=>({name:r,value:u,...ra(n)||i.disabled?{disabled:i.disabled||n}:{},onChange:v,onBlur:N,ref:h}),[r,n,i.disabled,v,N,h,u]);return pe.useEffect(()=>{const w=a._options.shouldUnregister||o;a.register(r,{...m.current.rules,...ra(m.current.disabled)?{disabled:m.current.disabled}:{}});const j=(C,_)=>{const k=ze(a._fields,C);k&&k._f&&(k._f.mount=_)};if(j(r,!0),w){const C=kr(ze(a._options.defaultValues,r));sr(a._defaultValues,r,C),Tr(ze(a._formValues,r))&&sr(a._formValues,r,C)}return!c&&a.register(r),()=>{(c?w&&!a._state.action:w)?a.unregister(r):j(r,!1)}},[r,a,c,o]),pe.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),pe.useMemo(()=>({field:y,formState:i,fieldState:x}),[y,i,x])}const iT=e=>e.render(U5e(e));var lT=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},Bs=e=>Array.isArray(e)?e:[e],DB=()=>{let e=[];return{get observers(){return e},next:a=>{for(const o of e)o.next&&o.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(o=>o!==a)}}),unsubscribe:()=>{e=[]}}},vs=e=>dn(e)&&!Object.keys(e).length,cT=e=>e.type==="file",ro=e=>typeof e=="function",cw=e=>{if(!sT)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},JG=e=>e.type==="select-multiple",dT=e=>e.type==="radio",$5e=e=>dT(e)||Hg(e),o_=e=>cw(e)&&e.isConnected;function H5e(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Tr(e)?n++:e[t[n++]];return e}function z5e(e){for(const t in e)if(e.hasOwnProperty(t)&&!Tr(e[t]))return!1;return!0}function ln(e,t){const r=Array.isArray(t)?t:Y1(t)?[t]:aT(t),n=r.length===1?e:H5e(e,r),a=r.length-1,o=r[a];return n&&delete n[o],a!==0&&(dn(n)&&vs(n)||Array.isArray(n)&&z5e(n))&&ln(e,r.slice(0,-1)),e}var eY=e=>{for(const t in e)if(ro(e[t]))return!0;return!1};function dw(e,t={}){const r=Array.isArray(e);if(dn(e)||r)for(const n in e)Array.isArray(e[n])||dn(e[n])&&!eY(e[n])?(t[n]=Array.isArray(e[n])?[]:{},dw(e[n],t[n])):ys(e[n])||(t[n]=!0);return t}function tY(e,t,r){const n=Array.isArray(e);if(dn(e)||n)for(const a in e)Array.isArray(e[a])||dn(e[a])&&!eY(e[a])?Tr(t)||r2(r[a])?r[a]=Array.isArray(e[a])?dw(e[a],[]):{...dw(e[a])}:tY(e[a],ys(t)?{}:t[a],r[a]):r[a]=!Pi(e[a],t[a]);return r}var op=(e,t)=>tY(e,t,dw(t));const TB={value:!1,isValid:!1},RB={value:!0,isValid:!0};var rY=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Tr(e[0].attributes.value)?Tr(e[0].value)||e[0].value===""?RB:{value:e[0].value,isValid:!0}:RB:TB}return TB},nY=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Tr(e)?e:t?e===""?NaN:e&&+e:r&&$o(e)?new Date(e):n?n(e):e;const PB={isValid:!1,value:null};var sY=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,PB):PB;function MB(e){const t=e.ref;return cT(t)?t.files:dT(t)?sY(e.refs).value:JG(t)?[...t.selectedOptions].map(({value:r})=>r):Hg(t)?rY(e.refs).value:nY(Tr(t.value)?e.ref.value:t.value,e)}var q5e=(e,t,r,n)=>{const a={};for(const o of e){const l=ze(t,o);l&&sr(a,o,l._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},uw=e=>e instanceof RegExp,ip=e=>Tr(e)?e:uw(e)?e.source:dn(e)?uw(e.value)?e.value.source:e.value:e,vf=e=>({isOnSubmit:!e||e===Oa.onSubmit,isOnBlur:e===Oa.onBlur,isOnChange:e===Oa.onChange,isOnAll:e===Oa.all,isOnTouch:e===Oa.onTouched});const OB="AsyncFunction";var V5e=e=>!!e&&!!e.validate&&!!(ro(e.validate)&&e.validate.constructor.name===OB||dn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===OB)),W5e=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),n2=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Af=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const o=ze(e,a);if(o){const{_f:l,...c}=o;if(l){if(l.refs&&l.refs[0]&&t(l.refs[0],a)&&!n)return!0;if(l.ref&&t(l.ref,l.name)&&!n)return!0;if(Af(c,t))break}else if(dn(c)&&Af(c,t))break}}};function IB(e,t,r){const n=ze(e,r);if(n||Y1(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const o=a.join("."),l=ze(t,o),c=ze(e,o);if(l&&!Array.isArray(l)&&r!==o)return{name:r};if(c&&c.type)return{name:o,error:c};if(c&&c.root&&c.root.type)return{name:`${o}.root`,error:c.root};a.pop()}return{name:r}}var G5e=(e,t,r,n)=>{r(e);const{name:a,...o}=e;return vs(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(l=>t[l]===(!n||Oa.all))},Y5e=(e,t,r)=>!e||!t||e===t||Bs(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),Z5e=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,K5e=(e,t)=>!Z1(ze(e,t)).length&&ln(e,t),aY=(e,t,r)=>{const n=Bs(ze(e,r));return sr(n,"root",t[r]),sr(e,r,n),e},Ky=e=>$o(e);function LB(e,t,r="validate"){if(Ky(e)||Array.isArray(e)&&e.every(Ky)||ra(e)&&!e)return{type:r,message:Ky(e)?e:"",ref:t}}var rf=e=>dn(e)&&!uw(e)?e:{value:e,message:""},s2=async(e,t,r,n,a,o)=>{const{ref:l,refs:c,required:d,maxLength:u,minLength:i,min:m,max:g,pattern:x,validate:v,name:N,valueAsNumber:h,mount:y}=e._f,w=ze(r,N);if(!y||t.has(N))return{};const j=c?c[0]:l,C=I=>{a&&j.reportValidity&&(j.setCustomValidity(ra(I)?"":I||""),j.reportValidity())},_={},k=dT(l),A=Hg(l),T=k||A,R=(h||cT(l))&&Tr(l.value)&&Tr(w)||cw(l)&&l.value===""||w===""||Array.isArray(w)&&!w.length,P=lT.bind(null,N,n,_),M=(I,L,B,U=Ei.maxLength,F=Ei.minLength)=>{const H=I?L:B;_[N]={type:I?U:F,message:H,ref:l,...P(I?U:F,H)}};if(o?!Array.isArray(w)||!w.length:d&&(!T&&(R||ys(w))||ra(w)&&!w||A&&!rY(c).isValid||k&&!sY(c).isValid)){const{value:I,message:L}=Ky(d)?{value:!!d,message:d}:rf(d);if(I&&(_[N]={type:Ei.required,message:L,ref:j,...P(Ei.required,L)},!n))return C(L),_}if(!R&&(!ys(m)||!ys(g))){let I,L;const B=rf(g),U=rf(m);if(!ys(w)&&!isNaN(w)){const F=l.valueAsNumber||w&&+w;ys(B.value)||(I=F>B.value),ys(U.value)||(L=F<U.value)}else{const F=l.valueAsDate||new Date(w),H=q=>new Date(new Date().toDateString()+" "+q),W=l.type=="time",J=l.type=="week";$o(B.value)&&w&&(I=W?H(w)>H(B.value):J?w>B.value:F>new Date(B.value)),$o(U.value)&&w&&(L=W?H(w)<H(U.value):J?w<U.value:F<new Date(U.value))}if((I||L)&&(M(!!I,B.message,U.message,Ei.max,Ei.min),!n))return C(_[N].message),_}if((u||i)&&!R&&($o(w)||o&&Array.isArray(w))){const I=rf(u),L=rf(i),B=!ys(I.value)&&w.length>+I.value,U=!ys(L.value)&&w.length<+L.value;if((B||U)&&(M(B,I.message,L.message),!n))return C(_[N].message),_}if(x&&!R&&$o(w)){const{value:I,message:L}=rf(x);if(uw(I)&&!w.match(I)&&(_[N]={type:Ei.pattern,message:L,ref:l,...P(Ei.pattern,L)},!n))return C(L),_}if(v){if(ro(v)){const I=await v(w,r),L=LB(I,j);if(L&&(_[N]={...L,...P(Ei.validate,L.message)},!n))return C(L.message),_}else if(dn(v)){let I={};for(const L in v){if(!vs(I)&&!n)break;const B=LB(await v[L](w,r),j,L);B&&(I={...B,...P(L,B.message)},C(B.message),n&&(_[N]=I))}if(!vs(I)&&(_[N]={ref:j,...I},!n))return _}}return C(!0),_};const X5e={mode:Oa.onSubmit,reValidateMode:Oa.onChange,shouldFocusError:!0};function Q5e(e={}){let t={...X5e,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:ro(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=dn(t.defaultValues)||dn(t.values)?kr(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:kr(a),l={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,u=0;const i={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...i};const g={array:DB(),state:DB()},x=t.criteriaMode===Oa.all,v=Q=>Y=>{clearTimeout(u),u=setTimeout(Q,Y)},N=async Q=>{if(!t.disabled&&(i.isValid||m.isValid||Q)){const Y=t.resolver?vs((await A()).errors):await R(n,!0);Y!==r.isValid&&g.state.next({isValid:Y})}},h=(Q,Y)=>{!t.disabled&&(i.isValidating||i.validatingFields||m.isValidating||m.validatingFields)&&((Q||Array.from(c.mount)).forEach(re=>{re&&(Y?sr(r.validatingFields,re,Y):ln(r.validatingFields,re))}),g.state.next({validatingFields:r.validatingFields,isValidating:!vs(r.validatingFields)}))},y=(Q,Y=[],re,we,_e=!0,Ee=!0)=>{if(we&&re&&!t.disabled){if(l.action=!0,Ee&&Array.isArray(ze(n,Q))){const qe=re(ze(n,Q),we.argA,we.argB);_e&&sr(n,Q,qe)}if(Ee&&Array.isArray(ze(r.errors,Q))){const qe=re(ze(r.errors,Q),we.argA,we.argB);_e&&sr(r.errors,Q,qe),K5e(r.errors,Q)}if((i.touchedFields||m.touchedFields)&&Ee&&Array.isArray(ze(r.touchedFields,Q))){const qe=re(ze(r.touchedFields,Q),we.argA,we.argB);_e&&sr(r.touchedFields,Q,qe)}(i.dirtyFields||m.dirtyFields)&&(r.dirtyFields=op(a,o)),g.state.next({name:Q,isDirty:M(Q,Y),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else sr(o,Q,Y)},w=(Q,Y)=>{sr(r.errors,Q,Y),g.state.next({errors:r.errors})},j=Q=>{r.errors=Q,g.state.next({errors:r.errors,isValid:!1})},C=(Q,Y,re,we)=>{const _e=ze(n,Q);if(_e){const Ee=ze(o,Q,Tr(re)?ze(a,Q):re);Tr(Ee)||we&&we.defaultChecked||Y?sr(o,Q,Y?Ee:MB(_e._f)):B(Q,Ee),l.mount&&N()}},_=(Q,Y,re,we,_e)=>{let Ee=!1,qe=!1;const mt={name:Q};if(!t.disabled){if(!re||we){(i.isDirty||m.isDirty)&&(qe=r.isDirty,r.isDirty=mt.isDirty=M(),Ee=qe!==mt.isDirty);const yt=Pi(ze(a,Q),Y);qe=!!ze(r.dirtyFields,Q),yt?ln(r.dirtyFields,Q):sr(r.dirtyFields,Q,!0),mt.dirtyFields=r.dirtyFields,Ee=Ee||(i.dirtyFields||m.dirtyFields)&&qe!==!yt}if(re){const yt=ze(r.touchedFields,Q);yt||(sr(r.touchedFields,Q,re),mt.touchedFields=r.touchedFields,Ee=Ee||(i.touchedFields||m.touchedFields)&&yt!==re)}Ee&&_e&&g.state.next(mt)}return Ee?mt:{}},k=(Q,Y,re,we)=>{const _e=ze(r.errors,Q),Ee=(i.isValid||m.isValid)&&ra(Y)&&r.isValid!==Y;if(t.delayError&&re?(d=v(()=>w(Q,re)),d(t.delayError)):(clearTimeout(u),d=null,re?sr(r.errors,Q,re):ln(r.errors,Q)),(re?!Pi(_e,re):_e)||!vs(we)||Ee){const qe={...we,...Ee&&ra(Y)?{isValid:Y}:{},errors:r.errors,name:Q};r={...r,...qe},g.state.next(qe)}},A=async Q=>{h(Q,!0);const Y=await t.resolver(o,t.context,q5e(Q||c.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return h(Q),Y},T=async Q=>{const{errors:Y}=await A(Q);if(Q)for(const re of Q){const we=ze(Y,re);we?sr(r.errors,re,we):ln(r.errors,re)}else r.errors=Y;return Y},R=async(Q,Y,re={valid:!0})=>{for(const we in Q){const _e=Q[we];if(_e){const{_f:Ee,...qe}=_e;if(Ee){const mt=c.array.has(Ee.name),yt=_e._f&&V5e(_e._f);yt&&i.validatingFields&&h([we],!0);const Ft=await s2(_e,c.disabled,o,x,t.shouldUseNativeValidation&&!Y,mt);if(yt&&i.validatingFields&&h([we]),Ft[Ee.name]&&(re.valid=!1,Y))break;!Y&&(ze(Ft,Ee.name)?mt?aY(r.errors,Ft,Ee.name):sr(r.errors,Ee.name,Ft[Ee.name]):ln(r.errors,Ee.name))}!vs(qe)&&await R(qe,Y,re)}}return re.valid},P=()=>{for(const Q of c.unMount){const Y=ze(n,Q);Y&&(Y._f.refs?Y._f.refs.every(re=>!o_(re)):!o_(Y._f.ref))&&de(Q)}c.unMount=new Set},M=(Q,Y)=>!t.disabled&&(Q&&Y&&sr(o,Q,Y),!Pi(q(),a)),I=(Q,Y,re)=>QG(Q,c,{...l.mount?o:Tr(Y)?a:$o(Q)?{[Q]:Y}:Y},re,Y),L=Q=>Z1(ze(l.mount?o:a,Q,t.shouldUnregister?ze(a,Q,[]):[])),B=(Q,Y,re={})=>{const we=ze(n,Q);let _e=Y;if(we){const Ee=we._f;Ee&&(!Ee.disabled&&sr(o,Q,nY(Y,Ee)),_e=cw(Ee.ref)&&ys(Y)?"":Y,JG(Ee.ref)?[...Ee.ref.options].forEach(qe=>qe.selected=_e.includes(qe.value)):Ee.refs?Hg(Ee.ref)?Ee.refs.forEach(qe=>{(!qe.defaultChecked||!qe.disabled)&&(Array.isArray(_e)?qe.checked=!!_e.find(mt=>mt===qe.value):qe.checked=_e===qe.value||!!_e)}):Ee.refs.forEach(qe=>qe.checked=qe.value===_e):cT(Ee.ref)?Ee.ref.value="":(Ee.ref.value=_e,Ee.ref.type||g.state.next({name:Q,values:kr(o)})))}(re.shouldDirty||re.shouldTouch)&&_(Q,_e,re.shouldTouch,re.shouldDirty,!0),re.shouldValidate&&J(Q)},U=(Q,Y,re)=>{for(const we in Y){if(!Y.hasOwnProperty(we))return;const _e=Y[we],Ee=Q+"."+we,qe=ze(n,Ee);(c.array.has(Q)||dn(_e)||qe&&!qe._f)&&!hd(_e)?U(Ee,_e,re):B(Ee,_e,re)}},F=(Q,Y,re={})=>{const we=ze(n,Q),_e=c.array.has(Q),Ee=kr(Y);sr(o,Q,Ee),_e?(g.array.next({name:Q,values:kr(o)}),(i.isDirty||i.dirtyFields||m.isDirty||m.dirtyFields)&&re.shouldDirty&&g.state.next({name:Q,dirtyFields:op(a,o),isDirty:M(Q,Ee)})):we&&!we._f&&!ys(Ee)?U(Q,Ee,re):B(Q,Ee,re),n2(Q,c)&&g.state.next({...r,name:Q}),g.state.next({name:l.mount?Q:void 0,values:kr(o)})},H=async Q=>{l.mount=!0;const Y=Q.target;let re=Y.name,we=!0;const _e=ze(n,re),Ee=yt=>{we=Number.isNaN(yt)||hd(yt)&&isNaN(yt.getTime())||Pi(yt,ze(o,re,yt))},qe=vf(t.mode),mt=vf(t.reValidateMode);if(_e){let yt,Ft;const Zn=Y.type?MB(_e._f):ZG(Q),Nn=Q.type===lw.BLUR||Q.type===lw.FOCUS_OUT,Ga=!W5e(_e._f)&&!t.resolver&&!ze(r.errors,re)&&!_e._f.deps||Z5e(Nn,ze(r.touchedFields,re),r.isSubmitted,mt,qe),ga=n2(re,c,Nn);sr(o,re,Zn),Nn?(!Y||!Y.readOnly)&&(_e._f.onBlur&&_e._f.onBlur(Q),d&&d(0)):_e._f.onChange&&_e._f.onChange(Q);const Vs=_(re,Zn,Nn),As=!vs(Vs)||ga;if(!Nn&&g.state.next({name:re,type:Q.type,values:kr(o)}),Ga)return(i.isValid||m.isValid)&&(t.mode==="onBlur"?Nn&&N():Nn||N()),As&&g.state.next({name:re,...ga?{}:Vs});if(!Nn&&ga&&g.state.next({...r}),t.resolver){const{errors:xa}=await A([re]);if(Ee(Zn),we){const Ya=IB(r.errors,n,re),jt=IB(xa,n,Ya.name||re);yt=jt.error,re=jt.name,Ft=vs(xa)}}else h([re],!0),yt=(await s2(_e,c.disabled,o,x,t.shouldUseNativeValidation))[re],h([re]),Ee(Zn),we&&(yt?Ft=!1:(i.isValid||m.isValid)&&(Ft=await R(n,!0)));we&&(_e._f.deps&&J(_e._f.deps),k(re,Ft,yt,Vs))}},W=(Q,Y)=>{if(ze(r.errors,Y)&&Q.focus)return Q.focus(),1},J=async(Q,Y={})=>{let re,we;const _e=Bs(Q);if(t.resolver){const Ee=await T(Tr(Q)?Q:_e);re=vs(Ee),we=Q?!_e.some(qe=>ze(Ee,qe)):re}else Q?(we=(await Promise.all(_e.map(async Ee=>{const qe=ze(n,Ee);return await R(qe&&qe._f?{[Ee]:qe}:qe)}))).every(Boolean),!(!we&&!r.isValid)&&N()):we=re=await R(n);return g.state.next({...!$o(Q)||(i.isValid||m.isValid)&&re!==r.isValid?{}:{name:Q},...t.resolver||!Q?{isValid:re}:{},errors:r.errors}),Y.shouldFocus&&!we&&Af(n,W,Q?_e:c.mount),we},q=Q=>{const Y={...l.mount?o:a};return Tr(Q)?Y:$o(Q)?ze(Y,Q):Q.map(re=>ze(Y,re))},G=(Q,Y)=>({invalid:!!ze((Y||r).errors,Q),isDirty:!!ze((Y||r).dirtyFields,Q),error:ze((Y||r).errors,Q),isValidating:!!ze(r.validatingFields,Q),isTouched:!!ze((Y||r).touchedFields,Q)}),z=Q=>{Q&&Bs(Q).forEach(Y=>ln(r.errors,Y)),g.state.next({errors:Q?r.errors:{}})},K=(Q,Y,re)=>{const we=(ze(n,Q,{_f:{}})._f||{}).ref,_e=ze(r.errors,Q)||{},{ref:Ee,message:qe,type:mt,...yt}=_e;sr(r.errors,Q,{...yt,...Y,ref:we}),g.state.next({name:Q,errors:r.errors,isValid:!1}),re&&re.shouldFocus&&we&&we.focus&&we.focus()},Z=(Q,Y)=>ro(Q)?g.state.subscribe({next:re=>"values"in re&&Q(I(void 0,Y),re)}):I(Q,Y,!0),ie=Q=>g.state.subscribe({next:Y=>{Y5e(Q.name,Y.name,Q.exact)&&G5e(Y,Q.formState||i,nt,Q.reRenderRoot)&&Q.callback({values:{...o},...r,...Y,defaultValues:a})}}).unsubscribe,ye=Q=>(l.mount=!0,m={...m,...Q.formState},ie({...Q,formState:m})),de=(Q,Y={})=>{for(const re of Q?Bs(Q):c.mount)c.mount.delete(re),c.array.delete(re),Y.keepValue||(ln(n,re),ln(o,re)),!Y.keepError&&ln(r.errors,re),!Y.keepDirty&&ln(r.dirtyFields,re),!Y.keepTouched&&ln(r.touchedFields,re),!Y.keepIsValidating&&ln(r.validatingFields,re),!t.shouldUnregister&&!Y.keepDefaultValue&&ln(a,re);g.state.next({values:kr(o)}),g.state.next({...r,...Y.keepDirty?{isDirty:M()}:{}}),!Y.keepIsValid&&N()},xe=({disabled:Q,name:Y})=>{(ra(Q)&&l.mount||Q||c.disabled.has(Y))&&(Q?c.disabled.add(Y):c.disabled.delete(Y))},ne=(Q,Y={})=>{let re=ze(n,Q);const we=ra(Y.disabled)||ra(t.disabled);return sr(n,Q,{...re||{},_f:{...re&&re._f?re._f:{ref:{name:Q}},name:Q,mount:!0,...Y}}),c.mount.add(Q),re?xe({disabled:ra(Y.disabled)?Y.disabled:t.disabled,name:Q}):C(Q,!0,Y.value),{...we?{disabled:Y.disabled||t.disabled}:{},...t.progressive?{required:!!Y.required,min:ip(Y.min),max:ip(Y.max),minLength:ip(Y.minLength),maxLength:ip(Y.maxLength),pattern:ip(Y.pattern)}:{},name:Q,onChange:H,onBlur:H,ref:_e=>{if(_e){ne(Q,Y),re=ze(n,Q);const Ee=Tr(_e.value)&&_e.querySelectorAll&&_e.querySelectorAll("input,select,textarea")[0]||_e,qe=$5e(Ee),mt=re._f.refs||[];if(qe?mt.find(yt=>yt===Ee):Ee===re._f.ref)return;sr(n,Q,{_f:{...re._f,...qe?{refs:[...mt.filter(o_),Ee,...Array.isArray(ze(a,Q))?[{}]:[]],ref:{type:Ee.type,name:Q}}:{ref:Ee}}}),C(Q,!1,void 0,Ee)}else re=ze(n,Q,{}),re._f&&(re._f.mount=!1),(t.shouldUnregister||Y.shouldUnregister)&&!(KG(c.array,Q)&&l.action)&&c.unMount.add(Q)}}},ge=()=>t.shouldFocusError&&Af(n,W,c.mount),Ce=Q=>{ra(Q)&&(g.state.next({disabled:Q}),Af(n,(Y,re)=>{const we=ze(n,re);we&&(Y.disabled=we._f.disabled||Q,Array.isArray(we._f.refs)&&we._f.refs.forEach(_e=>{_e.disabled=we._f.disabled||Q}))},0,!1))},ce=(Q,Y)=>async re=>{let we;re&&(re.preventDefault&&re.preventDefault(),re.persist&&re.persist());let _e=kr(o);if(g.state.next({isSubmitting:!0}),t.resolver){const{errors:Ee,values:qe}=await A();r.errors=Ee,_e=kr(qe)}else await R(n);if(c.disabled.size)for(const Ee of c.disabled)ln(_e,Ee);if(ln(r.errors,"root"),vs(r.errors)){g.state.next({errors:{}});try{await Q(_e,re)}catch(Ee){we=Ee}}else Y&&await Y({...r.errors},re),ge(),setTimeout(ge);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:vs(r.errors)&&!we,submitCount:r.submitCount+1,errors:r.errors}),we)throw we},Oe=(Q,Y={})=>{ze(n,Q)&&(Tr(Y.defaultValue)?F(Q,kr(ze(a,Q))):(F(Q,Y.defaultValue),sr(a,Q,kr(Y.defaultValue))),Y.keepTouched||ln(r.touchedFields,Q),Y.keepDirty||(ln(r.dirtyFields,Q),r.isDirty=Y.defaultValue?M(Q,kr(ze(a,Q))):M()),Y.keepError||(ln(r.errors,Q),i.isValid&&N()),g.state.next({...r}))},Pe=(Q,Y={})=>{const re=Q?kr(Q):a,we=kr(re),_e=vs(Q),Ee=_e?a:we;if(Y.keepDefaultValues||(a=re),!Y.keepValues){if(Y.keepDirtyValues){const qe=new Set([...c.mount,...Object.keys(op(a,o))]);for(const mt of Array.from(qe))ze(r.dirtyFields,mt)?sr(Ee,mt,ze(o,mt)):F(mt,ze(Ee,mt))}else{if(sT&&Tr(Q))for(const qe of c.mount){const mt=ze(n,qe);if(mt&&mt._f){const yt=Array.isArray(mt._f.refs)?mt._f.refs[0]:mt._f.ref;if(cw(yt)){const Ft=yt.closest("form");if(Ft){Ft.reset();break}}}}if(Y.keepFieldsRef)for(const qe of c.mount)F(qe,ze(Ee,qe));else n={}}o=t.shouldUnregister?Y.keepDefaultValues?kr(a):{}:kr(Ee),g.array.next({values:{...Ee}}),g.state.next({values:{...Ee}})}c={mount:Y.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!i.isValid||!!Y.keepIsValid||!!Y.keepDirtyValues,l.watch=!!t.shouldUnregister,g.state.next({submitCount:Y.keepSubmitCount?r.submitCount:0,isDirty:_e?!1:Y.keepDirty?r.isDirty:!!(Y.keepDefaultValues&&!Pi(Q,a)),isSubmitted:Y.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:_e?{}:Y.keepDirtyValues?Y.keepDefaultValues&&o?op(a,o):r.dirtyFields:Y.keepDefaultValues&&Q?op(a,Q):Y.keepDirty?r.dirtyFields:{},touchedFields:Y.keepTouched?r.touchedFields:{},errors:Y.keepErrors?r.errors:{},isSubmitSuccessful:Y.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},ae=(Q,Y)=>Pe(ro(Q)?Q(o):Q,Y),$e=(Q,Y={})=>{const re=ze(n,Q),we=re&&re._f;if(we){const _e=we.refs?we.refs[0]:we.ref;_e.focus&&(_e.focus(),Y.shouldSelect&&ro(_e.select)&&_e.select())}},nt=Q=>{r={...r,...Q}},Fe={control:{register:ne,unregister:de,getFieldState:G,handleSubmit:ce,setError:K,_subscribe:ie,_runSchema:A,_focusError:ge,_getWatch:I,_getDirty:M,_setValid:N,_setFieldArray:y,_setDisabledField:xe,_setErrors:j,_getFieldArray:L,_reset:Pe,_resetDefaultValues:()=>ro(t.defaultValues)&&t.defaultValues().then(Q=>{ae(Q,t.resetOptions),g.state.next({isLoading:!1})}),_removeUnmounted:P,_disableForm:Ce,_subjects:g,_proxyFormState:i,get _fields(){return n},get _formValues(){return o},get _state(){return l},set _state(Q){l=Q},get _defaultValues(){return a},get _names(){return c},set _names(Q){c=Q},get _formState(){return r},get _options(){return t},set _options(Q){t={...t,...Q}}},subscribe:ye,trigger:J,register:ne,handleSubmit:ce,watch:Z,setValue:F,getValues:q,reset:ae,resetField:Oe,clearErrors:z,unregister:de,setError:K,setFocus:$e,getFieldState:G};return{...Fe,formControl:Fe}}var zl=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const r=(Math.random()*16+e)%16|0;return(t=="x"?r:r&3|8).toString(16)})},i_=(e,t,r={})=>r.shouldFocus||Tr(r.shouldFocus)?r.focusName||`${e}.${Tr(r.focusIndex)?t:r.focusIndex}.`:"",l_=(e,t)=>[...e,...Bs(t)],c_=e=>Array.isArray(e)?e.map(()=>{}):void 0;function d_(e,t,r){return[...e.slice(0,t),...Bs(r),...e.slice(t)]}var u_=(e,t,r)=>Array.isArray(e)?(Tr(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[],f_=(e,t)=>[...Bs(t),...Bs(e)];function J5e(e,t){let r=0;const n=[...e];for(const a of t)n.splice(a-r,1),r++;return Z1(n).length?n:[]}var m_=(e,t)=>Tr(t)?[]:J5e(e,Bs(t).sort((r,n)=>r-n)),h_=(e,t,r)=>{[e[t],e[r]]=[e[r],e[t]]},BB=(e,t,r)=>(e[t]=r,e);function e6e(e){const t=zg(),{control:r=t.control,name:n,keyName:a="id",shouldUnregister:o,rules:l}=e,[c,d]=pe.useState(r._getFieldArray(n)),u=pe.useRef(r._getFieldArray(n).map(zl)),i=pe.useRef(c),m=pe.useRef(!1);i.current=c,r._names.array.add(n),pe.useMemo(()=>l&&r.register(n,l),[r,l,n]),K1(()=>r._subjects.array.subscribe({next:({values:_,name:k})=>{if(k===n||!k){const A=ze(_,n);Array.isArray(A)&&(d(A),u.current=A.map(zl))}}}).unsubscribe,[r,n]);const g=pe.useCallback(_=>{m.current=!0,r._setFieldArray(n,_)},[r,n]),x=(_,k)=>{const A=Bs(kr(_)),T=l_(r._getFieldArray(n),A);r._names.focus=i_(n,T.length-1,k),u.current=l_(u.current,A.map(zl)),g(T),d(T),r._setFieldArray(n,T,l_,{argA:c_(_)})},v=(_,k)=>{const A=Bs(kr(_)),T=f_(r._getFieldArray(n),A);r._names.focus=i_(n,0,k),u.current=f_(u.current,A.map(zl)),g(T),d(T),r._setFieldArray(n,T,f_,{argA:c_(_)})},N=_=>{const k=m_(r._getFieldArray(n),_);u.current=m_(u.current,_),g(k),d(k),!Array.isArray(ze(r._fields,n))&&sr(r._fields,n,void 0),r._setFieldArray(n,k,m_,{argA:_})},h=(_,k,A)=>{const T=Bs(kr(k)),R=d_(r._getFieldArray(n),_,T);r._names.focus=i_(n,_,A),u.current=d_(u.current,_,T.map(zl)),g(R),d(R),r._setFieldArray(n,R,d_,{argA:_,argB:c_(k)})},y=(_,k)=>{const A=r._getFieldArray(n);h_(A,_,k),h_(u.current,_,k),g(A),d(A),r._setFieldArray(n,A,h_,{argA:_,argB:k},!1)},w=(_,k)=>{const A=r._getFieldArray(n);u_(A,_,k),u_(u.current,_,k),g(A),d(A),r._setFieldArray(n,A,u_,{argA:_,argB:k},!1)},j=(_,k)=>{const A=kr(k),T=BB(r._getFieldArray(n),_,A);u.current=[...T].map((R,P)=>!R||P===_?zl():u.current[P]),g(T),d([...T]),r._setFieldArray(n,T,BB,{argA:_,argB:A},!0,!1)},C=_=>{const k=Bs(kr(_));u.current=k.map(zl),g([...k]),d([...k]),r._setFieldArray(n,[...k],A=>A,{},!0,!1)};return pe.useEffect(()=>{if(r._state.action=!1,n2(n,r._names)&&r._subjects.state.next({...r._formState}),m.current&&(!vf(r._options.mode).isOnSubmit||r._formState.isSubmitted)&&!vf(r._options.reValidateMode).isOnSubmit)if(r._options.resolver)r._runSchema([n]).then(_=>{const k=ze(_.errors,n),A=ze(r._formState.errors,n);(A?!k&&A.type||k&&(A.type!==k.type||A.message!==k.message):k&&k.type)&&(k?sr(r._formState.errors,n,k):ln(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))});else{const _=ze(r._fields,n);_&&_._f&&!(vf(r._options.reValidateMode).isOnSubmit&&vf(r._options.mode).isOnSubmit)&&s2(_,r._names.disabled,r._formValues,r._options.criteriaMode===Oa.all,r._options.shouldUseNativeValidation,!0).then(k=>!vs(k)&&r._subjects.state.next({errors:aY(r._formState.errors,k,n)}))}r._subjects.state.next({name:n,values:kr(r._formValues)}),r._names.focus&&Af(r._fields,(_,k)=>{if(r._names.focus&&k.startsWith(r._names.focus)&&_.focus)return _.focus(),1}),r._names.focus="",r._setValid(),m.current=!1},[c,n,r]),pe.useEffect(()=>(!ze(r._formValues,n)&&r._setFieldArray(n),()=>{const _=(k,A)=>{const T=ze(r._fields,k);T&&T._f&&(T._f.mount=A)};r._options.shouldUnregister||o?r.unregister(n):_(n,!1)}),[n,r,a,o]),{swap:pe.useCallback(y,[g,n,r]),move:pe.useCallback(w,[g,n,r]),prepend:pe.useCallback(v,[g,n,r]),append:pe.useCallback(x,[g,n,r]),remove:pe.useCallback(N,[g,n,r]),insert:pe.useCallback(h,[g,n,r]),update:pe.useCallback(j,[g,n,r]),replace:pe.useCallback(C,[g,n,r]),fields:pe.useMemo(()=>c.map((_,k)=>({..._,[a]:u.current[k]||zl()})),[c,a])}}function Es(e={}){const t=pe.useRef(void 0),r=pe.useRef(void 0),[n,a]=pe.useState({isDirty:!1,isValidating:!1,isLoading:ro(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:ro(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!ro(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:l,...c}=Q5e(e);t.current={...c,formState:n}}const o=t.current.control;return o._options=e,K1(()=>{const l=o._subscribe({formState:o._proxyFormState,callback:()=>a({...o._formState}),reRenderRoot:!0});return a(c=>({...c,isReady:!0})),o._formState.isReady=!0,l},[o]),pe.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),pe.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),pe.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),pe.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),pe.useEffect(()=>{if(o._proxyFormState.isDirty){const l=o._getDirty();l!==n.isDirty&&o._subjects.state.next({isDirty:l})}},[o,n.isDirty]),pe.useEffect(()=>{e.values&&!Pi(e.values,r.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),r.current=e.values,a(l=>({...l}))):o._resetDefaultValues()},[o,e.values]),pe.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),t.current.formState=XG(n,o),t.current}const FB=(e,t,r)=>{if(e&&"reportValidity"in e){const n=ze(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},a2=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?FB(n.ref,r,e):n&&n.refs&&n.refs.forEach(a=>FB(a,r,e))}},UB=(e,t)=>{t.shouldUseNativeValidation&&a2(e,t);const r={};for(const n in e){const a=ze(t.fields,n),o=Object.assign(e[n]||{},{ref:a&&a.ref});if(t6e(t.names||Object.keys(e),n)){const l=Object.assign({},ze(r,n));sr(l,"root",o),sr(r,n,l)}else sr(r,n,o)}return r},t6e=(e,t)=>{const r=$B(t);return e.some(n=>$B(n).match(`^${r}\\.\\d+`))};function $B(e){return e.replace(/\]|\[/g,"")}function HB(e,t){try{var r=e()}catch(n){return t(n)}return r&&r.then?r.then(void 0,t):r}function r6e(e,t){for(var r={};e.length;){var n=e[0],a=n.code,o=n.message,l=n.path.join(".");if(!r[l])if("unionErrors"in n){var c=n.unionErrors[0].errors[0];r[l]={message:c.message,type:c.code}}else r[l]={message:o,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(i){return i.errors.forEach(function(m){return e.push(m)})}),t){var d=r[l].types,u=d&&d[n.code];r[l]=lT(l,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r}function n6e(e,t){for(var r={};e.length;){var n=e[0],a=n.code,o=n.message,l=n.path.join(".");if(!r[l])if(n.code==="invalid_union"&&n.errors.length>0){var c=n.errors[0][0];r[l]={message:c.message,type:c.code}}else r[l]={message:o,type:a};if(n.code==="invalid_union"&&n.errors.forEach(function(i){return i.forEach(function(m){return e.push(m)})}),t){var d=r[l].types,u=d&&d[n.code];r[l]=lT(l,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r}function $s(e,t,r){if(r===void 0&&(r={}),function(n){return"_def"in n&&typeof n._def=="object"&&"typeName"in n._def}(e))return function(n,a,o){try{return Promise.resolve(HB(function(){return Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(l){return o.shouldUseNativeValidation&&a2({},o),{errors:{},values:r.raw?Object.assign({},n):l}})},function(l){if(function(c){return Array.isArray(c?.issues)}(l))return{values:{},errors:UB(r6e(l.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw l}))}catch(l){return Promise.reject(l)}};if(function(n){return"_zod"in n&&typeof n._zod=="object"}(e))return function(n,a,o){try{return Promise.resolve(HB(function(){return Promise.resolve((r.mode==="sync"?ice:lce)(e,n,t)).then(function(l){return o.shouldUseNativeValidation&&a2({},o),{errors:{},values:r.raw?Object.assign({},n):l}})},function(l){if(function(c){return c instanceof R2}(l))return{values:{},errors:UB(n6e(l.issues,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw l}))}catch(l){return Promise.reject(l)}};throw new Error("Invalid input: not a Zod schema")}const $a=L5e,oY=b.createContext({}),Gt=e=>s.jsx(oY.Provider,{value:{name:e.name},children:s.jsx(iT,{...e})}),X1=()=>{const e=b.useContext(oY),t=b.useContext(iY),{getFieldState:r,formState:n}=zg(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:o}=t;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...a}},iY=b.createContext({}),Ht=b.forwardRef(({className:e,...t},r)=>{const n=b.useId();return s.jsx(iY.Provider,{value:{id:n},children:s.jsx("div",{ref:r,className:ee("space-y-2",e),...t})})});Ht.displayName="FormItem";const zt=b.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=X1();return s.jsx(Ie,{ref:r,className:ee(n&&"text-destructive",e),htmlFor:a,...t})});zt.displayName="FormLabel";const qt=b.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:o}=X1();return s.jsx(vc,{ref:t,id:n,"aria-describedby":r?`${a} ${o}`:`${a}`,"aria-invalid":!!r,...e})});qt.displayName="FormControl";const ts=b.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=X1();return s.jsx("p",{ref:r,id:n,className:ee("text-sm text-muted-foreground",e),...t})});ts.displayName="FormDescription";const ar=b.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:o}=X1(),l=a?String(a?.message):t;return l?s.jsx("p",{ref:n,id:o,className:ee("text-sm font-medium text-destructive",e),...r,children:l}):null});ar.displayName="FormMessage";function zB(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}function s6e(e,t){return b.useReducer((r,n)=>t[r][n]??r,e)}var lY=e=>{const{present:t,children:r}=e,n=a6e(t),a=typeof r=="function"?r({present:n.isPresent}):b.Children.only(r),o=ct(n.ref,o6e(a));return typeof r=="function"||n.isPresent?b.cloneElement(a,{ref:o}):null};lY.displayName="Presence";function a6e(e){const[t,r]=b.useState(),n=b.useRef(null),a=b.useRef(e),o=b.useRef("none"),l=e?"mounted":"unmounted",[c,d]=s6e(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=Yv(n.current);o.current=c==="mounted"?u:"none"},[c]),ir(()=>{const u=n.current,i=a.current;if(i!==e){const g=o.current,x=Yv(u);e?d("MOUNT"):x==="none"||u?.display==="none"?d("UNMOUNT"):d(i&&g!==x?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,d]),ir(()=>{if(t){let u;const i=t.ownerDocument.defaultView??window,m=x=>{const N=Yv(n.current).includes(CSS.escape(x.animationName));if(x.target===t&&N&&(d("ANIMATION_END"),!a.current)){const h=t.style.animationFillMode;t.style.animationFillMode="forwards",u=i.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=h)})}},g=x=>{x.target===t&&(o.current=Yv(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{i.clearTimeout(u),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:b.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Yv(e){return e?.animationName||"none"}function o6e(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Q1="Checkbox",[i6e,_7e]=jn(Q1),[l6e,uT]=i6e(Q1);function c6e(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:o,form:l,name:c,onCheckedChange:d,required:u,value:i="on",internal_do_not_use_render:m}=e,[g,x]=Fa({prop:r,defaultProp:a??!1,onChange:d,caller:Q1}),[v,N]=b.useState(null),[h,y]=b.useState(null),w=b.useRef(!1),j=v?!!l||!!v.closest("form"):!0,C={checked:g,disabled:o,setChecked:x,control:v,setControl:N,name:c,form:l,value:i,hasConsumerStoppedPropagationRef:w,required:u,defaultChecked:tc(a)?!1:a,isFormControl:j,bubbleInput:h,setBubbleInput:y};return s.jsx(l6e,{scope:t,...C,children:d6e(m)?m(C):n})}var cY="CheckboxTrigger",dY=b.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:o,value:l,disabled:c,checked:d,required:u,setControl:i,setChecked:m,hasConsumerStoppedPropagationRef:g,isFormControl:x,bubbleInput:v}=uT(cY,e),N=ct(a,i),h=b.useRef(d);return b.useEffect(()=>{const y=o?.form;if(y){const w=()=>m(h.current);return y.addEventListener("reset",w),()=>y.removeEventListener("reset",w)}},[o,m]),s.jsx(Ge.button,{type:"button",role:"checkbox","aria-checked":tc(d)?"mixed":d,"aria-required":u,"data-state":pY(d),"data-disabled":c?"":void 0,disabled:c,value:l,...n,ref:N,onKeyDown:zB(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:zB(r,y=>{m(w=>tc(w)?!0:!w),v&&x&&(g.current=y.isPropagationStopped(),g.current||y.stopPropagation())})})});dY.displayName=cY;var fT=b.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:o,required:l,disabled:c,value:d,onCheckedChange:u,form:i,...m}=e;return s.jsx(c6e,{__scopeCheckbox:r,checked:a,defaultChecked:o,disabled:c,required:l,onCheckedChange:u,name:n,form:i,value:d,internal_do_not_use_render:({isFormControl:g})=>s.jsxs(s.Fragment,{children:[s.jsx(dY,{...m,ref:t,__scopeCheckbox:r}),g&&s.jsx(hY,{__scopeCheckbox:r})]})})});fT.displayName=Q1;var uY="CheckboxIndicator",fY=b.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,o=uT(uY,r);return s.jsx(lY,{present:n||tc(o.checked)||o.checked===!0,children:s.jsx(Ge.span,{"data-state":pY(o.checked),"data-disabled":o.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});fY.displayName=uY;var mY="CheckboxBubbleInput",hY=b.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:o,defaultChecked:l,required:c,disabled:d,name:u,value:i,form:m,bubbleInput:g,setBubbleInput:x}=uT(mY,e),v=ct(r,x),N=q1(o),h=Sg(n);b.useEffect(()=>{const w=g;if(!w)return;const j=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(j,"checked").set,k=!a.current;if(N!==o&&_){const A=new Event("click",{bubbles:k});w.indeterminate=tc(o),_.call(w,tc(o)?!1:o),w.dispatchEvent(A)}},[g,N,o,a]);const y=b.useRef(tc(o)?!1:o);return s.jsx(Ge.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??y.current,required:c,disabled:d,name:u,value:i,form:m,...t,tabIndex:-1,ref:v,style:{...t.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});hY.displayName=mY;function d6e(e){return typeof e=="function"}function tc(e){return e==="indeterminate"}function pY(e){return tc(e)?"indeterminate":e?"checked":"unchecked"}const rs=b.forwardRef(({className:e,...t},r)=>s.jsx(fT,{ref:r,className:ee("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(fY,{className:ee("flex items-center justify-center text-current"),children:s.jsx(Zw,{className:"h-4 w-4"})})}));rs.displayName=fT.displayName;const gY=pe.memo(({role:e,checked:t,onRoleChange:r})=>{const n=b.useCallback(a=>{r(e.name,a)},[e.name,r]);return s.jsxs("div",{className:`flex items-start space-x-2 sm:space-x-3 p-3 sm:p-4 rounded-lg border transition-all duration-200 hover:shadow-md hover:scale-[1.02] ${t?"bg-accent border-primary border-2":"bg-muted border-border border"}`,children:[s.jsx(rs,{id:`role-${e.id}`,checked:t,onCheckedChange:n,className:`mt-0.5 sm:mt-1 ${t?"border-primary bg-primary":"border-border bg-background"}`}),s.jsxs("div",{className:"grid gap-1 sm:gap-1.5 leading-none flex-1",children:[s.jsx(Ie,{htmlFor:`role-${e.id}`,className:`text-xs sm:text-sm md:text-base font-medium leading-tight cursor-pointer transition-colors duration-200 ${t?"text-accent-foreground":"text-foreground"}`,children:e.name}),e.permissions&&e.permissions.length>0&&s.jsxs("p",{className:"text-xs sm:text-sm leading-tight text-muted-foreground",children:[e.permissions.length," permission",e.permissions.length>1?"s":""]})]})]})});gY.displayName="RoleCard";const xY=pe.memo(({permission:e,checked:t,onPermissionChange:r})=>{const n=b.useCallback(a=>{r(e.name,a)},[e.name,r]);return s.jsxs("div",{className:`flex items-start space-x-2 sm:space-x-3 p-3 sm:p-4 rounded-lg border transition-all duration-200 hover:shadow-md hover:scale-[1.02] ${t?"bg-accent border-primary border-2":"bg-muted border-border border"}`,children:[s.jsx(rs,{id:`permission-${e.id}`,checked:t,onCheckedChange:n,className:`mt-0.5 sm:mt-1 ${t?"border-primary bg-primary":"border-border bg-background"}`}),s.jsx("div",{className:"grid gap-1 sm:gap-1.5 leading-none flex-1",children:s.jsx(Ie,{htmlFor:`permission-${e.id}`,className:`text-xs sm:text-sm md:text-base font-medium leading-tight cursor-pointer transition-colors duration-200 ${t?"text-accent-foreground":"text-foreground"}`,children:e.name})})]})});xY.displayName="PermissionCard";const mT=pe.memo(({paginationInfo:e,onPageChange:t,className:r=""})=>{const{currentPage:n,totalPages:a,hasPrevPage:o,hasNextPage:l}=e,c=()=>{o&&t(n-1)},d=()=>{l&&t(n+1)},u=m=>{t(m)},i=()=>{const m=[];if(a<=5)for(let x=1;x<=a;x++)m.push(x);else{const x=Math.max(1,n-2),v=Math.min(a,x+5-1);for(let N=x;N<=v;N++)m.push(N)}return m};return a<=1?null:s.jsxs("div",{className:`flex items-center justify-center space-x-2 ${r}`,children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:c,disabled:!o,className:"flex items-center space-x-1",children:[s.jsx(al,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),s.jsx("div",{className:"flex items-center space-x-1",children:i().map(m=>s.jsx(X,{variant:m===n?"default":"outline",size:"sm",onClick:()=>u(m),className:"min-w-[2.5rem]",children:m},m))}),s.jsxs(X,{variant:"outline",size:"sm",onClick:d,disabled:!l,className:"flex items-center space-x-1",children:[s.jsx("span",{className:"hidden sm:inline",children:"Next"}),s.jsx(qa,{className:"h-4 w-4"})]})]})});mT.displayName="PaginationControls";const o2=pe.memo(({className:e,...t})=>{const[r,n]=b.useState(!1),a=b.useCallback(()=>{n(o=>!o)},[]);return s.jsxs("div",{className:"relative",children:[s.jsx(We,{...t,type:r?"text":"password",className:ee("pr-10",e)}),s.jsxs(X,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:a,tabIndex:-1,children:[r?s.jsx(oc,{className:"h-4 w-4 text-muted-foreground"}):s.jsx(Sn,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"sr-only",children:r?"Hide password":"Show password"})]})]})});o2.displayName="PasswordInput";const hT=pe.memo(({form:e,isEditMode:t=!1,showPasswordFields:r=!0})=>s.jsx("div",{className:"space-y-4 sm:space-y-6",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-foreground mb-3 sm:mb-4",children:t?"Edit User Information":"Basic Information"}),s.jsxs("div",{className:"grid gap-4 sm:gap-6",children:[s.jsx(Gt,{control:e.control,name:"name",render:({field:n})=>s.jsxs(Ht,{children:[s.jsx(zt,{className:"text-sm font-medium text-foreground",children:"Full Name *"}),s.jsx(qt,{children:s.jsx(We,{...n,placeholder:"Enter full name",className:"w-full"})}),s.jsx(ar,{})]})}),s.jsx(Gt,{control:e.control,name:"email",render:({field:n})=>s.jsxs(Ht,{children:[s.jsx(zt,{className:"text-sm font-medium text-foreground",children:"Email Address *"}),s.jsx(qt,{children:s.jsx(We,{...n,type:"email",placeholder:"Enter email address",className:"w-full"})}),s.jsx(ar,{})]})}),r&&s.jsxs(s.Fragment,{children:[s.jsx(Gt,{control:e.control,name:"password",render:({field:n})=>s.jsxs(Ht,{children:[s.jsxs(zt,{className:"text-sm font-medium text-foreground",children:["Password ",!t&&"*",t&&s.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:"(Leave blank to keep current password)"})]}),s.jsx(qt,{children:s.jsx(o2,{...n,placeholder:t?"Enter new password (optional)":"Enter password",className:"w-full"})}),s.jsx(ar,{})]})}),s.jsx(Gt,{control:e.control,name:"password_confirmation",render:({field:n})=>s.jsxs(Ht,{children:[s.jsxs(zt,{className:"text-sm font-medium text-foreground",children:["Confirm Password ",!t&&"*"]}),s.jsx(qt,{children:s.jsx(o2,{...n,placeholder:t?"Confirm new password":"Confirm password",className:"w-full"})}),s.jsx(ar,{})]})})]})]})]})}));hT.displayName="BasicInfoSection";const pT=pe.memo(({roles:e,selectedRoles:t,onRoleChange:r,paginationInfo:n,onPageChange:a,isLoading:o=!1})=>{const l=c=>t.includes(c);return s.jsx("div",{className:"space-y-4 sm:space-y-6",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-foreground mb-3 sm:mb-4",children:"Assign Roles"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Select one or more roles for this user. Each role comes with its own set of permissions."}),o?s.jsx("div",{className:"grid gap-3 sm:gap-4",children:Array.from({length:6}).map((c,d)=>s.jsx("div",{className:"animate-pulse",children:s.jsxs("div",{className:"flex items-start space-x-3 p-4 rounded-lg border bg-muted",children:[s.jsx("div",{className:"w-4 h-4 bg-muted-foreground/20 rounded mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"h-4 bg-muted-foreground/20 rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-3 bg-muted-foreground/20 rounded w-1/2"})]})]})},d))}):e.length===0?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"No roles available."})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid gap-3 sm:gap-4",children:e.map(c=>s.jsx(gY,{role:c,checked:l(c.name),onRoleChange:r},c.id))}),s.jsx(mT,{paginationInfo:n,onPageChange:a,className:"mt-6"})]}),t.length>0&&s.jsxs("div",{className:"mt-4 p-3 bg-accent/50 rounded-lg border",children:[s.jsxs("p",{className:"text-sm font-medium text-foreground mb-2",children:["Selected Roles (",t.length,"):"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(c=>s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-primary text-primary-foreground",children:c},c))})]})]})})});pT.displayName="RoleSelectionSection";const gT=pe.memo(({permissions:e,selectedPermissions:t,roleBasedPermissions:r=[],onPermissionChange:n,paginationInfo:a,onPageChange:o,isLoading:l=!1})=>{const c=u=>t.includes(u),d=u=>r.includes(u);return s.jsx("div",{className:"space-y-4 sm:space-y-6",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-foreground mb-3 sm:mb-4",children:"Additional Permissions"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Grant additional permissions beyond those provided by roles. Permissions from roles are automatically included."}),l?s.jsx("div",{className:"grid gap-3 sm:gap-4",children:Array.from({length:8}).map((u,i)=>s.jsx("div",{className:"animate-pulse",children:s.jsxs("div",{className:"flex items-start space-x-3 p-4 rounded-lg border bg-muted",children:[s.jsx("div",{className:"w-4 h-4 bg-muted-foreground/20 rounded mt-1"}),s.jsx("div",{className:"flex-1",children:s.jsx("div",{className:"h-4 bg-muted-foreground/20 rounded w-2/3"})})]})},i))}):e.length===0?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"No permissions available."})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid gap-3 sm:gap-4",children:e.map(u=>{const i=d(u.name),m=c(u.name);return s.jsxs("div",{className:"relative",children:[s.jsx(xY,{permission:u,checked:m,onPermissionChange:n}),i&&s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:"From Role"})})]},u.id)})}),s.jsx(mT,{paginationInfo:a,onPageChange:o,className:"mt-6"})]}),s.jsxs("div",{className:"mt-4 space-y-3",children:[r.length>0&&s.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[s.jsxs("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-100 mb-2",children:["Permissions from Roles (",r.length,"):"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(u=>s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-800 dark:text-blue-100",children:u},u))})]}),t.filter(u=>!r.includes(u)).length>0&&s.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[s.jsxs("p",{className:"text-sm font-medium text-green-900 dark:text-green-100 mb-2",children:["Additional Permissions (",t.filter(u=>!r.includes(u)).length,"):"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:t.filter(u=>!r.includes(u)).map(u=>s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100",children:u},u))})]})]})]})})});gT.displayName="PermissionSelectionSection";const vY=({roles:e,initialSelectedRoles:t=[],initialSelectedPermissions:r=[]})=>{const[n,a]=b.useState(t),[o,l]=b.useState(r),c=b.useCallback((h,y)=>{a(j=>y?j.includes(h)?j:[...j,h]:j.filter(C=>C!==h));const w=e.find(j=>j.name===h);if(w?.permissions){const j=w.permissions.map(C=>C.name);l(C=>{if(y){const _=j.filter(k=>!C.includes(k));return[...C,..._]}else return C.filter(_=>!j.includes(_))})}},[e]),d=b.useCallback((h,y)=>{l(w=>y?w.includes(h)?w:[...w,h]:w.filter(j=>j!==h))},[]),u=b.useCallback(h=>n.includes(h),[n]),i=b.useCallback(h=>o.includes(h),[o]),m=b.useMemo(()=>{const h=new Set;return n.forEach(y=>{const w=e.find(j=>j.name===y);w?.permissions&&w.permissions.forEach(j=>h.add(j.name))}),Array.from(h)},[n,e]),g=b.useMemo(()=>o.filter(h=>!m.includes(h)),[o,m]),x=b.useMemo(()=>Array.from(new Set([...m,...o])),[m,o]),v=b.useCallback(()=>{a([]),l([])},[]),N=b.useCallback((h,y)=>{a(h),l(y)},[]);return{selectedRoles:n,selectedPermissions:o,handleRoleChange:c,handlePermissionChange:d,isRoleSelected:u,isPermissionSelected:i,roleBasedPermissions:m,manualPermissions:g,allEffectivePermissions:x,resetSelections:v,setSelections:N}},fw=({totalItems:e,itemsPerPage:t,initialPage:r=1})=>{const[n,a]=b.useState(r),o=b.useMemo(()=>{const v=Math.max(1,Math.ceil(e/t)),N=Math.min(Math.max(1,n),v);return{totalPages:v,currentPage:N,totalItems:e,hasNextPage:N<v,hasPrevPage:N>1}},[e,t,n]),l=b.useCallback(v=>{const N=Math.ceil(e/t),h=Math.min(Math.max(1,v),N);a(h)},[e,t]),c=b.useCallback(()=>{o.hasNextPage&&l(n+1)},[o.hasNextPage,n,l]),d=b.useCallback(()=>{o.hasPrevPage&&l(n-1)},[o.hasPrevPage,n,l]),u=b.useCallback(()=>{l(1)},[l]),i=b.useCallback(()=>{l(o.totalPages)},[o.totalPages,l]),m=b.useCallback(v=>{const N=(o.currentPage-1)*t,h=N+t;return v.slice(N,h)},[o.currentPage,t]),g=b.useCallback(()=>{const v=(o.currentPage-1)*t+1,N=Math.min(o.currentPage*t,e);return{startItem:v,endItem:N,totalItems:e}},[o.currentPage,t,e]),x=b.useCallback(()=>{a(1)},[]);return{paginationInfo:o,currentPage:o.currentPage,totalPages:o.totalPages,hasNextPage:o.hasNextPage,hasPrevPage:o.hasPrevPage,handlePageChange:l,goToNextPage:c,goToPrevPage:d,goToFirstPage:u,goToLastPage:i,getCurrentPageItems:m,getPaginationRange:g,resetToFirstPage:x}},yY={name:Qe().min(1,"Full name is required").min(2,"Full name must be at least 2 characters").max(100,"Full name must not exceed 100 characters").regex(/^[a-zA-Z\s]+$/,"Full name can only contain letters and spaces"),email:Qe().min(1,"Email address is required").email("Please enter a valid email address").max(255,"Email address must not exceed 255 characters"),roles:tr(Qe()),permissions:tr(Qe())},u6e={password:Qe().min(8,"Password must be at least 8 characters").max(128,"Password must not exceed 128 characters").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"Password must contain at least one uppercase letter, one lowercase letter, and one number"),password_confirmation:Qe().min(1,"Please confirm your password")},f6e={password:Qe().optional().refine(e=>!e||e.trim()===""?!0:e.length>=8,"Password must be at least 8 characters").refine(e=>!e||e.trim()===""?!0:e.length<=128,"Password must not exceed 128 characters").refine(e=>!e||e.trim()===""?!0:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(e),"Password must contain at least one uppercase letter, one lowercase letter, and one number"),password_confirmation:Qe().optional()},m6e=ht({...yY,...u6e}).refine(e=>e.password===e.password_confirmation,{message:"Passwords don't match",path:["password_confirmation"]}),h6e=ht({...yY,...f6e}).refine(e=>e.password&&e.password.trim()!==""?e.password===e.password_confirmation:!0,{message:"Passwords don't match",path:["password_confirmation"]}),p6e=()=>{const e=Ct(),t=e3e(),{roles:r,loading:n}=yo(),{permissions:a,loading:o}=Dm(),l=Es({resolver:$s(m6e),defaultValues:{name:"",email:"",password:"",password_confirmation:"",roles:[],permissions:[]}}),c=r||[],d=a||[],{selectedRoles:u,selectedPermissions:i,handleRoleChange:m,handlePermissionChange:g,roleBasedPermissions:x}=vY({roles:c,initialSelectedRoles:l.watch("roles"),initialSelectedPermissions:l.watch("permissions")}),v=6,N=fw({totalItems:c.length,itemsPerPage:v,initialPage:1}),h=fw({totalItems:d.length,itemsPerPage:v,initialPage:1});pe.useEffect(()=>{l.setValue("roles",u),l.setValue("permissions",i)},[u,i,l]);const y=N.getCurrentPageItems(c),w=h.getCurrentPageItems(d),j=b.useCallback(async _=>{try{await t.createUser({name:_.name,email:_.email,password:_.password,password_confirmation:_.password_confirmation,roles:_.roles,permissions:_.permissions}),e("/user-management")}catch(k){console.error("Failed to create user:",k)}},[t,e]),C=b.useCallback(()=>{e("/user-management")},[e]);return s.jsx(Vt,{title:"Create New User",subtitle:"Add a new user to the system with roles and permissions",backButton:{show:!0},children:s.jsx($a,{...l,children:s.jsxs("form",{onSubmit:l.handleSubmit(j),className:"space-y-6 sm:space-y-8 max-w-full",children:[s.jsx(hT,{form:l,isEditMode:!1,showPasswordFields:!0}),s.jsx(pT,{roles:y,selectedRoles:u,onRoleChange:m,isLoading:n,paginationInfo:N.paginationInfo,onPageChange:N.handlePageChange}),s.jsx(gT,{permissions:w,selectedPermissions:i,roleBasedPermissions:x,onPermissionChange:g,isLoading:o,paginationInfo:h.paginationInfo,onPageChange:h.handlePageChange}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-end gap-3 sm:gap-4 pt-6 sm:pt-8 px-4 sm:px-2 lg:px-0 border-t border-border",children:[s.jsx(X,{type:"button",variant:"outline",onClick:C,disabled:l.formState.isSubmitting,className:"w-full sm:w-auto h-11 sm:h-12 text-sm sm:text-base font-medium transition-all duration-200 hover:scale-105 border-border bg-background text-foreground",children:"Cancel"}),s.jsx(X,{type:"submit",disabled:l.formState.isSubmitting||n||o,className:"w-full sm:w-auto min-w-[140px] sm:min-w-[160px] h-11 sm:h-12 text-sm sm:text-base font-medium transition-all duration-200 hover:scale-105 shadow-lg bg-primary text-primary-foreground border-primary",children:l.formState.isSubmitting?s.jsxs(s.Fragment,{children:[s.jsx(ut,{className:"mr-2 h-4 w-4 sm:h-5 sm:w-5 animate-spin text-primary-foreground"}),s.jsx("span",{className:"text-sm sm:text-base",children:"Creating..."})]}):s.jsx("span",{className:"text-sm sm:text-base",children:"Create User"})})]})]})})})},g6e=()=>{const e=Ct(),{id:t}=zs(),r=parseInt(t||"0",10),{user:n,loading:a,error:o}=SW(r),{updateUser:l,error:c}=t3e(),d=Es({resolver:$s(h6e),defaultValues:{name:"",email:"",password:"",password_confirmation:"",roles:[],permissions:[]},mode:"onBlur"}),{handleSubmit:u,setValue:i,formState:{isSubmitting:m}}=d,g=yo(!0),x=Dm(!0),v=g.roles||[],N=x.permissions||[],h=g.loading,y=x.loading,w=vY({roles:v,initialSelectedRoles:[],initialSelectedPermissions:[]}),j=fw({totalItems:v.length,itemsPerPage:8,initialPage:1}),C=fw({totalItems:N.length,itemsPerPage:12,initialPage:1}),[_,k]=b.useState(!1),A=j.getCurrentPageItems(v),T=C.getCurrentPageItems(N);b.useEffect(()=>{_&&(i("roles",Array.from(w.selectedRoles)),i("permissions",Array.from(w.selectedPermissions)))},[w.selectedRoles,w.selectedPermissions,_,i]),b.useEffect(()=>{if(n&&!_){i("name",n.name||""),i("email",n.email||""),i("password",""),i("password_confirmation","");const P=n.roles?.map(L=>L.name)||[],M=n.permissions?.map(L=>L.name)||[];P.forEach(L=>{w.handleRoleChange(L,!0)});const I=new Set;n.roles?.forEach(L=>{L.permissions?.forEach(B=>{I.add(B.name)})}),M.forEach(L=>{I.has(L)||w.handlePermissionChange(L,!0)}),k(!0)}},[n,_,i,w]);const R=async P=>{const M={name:P.name,email:P.email,roles:P.roles,permissions:P.permissions};P.password&&P.password.trim()!==""&&(M.password=P.password,M.password_confirmation=P.password_confirmation);try{await l(r,M),e("/user-management")}catch(I){console.error("Failed to update user:",I)}};return a?s.jsx(Vt,{title:"Edit User",subtitle:"Update user information and permissions",backButton:{show:!0},children:s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx(ut,{className:"h-8 w-8 animate-spin mr-3 text-muted-foreground"}),s.jsx("span",{className:"text-lg text-muted-foreground",children:"Loading user..."})]})}):o||!n?s.jsx(Vt,{title:"Edit User",subtitle:"Update user information and permissions",backButton:{show:!0},children:s.jsxs(Ze,{className:"mb-6 border-destructive bg-destructive/10",children:[s.jsx(st,{className:"h-4 w-4 text-destructive"}),s.jsx(Ke,{className:"text-destructive",children:o||"User not found"})]})}):s.jsxs(Vt,{title:"Edit User",subtitle:"Update user information and permissions",backButton:{show:!0},children:[c&&s.jsxs(Ze,{className:"mb-6 border-destructive bg-destructive/10",children:[s.jsx(st,{className:"h-4 w-4 text-destructive"}),s.jsx(Ke,{className:"text-destructive",children:c})]}),s.jsx($a,{...d,children:s.jsxs("form",{onSubmit:u(R),className:"space-y-6 sm:space-y-8 max-w-full",children:[s.jsx(hT,{form:d,isEditMode:!0,showPasswordFields:!0}),s.jsx(pT,{roles:A,isLoading:h,selectedRoles:w.selectedRoles,onRoleChange:w.handleRoleChange,paginationInfo:j.paginationInfo,onPageChange:j.handlePageChange}),s.jsx(gT,{permissions:T,isLoading:y,selectedPermissions:w.selectedPermissions,roleBasedPermissions:w.roleBasedPermissions,onPermissionChange:w.handlePermissionChange,paginationInfo:C.paginationInfo,onPageChange:C.handlePageChange}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-end gap-3 sm:gap-4 pt-6 sm:pt-8 px-4 sm:px-2 lg:px-0 border-t border-border",children:[s.jsx(X,{type:"button",variant:"outline",onClick:()=>e("/user-management"),disabled:m,className:"w-full sm:w-auto h-11 sm:h-12 text-sm sm:text-base font-medium transition-all duration-200 hover:scale-105 border-border bg-background text-foreground",children:"Cancel"}),s.jsx(X,{type:"submit",disabled:m||h||y||!_,className:"w-full sm:w-auto min-w-[140px] sm:min-w-[160px] h-11 sm:h-12 text-sm sm:text-base font-medium transition-all duration-200 hover:scale-105 shadow-lg bg-primary text-primary-foreground border-primary",children:m?s.jsxs(s.Fragment,{children:[s.jsx(ut,{className:"mr-2 h-4 w-4 sm:h-5 sm:w-5 animate-spin text-primary-foreground"}),s.jsx("span",{className:"text-sm sm:text-base",children:"Updating..."})]}):s.jsx("span",{className:"text-sm sm:text-base",children:"Update User"})})]})]})})]})},x6e=({user:e,formattedData:t})=>s.jsxs(s.Fragment,{children:[s.jsx(be,{className:"bg-card border-border",children:s.jsx(Ne,{className:"pt-4 sm:pt-5 md:pt-6 p-4 sm:p-5 md:p-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-4 sm:gap-6",children:[s.jsx("div",{className:"h-16 w-16 sm:h-18 sm:w-18 md:h-20 md:w-20 rounded-full flex items-center justify-center text-lg sm:text-xl md:text-2xl font-bold mx-auto sm:mx-0 bg-primary/10 text-primary",children:t?.initials}),s.jsxs("div",{className:"flex-1 space-y-2 text-center sm:text-left",children:[s.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold text-card-foreground",children:t?.displayName}),s.jsxs("div",{className:"flex items-center gap-2 justify-center sm:justify-start text-muted-foreground",children:[s.jsx(xc,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm sm:text-base",children:t?.formattedEmail})]}),s.jsx("div",{className:"flex items-center gap-2 justify-center sm:justify-start",children:s.jsx(Ve,{variant:e.email_verified_at?"default":"secondary",className:"text-xs sm:text-sm",children:t?.verificationStatus})})]})]})})}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-5 md:gap-6",children:s.jsxs(be,{className:"bg-card border-border",children:[s.jsx(Te,{className:"pb-3 sm:pb-4",children:s.jsxs(Ue,{className:"flex items-center gap-2 text-base sm:text-lg text-card-foreground",children:[s.jsx(Cs,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),"Account Information"]})}),s.jsxs(Ne,{className:"space-y-3 sm:space-y-4 p-4 sm:p-5 md:p-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"User ID"}),s.jsx("p",{className:"text-sm sm:text-base mt-1 text-card-foreground",children:e.id})]}),s.jsx(cs,{className:"bg-border"}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Created"}),s.jsxs("p",{className:"text-sm sm:text-base mt-1 flex items-center gap-2 text-card-foreground",children:[s.jsx(js,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"}),t?.createdAt]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Last Updated"}),s.jsx("p",{className:"text-sm sm:text-base mt-1 text-card-foreground",children:t?.updatedAt})]})]})]})})]}),v6e=({user:e,formattedData:t})=>{const[r,n]=b.useState(new Set),a=b.useCallback(c=>{n(d=>{const u=new Set(d);return u.has(c)?u.delete(c):u.add(c),u})},[]),o=b.useMemo(()=>!e?.roles||e.roles.length===0?s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"No roles assigned"}):e.roles.map(c=>s.jsxs("div",{className:"border border-border rounded-lg p-3 bg-muted/50",children:[s.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>a(c.id),children:[s.jsx(Ve,{variant:"outline",className:"text-xs sm:text-sm px-2 py-1",children:c.name}),c.permissions&&c.permissions.length>0&&s.jsx("button",{className:"text-muted-foreground hover:text-foreground",children:r.has(c.id)?s.jsx(n$,{className:"h-4 w-4"}):s.jsx(zd,{className:"h-4 w-4"})})]}),r.has(c.id)&&c.permissions&&s.jsxs("div",{className:"mt-3 pt-3 border-t border-border",children:[s.jsxs("label",{className:"text-xs font-medium text-muted-foreground",children:["Permissions (",c.permissions.length,")"]}),s.jsx("div",{className:"flex flex-wrap gap-1.5 mt-2",children:c.permissions.map(d=>s.jsx(Ve,{variant:"secondary",className:"text-xs px-2 py-1",children:d.name},d.id))})]}),!c.permissions||c.permissions.length===0?s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"No permissions assigned to this role"}):null]},c.id)),[e?.roles,r,a]),l=b.useMemo(()=>!e?.permissions||e.permissions.length===0?s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"No direct permissions"}):e.permissions.map(c=>s.jsx(Ve,{variant:"secondary",className:"text-xs sm:text-sm px-2 py-1",children:c.name},c.id)),[e?.permissions]);return s.jsxs(be,{className:"bg-card border-border",children:[s.jsx(Te,{className:"pb-3 sm:pb-4",children:s.jsxs(Ue,{className:"flex items-center gap-2 text-base sm:text-lg text-card-foreground",children:[s.jsx(Br,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),"Roles & Permissions"]})}),s.jsxs(Ne,{className:"space-y-3 sm:space-y-4 p-4 sm:p-5 md:p-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:["Roles (",t?.roleCount,")"]}),s.jsx("div",{className:"space-y-3 mt-2",children:o})]}),s.jsx(cs,{className:"bg-border"}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:["Direct Permissions (",t?.permissionCount,")"]}),s.jsx("div",{className:"flex flex-wrap gap-1.5 sm:gap-2 mt-2",children:l})]})]})]})},y6e=({user:e,formattedData:t})=>{const r=b.useMemo(()=>!e?.stores||e.stores.length===0?s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"No store access assigned"}):e.stores.map(n=>s.jsxs("div",{className:"rounded-lg p-3 sm:p-4 border border-border bg-muted",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 sm:gap-3 mb-3",children:[s.jsx("h4",{className:"font-semibold text-sm sm:text-base text-card-foreground",children:n.store.name}),s.jsx(Ve,{variant:"outline",className:"text-xs sm:text-sm px-2 py-1 w-fit",children:n.store.id})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Store Roles"}),s.jsx("div",{className:"flex flex-wrap gap-1.5 sm:gap-2 mt-1",children:n.roles.map(a=>s.jsx(Ve,{variant:"secondary",className:"text-xs sm:text-sm px-2 py-1",children:a.name},a.id))})]})]},n.store.id)),[e?.stores]);return s.jsxs(be,{className:"lg:col-span-2 bg-card border-border",children:[s.jsx(Te,{className:"pb-3 sm:pb-4",children:s.jsxs(Ue,{className:"flex items-center gap-2 text-base sm:text-lg text-card-foreground",children:[s.jsx(fa,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),"Store Access (",t?.storeCount,")"]})}),s.jsx(Ne,{className:"p-4 sm:p-5 md:p-6",children:e.stores&&e.stores.length>0?s.jsx("div",{className:"space-y-3 sm:space-y-4",children:r}):s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"No store access assigned"})})]})},b6e=()=>{const e=Ct(),{id:t}=zs(),r=b.useMemo(()=>{if(!t)return;const u=parseInt(t,10);return isNaN(u)?void 0:u},[t]),{user:n,loading:a,error:o,formattedData:l}=SW(r),c=b.useCallback(()=>{e(`/user-management/edit/user/${r}`)},[e,r]),d=b.useMemo(()=>s.jsxs(X,{onClick:c,className:"flex items-center gap-2 bg-primary text-primary-foreground hover:bg-primary/90",children:[s.jsx(pa,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm sm:text-base",children:"Edit User"})]}),[c]);return a?s.jsx(Vt,{title:"User Details",subtitle:"View all information about this user",backButton:{show:!0},children:s.jsxs("div",{className:"flex items-center justify-center py-8 sm:py-10 md:py-12 lg:py-16",children:[s.jsx(ut,{className:"h-6 w-6 sm:h-7 sm:w-7 md:h-8 md:w-8 animate-spin text-primary"}),s.jsx("span",{className:"ml-2 text-sm sm:text-base text-foreground",children:"Loading user..."})]})}):o||!n?s.jsx(Vt,{title:"User Details",subtitle:"View all information about this user",backButton:{show:!0},children:s.jsx("div",{className:"text-center py-3 sm:py-4 text-sm sm:text-base text-destructive",children:o||"User not found"})}):s.jsxs(Vt,{title:"User Details",subtitle:"View all information about this user",backButton:{show:!0},mainButtons:d,children:[s.jsx(x6e,{user:n,formattedData:l}),s.jsx(v6e,{user:n,formattedData:l}),s.jsx(y6e,{user:n,formattedData:l})]})},w6e=({permissions:e,selectedPermissions:t,onPermissionChange:r,loading:n,validationError:a})=>{const o=(d,u)=>{const i=u?[...t,d]:t.filter(m=>m!==d);r(i)},l=()=>{const d=e.map(u=>u.name);r(d)},c=()=>{r([])};return s.jsxs(be,{className:"bg-card border-border shadow-sm",children:[s.jsx(Te,{className:"pb-3 sm:pb-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Ue,{className:"text-lg sm:text-xl text-card-foreground",children:"Permissions"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Select permissions for this role"})]}),!n&&e.length>0&&s.jsxs("div",{className:"flex gap-2",children:[s.jsx(X,{type:"button",variant:"outline",size:"sm",onClick:l,className:"text-xs",children:"Select All"}),s.jsx(X,{type:"button",variant:"outline",size:"sm",onClick:c,className:"text-xs",children:"Deselect All"})]})]})}),s.jsxs(Ne,{children:[n?s.jsxs("div",{className:"flex items-center justify-center py-6 sm:py-8",children:[s.jsx(ut,{className:"h-4 w-4 animate-spin mr-2 text-primary"}),s.jsx("span",{className:"text-muted-foreground",children:"Loading permissions..."})]}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 max-h-60 sm:max-h-80 overflow-y-auto border border-border rounded-md p-3 sm:p-4 bg-background/50",children:e.map(d=>s.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3 space-y-0 p-2 rounded-md hover:bg-accent/50 transition-colors",children:[s.jsx(rs,{id:`permission-${d.id}`,checked:t.includes(d.name),onCheckedChange:u=>o(d.name,u),className:"border-border data-[state=checked]:bg-primary data-[state=checked]:border-primary"}),s.jsx("div",{className:"grid gap-1.5 leading-none flex-1",children:s.jsx(Ie,{htmlFor:`permission-${d.id}`,className:"text-sm font-medium leading-none text-foreground cursor-pointer peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:d.name})})]},d.id))}),a&&s.jsx("p",{className:"text-sm text-destructive mt-2",children:a}),t.length>0&&s.jsxs("div",{className:"mt-4 p-3 sm:p-4 bg-muted rounded-lg border border-border",children:[s.jsxs("p",{className:"text-sm font-medium mb-2 text-muted-foreground",children:["Selected permissions (",t.length,"):"]}),s.jsx("div",{className:"flex flex-wrap gap-1.5 sm:gap-2",children:t.map(d=>s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md bg-primary/10 text-primary text-xs font-medium border border-primary/20",children:d},d))})]})]})]})},S6e=ht({name:Qe().min(1,"Role name is required").min(2,"Role name must be at least 2 characters").max(50,"Role name must be less than 50 characters").regex(/^[a-zA-Z0-9\s-_]+$/,"Role name can only contain letters, numbers, spaces, hyphens, and underscores"),guard_name:Hfe(Mw),permissions:tr(Qe()).min(1,"At least one permission must be selected")}),j6e=()=>{const e=Ct(),{createRole:t,loading:r,error:n}=S5e(),{permissions:a,loading:o}=Dm(),{register:l,handleSubmit:c,control:d,formState:{errors:u,isSubmitting:i}}=Es({resolver:$s(S6e),defaultValues:{name:"",guard_name:Mw.WEB,permissions:[]},mode:"onChange"}),m=()=>{e("/user-management")},g=async x=>{try{const v={name:x.name.trim(),guard_name:x.guard_name,permissions:x.permissions};await t(v),e("/user-management")}catch(v){console.error("Failed to create role:",v)}};return s.jsxs(Vt,{title:"Create Role",subtitle:"Add a new role to the system",backButton:{show:!0},children:[n&&s.jsxs(Ze,{variant:"destructive",className:"border-destructive bg-destructive/10",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx(Ke,{className:"text-destructive-foreground",children:n})]}),s.jsxs("form",{onSubmit:c(g),className:"space-y-4 sm:space-y-6",children:[s.jsxs(be,{className:"bg-card border-border shadow-sm",children:[s.jsx(Te,{className:"pb-3 sm:pb-6",children:s.jsx(Ue,{className:"text-lg sm:text-xl text-card-foreground",children:"Role Information"})}),s.jsx(Ne,{className:"space-y-3 sm:space-y-4",children:s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"name",className:"text-sm font-medium text-foreground",children:"Role Name *"}),s.jsx(We,{id:"name",type:"text",...l("name"),placeholder:"Enter role name (e.g., Manager, Editor)",className:`bg-background border-input text-foreground placeholder:text-muted-foreground ${u.name?"border-destructive focus:ring-destructive":"focus:ring-ring"}`}),u.name&&s.jsx("p",{className:"text-sm text-destructive",children:u.name.message})]})})})]}),s.jsx(iT,{name:"permissions",control:d,render:({field:{value:x,onChange:v}})=>s.jsx(w6e,{permissions:a,selectedPermissions:x,onPermissionChange:v,loading:o,validationError:u.permissions?.message})}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-end space-y-2 sm:space-y-0 sm:space-x-4 pt-4 sm:pt-6",children:[s.jsx(X,{type:"button",variant:"outline",onClick:m,disabled:i,className:"w-full sm:w-auto bg-background border-border text-foreground hover:bg-accent hover:text-accent-foreground",children:"Cancel"}),s.jsx(X,{type:"submit",disabled:i||r,className:"w-full sm:w-auto min-w-[120px] bg-primary text-primary-foreground hover:bg-primary/90 focus:ring-ring",children:i?s.jsxs(s.Fragment,{children:[s.jsx(ut,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Create Role"})]})]})]})},N6e=({roles:e,permissions:t,onSuccess:r})=>{const{assignPermissions:n,loading:a,error:o,reset:l}=j5e(),{getUserProfile:c}=za(),[d,u]=b.useState(""),[i,m]=b.useState(new Set),[g,x]=b.useState(!1),[v,N]=b.useState({}),[h,y]=b.useState(""),w=b.useMemo(()=>d&&e.find(M=>M.id.toString()===d)||null,[d,e]),j=b.useMemo(()=>w?.permissions?new Set(w.permissions.map(M=>M.name)):new Set,[w]),C=b.useMemo(()=>t.filter(M=>!j.has(M.name)),[t,j]);b.useEffect(()=>{m(new Set),N({}),y(""),l()},[d,l]),b.useEffect(()=>{if(h){const M=setTimeout(()=>y(""),5e3);return()=>clearTimeout(M)}},[h]);const _=M=>{u(M)},k=(M,I)=>{m(L=>{const B=new Set(L);return I?B.add(M):B.delete(M),B}),v.permissions&&N(L=>({...L,permissions:""}))},A=()=>{const M=new Set(C.map(I=>I.name));m(M)},T=()=>{m(new Set)},R=()=>{const M={};return d||(M.role="Please select a role"),i.size===0&&(M.permissions="Please select at least one permission to assign"),N(M),Object.keys(M).length===0};return{selectedRoleId:d,selectedPermissions:i,isSubmitting:g,formErrors:v,successMessage:h,selectedRole:w,currentRolePermissions:j,availablePermissions:C,assignLoading:a,assignError:o,handleRoleChange:_,handlePermissionChange:k,handleSelectAll:A,handleClearAll:T,handleSubmit:async M=>{if(M.preventDefault(),!!R()){x(!0);try{await n(parseInt(d),Array.from(i)),y(`Successfully assigned ${i.size} permission(s) to ${w?.name}`),m(new Set),c(),r?.()}catch(I){console.error("Failed to assign permissions:",I),I.response?.status===403?N({permissions:"Insufficient permissions to assign these roles"}):I.response?.status===422?N({validation:I.response.data.errors||{}}):N({network:"Network error occurred. Please try again."})}finally{x(!1)}}},validateForm:R}},C6e=({message:e})=>e?s.jsxs(Ze,{className:"border-primary/20 bg-primary/10",children:[s.jsx(Br,{className:"h-4 w-4 text-primary"}),s.jsx(Ke,{className:"text-primary",children:e})]}):null,E6e=({error:e})=>e?s.jsxs(Ze,{variant:"destructive",className:"border-destructive bg-destructive/10",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx(Ke,{className:"text-destructive-foreground",children:e})]}):null,_6e=({roles:e,selectedRoleId:t,selectedRole:r,currentRolePermissions:n,rolesLoading:a,formErrors:o,onRoleChange:l})=>s.jsxs(be,{className:"bg-card border-border shadow-sm",children:[s.jsxs(Te,{className:"pb-3 sm:pb-6",children:[s.jsx(Ue,{className:"text-lg sm:text-xl text-card-foreground",children:"Select Role"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose the role to assign permissions to"})]}),s.jsxs(Ne,{className:"space-y-3 sm:space-y-4",children:[a?s.jsxs("div",{className:"flex items-center justify-center py-6 sm:py-8",children:[s.jsx(ut,{className:"h-4 w-4 animate-spin mr-2 text-primary"}),s.jsx("span",{className:"text-muted-foreground",children:"Loading roles..."})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"role-select",className:"text-sm font-medium text-foreground",children:"Role *"}),s.jsxs(Lt,{value:t,onValueChange:l,children:[s.jsx(Rt,{className:`bg-background border-input text-foreground ${o.role?"border-destructive focus:ring-destructive":"focus:ring-ring"}`,children:s.jsx(Bt,{placeholder:"Select a role",className:"text-muted-foreground"})}),s.jsx(Pt,{className:"bg-popover border-border",children:e.map(c=>s.jsx(ot,{value:c.id.toString(),className:"text-popover-foreground hover:bg-accent hover:text-accent-foreground",children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsx("span",{children:c.name}),s.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:[c.permissions?.length||0," permissions"]})]})},c.id))})]}),o.role&&s.jsx("p",{className:"text-sm text-destructive",children:o.role})]}),r&&n.size>0&&s.jsx(A6e,{roleName:r.name,permissions:n})]})]}),A6e=({permissions:e})=>s.jsxs("div",{className:"mt-4 p-3 sm:p-4 bg-muted rounded-lg border border-border",children:[s.jsxs("h4",{className:"text-sm font-medium mb-2 flex items-center gap-2 text-muted-foreground",children:[s.jsx(kd,{className:"h-4 w-4"}),"Current Permissions (",e.size,")"]}),s.jsx("div",{className:"flex flex-wrap gap-1.5 sm:gap-2",children:Array.from(e).map(t=>s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-secondary text-secondary-foreground border border-border",children:t},t))})]}),k6e=({selectedRole:e,availablePermissions:t,selectedPermissions:r,permissionsLoading:n,formErrors:a,onPermissionChange:o,onSelectAll:l,onClearAll:c})=>e?s.jsxs(be,{className:"bg-card border-border shadow-sm",children:[s.jsx(Te,{className:"pb-3 sm:pb-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4",children:[s.jsxs("div",{children:[s.jsx(Ue,{className:"text-lg sm:text-xl text-card-foreground",children:"Available Permissions"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Select permissions to assign to ",e.name]})]}),t.length>0&&s.jsx(D6e,{selectedPermissions:r,availablePermissions:t,onSelectAll:l,onClearAll:c})]})}),s.jsxs(Ne,{children:[n?s.jsx(T6e,{}):t.length===0?s.jsx(R6e,{}):s.jsx(P6e,{availablePermissions:t,selectedPermissions:r,onPermissionChange:o}),a.permissions&&s.jsx("p",{className:"text-sm text-destructive mt-2",children:a.permissions}),s.jsx(M6e,{count:r.size})]})]}):null,D6e=({selectedPermissions:e,availablePermissions:t,onSelectAll:r,onClearAll:n})=>s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[s.jsx(X,{type:"button",variant:"outline",size:"sm",onClick:r,disabled:e.size===t.length,className:"bg-background border-border text-foreground hover:bg-accent hover:text-accent-foreground",children:"Select All"}),s.jsx(X,{type:"button",variant:"outline",size:"sm",onClick:n,disabled:e.size===0,className:"bg-background border-border text-foreground hover:bg-accent hover:text-accent-foreground",children:"Clear All"})]}),T6e=()=>s.jsxs("div",{className:"flex items-center justify-center py-6 sm:py-8",children:[s.jsx(ut,{className:"h-4 w-4 animate-spin mr-2 text-primary"}),s.jsx("span",{className:"text-muted-foreground",children:"Loading permissions..."})]}),R6e=()=>s.jsxs("div",{className:"text-center py-8 sm:py-12 text-muted-foreground",children:[s.jsx(Br,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm sm:text-base",children:"All available permissions are already assigned to this role."})]}),P6e=({availablePermissions:e,selectedPermissions:t,onPermissionChange:r})=>s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 max-h-60 sm:max-h-80 overflow-y-auto border border-border rounded-md p-3 sm:p-4 bg-background/50",children:e.map(n=>{const a=t.has(n.name);return s.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3 space-y-0 p-2 rounded-md hover:bg-accent/50 transition-colors",children:[s.jsx(rs,{id:`permission-${n.id}`,checked:a,onCheckedChange:o=>r(n.name,o),className:"border-border data-[state=checked]:bg-primary data-[state=checked]:border-primary"}),s.jsxs("div",{className:"grid gap-1.5 leading-none flex-1",children:[s.jsx(Ie,{htmlFor:`permission-${n.id}`,className:"text-sm font-medium leading-none text-foreground cursor-pointer peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:n.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Guard: ",n.guard_name]})]})]},n.id)})}),M6e=({count:e})=>e===0?null:s.jsx("div",{className:"mt-4 p-3 sm:p-4 bg-primary/10 rounded-lg border border-primary/20",children:s.jsxs("p",{className:"text-sm text-primary font-medium",children:[e," permission(s) selected for assignment"]})}),O6e=({isSubmitting:e,assignLoading:t,selectedRole:r,selectedPermissionsCount:n,onCancel:a})=>s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-end space-y-2 sm:space-y-0 sm:space-x-4 pt-4 sm:pt-6",children:[s.jsx(X,{type:"button",variant:"outline",onClick:a,disabled:e,className:"w-full sm:w-auto bg-background border-border text-foreground hover:bg-accent hover:text-accent-foreground",children:"Cancel"}),s.jsx(X,{type:"submit",disabled:e||t||!r||n===0,className:"w-full sm:w-auto min-w-[140px] bg-primary text-primary-foreground hover:bg-primary/90 focus:ring-ring",children:e?s.jsxs(s.Fragment,{children:[s.jsx(ut,{className:"mr-2 h-4 w-4 animate-spin"}),"Assigning..."]}):"Assign Permissions"})]}),I6e=()=>{const e=Ct(),{roles:t,loading:r}=yo(),{permissions:n,loading:a}=Dm(),o=N6e({roles:t,permissions:n,onSuccess:()=>{setTimeout(()=>{e("/user-management")},2e3)}}),l=()=>{e("/user-management")};return s.jsxs(Vt,{title:"Assign Permissions",subtitle:"Assign permissions to roles - users with these roles will inherit the permissions",backButton:{show:!0},children:[s.jsx(C6e,{message:o.successMessage}),s.jsx(E6e,{error:o.assignError}),s.jsxs("form",{onSubmit:o.handleSubmit,className:"space-y-4 sm:space-y-6",children:[s.jsx(_6e,{roles:t,selectedRoleId:o.selectedRoleId,selectedRole:o.selectedRole,currentRolePermissions:o.currentRolePermissions,rolesLoading:r,formErrors:o.formErrors,onRoleChange:o.handleRoleChange}),s.jsx(k6e,{selectedRole:o.selectedRole,availablePermissions:o.availablePermissions,selectedPermissions:o.selectedPermissions,permissionsLoading:a,formErrors:o.formErrors,onPermissionChange:o.handlePermissionChange,onSelectAll:o.handleSelectAll,onClearAll:o.handleClearAll}),s.jsx(O6e,{isSubmitting:o.isSubmitting,assignLoading:o.assignLoading,selectedRole:o.selectedRole,selectedPermissionsCount:o.selectedPermissions.size,onCancel:l})]})]})},L6e=()=>{const e=Ct(),{createPermission:t,loading:r,error:n,reset:a,validateForm:o,formatForApi:l}=T5e(),[c,d]=b.useState(null),[u,i]=b.useState({name:""}),[m,g]=b.useState({}),x=(w,j)=>{i(C=>({...C,[w]:j})),m[w]&&g(C=>({...C,[w]:void 0})),(n||c)&&(d(null),a())},v=()=>{const w={};return u.name.trim()?u.name.length<3&&(w.name="Permission name must be at least 3 characters"):w.name="Permission name is required",g(w),Object.keys(w).length===0},N=async w=>{if(w.preventDefault(),!!v()){d(null),a();try{const j={name:u.name,guard_name:"web"},C=o(j);if(!C.isValid){const _=Object.values(C.errors)[0];d(_);return}await t(l(j)),e("/user-management",{state:{message:"Permission created successfully!"}})}catch(j){const C=j instanceof Error?j.message:"Failed to create permission. Please try again.";d(C)}}},h=()=>{e(-1)},y=c||(n?"Failed to create permission. Please try again.":null);return s.jsxs(Vt,{title:"Create Permission",subtitle:"Add a new permission to the system",backButton:{show:!0},children:[y&&s.jsx(Ze,{variant:"destructive",className:"border-destructive bg-destructive/10 text-destructive",children:s.jsx(Ke,{className:"text-sm sm:text-base",children:y})}),s.jsxs("form",{onSubmit:N,className:"space-y-4 sm:space-y-6",children:[s.jsxs(be,{className:"bg-card border-border shadow-sm hover:shadow-md transition-shadow",children:[s.jsxs(Te,{className:"pb-4 sm:pb-6",children:[s.jsxs(Ue,{className:"flex items-center gap-2 text-lg sm:text-xl text-card-foreground",children:[s.jsx(Hxe,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),"Permission Details"]}),s.jsx(bn,{className:"text-sm sm:text-base text-muted-foreground",children:"Enter the permission name"})]}),s.jsx(Ne,{className:"space-y-4 sm:space-y-6",children:s.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[s.jsx(Ie,{htmlFor:"name",className:"text-sm sm:text-base font-medium text-foreground",children:"Permission Name *"}),s.jsx(We,{id:"name",type:"text",placeholder:"e.g., manage-users, view-reports",value:u.name,onChange:w=>x("name",w.target.value),className:`bg-background border-input text-foreground placeholder:text-muted-foreground focus:ring-ring focus:border-ring transition-colors ${m.name?"border-destructive focus:border-destructive focus:ring-destructive":""}`,disabled:r}),m.name&&s.jsx("p",{className:"text-xs sm:text-sm text-destructive font-medium",children:m.name}),s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Use lowercase letters, numbers, and hyphens only"})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-end gap-3 sm:gap-4 pt-4 sm:pt-6",children:[s.jsx(X,{type:"button",variant:"outline",onClick:h,disabled:r,className:"order-2 sm:order-1 bg-background border-border text-foreground hover:bg-accent hover:text-accent-foreground transition-colors",children:"Cancel"}),s.jsx(X,{type:"submit",disabled:r,className:"order-1 sm:order-2 min-w-[120px] sm:min-w-[140px] bg-primary text-primary-foreground hover:bg-primary/90 transition-colors shadow-sm",children:r?s.jsxs(s.Fragment,{children:[s.jsx(ut,{className:"mr-2 h-4 w-4 animate-spin"}),s.jsx("span",{className:"text-sm sm:text-base",children:"Creating..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(or,{className:"mr-2 h-4 w-4"}),s.jsx("span",{className:"text-sm sm:text-base",children:"Create Permission"})]})})]})]})]})},B6e=[s.jsx(St,{path:"/user-management",element:s.jsx(At,{children:s.jsx(Yt,{role:"super-admin",children:s.jsx(kt,{children:s.jsx(M5e,{})})})})},"user-management"),s.jsx(St,{path:"/user-management/create/user",element:s.jsx(At,{children:s.jsx(Yt,{role:"super-admin",children:s.jsx(kt,{children:s.jsx(p6e,{})})})})},"create-user"),s.jsx(St,{path:"/user-management/edit/user/:id",element:s.jsx(At,{children:s.jsx(Yt,{role:"super-admin",children:s.jsx(kt,{children:s.jsx(g6e,{})})})})},"edit-user"),s.jsx(St,{path:"/user-management/view/user/:id",element:s.jsx(At,{children:s.jsx(Yt,{role:"super-admin",children:s.jsx(kt,{children:s.jsx(b6e,{})})})})},"view-user"),s.jsx(St,{path:"/user-management/create/role",element:s.jsx(At,{children:s.jsx(Yt,{role:"super-admin",children:s.jsx(kt,{children:s.jsx(j6e,{})})})})},"create-role"),s.jsx(St,{path:"/user-management/roles/assign-permissions",element:s.jsx(At,{children:s.jsx(Yt,{role:"super-admin",children:s.jsx(kt,{children:s.jsx(I6e,{})})})})},"assign-permissions"),s.jsx(St,{path:"/user-management/create/permission",element:s.jsx(At,{children:s.jsx(Yt,{role:"super-admin",children:s.jsx(kt,{children:s.jsx(L6e,{})})})})},"create-permission")],F6e=1,U6e=1e6;let p_=0;function $6e(){return p_=(p_+1)%Number.MAX_SAFE_INTEGER,p_.toString()}const g_=new Map,qB=e=>{if(g_.has(e))return;const t=setTimeout(()=>{g_.delete(e),Ap({type:"REMOVE_TOAST",toastId:e})},U6e);g_.set(e,t)},H6e=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,F6e)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?qB(r):e.toasts.forEach(n=>{qB(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Xy=[];let Qy={toasts:[]};function Ap(e){Qy=H6e(Qy,e),Xy.forEach(t=>{t(Qy)})}function z6e({...e}){const t=$6e(),r=a=>Ap({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>Ap({type:"DISMISS_TOAST",toastId:t});return Ap({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function bY(){const[e,t]=b.useState(Qy);return b.useEffect(()=>(Xy.push(t),()=>{const r=Xy.indexOf(t);r>-1&&Xy.splice(r,1)}),[e]),{...e,toast:z6e,dismiss:r=>Ap({type:"DISMISS_TOAST",toastId:r})}}const xT=()=>{const e=Mt(),t=ue(v=>kae(v)),r=ue(v=>Dae(v)),n=ue(v=>Tae(v)),a=ue(v=>Rae(v)),o=ue(v=>Pae(v)),l=ue(v=>Mae(v)),c=b.useCallback(async v=>{try{await e(ey(v)).unwrap()}catch(N){console.error("Failed to fetch service clients:",N)}},[e]),d=b.useCallback(async v=>{try{return(await e(ty(v)).unwrap()).token}catch(N){return console.error("Failed to create service client:",N),null}},[e]),u=b.useCallback(async(v,N)=>{try{return(await e(ry({clientId:v,data:N})).unwrap()).token}catch(h){return console.error("Failed to rotate service token:",h),null}},[e]),i=b.useCallback(async v=>{try{return await e(ny(v)).unwrap(),!0}catch(N){return console.error("Failed to toggle service status:",N),!1}},[e]),m=b.useCallback(v=>{e(Eae(v))},[e]),g=b.useCallback(()=>{e(_ae())},[e]),x=b.useCallback(()=>{e(Aae())},[e]);return{clients:t,pagination:r,loading:n,errors:a,selectedClient:o,lastCreatedToken:l,fetchClients:c,createClient:d,rotateToken:u,toggleStatus:i,selectClient:m,clearErrors:g,clearLastCreatedToken:x}},q6e=({errors:e})=>!e.fetch&&!e.create&&!e.rotate&&!e.toggle?null:s.jsxs(Ze,{variant:"destructive",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx(Ke,{children:e.fetch||e.create||e.rotate||e.toggle||"An error occurred"})]}),V6e=({loading:e,onRefresh:t,onCreateClick:r})=>s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4",children:[s.jsx(Ue,{className:"text-lg sm:text-xl text-card-foreground",children:"Service Clients"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:t,disabled:e,className:"flex items-center gap-2 bg-secondary text-secondary-foreground border-border hover:bg-secondary/80 disabled:opacity-60",children:[s.jsx(Lr,{className:`h-4 w-4 ${e?"animate-spin":""}`}),s.jsx("span",{className:"hidden xs:inline",children:"Refresh"})]}),s.jsxs(X,{onClick:r,className:"flex items-center justify-center gap-2 text-sm bg-primary text-primary-foreground shadow-sm hover:bg-primary/90",children:[s.jsx(or,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden xs:inline",children:"Create Client"}),s.jsx("span",{className:"xs:hidden",children:"Create"})]})]})]}),VB=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"2-digit"}):"Never expires",W6e=({client:e,loading:t,onToggleStatus:r,onRotateToken:n})=>s.jsxs(Nt,{className:"border-border bg-card hover:bg-muted/50",children:[s.jsx(Re,{className:"font-medium text-xs sm:text-sm p-2 sm:p-4 text-foreground",children:s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("div",{className:"text-xs sm:text-sm font-medium truncate text-foreground",title:e.name,children:e.name}),e.notes&&s.jsx("div",{className:"text-xs mt-1 truncate text-muted-foreground",title:e.notes,children:e.notes}),s.jsxs("div",{className:"sm:hidden mt-1 space-y-1",children:[s.jsx(Ve,{variant:e.is_active?"default":"secondary",className:"text-xs px-1 py-0.5",children:e.is_active?"Active":"Inactive"}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Expires: ",VB(e.expires_at)]})]})]})}),s.jsx(Re,{className:"p-2 sm:p-4 hidden sm:table-cell",children:s.jsx(Ve,{variant:e.is_active?"default":"secondary",className:"text-xs px-2 py-1",children:e.is_active?"Active":"Inactive"})}),s.jsx(Re,{className:"p-2 sm:p-4 hidden md:table-cell text-xs sm:text-sm text-foreground",children:VB(e.expires_at)}),s.jsx(Re,{className:"text-right p-2 sm:p-4",children:s.jsxs("div",{className:"flex items-center justify-end gap-1 sm:gap-2",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>n(e),disabled:t.rotating,className:"text-xs px-2 sm:px-3 bg-secondary text-secondary-foreground border-border hover:bg-secondary/80",children:[s.jsx(dve,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Rotate"})]}),s.jsxs(X,{variant:e.is_active?"destructive":"default",size:"sm",onClick:()=>r(e),disabled:t.toggling,className:"text-xs px-2 sm:px-3",children:[s.jsx(ive,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:e.is_active?"Deactivate":"Activate"}),s.jsx("span",{className:"sm:hidden",children:e.is_active?"Off":"On"})]})]})})]},e.id),G6e=({clients:e,loading:t,onToggleStatus:r,onRotateToken:n})=>t.fetching?s.jsx("div",{className:"flex items-center justify-center h-48 sm:h-64 bg-card",children:s.jsx(Dc,{message:"Loading service clients...",size:"medium",className:"h-48 sm:h-64 bg-card text-muted-foreground"})}):e.length?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(mn,{className:"min-w-full",children:[s.jsx(hn,{className:"bg-muted border-b border-border",children:s.jsxs(Nt,{className:"border-border",children:[s.jsx(Be,{className:"min-w-[8rem] text-xs sm:text-sm text-foreground font-semibold",children:"Name"}),s.jsx(Be,{className:"min-w-[4rem] text-xs sm:text-sm hidden sm:table-cell text-foreground font-semibold",children:"Status"}),s.jsx(Be,{className:"min-w-[6rem] text-xs sm:text-sm hidden md:table-cell text-foreground font-semibold",children:"Expires"}),s.jsx(Be,{className:"min-w-[6rem] text-xs sm:text-sm text-right text-foreground font-semibold",children:"Actions"})]})}),s.jsx(pn,{children:e.map(a=>s.jsx(W6e,{client:a,loading:t,onToggleStatus:r,onRotateToken:n},a.id))})]})}):s.jsx("div",{className:"text-center py-6 sm:py-8 bg-card",children:s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"No service clients found."})}),Y6e=({pagination:e,perPage:t,perPageOptions:r,loading:n,onPerPageChange:a,onPageChange:o})=>s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Show"}),s.jsxs(Lt,{value:t.toString(),onValueChange:a,disabled:n,children:[s.jsx(Rt,{className:"w-16 h-8 text-xs bg-background border-border text-foreground",children:s.jsx(Bt,{})}),s.jsx(Pt,{className:"bg-popover border-border",children:r.map(l=>s.jsx(ot,{value:l.toString(),children:l},l))})]}),s.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground",children:"per page"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(X,{variant:"outline",size:"sm",onClick:()=>o(e.current_page-1),disabled:n||e.current_page<=1,className:"h-8 px-3 text-xs bg-background border-border text-foreground",children:"Prev"}),s.jsxs("span",{className:"text-xs sm:text-sm px-3 text-foreground",children:["Page ",e.current_page," of ",e.last_page]}),s.jsx(X,{variant:"outline",size:"sm",onClick:()=>o(e.current_page+1),disabled:n||e.current_page>=e.last_page,className:"h-8 px-3 text-xs bg-background border-border text-foreground",children:"Next"})]}),s.jsxs("div",{className:"text-xs sm:text-sm text-muted-foreground",children:[s.jsxs("span",{className:"hidden sm:inline",children:[e.from," to ",e.to," of ",e.total," ","clients"]}),s.jsxs("span",{className:"sm:hidden",children:[e.from,"-",e.to," of ",e.total]})]})]}),co=b.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:ee("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));co.displayName="Textarea";var J1="Switch",[Z6e,A7e]=jn(J1),[K6e,X6e]=Z6e(J1),wY=b.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:o,required:l,disabled:c,value:d="on",onCheckedChange:u,form:i,...m}=e,[g,x]=b.useState(null),v=ct(t,j=>x(j)),N=b.useRef(!1),h=g?i||!!g.closest("form"):!0,[y,w]=Fa({prop:a,defaultProp:o??!1,onChange:u,caller:J1});return s.jsxs(K6e,{scope:r,checked:y,disabled:c,children:[s.jsx(Ge.button,{type:"button",role:"switch","aria-checked":y,"aria-required":l,"data-state":CY(y),"data-disabled":c?"":void 0,disabled:c,value:d,...m,ref:v,onClick:vt(e.onClick,j=>{w(C=>!C),h&&(N.current=j.isPropagationStopped(),N.current||j.stopPropagation())})}),h&&s.jsx(NY,{control:g,bubbles:!N.current,name:n,value:d,checked:y,required:l,disabled:c,form:i,style:{transform:"translateX(-100%)"}})]})});wY.displayName=J1;var SY="SwitchThumb",jY=b.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=X6e(SY,r);return s.jsx(Ge.span,{"data-state":CY(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});jY.displayName=SY;var Q6e="SwitchBubbleInput",NY=b.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},o)=>{const l=b.useRef(null),c=ct(l,o),d=q1(r),u=Sg(t);return b.useEffect(()=>{const i=l.current;if(!i)return;const m=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(m,"checked").set;if(d!==r&&x){const v=new Event("click",{bubbles:n});x.call(i,r),i.dispatchEvent(v)}},[d,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:c,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});NY.displayName=Q6e;function CY(e){return e?"checked":"unchecked"}var EY=wY,J6e=jY;const Hn=b.forwardRef(({className:e,...t},r)=>s.jsx(EY,{className:ee("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:s.jsx(J6e,{className:ee("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Hn.displayName=EY.displayName;const x_={name:"",is_active:!0,expires_at:"",notes:""},Zv=500,eLe=7,tLe=({open:e,onOpenChange:t,onSuccess:r})=>{const{createClient:n,loading:a}=xT(),[o,l]=b.useState(x_),[c,d]=b.useState({}),[u,i]=b.useState(null),m=b.useMemo(()=>{const _={};return o.name.trim()?o.name.trim().length<2&&(_.name="Name must be at least 2 characters long"):_.name="Name is required",o.expires_at&&new Date(o.expires_at)<=new Date&&(_.expires_at="Expiration date must be in the future"),o.notes&&o.notes.length>Zv&&(_.notes=`Notes must be ${Zv} characters or less`),_},[o]);b.useEffect(()=>{d(m)},[m]);const g=b.useCallback(()=>Object.keys(m).length===0,[m]),x=b.useCallback(_=>{const k=_.target.value;l(A=>({...A,name:k}))},[]),v=b.useCallback(_=>{l(k=>({...k,is_active:_}))},[]),N=b.useCallback(_=>{const k=_.target.value;l(A=>({...A,expires_at:k}))},[]),h=b.useCallback(_=>{const k=_.target.value;l(A=>({...A,notes:k}))},[]),y=b.useCallback(()=>{l(x_),d({}),i(null),t(!1)},[t]),w=async _=>{if(_.preventDefault(),i(null),!!g()){if(o.expires_at){const k=new Date(o.expires_at),A=Math.ceil((k.getTime()-Date.now())/(1e3*60*60*24));if(A<=eLe){const T=A===1?"This token will expire tomorrow. Continue?":`This token will expire in ${A} days. Continue?`;if(!window.confirm(T))return}}try{const k=await n({...o,name:o.name.trim(),expires_at:o.expires_at||null});k&&(l(x_),d({}),i(null),t(!1),r?.(k))}catch(k){console.error("Failed to create service client:",k),i("Failed to create service client. Please try again.")}}},j=Zv-o.notes.length,C=a.creating;return s.jsx(rn,{open:e,onOpenChange:t,children:s.jsxs(Vr,{className:"sm:max-w-[425px] mx-2 sm:mx-0 max-h-[90vh] overflow-y-auto",children:[s.jsxs(Wr,{children:[s.jsx(Gr,{className:"text-lg sm:text-xl",children:"Create Service Client"}),s.jsx(cn,{className:"text-sm sm:text-base",children:"Create a new API service client with authentication token"})]}),u&&s.jsx(Ze,{variant:"destructive",children:s.jsx(Ke,{children:u})}),s.jsxs("form",{onSubmit:w,className:"space-y-3 sm:space-y-4",children:[s.jsxs("div",{children:[s.jsxs(Ie,{htmlFor:"name",className:"text-sm sm:text-base",children:["Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(We,{id:"name",value:o.name,onChange:x,placeholder:"Enter service client name",className:`mt-1 ${c.name?"border-red-500 focus:border-red-500":""}`,"aria-describedby":c.name?"name-error":void 0}),c.name&&s.jsx("p",{id:"name-error",className:"text-red-500 text-xs mt-1",children:c.name})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Hn,{id:"is_active",checked:o.is_active,onCheckedChange:v}),s.jsx(Ie,{htmlFor:"is_active",className:"text-sm sm:text-base",children:"Active"})]}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"expires_at",className:"text-sm sm:text-base",children:"Expires At (Optional)"}),s.jsx(We,{id:"expires_at",type:"date",value:o.expires_at,onChange:N,className:`mt-1 ${c.expires_at?"border-red-500 focus:border-red-500":""}`,"aria-describedby":c.expires_at?"expires-error":void 0}),c.expires_at&&s.jsx("p",{id:"expires-error",className:"text-red-500 text-xs mt-1",children:c.expires_at})]}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"notes",className:"text-sm sm:text-base",children:"Notes"}),s.jsx(co,{id:"notes",value:o.notes,onChange:h,placeholder:"Enter notes about this service client",rows:3,className:`mt-1 resize-none ${c.notes?"border-red-500 focus:border-red-500":""}`,maxLength:Zv,"aria-describedby":c.notes?"notes-error":"notes-count"}),s.jsxs("div",{className:"flex justify-between items-center mt-1",children:[c.notes?s.jsx("p",{id:"notes-error",className:"text-red-500 text-xs",children:c.notes}):s.jsx("span",{}),s.jsxs("span",{id:"notes-count",className:`text-xs ${j<50?"text-orange-500":"text-gray-500"}`,children:[j," characters remaining"]})]})]}),s.jsxs(nn,{className:"flex flex-col sm:flex-row gap-2 sm:gap-0",children:[s.jsx(X,{type:"button",variant:"outline",onClick:y,className:"w-full sm:w-auto order-2 sm:order-1",disabled:a.creating,children:"Cancel"}),s.jsx(X,{type:"submit",disabled:C,className:"w-full sm:w-auto order-1 sm:order-2",children:a.creating?"Creating...":"Create Client"})]})]})]})})},rLe=({open:e,onOpenChange:t,serviceClient:r,onSuccess:n})=>{const{rotateToken:a,loading:o}=xT(),[l,c]=b.useState(null),{register:d,handleSubmit:u,reset:i,formState:{errors:m,isSubmitting:g}}=Es({defaultValues:{expires_at:""}}),x=g||o.rotating,v=async y=>{if(r){c(null);try{const w=await a(r.id,{expires_at:y.expires_at||void 0});w&&(i(),t(!1),n?.(w))}catch(w){console.error("Failed to rotate token:",w),c("Failed to rotate token. Please try again.")}}},N=y=>{if(!y)return!0;const w=new Date(y);if(isNaN(w.getTime()))return"Please enter a valid date";const j=new Date;return j.setHours(0,0,0,0),w<=j?"Expiration date must be in the future":!0},h=b.useCallback(y=>{y||i(),c(null),t(y)},[i,t]);return r?s.jsx(rn,{open:e,onOpenChange:h,children:s.jsxs(Vr,{className:"sm:max-w-[425px] mx-2 sm:mx-0 max-h-[90vh] overflow-y-auto",children:[s.jsxs(Wr,{children:[s.jsx(Gr,{className:"text-lg sm:text-xl",children:"Rotate Service Token"}),s.jsxs(cn,{className:"text-sm sm:text-base",children:['Generate a new token for "',r.name,'". The old token will be invalidated.']})]}),s.jsxs("form",{onSubmit:u(v),className:"space-y-3 sm:space-y-4",children:[l&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:s.jsx("p",{className:"text-sm text-red-600",role:"alert",children:l})}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"expires_at",className:"text-sm sm:text-base",children:"New Expiration Date (Optional)"}),s.jsx(We,{id:"expires_at",type:"date",...d("expires_at",{validate:N}),className:"mt-1","aria-invalid":m.expires_at?"true":"false",disabled:x}),m.expires_at&&s.jsx("p",{className:"text-sm text-red-600 mt-1",role:"alert",children:m.expires_at.message})]}),s.jsxs(nn,{className:"flex flex-col sm:flex-row gap-2 sm:gap-0",children:[s.jsx(X,{type:"button",variant:"outline",onClick:()=>h(!1),className:"w-full sm:w-auto order-2 sm:order-1",disabled:x,children:"Cancel"}),s.jsx(X,{type:"submit",disabled:x,className:"w-full sm:w-auto order-1 sm:order-2",children:x?"Rotating...":"Rotate Token"})]})]})]})}):null},nLe=({open:e,onOpenChange:t,token:r,onClose:n,autoClearTimeout:a=3e5})=>{const{toast:o}=bY(),[l,c]=b.useState(!1),[d,u]=b.useState(!1),[i,m]=b.useState(r);b.useEffect(()=>{if(!e||!i)return;const w=setTimeout(()=>{m(""),o({title:"Security Notice",description:"Token has been cleared from memory for security.",variant:"destructive"})},a);return()=>clearTimeout(w)},[e,i,a,o]);const g=b.useCallback(async w=>{if(!w){o({title:"Error",description:"No token available to copy.",variant:"destructive"});return}try{await navigator.clipboard.writeText(w),u(!0),o({title:"Success",description:"Token copied to clipboard!"})}catch{const C=document.createElement("textarea");C.value=w,C.style.position="fixed",C.style.left="-999999px",C.style.top="-999999px",document.body.appendChild(C),C.focus(),C.select();try{document.execCommand("copy"),u(!0),o({title:"Success",description:"Token copied to clipboard!"})}catch{o({title:"Error",description:"Failed to copy token. Please copy manually.",variant:"destructive"})}finally{document.body.removeChild(C)}}},[o]),x=b.useCallback(()=>{if(!i){o({title:"Error",description:"Token is no longer available for viewing.",variant:"destructive"});return}c(!l),u(!0)},[i,l,o]),v=b.useCallback(()=>{d&&(c(!1),u(!1),m(r),t(!1),n?.())},[d,t,n,r]),N=b.useCallback(w=>{!w&&!d||w||v()},[d,v]),h=b.useCallback(w=>{d||w.preventDefault()},[d]),y=b.useCallback(w=>{d||w.preventDefault()},[d]);return b.useEffect(()=>{e&&!i&&m(r)},[e,r,i]),s.jsx(rn,{open:e,onOpenChange:N,children:s.jsxs(Vr,{className:"sm:max-w-[500px]",onPointerDownOutside:h,onEscapeKeyDown:y,"aria-describedby":"token-warning",children:[s.jsxs(Wr,{children:[s.jsx(Gr,{children:"Service Client Token"}),s.jsx(cn,{children:"Save this token securely. You won't be able to see it again."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"token-input",children:"Token"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(We,{id:"token-input",type:l?"text":"password",value:i,readOnly:!0,className:"font-mono text-sm","aria-describedby":"token-warning"}),s.jsx(X,{type:"button",variant:"outline",size:"sm",onClick:x,disabled:!i,"aria-label":l?"Hide token":"Show token",children:l?s.jsx(oc,{className:"h-4 w-4"}):s.jsx(Sn,{className:"h-4 w-4"})}),s.jsx(X,{type:"button",variant:"outline",size:"sm",onClick:()=>g(i),disabled:!i,"aria-label":"Copy token to clipboard",children:s.jsx(Cxe,{className:"h-4 w-4"})})]})]}),s.jsx("div",{id:"token-warning",className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-3",role:"alert","aria-live":"polite",children:s.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[s.jsx("strong",{children:"Important:"})," Store this token securely. You won't be able to retrieve it again.",!i&&s.jsx("span",{className:"block mt-1 font-medium text-red-600 dark:text-red-400",children:"Token has been cleared from memory for security."}),i&&!d&&s.jsx("span",{className:"block mt-1 font-medium",children:"Please view or copy the token before closing this dialog."})]})})]}),s.jsxs(nn,{children:[s.jsx(X,{onClick:v,disabled:!d,variant:d?"default":"secondary","aria-describedby":d?void 0:"interaction-required",children:"I've Saved the Token"}),!d&&s.jsx("span",{id:"interaction-required",className:"sr-only","aria-live":"polite",children:"You must view or copy the token before you can close this dialog"})]})]})})},sLe=({createDialogOpen:e,rotateDialogOpen:t,tokenDialogOpen:r,selectedClient:n,currentToken:a,onCreateDialogChange:o,onRotateDialogChange:l,onTokenDialogChange:c,onCreateSuccess:d,onRotateSuccess:u,onCloseTokenDialog:i})=>s.jsxs(s.Fragment,{children:[s.jsx(tLe,{open:e,onOpenChange:o,onSuccess:d}),s.jsx(rLe,{open:t,onOpenChange:l,serviceClient:n,onSuccess:u}),s.jsx(nLe,{open:r,onOpenChange:c,token:a,onClose:i})]}),aLe=({onCreateSuccess:e})=>{const{clients:t,loading:r,errors:n,pagination:a,toggleStatus:o,fetchClients:l}=xT(),{toast:c}=bY(),[d,u]=b.useState(!1),[i,m]=b.useState(1),[g,x]=b.useState(10),[v,N]=b.useState(!1),[h,y]=b.useState(!1),[w,j]=b.useState(null),[C,_]=b.useState(""),k=[5,10,15,20,25,50],A=async U=>{await o(U.id)},T=U=>{u(!1),_(U),y(!0),c({title:"Success",description:"Service client created successfully!"}),l({per_page:g,page:i}),e&&e(U)},R=U=>{_(U),y(!0),j(null),c({title:"Success",description:"Service token rotated successfully!"})},P=U=>{j(U),N(!0)},M=()=>{y(!1),_("")};b.useEffect(()=>{l({per_page:g,page:i})},[i,g,l]);const I=U=>{m(U)},L=U=>{const F=Number(U);x(F),m(1)},B=()=>{l({per_page:g,page:i})};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-4 sm:space-y-5 lg:space-y-6",children:[s.jsx(q6e,{errors:n}),s.jsxs(be,{className:"rounded-sm bg-card border border-border shadow-sm",children:[s.jsx(Te,{className:"mb-0 bg-muted border-b border-border",children:s.jsx(V6e,{loading:r.fetching,onRefresh:B,onCreateClick:()=>u(!0)})}),s.jsx(Ne,{className:"p-0 bg-card",children:s.jsx(G6e,{clients:t,loading:r,onToggleStatus:A,onRotateToken:P})}),a&&a.last_page>0&&s.jsx(Y2,{className:"bg-card border-t border-border flex flex-col sm:flex-row items-center justify-between gap-4 px-4 py-3",children:s.jsx(Y6e,{pagination:a,perPage:g,perPageOptions:k,loading:r.fetching,onPerPageChange:L,onPageChange:I})})]})]}),s.jsx(sLe,{createDialogOpen:d,rotateDialogOpen:v,tokenDialogOpen:h,selectedClient:w,currentToken:C,onCreateDialogChange:u,onRotateDialogChange:N,onTokenDialogChange:y,onCreateSuccess:T,onRotateSuccess:R,onCloseTokenDialog:M})]})},oLe=()=>s.jsx(Vt,{title:"Service Client Management",subtitle:"Manage API service clients and their authentication tokens",children:s.jsx(aLe,{onRotateToken:()=>{},onCreateSuccess:()=>{}})}),iLe=[s.jsx(St,{path:"/service-client-management",element:s.jsx(At,{children:s.jsx(Yt,{role:"super-admin",children:s.jsx(kt,{children:s.jsx(oLe,{})})})})},"service-client-management")];function lLe(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}Array(12).fill(0);let i2=1;class cLe{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...a}=t,o=typeof t?.id=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:i2++,l=this.toasts.find(d=>d.id===o),c=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),l?this.toasts=this.toasts.map(d=>d.id===o?(this.publish({...d,...t,id:o,title:n}),{...d,...t,id:o,dismissible:c,title:n}):d):this.addToast({title:n,...a,dismissible:c,id:o}),o},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const a=Promise.resolve(t instanceof Function?t():t);let o=n!==void 0,l;const c=a.then(async u=>{if(l=["resolve",u],pe.isValidElement(u))o=!1,this.create({id:n,type:"default",message:u});else if(uLe(u)&&!u.ok){o=!1;const m=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,g=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,v=typeof m=="object"&&!pe.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:g,...v})}else if(u instanceof Error){o=!1;const m=typeof r.error=="function"?await r.error(u):r.error,g=typeof r.description=="function"?await r.description(u):r.description,v=typeof m=="object"&&!pe.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:g,...v})}else if(r.success!==void 0){o=!1;const m=typeof r.success=="function"?await r.success(u):r.success,g=typeof r.description=="function"?await r.description(u):r.description,v=typeof m=="object"&&!pe.isValidElement(m)?m:{message:m};this.create({id:n,type:"success",description:g,...v})}}).catch(async u=>{if(l=["reject",u],r.error!==void 0){o=!1;const i=typeof r.error=="function"?await r.error(u):r.error,m=typeof r.description=="function"?await r.description(u):r.description,x=typeof i=="object"&&!pe.isValidElement(i)?i:{message:i};this.create({id:n,type:"error",description:m,...x})}}).finally(()=>{o&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),d=()=>new Promise((u,i)=>c.then(()=>l[0]==="reject"?i(l[1]):u(l[1])).catch(i));return typeof n!="string"&&typeof n!="number"?{unwrap:d}:Object.assign(n,{unwrap:d})},this.custom=(t,r)=>{const n=r?.id||i2++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Ra=new cLe,dLe=(e,t)=>{const r=t?.id||i2++;return Ra.addToast({title:e,...t,id:r}),r},uLe=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",fLe=dLe,mLe=()=>Ra.toasts,hLe=()=>Ra.getActiveToasts(),He=Object.assign(fLe,{success:Ra.success,info:Ra.info,warning:Ra.warning,error:Ra.error,custom:Ra.custom,message:Ra.message,promise:Ra.promise,dismiss:Ra.dismiss,loading:Ra.loading},{getHistory:mLe,getToasts:hLe});lLe("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const vT=(e={})=>{const{autoFetch:t=!0,showToasts:r=!0,debounceMs:n=300}=e,a=Mt(),o=ue(xs.selectRules),l=ue(xs.selectPagination),c=ue(xs.selectTestResult),d=ue(xs.selectFilters),u=ue(xs.selectTogglingStates),i={fetching:ue(xs.selectIsFetching),creating:ue(xs.selectIsCreating),testing:ue(xs.selectIsTesting),isToggling:b.useCallback(P=>u[P]||!1,[u])},m=ue(xs.selectError),g=ue(xs.selectSuccessMessage),x=ue(xs.selectHasRules),v=ue(xs.selectTotalRules),N=ue(xs.selectActiveRules),h=ue(xs.selectInactiveRules);b.useEffect(()=>{if(m&&r){He.error(tI(m),{description:m.type==="validation"?"Please fix the highlighted errors and try again.":m.details,duration:5e3,action:m.type==="unauthorized"?{label:"Login",onClick:()=>{window.location.href="/login"}}:void 0});const P=setTimeout(()=>{a(rI())},100);return()=>clearTimeout(P)}},[m,r,a]),b.useEffect(()=>{if(g&&r){He.success(g,{duration:3e3});const P=setTimeout(()=>{a(nI())},100);return()=>clearTimeout(P)}},[g,r,a]),b.useEffect(()=>{t&&!i.fetching&&o.length===0&&a(ki({service:d.service,search:d.search,page:d.currentPage,per_page:d.perPage}))},[t,a,d]);const y=b.useCallback(async P=>{const M=P||{service:d.service,search:d.search,page:d.currentPage,per_page:d.perPage};await a(ki(M)).unwrap()},[a,d]),w=b.useCallback(async()=>{await y()},[y]),j=b.useCallback(async P=>{const M=r?He.loading("Creating authorization rule..."):null;try{return await a(X0(P)).unwrap(),M&&He.dismiss(M),!0}catch(I){return M&&He.dismiss(M),console.error("Failed to create auth rule:",I),!1}},[a,r]),C=b.useCallback(async P=>{const M=r?He.loading("Testing path pattern..."):null;try{return await a(Q0(P)).unwrap(),M&&He.dismiss(M),!0}catch(I){return M&&He.dismiss(M),console.error("Failed to test auth rule:",I),!1}},[a,r]),_=b.useCallback(async P=>{try{return await a(bp(P)).unwrap(),!0}catch(M){return console.error("Failed to toggle rule status:",M),!1}},[a]),k=b.useCallback(async P=>{const M=r?He.loading(`Updating ${P.length} rule${P.length>1?"s":""}...`):null;try{return await a(J0(P)).unwrap(),M&&He.dismiss(M),!0}catch(I){return M&&He.dismiss(M),console.error("Failed to batch toggle rules:",I),!1}},[a,r]),A=b.useCallback(P=>{if(a(tae(P)),P.currentPage!==void 0){a(ki({service:P.service??d.service,search:P.search??d.search,page:P.currentPage,per_page:P.perPage??d.perPage}));return}if(P.perPage!==void 0){a(ki({service:P.service??d.service,search:P.search??d.search,page:1,per_page:P.perPage}));return}if(P.search!==void 0||P.service!==void 0){const M=setTimeout(()=>{a(ki({service:P.service??d.service,search:P.search??d.search,page:1,per_page:d.perPage}))},n);return()=>clearTimeout(M)}},[a,d,n]),T=b.useCallback(P=>{const M=[];P.service.trim()||M.push({field:"service",messages:["Service is required"]}),P.method||M.push({field:"method",messages:["HTTP method is required"]}),P.pathType==="dsl"&&!P.path_dsl?.trim()&&M.push({field:"path_dsl",messages:["Path DSL is required when using DSL type"]}),P.pathType==="route"&&!P.route_name?.trim()&&M.push({field:"route_name",messages:["Route name is required when using route type"]});const I=P.roles.length>0,L=P.permissions_any.length>0,B=P.permissions_all.length>0;return!I&&!L&&!B&&M.push({field:"authorization",messages:["At least one role, permissions_any, or permissions_all is required"]}),(P.priority<1||P.priority>1e3)&&M.push({field:"priority",messages:["Priority must be between 1 and 1000"]}),M},[]),R=b.useCallback(P=>o.filter(M=>M.service===P),[o]);return b.useMemo(()=>({rules:o,pagination:l,testResult:c,filters:d,loading:i,error:m,successMessage:g,actions:{fetchRules:y,refreshRules:w,createRule:j,testRule:C,toggleRuleStatus:_,batchToggleRules:k,clearError:()=>a(rI()),clearSuccessMessage:()=>a(nI()),clearTestResult:()=>a(eae()),updateFilters:A,resetFilters:()=>a(rae()),resetState:()=>a(nae())},helpers:{getDisplayErrorMessage:()=>tI(m),getValidationErrors:P=>Jse(m,P),isValidationError:()=>BN(m,"validation"),isUnauthorizedError:()=>BN(m,"unauthorized"),isNetworkError:()=>BN(m,"network_error"),hasRules:x,totalRules:v,activeRulesCount:N.length,inactiveRulesCount:h.length,validateRuleForm:T,getActiveRules:()=>N,getInactiveRules:()=>h,getRulesByService:R}}),[o,l,c,d,i,m,g,y,w,j,C,_,k,A,x,v,N,h,T,R,a])},_Y=()=>{const{actions:e,helpers:t,loading:r,error:n}=vT({showToasts:!1});return{createRule:e.createRule,testRule:e.testRule,clearTestResult:e.clearTestResult,validateForm:t.validateRuleForm,getValidationErrors:t.getValidationErrors,isValidationError:t.isValidationError,testResult:ue(xs.selectTestResult),isCreating:r.creating,isTesting:r.testing,error:n}},pLe=({loading:e,onRefresh:t})=>{const r=Ct(),n=()=>{r("/auth-rules/create")};return s.jsx(Te,{className:"mb-0 bg-muted border-b border-border",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4",children:[s.jsx(Ue,{className:"text-lg sm:text-xl text-card-foreground",children:"Authorization Rules"}),s.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-4 w-full sm:w-auto",children:s.jsxs("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:t,disabled:e,className:`flex items-center gap-2 text-secondary-foreground border-border ${e?"bg-muted opacity-60":"bg-secondary"}`,children:[s.jsx(Lr,{className:`h-4 w-4 ${e?"animate-spin":""}`}),s.jsx("span",{className:"hidden xs:inline",children:"Refresh"})]}),s.jsxs(X,{onClick:n,className:"flex items-center justify-center gap-2 text-sm bg-primary text-primary-foreground shadow-[var(--shadow-sm)]",children:[s.jsx(or,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden xs:inline",children:"Create Rule"}),s.jsx("span",{className:"xs:hidden",children:"Create"})]})]})})]})})},gLe=({isActive:e,showIcon:t=!0,variant:r="default"})=>r==="compact"?s.jsx(Ve,{variant:e?"default":"secondary",className:"text-xs sm:text-sm px-1.5 py-0.5 sm:px-2 sm:py-1",style:{backgroundColor:e?"var(--chart-2)":"var(--muted)",color:e?"var(--primary-foreground)":"var(--muted-foreground)",borderColor:e?"var(--chart-2)":"var(--border)",fontSize:"clamp(0.75rem, 2vw, 0.875rem)"},children:e?"Active":"Inactive"}):s.jsxs(Ve,{variant:e?"default":"secondary",className:"flex items-center gap-0.5 sm:gap-1 text-xs sm:text-sm px-1.5 py-0.5 sm:px-2 sm:py-1",style:{backgroundColor:e?"var(--chart-2)":"var(--muted)",color:e?"var(--primary-foreground)":"var(--muted-foreground)",borderColor:e?"var(--chart-2)":"var(--border)",fontSize:"clamp(0.75rem, 2vw, 0.875rem)"},children:[t&&(e?s.jsx(Ns,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3",style:{color:"var(--primary-foreground)",minWidth:"0.625rem",minHeight:"0.625rem"}}):s.jsx(q2,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3",style:{color:"var(--muted-foreground)",minWidth:"0.625rem",minHeight:"0.625rem"}})),s.jsx("span",{className:"whitespace-nowrap",children:e?"Active":"Inactive"})]}),Jy=pe.memo(({items:e,label:t,variant:r,maxDisplay:n=2})=>{if(!e||e.length===0)return null;const a=o=>{switch(o){case"secondary":return"bg-secondary text-secondary-foreground";case"outline":return"bg-accent text-accent-foreground border-border";case"default":return"bg-primary text-primary-foreground";default:return"bg-secondary text-secondary-foreground"}};return s.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.jsxs("span",{className:"text-xs whitespace-nowrap text-muted-foreground",children:[t,":"]}),e.slice(0,n).map((o,l)=>s.jsx(Ve,{variant:r,className:`text-xs px-1 py-0.5 ${a(r)}`,children:s.jsx("span",{className:"truncate max-w-[3rem]",title:o,children:o})},l)),e.length>n&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",e.length-n]})]})});Jy.displayName="AuthorizationBadges";const AY=pe.memo(({rule:e,onToggleStatus:t,isToggling:r})=>s.jsxs(Nt,{className:"border-border bg-card hover:bg-muted/50",children:[s.jsx(Re,{className:"font-medium text-xs sm:text-sm p-2 sm:p-4 text-foreground",children:s.jsx("div",{className:"truncate max-w-[4rem] sm:max-w-none",title:e.service,children:e.service})}),s.jsx(Re,{className:"p-2 sm:p-4",children:s.jsx(Ve,{variant:"outline",className:"text-xs px-1 py-0.5 sm:px-2 sm:py-1 bg-secondary text-secondary-foreground border-border",children:e.method})}),s.jsx(Re,{className:"p-2 sm:p-4",children:s.jsx("div",{className:"max-w-[6rem] sm:max-w-xs",children:e.path_dsl?s.jsxs("div",{children:[s.jsx("div",{className:"text-xs sm:text-sm font-mono px-1 py-0.5 sm:px-2 sm:py-1 rounded truncate bg-muted text-foreground border border-border",title:e.path_dsl,children:e.path_dsl}),s.jsx("div",{className:"text-xs mt-1 hidden sm:block text-muted-foreground",children:"DSL Pattern"})]}):s.jsxs("div",{children:[s.jsx("div",{className:"text-xs sm:text-sm truncate text-foreground",title:e.route_name||void 0,children:e.route_name}),s.jsx("div",{className:"text-xs hidden sm:block text-muted-foreground",children:"Named Route"})]})})}),s.jsx(Re,{className:"p-2 sm:p-4 hidden sm:table-cell",children:s.jsxs("div",{className:"space-y-1 max-w-[8rem] lg:max-w-none",children:[s.jsx(Jy,{items:e.roles_any,label:"Roles",variant:"secondary"}),s.jsx(Jy,{items:e.permissions_any,label:"Perms",variant:"outline"}),s.jsx(Jy,{items:e.permissions_all,label:"All",variant:"default"})]})}),s.jsx(Re,{className:"p-2 sm:p-4",children:s.jsx(gLe,{isActive:e.is_active})}),s.jsx(Re,{className:"text-right p-2 sm:p-4",children:s.jsx("div",{className:"flex justify-end",children:s.jsx(Hn,{checked:e.is_active,onCheckedChange:t(e.id),disabled:r(e.id),className:"scale-75 sm:scale-100",style:{"--switch-thumb":"var(--primary-foreground)","--switch-track-checked":"var(--primary)","--switch-track-unchecked":"var(--input)"}})})})]}));AY.displayName="AuthRuleRow";const xLe=({rules:e,loading:t,onToggleStatus:r,isToggling:n})=>s.jsx(Ne,{className:"p-0 bg-card",children:t?s.jsx("div",{className:"flex items-center justify-center h-48 sm:h-64 bg-card",children:s.jsx(Dc,{message:"Loading rules...",size:"medium",className:"h-48 sm:h-64 bg-card text-muted-foreground"})}):e.length?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(mn,{className:"min-w-full",children:[s.jsx(hn,{className:"bg-muted border-b border-border",children:s.jsxs(Nt,{className:"border-border",children:[s.jsx(Be,{className:"min-w-[5rem] text-xs sm:text-sm text-foreground font-semibold",children:"Service"}),s.jsx(Be,{className:"min-w-[4rem] text-xs sm:text-sm text-foreground font-semibold",children:"Method"}),s.jsx(Be,{className:"min-w-[8rem] text-xs sm:text-sm text-foreground font-semibold",children:"Path/Route"}),s.jsx(Be,{className:"min-w-[10rem] text-xs sm:text-sm hidden sm:table-cell text-foreground font-semibold",children:"Authorization"}),s.jsx(Be,{className:"min-w-[4rem] text-foreground font-semibold text-xs sm:text-sm",children:"Status"}),s.jsx(Be,{className:"min-w-[5rem] text-right text-xs sm:text-sm text-foreground font-semibold",children:"Active"})]})}),s.jsx(pn,{children:e.map(a=>s.jsx(AY,{rule:a,onToggleStatus:r,isToggling:n},a.id))})]})}):s.jsx("div",{className:"text-center py-6 sm:py-8 bg-card",children:s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"No authorization rules found."})})}),vLe=({pagination:e,filters:t,loading:r,totalRules:n,onUpdateFilters:a})=>{const o=c=>{a({currentPage:c})},l=c=>{a({perPage:c,currentPage:1})};return s.jsx(Y2,{className:"pt-4 sm:pt-5 lg:pt-6 bg-card border-t border-border",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 w-full",children:[s.jsxs("div",{className:"flex items-center gap-2 order-2 sm:order-1",children:[s.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground whitespace-nowrap",children:"Show:"}),s.jsxs("select",{value:t.perPage,onChange:c=>l(Number(c.target.value)),disabled:r,className:`text-xs sm:text-sm px-2 py-1 border rounded focus:outline-none focus:ring-2 focus:ring-primary text-foreground border-border ${r?"bg-muted opacity-60":"bg-background"}`,children:[s.jsx("option",{value:5,children:"5"}),s.jsx("option",{value:10,children:"10"}),s.jsx("option",{value:15,children:"15"}),s.jsx("option",{value:25,children:"25"}),s.jsx("option",{value:50,children:"50"}),s.jsx("option",{value:100,children:"100"})]}),s.jsxs("span",{className:"text-xs sm:text-sm text-muted-foreground whitespace-nowrap",children:[s.jsx("span",{className:"hidden sm:inline",children:"per page"}),s.jsx("span",{className:"sm:hidden",children:"/page"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:[s.jsxs(X,{variant:"outline",size:"sm",disabled:!e||e.current_page<=1||r,onClick:()=>o((e?.current_page||1)-1),className:`text-secondary-foreground border-border ${!e||e.current_page<=1||r?"bg-muted opacity-50":"bg-secondary"}`,children:[s.jsx("span",{className:"hidden xs:inline",children:"Previous"}),s.jsx("span",{className:"xs:hidden",children:"Prev"})]}),s.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground whitespace-nowrap px-2",children:e?s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"hidden sm:inline",children:["Page ",e.current_page," of ",e.last_page]}),s.jsxs("span",{className:"sm:hidden",children:[e.current_page,"/",e.last_page]})]}):s.jsx("span",{className:"hidden sm:inline",children:"Page 1 of 1"})}),s.jsxs(X,{variant:"outline",size:"sm",disabled:!e||e.current_page>=e.last_page||r,onClick:()=>o((e?.current_page||1)+1),className:`text-secondary-foreground border-border ${!e||e.current_page>=e.last_page||r?"bg-muted opacity-50":"bg-secondary"}`,children:[s.jsx("span",{className:"hidden xs:inline",children:"Next"}),s.jsx("span",{className:"xs:hidden",children:"Next"})]})]}),s.jsx("div",{className:"flex items-center order-3",children:s.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground whitespace-nowrap",children:e?s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"hidden sm:inline",children:["Showing ",e.from,"-",e.to," of"," ",e.total," rules"]}),s.jsxs("span",{className:"sm:hidden",children:[e.from,"-",e.to," of ",e.total]})]}):s.jsxs("span",{className:"hidden sm:inline",children:["Showing ",n," ",n===1?"rule":"rules"]})})})]})})},yLe=()=>{const{rules:e,loading:t,error:r,pagination:n,filters:a,helpers:o,actions:l}=vT(),c=b.useCallback(d=>()=>l.toggleRuleStatus(d),[l.toggleRuleStatus]);return s.jsxs("div",{className:"space-y-4 sm:space-y-5 lg:space-y-6",children:[r&&s.jsxs(Ze,{variant:"destructive",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx(Ke,{children:o.getDisplayErrorMessage()})]}),s.jsxs(be,{className:"rounded-sm bg-card border border-border shadow-[var(--shadow-realistic)]",children:[s.jsx(pLe,{loading:t.fetching,onRefresh:l.refreshRules}),s.jsx(xLe,{rules:e,loading:t.fetching,onToggleStatus:c,isToggling:t.isToggling}),n&&s.jsx(vLe,{pagination:n,filters:a,loading:t.fetching,totalRules:o.totalRules,onUpdateFilters:l.updateFilters})]})]})},kY=({pathDsl:e="",onClose:t})=>{const{testRule:r,testResult:n,isTesting:a,clearTestResult:o}=_Y(),[l,c]=b.useState(e),[d,u]=b.useState(""),i=async()=>{!l.trim()||!d.trim()||await r({path_dsl:l.trim(),test_path:d.trim()})},m=()=>{o(),t()};return s.jsx(rn,{open:!0,onOpenChange:m,children:s.jsxs(Vr,{className:"w-[95vw] max-w-sm sm:max-w-md lg:max-w-lg max-h-[90vh] overflow-y-auto bg-card border border-border",style:{boxShadow:"var(--shadow-realistic)"},children:[s.jsx(Wr,{className:"pb-3 sm:pb-4",children:s.jsx(Gr,{className:"text-lg sm:text-xl text-center sm:text-left text-foreground",children:"Test Path DSL Pattern"})}),s.jsxs("div",{className:"space-y-3 sm:space-y-4 px-1",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{className:"text-sm sm:text-base font-medium text-foreground",children:"DSL Pattern"}),s.jsx(co,{value:l,onChange:g=>c(g.target.value),placeholder:"/api/users/{id}/posts/*",className:"font-mono text-xs sm:text-sm min-h-[3rem] sm:min-h-[4rem] resize-none bg-input border-border text-foreground"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{className:"text-sm sm:text-base font-medium text-foreground",children:"Test Path"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[s.jsx(We,{placeholder:"/api/users/123/posts/456",value:d,onChange:g=>u(g.target.value),onKeyPress:g=>g.key==="Enter"&&i(),className:"text-xs sm:text-sm font-mono flex-1 bg-input border-border text-foreground"}),s.jsx(X,{onClick:i,disabled:!l.trim()||!d.trim()||a,size:"sm",className:"w-full sm:w-auto min-w-[4rem] text-sm disabled:bg-muted disabled:opacity-60",style:{backgroundColor:!l.trim()||!d.trim()||a?void 0:"var(--primary)",color:"var(--primary-foreground)"},children:a?s.jsx(ut,{className:"h-4 w-4 animate-spin text-primary-foreground"}):"Test"})]})]}),n&&s.jsxs("div",{className:"space-y-3 p-3 sm:p-4 border rounded-md bg-muted border-border",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[n.matches?s.jsx(Ns,{className:"h-4 w-4 sm:h-5 sm:w-5 flex-shrink-0",style:{color:"var(--chart-2)"}}):s.jsx(q2,{className:"h-4 w-4 sm:h-5 sm:w-5 flex-shrink-0 text-destructive"}),s.jsx("span",{className:"font-medium text-sm sm:text-base text-foreground",children:n.matches?"Pattern Matches!":"No Match"})]}),s.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Generated Regex:"}),s.jsx("div",{className:"font-mono text-xs sm:text-sm p-2 sm:p-3 rounded mt-1 break-all bg-card border border-border text-foreground",children:n.path_regex})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[s.jsx("span",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Compilation:"}),s.jsx(Ve,{variant:n.compiled_successfully?"default":"destructive",className:"text-xs w-fit",children:n.compiled_successfully?"Success":"Failed"})]})]})]}),s.jsx("div",{className:"flex justify-end gap-2 pt-2 sm:pt-3",children:s.jsx(X,{variant:"outline",onClick:m,className:"w-full sm:w-auto min-w-[5rem] text-sm bg-secondary text-secondary-foreground border-border",children:"Close"})})]})]})})},bLe=()=>{const[e,t]=b.useState(!1),r=()=>{t(!0)};return s.jsxs(Vt,{title:"Authorization Rules",subtitle:"Manage access control rules for your application",mainButtons:s.jsxs(X,{variant:"outline",onClick:r,className:"flex items-center justify-center gap-2 text-sm",style:{backgroundColor:"var(--secondary)",color:"var(--secondary-foreground)",borderColor:"var(--border)"},children:[s.jsx(_ve,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden md:inline",children:"Test Path"}),s.jsx("span",{className:"inline md:hidden",children:"Test"})]}),children:[s.jsx(yLe,{}),e&&s.jsx(kY,{pathDsl:"",onClose:()=>t(!1)})]})},wLe=()=>{const[e,t]=b.useState({}),r=b.useCallback(d=>{e[d]&&t(u=>({...u,[d]:""}))},[e]),n=b.useCallback(()=>{e.authorization&&t(d=>({...d,authorization:""}))},[e]),a=b.useCallback((d,u)=>{const i={};d.service.trim()||(i.service="Service is required"),d.method||(i.method="HTTP method is required"),d.pathType==="dsl"&&!d.pathDsl.trim()&&(i.pathDsl="Path DSL is required when using DSL type"),d.pathType==="route"&&!d.routeName.trim()&&(i.routeName="Route name is required when using route type");const{selectedRoles:m,selectedPermissionsAny:g,selectedPermissionsAll:x}=u;return m.length===0&&g.length===0&&x.length===0&&(i.authorization="At least one role or permission is required"),i},[]),o=b.useCallback(d=>{t(d)},[]),l=b.useCallback(()=>Object.keys(e).some(d=>e[d]),[e]),c=b.useCallback(d=>e[d]||"",[e]);return{validationErrors:e,clearFieldError:r,clearAuthorizationError:n,validateForm:a,setErrors:o,hasErrors:l,getFieldError:c}},SLe=()=>{const[e,t]=b.useState([]),[r,n]=b.useState([]),[a,o]=b.useState([]),l=b.useCallback(w=>{t(j=>j.includes(w)?j.filter(C=>C!==w):[...j,w])},[]),c=b.useCallback(w=>{n(j=>j.includes(w)?j.filter(C=>C!==w):(o(C=>C.filter(_=>_!==w)),[...j,w]))},[]),d=b.useCallback(w=>{o(j=>j.includes(w)?j.filter(C=>C!==w):(n(C=>C.filter(_=>_!==w)),[...j,w]))},[]),u=b.useCallback(w=>{const j=w.map(C=>C.name);t(j)},[]),i=b.useCallback(()=>{t([])},[]),m=b.useCallback(w=>{const j=w.map(C=>C.name);n(j),o([])},[]),g=b.useCallback(()=>{n([])},[]),x=b.useCallback(w=>{const j=w.map(C=>C.name);o(j),n([])},[]),v=b.useCallback(()=>{o([])},[]),N=b.useCallback(()=>{t([]),n([]),o([])},[]),h=b.useCallback(()=>({selectedRoles:e,selectedPermissionsAny:r,selectedPermissionsAll:a}),[e,r,a]),y=b.useCallback(()=>e.length>0||r.length>0||a.length>0,[e,r,a]);return{selectedRoles:e,selectedPermissionsAny:r,selectedPermissionsAll:a,toggleRoleSelection:l,selectAllRoles:u,clearAllRoles:i,togglePermissionAnySelection:c,selectAllPermissionsAny:m,clearAllPermissionsAny:g,togglePermissionAllSelection:d,selectAllPermissionsAll:x,clearAllPermissionsAll:v,resetSelections:N,getAuthorizationData:h,hasAnySelection:y}},jLe=({availableRoles:e,selectedRoles:t,rolesLoading:r,onToggleRole:n,onSelectAllRoles:a,onClearAllRoles:o})=>{const l=b.useMemo(()=>new Set(t),[t]),c=b.useCallback(d=>()=>n(d),[n]);return s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_r,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600"}),s.jsx(Ie,{className:"text-sm sm:text-base font-medium",children:"Roles"})]}),s.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground",children:"(User must have ANY of these roles)"})]}),r?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(ut,{className:"h-6 w-6 animate-spin mr-2"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading roles..."})]}):e&&e.length>0?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(X,{type:"button",variant:"outline",size:"sm",className:"text-xs sm:text-sm flex-1 sm:flex-none",onClick:a,children:"Select All"}),s.jsx(X,{type:"button",variant:"ghost",size:"sm",className:"text-xs sm:text-sm flex-1 sm:flex-none",onClick:o,children:"Clear All"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-3 max-h-48 overflow-y-auto border rounded-md p-2 sm:p-3",children:e.map(d=>s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(rs,{id:`role-${d.id}`,checked:l.has(d.name),onCheckedChange:()=>n(d.name)}),s.jsx(Ie,{htmlFor:`role-${d.id}`,className:"text-xs sm:text-sm font-medium leading-none cursor-pointer peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:d.name})]},d.id))}),t.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Ie,{className:"text-xs sm:text-sm text-muted-foreground",children:["Selected Roles (",t.length,")"]}),s.jsx("div",{className:"flex flex-wrap gap-1 sm:gap-2",children:t.map(d=>s.jsxs(Ve,{variant:"secondary",className:"flex items-center gap-1 text-xs",children:[s.jsx("span",{className:"truncate max-w-[8rem] sm:max-w-none",children:d}),s.jsx(qd,{className:"h-3 w-3 cursor-pointer hover:text-red-500 flex-shrink-0",onClick:c(d)})]},d))})]})]}):s.jsxs("div",{className:"text-center py-8 border rounded-md bg-gray-50",children:[s.jsx(_r,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No roles available"})]})]})},WB=({mode:e,description:t,bgColorClass:r,badgeVariant:n,availablePermissions:a,selectedPermissions:o,onTogglePermission:l,onSelectAll:c,onClearAll:d})=>{const u=e.toLowerCase();return s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:`text-xs sm:text-sm text-muted-foreground ${r} p-2 sm:p-3 rounded-md`,children:[s.jsxs("strong",{children:[e," mode:"]})," ",t]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(X,{type:"button",variant:"outline",size:"sm",className:"text-xs sm:text-sm flex-1 sm:flex-none",onClick:c,children:["Select All ",e]}),s.jsxs(X,{type:"button",variant:"ghost",size:"sm",className:"text-xs sm:text-sm flex-1 sm:flex-none",onClick:d,children:["Clear All ",e]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-3 max-h-48 overflow-y-auto border rounded-md p-2 sm:p-3",children:a.map(i=>s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(rs,{id:`permission-${u}-${i.id}`,checked:o.includes(i.name),onCheckedChange:()=>l(i.name)}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx(Ie,{htmlFor:`permission-${u}-${i.id}`,className:"text-xs sm:text-sm font-medium leading-none cursor-pointer peer-disabled:cursor-not-allowed peer-disabled:opacity-70 block",children:i.name})})]},`${u}-${i.id}`))}),o.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Ie,{className:"text-xs sm:text-sm text-muted-foreground",children:["Selected ",e," Permissions (",o.length,")"]}),s.jsx("div",{className:"flex flex-wrap gap-1 sm:gap-2",children:o.map(i=>s.jsxs(Ve,{variant:n,className:"flex items-center gap-1 text-xs",children:[s.jsx("span",{className:"truncate max-w-[8rem] sm:max-w-none",children:i}),s.jsx(qd,{className:"h-3 w-3 cursor-pointer hover:text-red-500 flex-shrink-0",onClick:()=>l(i)})]},`${u}-${i}`))})]})]})},NLe=({availablePermissions:e,selectedPermissionsAny:t,selectedPermissionsAll:r,permissionsLoading:n,onTogglePermissionAny:a,onTogglePermissionAll:o,onSelectAllPermissionsAny:l,onClearAllPermissionsAny:c,onSelectAllPermissionsAll:d,onClearAllPermissionsAll:u})=>s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 sm:gap-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Br,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600"}),s.jsx(Ie,{className:"text-sm sm:text-base font-medium",children:"Permissions"})]}),s.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Configure permissions for both ANY and ALL authorization modes"})]}),n?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(ut,{className:"h-6 w-6 animate-spin mr-2"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading permissions..."})]}):e&&e.length>0?s.jsxs("div",{className:"space-y-6",children:[s.jsx(WB,{mode:"ANY",description:"User needs at least ONE of the selected permissions",bgColorClass:"bg-blue-50",badgeVariant:"default",availablePermissions:e,selectedPermissions:t,onTogglePermission:a,onSelectAll:l,onClearAll:c}),s.jsx(WB,{mode:"ALL",description:"User needs ALL of the selected permissions",bgColorClass:"bg-green-50",badgeVariant:"secondary",availablePermissions:e,selectedPermissions:r,onTogglePermission:o,onSelectAll:d,onClearAll:u})]}):s.jsxs("div",{className:"text-center py-8 border rounded-md bg-gray-50",children:[s.jsx(Br,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No permissions available"})]})]}),CLe=({error:e,className:t})=>e?s.jsxs(Ze,{variant:"destructive",className:t,children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx(Ke,{children:e?.message||"An error occurred"})]}):null,ELe=["GET","POST","PUT","PATCH","DELETE"],_Le=({service:e,method:t,onServiceChange:r,onMethodChange:n,getFieldError:a})=>s.jsxs(be,{children:[s.jsx(Te,{className:"pb-3 sm:pb-4",children:s.jsx(Ue,{className:"text-lg sm:text-xl",children:"Basic Information"})}),s.jsx(Ne,{className:"space-y-3 sm:space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[s.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[s.jsx(Ie,{htmlFor:"service",className:"text-sm sm:text-base font-medium",children:"Service *"}),s.jsx(We,{id:"service",value:e,onChange:o=>r(o.target.value),placeholder:"e.g., data, auth, api",className:`text-sm sm:text-base ${a("service")?"border-red-500":""}`}),a("service")&&s.jsx("p",{className:"text-xs sm:text-sm text-red-500",children:a("service")})]}),s.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[s.jsx(Ie,{htmlFor:"method",className:"text-sm sm:text-base font-medium",children:"HTTP Method *"}),s.jsx("select",{id:"method",value:t,onChange:o=>n(o.target.value),className:`flex h-9 sm:h-10 w-full rounded-md border border-input bg-background px-2 sm:px-3 py-1 sm:py-2 text-sm ring-offset-background ${a("method")?"border-red-500":""}`,children:ELe.map(o=>s.jsx("option",{value:o,children:o},o))}),a("method")&&s.jsx("p",{className:"text-xs sm:text-sm text-red-500",children:a("method")})]})]})})]}),ALe=({pathType:e,pathDsl:t,routeName:r,onPathTypeChange:n,onPathDslChange:a,onRouteNameChange:o,onTestClick:l,getFieldError:c})=>s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsx(Ie,{className:"text-sm sm:text-base font-medium",children:"Path Configuration *"}),s.jsxs(Qd,{value:e,onValueChange:n,children:[s.jsxs(_c,{className:"grid w-full grid-cols-2 h-9 sm:h-10",children:[s.jsx(fs,{value:"dsl",className:"text-xs sm:text-sm",children:"Path DSL"}),s.jsx(fs,{value:"route",className:"text-xs sm:text-sm",children:"Route Name"})]}),s.jsx(ms,{value:"dsl",className:"mt-3 sm:mt-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"pathDsl",className:"text-sm sm:text-base",children:"Path DSL Pattern"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[s.jsx(co,{id:"pathDsl",value:t,onChange:d=>a(d.target.value),placeholder:"/api/users/{id}/posts/*",className:`text-sm font-mono min-h-[2.5rem] sm:min-h-[3rem] flex-1 ${c("pathDsl")?"border-red-500":""}`}),t.trim()&&s.jsx(X,{type:"button",variant:"outline",size:"sm",className:"w-full sm:w-auto text-sm",onClick:l,children:"Test"})]}),c("pathDsl")&&s.jsx("p",{className:"text-xs sm:text-sm text-red-500",children:c("pathDsl")})]})}),s.jsx(ms,{value:"route",className:"mt-3 sm:mt-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"routeName",className:"text-sm sm:text-base",children:"Route Name"}),s.jsx(We,{id:"routeName",value:r,onChange:d=>o(d.target.value),placeholder:"users.posts.index",className:`text-sm sm:text-base ${c("routeName")?"border-red-500":""}`}),c("routeName")&&s.jsx("p",{className:"text-xs sm:text-sm text-red-500",children:c("routeName")})]})})]})]}),kLe=({isActive:e,onActiveChange:t})=>s.jsxs("div",{className:"flex flex-row items-center justify-between rounded-lg border p-2 sm:p-3",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Ie,{className:"text-sm sm:text-base",children:"Active Rule"}),s.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Enable this rule immediately"})]}),s.jsx(Hn,{checked:e,onCheckedChange:t})]}),DLe=({onCancel:e,isSubmitting:t,isCreating:r})=>s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-end gap-3 sm:gap-4 pt-4",children:[e&&s.jsx(X,{type:"button",variant:"outline",onClick:e,disabled:t,className:"w-full sm:w-auto",children:"Cancel"}),s.jsx(X,{type:"submit",disabled:t||r,className:"w-full sm:w-auto min-w-[120px]",children:t?s.jsxs(s.Fragment,{children:[s.jsx(ut,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Create Rule"})]}),TLe=({onSuccess:e,onCancel:t})=>{const{createRule:r,isCreating:n,error:a}=_Y(),{roles:o,loading:l}=yo(!0),{permissions:c,loading:d}=Dm(!0),{clearFieldError:u,clearAuthorizationError:i,validateForm:m,setErrors:g,getFieldError:x}=wLe(),{selectedRoles:v,selectedPermissionsAny:N,selectedPermissionsAll:h,toggleRoleSelection:y,selectAllRoles:w,clearAllRoles:j,togglePermissionAnySelection:C,selectAllPermissionsAny:_,clearAllPermissionsAny:k,togglePermissionAllSelection:A,selectAllPermissionsAll:T,clearAllPermissionsAll:R,getAuthorizationData:P}=SLe(),[M,I]=b.useState(""),[L,B]=b.useState("GET"),[U,F]=b.useState("dsl"),[H,W]=b.useState(""),[J,q]=b.useState(""),[G,z]=b.useState(!0),[K,Z]=b.useState(!1),[ie,ye]=b.useState(!1),de=ae=>{y(ae),i()},xe=ae=>{C(ae),i()},ne=ae=>{A(ae),i()},ge=()=>{w(o),i()},Ce=()=>{_(c),i()},ce=()=>{T(c),i()},Oe=(ae,$e)=>{switch(u(ae),ae){case"service":I($e);break;case"method":B($e);break;case"pathDsl":W($e);break;case"routeName":q($e);break;case"isActive":z($e);break}},Pe=async ae=>{ae.preventDefault();const $e={service:M,method:L,pathType:U,pathDsl:H,routeName:J,isActive:G},nt=P(),oe=m($e,nt);if(Object.keys(oe).length>0){g(oe);return}ye(!0);try{const Fe={service:M.trim(),method:L,is_active:G,...U==="dsl"?{path_dsl:H.trim()}:{route_name:J.trim()},...nt.selectedRoles.length>0&&{roles_any:nt.selectedRoles},...nt.selectedPermissionsAny.length>0&&{permissions_any:nt.selectedPermissionsAny},...nt.selectedPermissionsAll.length>0&&{permissions_all:nt.selectedPermissionsAll}};await r(Fe)&&e?.()}catch(Fe){console.error("Failed to create auth rule:",Fe)}finally{ye(!1)}};return s.jsx("div",{className:"container mx-auto py-4 px-3 sm:py-6 sm:px-4 lg:py-8 lg:px-6",children:s.jsxs("div",{className:"mx-auto space-y-4 sm:space-y-5 lg:space-y-6",children:[s.jsx(CLe,{error:a}),s.jsxs("form",{onSubmit:Pe,className:"space-y-4 sm:space-y-5 lg:space-y-6",children:[s.jsx(_Le,{service:M,method:L,onServiceChange:ae=>Oe("service",ae),onMethodChange:ae=>Oe("method",ae),getFieldError:x}),s.jsxs(be,{children:[s.jsx(Te,{className:"pb-3 sm:pb-4",children:s.jsx(Ue,{className:"text-lg sm:text-xl",children:"Configuration"})}),s.jsxs(Ne,{className:"space-y-3 sm:space-y-4",children:[s.jsx(ALe,{pathType:U,pathDsl:H,routeName:J,onPathTypeChange:ae=>F(ae),onPathDslChange:ae=>Oe("pathDsl",ae),onRouteNameChange:ae=>Oe("routeName",ae),onTestClick:()=>Z(!0),getFieldError:x}),s.jsx(kLe,{isActive:G,onActiveChange:ae=>Oe("isActive",ae)})]})]}),s.jsxs(be,{children:[s.jsxs(Te,{className:"pb-3 sm:pb-4",children:[s.jsx(Ue,{className:"text-lg sm:text-xl",children:"Authorization Requirements"}),s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Select roles and permissions required to access this endpoint"})]}),s.jsxs(Ne,{className:"space-y-4 sm:space-y-5 lg:space-y-6",children:[x("authorization")&&s.jsxs(Ze,{variant:"destructive",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx(Ke,{children:x("authorization")})]}),s.jsx(jLe,{availableRoles:o,selectedRoles:v,rolesLoading:l,onToggleRole:de,onSelectAllRoles:ge,onClearAllRoles:j}),s.jsx(cs,{}),s.jsx(NLe,{availablePermissions:c,selectedPermissionsAny:N,selectedPermissionsAll:h,permissionsLoading:d,onTogglePermissionAny:xe,onTogglePermissionAll:ne,onSelectAllPermissionsAny:Ce,onClearAllPermissionsAny:k,onSelectAllPermissionsAll:ce,onClearAllPermissionsAll:R})]})]}),s.jsx(DLe,{onCancel:t,isSubmitting:ie,isCreating:n})]}),K&&H&&s.jsx(kY,{pathDsl:H,onClose:()=>Z(!1)})]})})},RLe=()=>{const e=Ct(),{error:t,helpers:r}=vT({autoFetch:!1,showToasts:!0}),n=()=>{e("/auth-rules")},a=()=>{e("/auth-rules")};return s.jsx(Vt,{title:"Create Authorization Rule",subtitle:"Define a new access control rule for your application",backButton:{show:!0},children:s.jsxs("div",{className:"space-y-4 sm:space-y-5 lg:space-y-6",children:[t&&r.isNetworkError()&&s.jsxs(Ze,{variant:"destructive",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx(Ke,{children:"Unable to connect to the server. Please check your internet connection and try again."})]}),t&&r.isUnauthorizedError()&&s.jsxs(Ze,{variant:"destructive",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsxs(Ke,{children:["Your session has expired. Please ",s.jsx("a",{href:"/login",className:"underline",children:"login again"})," to continue."]})]}),s.jsxs("div",{className:"bg-primary-50 border border-primary-200 rounded-lg p-3 sm:p-4",children:[s.jsx("h3",{className:"font-medium text-primary-900 mb-2 text-sm sm:text-base",children:"Creating Authorization Rules"}),s.jsxs("div",{className:"text-xs sm:text-sm text-primary-800 space-y-1 sm:space-y-1.5",children:[s.jsxs("p",{className:"break-words",children:["• ",s.jsx("strong",{children:"Service:"})," The application service this rule applies to (e.g., api, data, auth)"]}),s.jsxs("p",{className:"break-words",children:["• ",s.jsx("strong",{children:"Path DSL:"})," Dynamic path pattern with variables like ",s.jsxs("code",{className:"bg-primary-100 px-1 rounded text-xs",children:["/users/","{id}","/posts/*"]})]}),s.jsxs("p",{className:"break-words",children:["• ",s.jsx("strong",{children:"Route Name:"})," Named route identifier like ",s.jsx("code",{className:"bg-primary-100 px-1 rounded text-xs",children:"users.posts.show"})]}),s.jsxs("p",{children:["• ",s.jsx("strong",{children:"Roles:"})," User must have ANY of the specified roles"]}),s.jsxs("p",{children:["• ",s.jsx("strong",{children:"Permissions (Any):"})," User needs ANY of these permissions"]}),s.jsxs("p",{children:["• ",s.jsx("strong",{children:"Permissions (All):"})," User needs ALL of these permissions"]})]})]}),s.jsx(TLe,{onSuccess:n,onCancel:a}),s.jsxs("div",{className:"border-t pt-4 sm:pt-5 lg:pt-6",children:[s.jsx("h3",{className:"font-medium mb-3 text-sm sm:text-base",children:"Common Examples"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-5 text-xs sm:text-sm",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium text-chart-3 text-sm sm:text-base",children:"Path DSL Examples:"}),s.jsxs("ul",{className:"space-y-1 text-muted-foreground",children:[s.jsxs("li",{className:"break-all",children:[s.jsxs("code",{className:"bg-muted px-1 rounded text-xs",children:["/api/users/","{id}"]})," - Matches /api/users/123"]}),s.jsxs("li",{className:"break-all",children:[s.jsx("code",{className:"bg-muted px-1 rounded text-xs",children:"/files/*"})," - Matches any path starting with /files/"]}),s.jsxs("li",{className:"break-all",children:[s.jsxs("code",{className:"bg-muted px-1 rounded text-xs",children:["/admin/","{section}","/settings"]})," - Matches admin sections"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium text-chart-4 text-sm sm:text-base",children:"Route Name Examples:"}),s.jsxs("ul",{className:"space-y-1 text-muted-foreground",children:[s.jsxs("li",{className:"break-all",children:[s.jsx("code",{className:"bg-muted px-1 rounded text-xs",children:"users.show"})," - Show user profile"]}),s.jsxs("li",{className:"break-all",children:[s.jsx("code",{className:"bg-muted px-1 rounded text-xs",children:"admin.dashboard"})," - Admin dashboard"]}),s.jsxs("li",{className:"break-all",children:[s.jsx("code",{className:"bg-muted px-1 rounded text-xs",children:"api.data.export"})," - Data export endpoint"]})]})]})]})]}),s.jsxs("div",{className:"bg-chart-2/10 border border-chart-2/30 rounded-lg p-3 sm:p-4",children:[s.jsx("h3",{className:"font-medium text-chart-2 mb-2 text-sm sm:text-base",children:"💡 Pro Tips"}),s.jsxs("ul",{className:"text-xs sm:text-sm text-chart-2/80 space-y-1",children:[s.jsxs("li",{children:["• Use the ",s.jsx("strong",{children:"Test"})," button to validate your Path DSL patterns before saving"]}),s.jsx("li",{children:"• Either Path DSL OR Route Name is required, not both"}),s.jsx("li",{children:"• At least one role or permission must be specified"}),s.jsx("li",{children:"• Inactive rules won't be enforced but are kept for future use"})]})]})]})})},PLe=[s.jsx(St,{path:"/auth-rules",element:s.jsx(At,{children:s.jsx(Yt,{role:"super-admin",children:s.jsx(kt,{children:s.jsx(bLe,{})})})})},"auth-rules"),s.jsx(St,{path:"/auth-rules/create",element:s.jsx(At,{children:s.jsx(Yt,{role:"super-admin",children:s.jsx(kt,{children:s.jsx(RLe,{})})})})},"create-auth-rule")],bo=(e=!0,t)=>{const r=Mt(),[n,a]=b.useState(""),o=b.useRef(t);o.current=t;const l=ue(zae),c=ue(Zae),d=ue(Xae),u=ue(qae),i=ue(Yae),m=ue(tg),g=ue(Gae),x=l.length>0,v=!c&&l.length===0,N=u?.total||0,h=b.useMemo(()=>({from:u?.from||0,to:u?.to||0,total:u?.total||0}),[u]),y=b.useCallback(async j=>{try{const C={page:j?.page||i,per_page:j?.per_page||m,search:j?.search!==void 0?j.search:g};await r(wf(C)).unwrap()}catch(C){throw console.error("Failed to fetch stores:",C),C}},[r,i,m,g]);b.useEffect(()=>{e&&!x&&!c&&!d&&y(o.current)},[e,x,c,d,y]),b.useEffect(()=>()=>{d&&r(kF("fetchStores"))},[r,d]);const w=b.useCallback(j=>{j!==i&&j>0&&(!u||j<=u.last_page)&&(r(Uae(j)),y({page:j}))},[r,i,u,y]);return b.useMemo(()=>({stores:l,pagination:u||null,loading:c,error:d,refetch:y,changePage:w,searchTerm:n,setSearchTerm:a,totalStores:N,hasStores:x,isEmpty:v,currentPageData:h}),[l,u,c,d,y,w,n,a,N,x,v,h])},MLe=(e,t=!0)=>{const r=Mt(),n=ue(Vae),a=ue(Kae),o=ue(Qae),l=ue(Wae),c=ue(g=>e?Jae(e)(g):null),d=b.useMemo(()=>n&&n.id===e?n:c&&c.id===e?c:null,[n,c,e]),u=!!d,i=l===e,m=b.useCallback(async g=>{try{if(!g.trim())throw new Error("Store ID is required");await r(wp(g)).unwrap()}catch(x){throw console.error(`Failed to fetch store ${g}:`,x),x}},[r]);return b.useEffect(()=>{t&&e&&e!==l&&!a&&!o&&m(e)},[t,e,l,a,o,m]),b.useEffect(()=>{e||r($ae())},[e,r]),b.useEffect(()=>()=>{o&&r(kF("fetchStore"))},[r,o]),b.useMemo(()=>({store:d,loading:a,error:o,refetch:m,exists:u,isSelected:i}),[d,a,o,m,u,i])},OLe=({error:e})=>s.jsxs(Ze,{variant:"destructive",className:"bg-destructive/10 border-destructive/20 text-destructive",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsxs(Ke,{className:"text-destructive",children:["Failed to load stores: ",e]})]}),ILe=({onCreateStore:e,onRefresh:t,loading:r})=>s.jsx(Te,{className:"mb-0 bg-muted border-b border-border",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4",children:[s.jsx(Ue,{className:"text-lg sm:text-xl text-card-foreground",children:"Stores"}),s.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-4 w-full sm:w-auto",children:s.jsxs("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:t,disabled:r,className:`flex items-center gap-2 border-border ${r?"bg-muted text-muted-foreground opacity-60":"bg-secondary text-secondary-foreground hover:bg-secondary/80"}`,children:[s.jsx(Lr,{className:`h-4 w-4 ${r?"animate-spin":""}`}),s.jsx("span",{className:"hidden xs:inline",children:"Refresh"})]}),s.jsxs(X,{onClick:e,className:"flex items-center justify-center gap-2 text-sm bg-primary text-primary-foreground shadow-sm hover:bg-primary/90",children:[s.jsx(or,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden xs:inline",children:"Create Store"}),s.jsx("span",{className:"xs:hidden",children:"Create"})]})]})})]})});var l2=["Enter"," "],LLe=["ArrowDown","PageUp","Home"],DY=["ArrowUp","PageDown","End"],BLe=[...LLe,...DY],FLe={ltr:[...l2,"ArrowRight"],rtl:[...l2,"ArrowLeft"]},ULe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},qg="Menu",[Gp,$Le,HLe]=$1(qg),[Jd,TY]=jn(qg,[HLe,pm,H1]),eS=pm(),RY=H1(),[zLe,eu]=Jd(qg),[qLe,Vg]=Jd(qg),PY=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:o,modal:l=!0}=e,c=eS(t),[d,u]=b.useState(null),i=b.useRef(!1),m=Mr(o),g=Xd(a);return b.useEffect(()=>{const x=()=>{i.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>i.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),s.jsx(lk,{...c,children:s.jsx(zLe,{scope:t,open:r,onOpenChange:m,content:d,onContentChange:u,children:s.jsx(qLe,{scope:t,onClose:b.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:i,dir:g,modal:l,children:n})})})};PY.displayName=qg;var VLe="MenuAnchor",yT=b.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=eS(r);return s.jsx(i1,{...a,...n,ref:t})});yT.displayName=VLe;var bT="MenuPortal",[WLe,MY]=Jd(bT,{forceMount:void 0}),OY=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,o=eu(bT,t);return s.jsx(WLe,{scope:t,forceMount:r,children:s.jsx(Qo,{present:r||o.open,children:s.jsx(fm,{asChild:!0,container:a,children:n})})})};OY.displayName=bT;var La="MenuContent",[GLe,wT]=Jd(La),IY=b.forwardRef((e,t)=>{const r=MY(La,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,o=eu(La,e.__scopeMenu),l=Vg(La,e.__scopeMenu);return s.jsx(Gp.Provider,{scope:e.__scopeMenu,children:s.jsx(Qo,{present:n||o.open,children:s.jsx(Gp.Slot,{scope:e.__scopeMenu,children:l.modal?s.jsx(YLe,{...a,ref:t}):s.jsx(ZLe,{...a,ref:t})})})})}),YLe=b.forwardRef((e,t)=>{const r=eu(La,e.__scopeMenu),n=b.useRef(null),a=ct(t,n);return b.useEffect(()=>{const o=n.current;if(o)return t1(o)},[]),s.jsx(ST,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:vt(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),ZLe=b.forwardRef((e,t)=>{const r=eu(La,e.__scopeMenu);return s.jsx(ST,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),KLe=lc("MenuContent.ScrollLock"),ST=b.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:u,onPointerDownOutside:i,onFocusOutside:m,onInteractOutside:g,onDismiss:x,disableOutsideScroll:v,...N}=e,h=eu(La,r),y=Vg(La,r),w=eS(r),j=RY(r),C=$Le(r),[_,k]=b.useState(null),A=b.useRef(null),T=ct(t,A,h.onContentChange),R=b.useRef(0),P=b.useRef(""),M=b.useRef(0),I=b.useRef(null),L=b.useRef("right"),B=b.useRef(0),U=v?xg:b.Fragment,F=v?{as:KLe,allowPinchZoom:!0}:void 0,H=J=>{const q=P.current+J,G=C().filter(de=>!de.disabled),z=document.activeElement,K=G.find(de=>de.ref.current===z)?.textValue,Z=G.map(de=>de.textValue),ie=lBe(Z,q,K),ye=G.find(de=>de.textValue===ie)?.ref.current;(function de(xe){P.current=xe,window.clearTimeout(R.current),xe!==""&&(R.current=window.setTimeout(()=>de(""),1e3))})(q),ye&&setTimeout(()=>ye.focus())};b.useEffect(()=>()=>window.clearTimeout(R.current),[]),Cz();const W=b.useCallback(J=>L.current===I.current?.side&&dBe(J,I.current?.area),[]);return s.jsx(GLe,{scope:r,searchRef:P,onItemEnter:b.useCallback(J=>{W(J)&&J.preventDefault()},[W]),onItemLeave:b.useCallback(J=>{W(J)||(A.current?.focus(),k(null))},[W]),onTriggerLeave:b.useCallback(J=>{W(J)&&J.preventDefault()},[W]),pointerGraceTimerRef:M,onPointerGraceIntentChange:b.useCallback(J=>{I.current=J},[]),children:s.jsx(U,{...F,children:s.jsx(gg,{asChild:!0,trapped:a,onMountAutoFocus:vt(o,J=>{J.preventDefault(),A.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:s.jsx(n1,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:u,onPointerDownOutside:i,onFocusOutside:m,onInteractOutside:g,onDismiss:x,children:s.jsx(oW,{asChild:!0,...j,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:_,onCurrentTabStopIdChange:k,onEntryFocus:vt(d,J=>{y.isUsingKeyboardRef.current||J.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(ck,{role:"menu","aria-orientation":"vertical","data-state":QY(h.open),"data-radix-menu-content":"",dir:y.dir,...w,...N,ref:T,style:{outline:"none",...N.style},onKeyDown:vt(N.onKeyDown,J=>{const G=J.target.closest("[data-radix-menu-content]")===J.currentTarget,z=J.ctrlKey||J.altKey||J.metaKey,K=J.key.length===1;G&&(J.key==="Tab"&&J.preventDefault(),!z&&K&&H(J.key));const Z=A.current;if(J.target!==Z||!BLe.includes(J.key))return;J.preventDefault();const ye=C().filter(de=>!de.disabled).map(de=>de.ref.current);DY.includes(J.key)&&ye.reverse(),oBe(ye)}),onBlur:vt(e.onBlur,J=>{J.currentTarget.contains(J.target)||(window.clearTimeout(R.current),P.current="")}),onPointerMove:vt(e.onPointerMove,Yp(J=>{const q=J.target,G=B.current!==J.clientX;if(J.currentTarget.contains(q)&&G){const z=J.clientX>B.current?"right":"left";L.current=z,B.current=J.clientX}}))})})})})})})});IY.displayName=La;var XLe="MenuGroup",jT=b.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Ge.div,{role:"group",...n,ref:t})});jT.displayName=XLe;var QLe="MenuLabel",LY=b.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Ge.div,{...n,ref:t})});LY.displayName=QLe;var mw="MenuItem",GB="menu.itemSelect",tS=b.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,o=b.useRef(null),l=Vg(mw,e.__scopeMenu),c=wT(mw,e.__scopeMenu),d=ct(t,o),u=b.useRef(!1),i=()=>{const m=o.current;if(!r&&m){const g=new CustomEvent(GB,{bubbles:!0,cancelable:!0});m.addEventListener(GB,x=>n?.(x),{once:!0}),Qw(m,g),g.defaultPrevented?u.current=!1:l.onClose()}};return s.jsx(BY,{...a,ref:d,disabled:r,onClick:vt(e.onClick,i),onPointerDown:m=>{e.onPointerDown?.(m),u.current=!0},onPointerUp:vt(e.onPointerUp,m=>{u.current||m.currentTarget?.click()}),onKeyDown:vt(e.onKeyDown,m=>{const g=c.searchRef.current!=="";r||g&&m.key===" "||l2.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});tS.displayName=mw;var BY=b.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...o}=e,l=wT(mw,r),c=RY(r),d=b.useRef(null),u=ct(t,d),[i,m]=b.useState(!1),[g,x]=b.useState("");return b.useEffect(()=>{const v=d.current;v&&x((v.textContent??"").trim())},[o.children]),s.jsx(Gp.ItemSlot,{scope:r,disabled:n,textValue:a??g,children:s.jsx(iW,{asChild:!0,...c,focusable:!n,children:s.jsx(Ge.div,{role:"menuitem","data-highlighted":i?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:u,onPointerMove:vt(e.onPointerMove,Yp(v=>{n?l.onItemLeave(v):(l.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:vt(e.onPointerLeave,Yp(v=>l.onItemLeave(v))),onFocus:vt(e.onFocus,()=>m(!0)),onBlur:vt(e.onBlur,()=>m(!1))})})})}),JLe="MenuCheckboxItem",FY=b.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return s.jsx(qY,{scope:e.__scopeMenu,checked:r,children:s.jsx(tS,{role:"menuitemcheckbox","aria-checked":hw(r)?"mixed":r,...a,ref:t,"data-state":CT(r),onSelect:vt(a.onSelect,()=>n?.(hw(r)?!0:!r),{checkForDefaultPrevented:!1})})})});FY.displayName=JLe;var UY="MenuRadioGroup",[eBe,tBe]=Jd(UY,{value:void 0,onValueChange:()=>{}}),$Y=b.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,o=Mr(n);return s.jsx(eBe,{scope:e.__scopeMenu,value:r,onValueChange:o,children:s.jsx(jT,{...a,ref:t})})});$Y.displayName=UY;var HY="MenuRadioItem",zY=b.forwardRef((e,t)=>{const{value:r,...n}=e,a=tBe(HY,e.__scopeMenu),o=r===a.value;return s.jsx(qY,{scope:e.__scopeMenu,checked:o,children:s.jsx(tS,{role:"menuitemradio","aria-checked":o,...n,ref:t,"data-state":CT(o),onSelect:vt(n.onSelect,()=>a.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});zY.displayName=HY;var NT="MenuItemIndicator",[qY,rBe]=Jd(NT,{checked:!1}),VY=b.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,o=rBe(NT,r);return s.jsx(Qo,{present:n||hw(o.checked)||o.checked===!0,children:s.jsx(Ge.span,{...a,ref:t,"data-state":CT(o.checked)})})});VY.displayName=NT;var nBe="MenuSeparator",WY=b.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Ge.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});WY.displayName=nBe;var sBe="MenuArrow",GY=b.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=eS(r);return s.jsx(dk,{...a,...n,ref:t})});GY.displayName=sBe;var aBe="MenuSub",[k7e,YY]=Jd(aBe),pp="MenuSubTrigger",ZY=b.forwardRef((e,t)=>{const r=eu(pp,e.__scopeMenu),n=Vg(pp,e.__scopeMenu),a=YY(pp,e.__scopeMenu),o=wT(pp,e.__scopeMenu),l=b.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=o,u={__scopeMenu:e.__scopeMenu},i=b.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return b.useEffect(()=>i,[i]),b.useEffect(()=>{const m=c.current;return()=>{window.clearTimeout(m),d(null)}},[c,d]),s.jsx(yT,{asChild:!0,...u,children:s.jsx(BY,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":QY(r.open),...e,ref:Yi(t,a.onTriggerChange),onClick:m=>{e.onClick?.(m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:vt(e.onPointerMove,Yp(m=>{o.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!r.open&&!l.current&&(o.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{r.onOpenChange(!0),i()},100))})),onPointerLeave:vt(e.onPointerLeave,Yp(m=>{i();const g=r.content?.getBoundingClientRect();if(g){const x=r.content?.dataset.side,v=x==="right",N=v?-5:5,h=g[v?"left":"right"],y=g[v?"right":"left"];o.onPointerGraceIntentChange({area:[{x:m.clientX+N,y:m.clientY},{x:h,y:g.top},{x:y,y:g.top},{x:y,y:g.bottom},{x:h,y:g.bottom}],side:x}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(m),m.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:vt(e.onKeyDown,m=>{const g=o.searchRef.current!=="";e.disabled||g&&m.key===" "||FLe[n.dir].includes(m.key)&&(r.onOpenChange(!0),r.content?.focus(),m.preventDefault())})})})});ZY.displayName=pp;var KY="MenuSubContent",XY=b.forwardRef((e,t)=>{const r=MY(La,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,o=eu(La,e.__scopeMenu),l=Vg(La,e.__scopeMenu),c=YY(KY,e.__scopeMenu),d=b.useRef(null),u=ct(t,d);return s.jsx(Gp.Provider,{scope:e.__scopeMenu,children:s.jsx(Qo,{present:n||o.open,children:s.jsx(Gp.Slot,{scope:e.__scopeMenu,children:s.jsx(ST,{id:c.contentId,"aria-labelledby":c.triggerId,...a,ref:u,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:i=>{l.isUsingKeyboardRef.current&&d.current?.focus(),i.preventDefault()},onCloseAutoFocus:i=>i.preventDefault(),onFocusOutside:vt(e.onFocusOutside,i=>{i.target!==c.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:vt(e.onEscapeKeyDown,i=>{l.onClose(),i.preventDefault()}),onKeyDown:vt(e.onKeyDown,i=>{const m=i.currentTarget.contains(i.target),g=ULe[l.dir].includes(i.key);m&&g&&(o.onOpenChange(!1),c.trigger?.focus(),i.preventDefault())})})})})})});XY.displayName=KY;function QY(e){return e?"open":"closed"}function hw(e){return e==="indeterminate"}function CT(e){return hw(e)?"indeterminate":e?"checked":"unchecked"}function oBe(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function iBe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function lBe(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let l=iBe(e,Math.max(o,0));a.length===1&&(l=l.filter(u=>u!==r));const d=l.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return d!==r?d:void 0}function cBe(e,t){const{x:r,y:n}=e;let a=!1;for(let o=0,l=t.length-1;o<t.length;l=o++){const c=t[o],d=t[l],u=c.x,i=c.y,m=d.x,g=d.y;i>n!=g>n&&r<(m-u)*(n-i)/(g-i)+u&&(a=!a)}return a}function dBe(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return cBe(r,t)}function Yp(e){return t=>t.pointerType==="mouse"?e(t):void 0}var uBe=PY,fBe=yT,mBe=OY,hBe=IY,pBe=jT,gBe=LY,xBe=tS,vBe=FY,yBe=$Y,bBe=zY,wBe=VY,SBe=WY,jBe=GY,NBe=ZY,CBe=XY,rS="DropdownMenu",[EBe,D7e]=jn(rS,[TY]),_s=TY(),[_Be,JY]=EBe(rS),eZ=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:o,onOpenChange:l,modal:c=!0}=e,d=_s(t),u=b.useRef(null),[i,m]=Fa({prop:a,defaultProp:o??!1,onChange:l,caller:rS});return s.jsx(_Be,{scope:t,triggerId:kn(),triggerRef:u,contentId:kn(),open:i,onOpenChange:m,onOpenToggle:b.useCallback(()=>m(g=>!g),[m]),modal:c,children:s.jsx(uBe,{...d,open:i,onOpenChange:m,dir:n,modal:c,children:r})})};eZ.displayName=rS;var tZ="DropdownMenuTrigger",rZ=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,o=JY(tZ,r),l=_s(r);return s.jsx(fBe,{asChild:!0,...l,children:s.jsx(Ge.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:Yi(t,o.triggerRef),onPointerDown:vt(e.onPointerDown,c=>{!n&&c.button===0&&c.ctrlKey===!1&&(o.onOpenToggle(),o.open||c.preventDefault())}),onKeyDown:vt(e.onKeyDown,c=>{n||(["Enter"," "].includes(c.key)&&o.onOpenToggle(),c.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});rZ.displayName=tZ;var ABe="DropdownMenuPortal",nZ=e=>{const{__scopeDropdownMenu:t,...r}=e,n=_s(t);return s.jsx(mBe,{...n,...r})};nZ.displayName=ABe;var sZ="DropdownMenuContent",aZ=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=JY(sZ,r),o=_s(r),l=b.useRef(!1);return s.jsx(hBe,{id:a.contentId,"aria-labelledby":a.triggerId,...o,...n,ref:t,onCloseAutoFocus:vt(e.onCloseAutoFocus,c=>{l.current||a.triggerRef.current?.focus(),l.current=!1,c.preventDefault()}),onInteractOutside:vt(e.onInteractOutside,c=>{const d=c.detail.originalEvent,u=d.button===0&&d.ctrlKey===!0,i=d.button===2||u;(!a.modal||i)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});aZ.displayName=sZ;var kBe="DropdownMenuGroup",DBe=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=_s(r);return s.jsx(pBe,{...a,...n,ref:t})});DBe.displayName=kBe;var TBe="DropdownMenuLabel",oZ=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=_s(r);return s.jsx(gBe,{...a,...n,ref:t})});oZ.displayName=TBe;var RBe="DropdownMenuItem",iZ=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=_s(r);return s.jsx(xBe,{...a,...n,ref:t})});iZ.displayName=RBe;var PBe="DropdownMenuCheckboxItem",lZ=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=_s(r);return s.jsx(vBe,{...a,...n,ref:t})});lZ.displayName=PBe;var MBe="DropdownMenuRadioGroup",OBe=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=_s(r);return s.jsx(yBe,{...a,...n,ref:t})});OBe.displayName=MBe;var IBe="DropdownMenuRadioItem",cZ=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=_s(r);return s.jsx(bBe,{...a,...n,ref:t})});cZ.displayName=IBe;var LBe="DropdownMenuItemIndicator",dZ=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=_s(r);return s.jsx(wBe,{...a,...n,ref:t})});dZ.displayName=LBe;var BBe="DropdownMenuSeparator",uZ=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=_s(r);return s.jsx(SBe,{...a,...n,ref:t})});uZ.displayName=BBe;var FBe="DropdownMenuArrow",UBe=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=_s(r);return s.jsx(jBe,{...a,...n,ref:t})});UBe.displayName=FBe;var $Be="DropdownMenuSubTrigger",fZ=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=_s(r);return s.jsx(NBe,{...a,...n,ref:t})});fZ.displayName=$Be;var HBe="DropdownMenuSubContent",mZ=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=_s(r);return s.jsx(CBe,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});mZ.displayName=HBe;var zBe=eZ,qBe=rZ,VBe=nZ,hZ=aZ,pZ=oZ,gZ=iZ,xZ=lZ,vZ=cZ,yZ=dZ,bZ=uZ,wZ=fZ,SZ=mZ;const Wg=zBe,Gg=qBe,WBe=b.forwardRef(({className:e,inset:t,children:r,...n},a)=>s.jsxs(wZ,{ref:a,className:ee("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n,children:[r,s.jsx(qa,{className:"ml-auto"})]}));WBe.displayName=wZ.displayName;const GBe=b.forwardRef(({className:e,...t},r)=>s.jsx(SZ,{ref:r,className:ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));GBe.displayName=SZ.displayName;const Tm=b.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(VBe,{children:s.jsx(hZ,{ref:n,sideOffset:t,className:ee("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...r})}));Tm.displayName=hZ.displayName;const so=b.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(gZ,{ref:n,className:ee("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",t&&"pl-8",e),...r}));so.displayName=gZ.displayName;const YBe=b.forwardRef(({className:e,children:t,checked:r,...n},a)=>s.jsxs(xZ,{ref:a,className:ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(yZ,{children:s.jsx(Zw,{className:"h-4 w-4"})})}),t]}));YBe.displayName=xZ.displayName;const ZBe=b.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(vZ,{ref:n,className:ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(yZ,{children:s.jsx(s$,{className:"h-2 w-2 fill-current"})})}),t]}));ZBe.displayName=vZ.displayName;const KBe=b.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(pZ,{ref:n,className:ee("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));KBe.displayName=pZ.displayName;const XBe=b.forwardRef(({className:e,...t},r)=>s.jsx(bZ,{ref:r,className:ee("-mx-1 my-1 h-px bg-muted",e),...t}));XBe.displayName=bZ.displayName;const QBe=({storeId:e,onView:t,onEdit:r,onViewHierarchy:n})=>s.jsxs(Wg,{children:[s.jsx(Gg,{asChild:!0,children:s.jsxs(X,{variant:"ghost",className:"h-6 w-6 sm:h-8 sm:w-8 p-0 text-muted-foreground bg-transparent hover:bg-muted/50",children:[s.jsx("span",{className:"sr-only",children:"Open menu"}),s.jsx(hg,{className:"h-3 w-3 sm:h-4 sm:w-4"})]})}),s.jsxs(Tm,{align:"end",className:"min-w-[140px] sm:min-w-[160px] bg-popover border border-border shadow-md",children:[s.jsxs(so,{onClick:()=>t(e),className:"text-xs sm:text-sm px-2 py-1.5 sm:px-3 sm:py-2 cursor-pointer text-popover-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground",children:[s.jsx(Sn,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4"}),s.jsx("span",{children:"View Details"})]}),s.jsxs(so,{onClick:()=>r(e),className:"text-xs sm:text-sm px-2 py-1.5 sm:px-3 sm:py-2 cursor-pointer text-popover-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground",children:[s.jsx(pa,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4"}),s.jsx("span",{children:"Edit Store"})]}),s.jsxs(so,{onClick:()=>n(e),className:"text-xs sm:text-sm px-2 py-1.5 sm:px-3 sm:py-2 cursor-pointer text-popover-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground",children:[s.jsx(Dve,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4"}),s.jsx("span",{children:"View Hierarchy"})]})]})]}),JBe=({store:e,onView:t,onEdit:r,onViewHierarchy:n})=>s.jsxs(Nt,{className:"border-border bg-card hover:bg-muted/50 transition-colors",children:[s.jsx(Re,{className:"font-medium text-xs sm:text-sm p-2 sm:p-4 text-foreground",children:s.jsx("div",{className:"truncate max-w-[5rem] sm:max-w-none",title:e.id,children:e.id})}),s.jsx(Re,{className:"p-2 sm:p-4",children:s.jsx("div",{className:"text-xs sm:text-sm truncate max-w-[8rem] sm:max-w-none text-foreground",title:e.name,children:e.name})}),s.jsx(Re,{className:"p-2 sm:p-4",children:s.jsx(Ve,{variant:e.statusBadgeVariant,className:`text-xs px-1 py-0.5 sm:px-2 sm:py-1 ${e.statusBadgeClassName}`,children:e.statusText})}),s.jsx(Re,{className:"text-xs sm:text-sm p-2 sm:p-4 hidden sm:table-cell text-muted-foreground",children:e.formattedDate}),s.jsx(Re,{className:"text-right p-2 sm:p-4",children:s.jsx("div",{className:"flex justify-end",children:s.jsx(QBe,{storeId:e.id,onView:t,onEdit:r,onViewHierarchy:n})})})]},e.id),e8e=({storeRowsData:e,onView:t,onEdit:r,onViewHierarchy:n})=>s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(mn,{className:"min-w-full",children:[s.jsx(hn,{className:"bg-muted border-b border-border",children:s.jsxs(Nt,{className:"border-border",children:[s.jsx(Be,{className:"min-w-[6rem] text-xs sm:text-sm text-foreground font-semibold",children:"Store ID"}),s.jsx(Be,{className:"min-w-[10rem] text-xs sm:text-sm text-foreground font-semibold",children:"Name"}),s.jsx(Be,{className:"min-w-[5rem] text-xs sm:text-sm text-foreground font-semibold",children:"Status"}),s.jsx(Be,{className:"min-w-[8rem] text-xs sm:text-sm hidden sm:table-cell text-foreground font-semibold",children:"Created"}),s.jsx(Be,{className:"min-w-[5rem] text-right text-xs sm:text-sm text-foreground font-semibold",children:"Actions"})]})}),s.jsx(pn,{children:e.map(a=>s.jsx(JBe,{store:a,onView:t,onEdit:r,onViewHierarchy:n},a.id))})]})}),t8e=({loading:e,stores:t,storeRowsData:r,onView:n,onEdit:a,onViewHierarchy:o})=>s.jsx(Ne,{className:"p-0 bg-card",children:e?s.jsx("div",{className:"flex items-center justify-center h-48 sm:h-64 bg-card",children:s.jsx(Dc,{message:"Loading stores...",size:"medium",className:"h-48 sm:h-64 bg-card text-muted-foreground"})}):t.length?s.jsx(e8e,{storeRowsData:r,onView:n,onEdit:a,onViewHierarchy:o}):s.jsx("div",{className:"text-center py-6 sm:py-8 bg-card",children:s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"No stores found."})})}),r8e=({perPage:e,perPageOptions:t,loading:r,paginationState:n,pagination:a,resultsText:o,onPerPageChange:l,onPreviousPage:c,onNextPage:d})=>s.jsxs("div",{className:"px-4 py-3 border-t border-border bg-card flex flex-col lg:flex-row items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Show"}),s.jsxs(Lt,{value:e.toString(),onValueChange:l,disabled:r,children:[s.jsx(Rt,{className:"w-16 h-8 text-xs bg-background border-border text-foreground",children:s.jsx(Bt,{})}),s.jsx(Pt,{className:"bg-popover border-border",children:t.map(u=>s.jsx(ot,{value:u,children:u},u))})]}),s.jsx("span",{className:"text-muted-foreground",children:"per page"})]}),n.shouldShowPagination&&a&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(X,{variant:"outline",size:"sm",onClick:c,disabled:n.isPrevDisabled,className:"h-8 px-3 text-xs bg-background border-border text-foreground",children:"Prev"}),s.jsxs("span",{className:"text-xs sm:text-sm px-3 text-foreground",children:["Page ",n.currentPage," of ",a.last_page]}),s.jsx(X,{variant:"outline",size:"sm",onClick:d,disabled:n.isNextDisabled,className:"h-8 px-3 text-xs bg-background border-border text-foreground",children:"Next"})]}),s.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:o})]}),n8e=["5","10","15","25","50"],s8e=({onCreateStore:e})=>{const t=Ct(),r=Mt(),{stores:n,loading:a,error:o,pagination:l,refetch:c,changePage:d,currentPageData:u}=bo(),i=ue(tg),m=b.useMemo(()=>n,[n]),g=b.useCallback(R=>{t(`/stores/view/${R}`)},[t]),x=b.useCallback(R=>{t(`/stores/edit/${R}`)},[t]),v=b.useCallback(()=>{c()},[c]),N=b.useCallback(()=>{e?e():t("/stores/create")},[e,t]),h=b.useCallback(R=>{t(`/stores-hierarchy/view/${R}`)},[t]),y=b.useCallback(R=>{d(R)},[d]),w=b.useCallback(async R=>{const P=parseInt(R,10);r(Bw(P)),await c({per_page:P,page:1})},[r,c]),j=b.useCallback(R=>new Date(R).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),[]),C=b.useMemo(()=>{const R=!!(l&&l.last_page>1),P=l?.current_page||1,M=P<=1||a,I=P>=(l?.last_page||1)||a;return{shouldShowPagination:R,currentPage:P,isPrevDisabled:M,isNextDisabled:I}},[l,a]),_=b.useMemo(()=>{if(a)return"Loading...";if(!m.length)return"No results";const{from:R,to:P,total:M}=u;return M<=i?`${M} result${M!==1?"s":""}`:`Showing ${R} to ${P} of ${M} results`},[a,m.length,u,i]),k=b.useCallback(()=>{y(C.currentPage-1)},[y,C.currentPage]),A=b.useCallback(()=>{y(C.currentPage+1)},[y,C.currentPage]),T=b.useMemo(()=>m.map(R=>({...R,formattedDate:j(R.created_at),statusBadgeVariant:R.is_active?"default":"secondary",statusBadgeClassName:R.is_active?"bg-primary text-primary-foreground border-primary":"bg-secondary text-secondary-foreground border-border",statusText:R.is_active?"Active":"Inactive"})),[m,j]);return s.jsxs("div",{className:"space-y-4 sm:space-y-5 lg:space-y-6",children:[o&&s.jsx(OLe,{error:o}),s.jsxs(be,{className:"rounded-sm bg-card border border-border shadow-lg",children:[s.jsx(ILe,{onCreateStore:N,onRefresh:v,loading:a}),s.jsx(t8e,{loading:a,stores:m,storeRowsData:T,onView:g,onEdit:x,onViewHierarchy:h}),s.jsx(r8e,{perPage:i,perPageOptions:n8e,loading:a,paginationState:C,pagination:l,resultsText:_,onPerPageChange:w,onPreviousPage:k,onNextPage:A})]})]})},a8e=()=>{const e=Ct(),t=()=>{e("/stores/create")};return s.jsx(Vt,{title:"Stores Management",subtitle:"Manage your store locations and settings",children:s.jsx(s8e,{onCreateStore:t})})},o8e=ht({key:Qe().min(1,"Key is required").min(2,"Key must be at least 2 characters"),value:Qe().min(1,"Value is required")}),jZ=ht({name:Qe().min(1,"Store name is required").min(2,"Store name must be at least 2 characters"),is_active:tn(),metadata:tr(o8e).refine(e=>{const t=e.map(r=>r.key.toLowerCase());return t.length===new Set(t).size},{message:"Duplicate metadata keys are not allowed"})}),i8e=jZ.extend({id:Qe().min(1,"Store ID is required").min(3,"Store ID must be at least 3 characters")}),l8e=jZ.extend({id:Qe().min(1,"Store ID is required")}),YB=e=>Object.entries(e).map(([t,r])=>({key:t,value:String(r)})),c8e=e=>e.reduce((t,{key:r,value:n})=>(r.trim()&&n.trim()&&(t[r.trim()]=n.trim()),t),{}),v_={base:"w-full bg-background text-foreground border-input focus:ring-ring",error:"border-destructive focus:ring-destructive",small:"text-xs sm:text-sm",normal:"text-sm sm:text-base"},ZB={base:"font-medium text-foreground",small:"text-xs sm:text-sm",normal:"text-sm sm:text-base"},KB={responsive:"text-sm sm:text-base px-4 sm:px-6 py-2 sm:py-3"},pw=(e,t="normal")=>`${v_.base} ${v_[t]} ${e?v_.error:""}`,Yf=(e="normal")=>`${ZB.base} ${ZB[e]}`,d8e=({mode:e})=>s.jsxs("div",{className:"mb-6 sm:mb-8",children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-foreground mb-2",children:e==="create"?"Store Information":"Edit Store Information"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e==="create"?"Please fill in all required fields to create a new store.":"Update the store information below."})]}),u8e=({mode:e,initialData:t,register:r,formErrors:n})=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Ie,{htmlFor:"id",className:Yf("normal"),children:["Store ID ",e==="create"?"*":""]}),s.jsx(We,{id:"id",type:"text",placeholder:e==="create"?"Enter unique store ID":"",value:e==="edit"&&t?t.id:void 0,disabled:e==="edit",className:pw(!!n.id,"normal"),...e==="create"?r("id"):{}}),n.id&&s.jsx("p",{className:"text-xs sm:text-sm text-destructive",children:n.id.message})]}),f8e=({register:e,formErrors:t})=>s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"name",className:Yf("normal"),children:"Store Name *"}),s.jsx(We,{id:"name",type:"text",placeholder:"Enter store name",className:pw(!!t.name,"normal"),...e("name")}),t.name&&s.jsx("p",{className:"text-xs sm:text-sm text-destructive",children:t.name.message})]}),m8e=({index:e,register:t,formErrors:r,remove:n,loading:a,isSubmitting:o})=>s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 p-4 border border-border rounded-lg bg-card",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{className:Yf("small"),children:"Key"}),s.jsx(We,{type:"text",placeholder:"Enter key",className:pw(!!r.metadata?.[e]?.key,"small"),...t(`metadata.${e}.key`)}),r.metadata?.[e]?.key&&s.jsx("p",{className:"text-xs text-destructive",children:r.metadata[e].key.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ie,{className:Yf("small"),children:"Value"}),s.jsx(X,{type:"button",variant:"ghost",size:"sm",onClick:()=>n(e),disabled:a||o,className:"text-destructive hover:text-destructive hover:bg-destructive/10 p-1 h-auto",children:s.jsx(Qxe,{className:"h-3 w-3"})})]}),s.jsx(We,{type:"text",placeholder:"Enter value",className:pw(!!r.metadata?.[e]?.value,"small"),...t(`metadata.${e}.value`)}),r.metadata?.[e]?.value&&s.jsx("p",{className:"text-xs text-destructive",children:r.metadata[e].value.message})]})]}),h8e=({fields:e,append:t,remove:r,register:n,formErrors:a,loading:o,isSubmitting:l})=>{const c=()=>{t({key:"",value:""})};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ie,{className:Yf("normal"),children:"Metadata"}),s.jsxs(X,{type:"button",variant:"outline",size:"sm",onClick:c,disabled:o||l,className:"text-xs sm:text-sm",children:[s.jsx(or,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),"Add Metadata"]})]}),e.length===0&&s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:'No metadata entries. Click "Add Metadata" to add key-value pairs.'}),a.metadata&&s.jsx("p",{className:"text-xs sm:text-sm text-destructive",children:a.metadata.message}),e.map((d,u)=>s.jsx(m8e,{index:u,register:n,formErrors:a,remove:r,loading:o,isSubmitting:l},d.id))]})},p8e=({control:e})=>s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 py-2",children:[s.jsx(iT,{name:"is_active",control:e,render:({field:t})=>s.jsx(Hn,{id:"is_active",checked:t.value,onCheckedChange:t.onChange,className:"data-[state=checked]:bg-primary data-[state=unchecked]:bg-input"})}),s.jsx(Ie,{htmlFor:"is_active",className:`${Yf("normal")} cursor-pointer`,children:"Store is active"})]}),g8e=({mode:e,loading:t,isSubmitting:r})=>s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 sm:gap-4 pt-6 sm:pt-8 border-t border-border",children:[s.jsx(X,{type:"button",variant:"outline",onClick:()=>window.history.back(),disabled:t||r,className:`w-full sm:w-auto order-2 sm:order-1 ${KB.responsive} border-border hover:bg-accent hover:text-accent-foreground`,children:"Cancel"}),s.jsxs(X,{type:"submit",disabled:t||r,className:`w-full sm:w-auto order-1 sm:order-2 ${KB.responsive} bg-primary hover:bg-primary/90 text-primary-foreground`,children:[(t||r)&&s.jsx(ut,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4 animate-spin"}),e==="create"?"Create Store":"Update Store"]})]}),NZ=({mode:e,initialData:t,onSubmit:r,loading:n=!1,error:a})=>{const o=e==="create"?i8e:l8e,l=b.useMemo(()=>e==="edit"&&t?{id:t.id,name:t.name,is_active:t.is_active,metadata:YB(t.metadata||{})}:{...e==="create"&&{id:""},name:"",is_active:!0,metadata:[]},[e,t]),{control:c,register:d,handleSubmit:u,formState:{errors:i,isSubmitting:m},reset:g}=Es({resolver:$s(o),defaultValues:l,mode:"onBlur"}),{fields:x,append:v,remove:N}=e6e({control:c,name:"metadata"});b.useEffect(()=>{e==="edit"&&t&&g({id:t.id,name:t.name,is_active:t.is_active,metadata:YB(t.metadata||{})})},[e,t,g]);const h=async y=>{try{const w=c8e(y.metadata);if(e==="create"){const j={id:y.id,name:y.name,metadata:w,is_active:y.is_active};await r(j)}else{const j={name:y.name,metadata:w,is_active:y.is_active};await r(j)}}catch(w){console.error("Form submission error:",w)}};return s.jsxs("div",{className:"w-full",children:[s.jsx(d8e,{mode:e}),a&&s.jsxs(Ze,{variant:"destructive",className:"mb-6",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx(Ke,{children:a})]}),s.jsxs("form",{onSubmit:u(h),className:"space-y-4 sm:space-y-6",children:[s.jsx(u8e,{mode:e,initialData:t,register:d,formErrors:i}),s.jsx(f8e,{register:d,formErrors:i}),s.jsx(h8e,{fields:x,append:v,remove:N,register:d,formErrors:i,loading:n,isSubmitting:m}),s.jsx(p8e,{control:c}),s.jsx(g8e,{mode:e,loading:n,isSubmitting:m})]})]})},x8e=()=>{const e=Ct(),t=Mt(),r=ue(o=>o.stores.asyncStates.createStore.loading),n=ue(o=>o.stores.asyncStates.createStore.error),a=async o=>{try{await t(sy(o)).unwrap(),He.success("Store created successfully!",{description:`Store "${"name"in o?o.name:"New store"}" has been created.`}),e("/stores")}catch(l){console.error("Failed to create store:",l),He.error("Failed to create store",{description:"Please check the form and try again."})}};return s.jsx(Vt,{title:"Create New Store",subtitle:"Add a new store to your system with all the necessary details.",backButton:{show:!0},children:s.jsx("div",{className:"bg-card border border-border rounded-lg shadow-sm",children:s.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:s.jsx(NZ,{mode:"create",onSubmit:a,loading:r,error:n})})})})},v8e=()=>{const e=Ct(),t=Mt(),{storeId:r}=zs(),n=ue(u=>u.stores.currentStore),a=ue(u=>u.stores.asyncStates.fetchStore.loading),o=ue(u=>u.stores.asyncStates.fetchStore.error),l=ue(u=>u.stores.asyncStates.updateStore.loading),c=ue(u=>u.stores.asyncStates.updateStore.error);b.useEffect(()=>{r&&t(wp(r))},[t,r]);const d=async u=>{if(!r){He.error("Store ID is missing");return}try{await t(ay({storeId:r,payload:u})).unwrap(),He.success("Store updated successfully!",{description:`Store "${u.name}" has been updated.`}),e(`/stores/view/${r}`)}catch(i){console.error("Failed to update store:",i),He.error("Failed to update store",{description:"Please check the form and try again."})}};return r?o&&!a?s.jsx(Vt,{title:"Edit Store",subtitle:"Failed to load store data",backButton:{show:!0},children:s.jsxs(Ze,{variant:"destructive",className:"max-w-2xl mx-auto",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsxs(Ke,{children:["Failed to load store data: ",o]})]})}):a||!n?s.jsx(Vt,{title:"Edit Store",subtitle:"Loading store data...",backButton:{show:!0},children:s.jsx(be,{className:"w-full max-w-2xl mx-auto",children:s.jsx(Ne,{className:"p-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ye,{className:"h-4 w-20"}),s.jsx(Ye,{className:"h-10 w-full"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ye,{className:"h-4 w-16"}),s.jsx(Ye,{className:"h-10 w-full"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ye,{className:"h-4 w-24"}),s.jsx(Ye,{className:"h-10 w-full"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ye,{className:"h-4 w-16"}),s.jsx(Ye,{className:"h-20 w-full"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ye,{className:"h-6 w-10"}),s.jsx(Ye,{className:"h-4 w-24"})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[s.jsx(Ye,{className:"h-10 w-20"}),s.jsx(Ye,{className:"h-10 w-28"})]})]})})})}):s.jsx(Vt,{title:"Edit Store",subtitle:`Update the details for store: ${n.name}`,backButton:{show:!0},children:s.jsx("div",{className:"w-full max-w-4xl mx-auto",children:s.jsx(be,{children:s.jsx(Ne,{className:"p-6",children:s.jsx(NZ,{mode:"edit",initialData:n,onSubmit:d,loading:l,error:c})})})})}):s.jsx(Vt,{title:"Edit Store",subtitle:"Store ID is missing",backButton:{show:!0},children:s.jsxs(Ze,{variant:"destructive",className:"max-w-2xl mx-auto",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx(Ke,{children:"Store ID is missing from the URL. Please navigate to this page from the stores list."})]})})},ET=()=>{const e=Mt(),t=ue(df("assign"))==="pending",r=ue(df("remove"))==="pending",n=ue(df("toggle"))==="pending",a=ue(df("bulkAssign"))==="pending",o=ue(uf("assign")),l=ue(uf("remove")),c=ue(uf("toggle")),d=ue(uf("bulkAssign")),u=b.useCallback(x=>e(oy(x)),[e]),i=b.useCallback(x=>e(iy(x)),[e]),m=b.useCallback(x=>e(ly(x)),[e]),g=b.useCallback(x=>e(cy(x)),[e]);return b.useMemo(()=>({assignUserRole:u,removeUserRole:i,toggleUserRoleStatus:m,bulkAssignUserRoles:g,isAssigning:t,isRemoving:r,isToggling:n,isBulkAssigning:a,assignError:o,removeError:l,toggleError:c,bulkAssignError:d}),[u,i,m,g,t,r,n,a,o,l,c,d])},_T=()=>{const e=Mt(),t=ue(uoe),r=ue(foe),n=ue(df("fetchStoreAssignments"))==="pending",a=ue(df("fetchUserAssignments"))==="pending",o=ue(uf("fetchStoreAssignments")),l=ue(uf("fetchUserAssignments")),c=b.useCallback(h=>t.storeAssignments[h]||[],[t.storeAssignments]),d=b.useCallback(h=>t.userAssignments[h]||[],[t.userAssignments]),u=b.useCallback(()=>t.assignments,[t.assignments]),i=b.useCallback(h=>e(dy({store_id:h})),[e]),m=b.useCallback(h=>e(uy({user_id:h})),[e]),g=b.useCallback(()=>n,[n]),x=b.useCallback(()=>a,[a]),v=b.useCallback(()=>o,[o]),N=b.useCallback(()=>l,[l]);return b.useMemo(()=>({getStoreAssignments:c,getUserAssignments:d,getAllAssignments:u,fetchStoreAssignments:i,fetchUserAssignments:m,isLoadingStoreAssignments:g,isLoadingUserAssignments:x,isLoading:r,getStoreAssignmentsError:v,getUserAssignmentsError:N}),[c,d,u,i,m,g,x,r,v,N])},CZ=()=>{const e=ET(),t=_T();return b.useMemo(()=>({...e,...t}),[e,t])},EZ=pe.memo(({assignment:e})=>s.jsxs(Nt,{children:[s.jsx(Re,{className:"py-2 sm:py-4",children:s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[s.jsx("div",{className:"h-6 w-6 sm:h-8 sm:w-8 rounded-full flex items-center justify-center bg-primary/10",children:s.jsx("span",{className:"text-xs sm:text-sm font-medium text-primary",children:e.userInitials||s.jsx(Cs,{className:"h-3 w-3"})})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("div",{className:"font-medium text-xs sm:text-sm truncate",children:e.user?.name||`User ID: ${e.user_id}`}),s.jsxs("div",{className:"text-xs text-muted-foreground truncate",children:["ID: ",e.user_id]}),e.user?.email&&s.jsxs("div",{className:"sm:hidden text-xs text-muted-foreground truncate mt-1",children:[e.user.email,e.user.email_verified_at&&s.jsx("span",{className:"ml-2 text-xs text-green-500",children:"✓ Verified"})]})]})]})}),s.jsx(Re,{className:"hidden sm:table-cell py-2 sm:py-4",children:e.user?.email?s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(xc,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"}),s.jsx("span",{className:"text-xs sm:text-sm truncate max-w-[150px] lg:max-w-none",children:e.user.email})]}),e.user.email_verified_at&&s.jsx("div",{className:"text-xs mt-1 text-green-500",children:"Verified"})]}):s.jsx("div",{className:"text-xs text-muted-foreground",children:"No email available"})}),s.jsx(Re,{className:"py-2 sm:py-4",children:s.jsx(Ve,{variant:"outline",className:"text-xs",children:e.formattedRole})}),s.jsx(Re,{className:"py-2 sm:py-4",children:s.jsx(Ve,{variant:e.is_active?"default":"secondary",className:`text-xs ${e.is_active?"bg-green-500 text-white hover:bg-green-600":""}`,children:e.is_active?"Active":"Inactive"})}),s.jsx(Re,{className:"hidden md:table-cell py-2 sm:py-4",children:s.jsxs("div",{className:"flex items-center space-x-2 text-xs sm:text-sm text-muted-foreground",children:[s.jsx(js,{className:"h-3 w-3 sm:h-4 sm:w-4"}),s.jsx("span",{className:"whitespace-nowrap",children:e.formattedDate})]})})]}));EZ.displayName="StoreUsersTableRow";const _Z=pe.memo(({assignments:e})=>s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(mn,{children:[s.jsx(hn,{children:s.jsxs(Nt,{children:[s.jsx(Be,{className:"min-w-[200px] sm:min-w-[250px]",children:"User"}),s.jsx(Be,{className:"hidden sm:table-cell min-w-[200px]",children:"Email"}),s.jsx(Be,{className:"min-w-[100px]",children:"Role"}),s.jsx(Be,{className:"min-w-[80px]",children:"Status"}),s.jsx(Be,{className:"hidden md:table-cell min-w-[120px]",children:"Assigned"})]})}),s.jsx(pn,{children:e.map(t=>s.jsx(EZ,{assignment:t},t.uniqueKey))})]})}));_Z.displayName="StoreUsersTable";const AZ=pe.memo(()=>s.jsxs("div",{className:"text-center py-6 sm:py-8 px-4",children:[s.jsx(_r,{className:"mx-auto h-10 w-10 sm:h-12 sm:w-12 text-muted-foreground mb-3 sm:mb-4"}),s.jsx("h3",{className:"text-base sm:text-lg font-medium text-muted-foreground mb-2",children:"No user assignments"}),s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mb-4 max-w-sm mx-auto",children:"This store doesn't have any user role assignments yet."})]}));AZ.displayName="StoreUsersEmptyState";const y8e=3,kZ=pe.memo(()=>s.jsx("div",{className:"space-y-2 sm:space-y-3",children:[...Array(y8e)].map((e,t)=>s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4 p-2 sm:p-4",children:[s.jsx(Ye,{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-full"}),s.jsxs("div",{className:"space-y-1 sm:space-y-2 flex-1",children:[s.jsx(Ye,{className:"h-3 sm:h-4 w-24 sm:w-32"}),s.jsx(Ye,{className:"h-2 sm:h-3 w-32 sm:w-48"})]}),s.jsx(Ye,{className:"h-5 sm:h-6 w-16 sm:w-20"}),s.jsx(Ye,{className:"h-3 sm:h-4 w-20 sm:w-24"})]},t))}));kZ.displayName="StoreUsersLoadingSkeleton";const b8e={year:"numeric",month:"short",day:"numeric"},DZ=pe.memo(({storeId:e})=>{const{getStoreAssignments:t,fetchStoreAssignments:r,isLoadingStoreAssignments:n,getStoreAssignmentsError:a}=_T(),o=t(e),l=n(),c=a(),d=b.useCallback(()=>{e&&r(e)},[e,r]);b.useEffect(()=>{d()},[d]);const u=b.useCallback(()=>{d()},[d]),i=b.useCallback(v=>new Date(v).toLocaleDateString("en-US",b8e),[]),m=b.useCallback(v=>v.role?.name||`Role ID: ${v.role_id}`,[]),g=b.useCallback(v=>v.split(" ").map(N=>N.charAt(0)).join("").toUpperCase().substring(0,2),[]),x=b.useMemo(()=>o.map(v=>({...v,formattedDate:i(v.created_at),formattedRole:m(v),userInitials:v.user?.name?g(v.user.name):null,uniqueKey:v.id||`${v.user_id}-${v.role_id}`})),[o,i,m,g]);return s.jsxs(be,{className:"w-full",children:[s.jsx(Te,{className:"px-3 sm:px-6 py-3 sm:py-4",children:s.jsx("div",{className:"flex items-center justify-between flex-wrap gap-2",children:s.jsxs("div",{className:"flex items-center space-x-2 min-w-0 flex-1",children:[s.jsx(_r,{className:"h-4 w-4 sm:h-5 sm:w-5 flex-shrink-0"}),s.jsx(Ue,{className:"text-sm sm:text-base lg:text-lg truncate",children:"Store User Assignments"}),s.jsx(Ve,{variant:"secondary",className:"ml-2 text-xs px-2 py-1 flex-shrink-0",children:o.length})]})})}),s.jsxs(Ne,{className:"px-3 sm:px-6 py-3 sm:py-4",children:[c&&s.jsxs(Ze,{variant:"destructive",className:"mb-3 sm:mb-4",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsxs(Ke,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[s.jsxs("span",{className:"text-xs sm:text-sm",children:["Failed to load user assignments: ",c.message]}),s.jsxs(X,{variant:"outline",size:"sm",onClick:u,className:"h-8 text-xs self-start sm:self-auto",children:[s.jsx(Lr,{className:"mr-2 h-3 w-3"}),"Retry"]})]})]}),l&&s.jsx(kZ,{}),!l&&!c&&o.length===0&&s.jsx(AZ,{}),!l&&!c&&o.length>0&&s.jsx("div",{className:"rounded-md border overflow-hidden",children:s.jsx(_Z,{assignments:x})})]})]})});DZ.displayName="StoreUsersSection";const TZ=pe.memo(({assignment:e,formatDate:t,getRoleIcon:r})=>s.jsxs(Nt,{children:[s.jsx(Re,{className:"py-3 sm:py-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-3",children:[s.jsx("div",{className:"h-6 w-6 sm:h-8 sm:w-8 rounded bg-primary/10 flex items-center justify-center mx-auto sm:mx-0 flex-shrink-0",children:s.jsx("span",{className:"text-sm sm:text-lg",children:r(e.role?.name||"Role")})}),s.jsxs("div",{className:"text-center sm:text-left min-w-0",children:[s.jsx("div",{className:"font-medium text-sm sm:text-base truncate",children:e.role?.name||`Role ID: ${e.role_id}`}),s.jsxs("div",{className:"text-xs sm:text-sm text-muted-foreground",children:["Role ID: ",e.role_id]}),s.jsx("div",{className:"md:hidden mt-1 space-y-1",children:s.jsxs("div",{className:"flex items-center justify-center space-x-1 text-xs text-muted-foreground",children:[s.jsx(Cs,{className:"h-3 w-3"}),s.jsx("span",{children:e.user?.name||`User ID: ${e.user_id}`})]})})]})]})}),s.jsx(Re,{className:"hidden md:table-cell py-3 sm:py-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Cs,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground flex-shrink-0"}),s.jsx("span",{className:"text-xs sm:text-sm truncate",children:e.user?.name||`User ID: ${e.user_id}`})]})}),s.jsxs(Re,{className:"py-3 sm:py-4",children:[s.jsx("div",{className:"flex justify-center sm:justify-start",children:s.jsx(Ve,{variant:e.is_active?"default":"secondary",className:`text-xs sm:text-sm ${e.is_active?"bg-[#d1fae5] text-[#065f46] dark:bg-[#064e3b] dark:text-[#10b981]":""}`,children:e.is_active?"Active":"Inactive"})}),s.jsxs("div",{className:"lg:hidden mt-1 flex items-center justify-center sm:justify-start space-x-1 text-xs text-muted-foreground",children:[s.jsx(js,{className:"h-3 w-3"}),s.jsx("span",{children:t(e.created_at)})]})]}),s.jsx(Re,{className:"hidden lg:table-cell py-3 sm:py-4",children:s.jsxs("div",{className:"flex items-center space-x-2 text-xs sm:text-sm text-muted-foreground",children:[s.jsx(js,{className:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0"}),s.jsx("span",{children:t(e.created_at)})]})})]}));TZ.displayName="AssignmentRow";const w8e=({assignments:e})=>{const t=b.useCallback(n=>new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),[]),r=b.useCallback(n=>{const a=n.toLowerCase();return a.includes("admin")||a.includes("manager")?"👑":a.includes("user")||a.includes("member")?"👤":a.includes("viewer")||a.includes("read")?"👁️":"🔐"},[]);return s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(mn,{children:[s.jsx(hn,{children:s.jsxs(Nt,{children:[s.jsx(Be,{className:"min-w-[200px] sm:min-w-[250px]",children:"Role"}),s.jsx(Be,{className:"hidden md:table-cell min-w-[140px]",children:"User"}),s.jsx(Be,{className:"min-w-[80px]",children:"Status"}),s.jsx(Be,{className:"hidden lg:table-cell min-w-[120px]",children:"Assigned"})]})}),s.jsx(pn,{children:e.map(n=>s.jsx(TZ,{assignment:n,formatDate:t,getRoleIcon:r},n.id||`${n.role_id}-${n.user_id}`))})]})})},RZ=pe.memo(()=>s.jsx("div",{className:"space-y-2 sm:space-y-3",children:[...Array(3)].map((e,t)=>s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-4 p-3 sm:p-4",children:[s.jsx(Ye,{className:"h-8 w-8 sm:h-10 sm:w-10 rounded mx-auto sm:mx-0"}),s.jsxs("div",{className:"space-y-2 flex-1 text-center sm:text-left",children:[s.jsx(Ye,{className:"h-3 sm:h-4 w-24 sm:w-32 mx-auto sm:mx-0"}),s.jsx(Ye,{className:"h-3 w-32 sm:w-48 mx-auto sm:mx-0"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center space-y-2 sm:space-y-0 sm:space-x-2",children:[s.jsx(Ye,{className:"h-5 sm:h-6 w-16 sm:w-20"}),s.jsx(Ye,{className:"h-3 sm:h-4 w-20 sm:w-24"})]})]},t))}));RZ.displayName="LoadingSkeleton";const PZ=pe.memo(()=>s.jsxs("div",{className:"text-center py-6 sm:py-8 lg:py-12 px-4",children:[s.jsx(Br,{className:"mx-auto h-10 w-10 sm:h-12 sm:w-12 lg:h-16 lg:w-16 text-muted-foreground mb-3 sm:mb-4"}),s.jsx("h3",{className:"text-base sm:text-lg lg:text-xl font-medium text-muted-foreground mb-2",children:"No role assignments"}),s.jsx("p",{className:"text-xs sm:text-sm lg:text-base text-muted-foreground mb-4 max-w-md mx-auto",children:"This store doesn't have any role assignments yet."})]}));PZ.displayName="EmptyState";const S8e=({storeId:e})=>{const{getStoreAssignments:t,fetchStoreAssignments:r,isLoadingStoreAssignments:n,getStoreAssignmentsError:a}=_T(),o=t(e),l=n(),c=a();b.useEffect(()=>{e&&r(e)},[e,r]);const d=b.useCallback(()=>{e&&r(e)},[e,r]),u=b.useMemo(()=>o.length,[o.length]);return s.jsxs(be,{className:"w-full",children:[s.jsx(Te,{className:"pb-3 sm:pb-6",children:s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:s.jsxs("div",{className:"flex items-center justify-center sm:justify-start space-x-2",children:[s.jsx(Br,{className:"h-4 w-4 sm:h-5 sm:w-5 lg:h-6 lg:w-6 text-primary"}),s.jsx(Ue,{className:"text-base sm:text-lg lg:text-xl",children:"Store Role Assignments"}),s.jsx(Ve,{variant:"secondary",className:"ml-1 sm:ml-2 text-xs sm:text-sm",children:u})]})})}),s.jsxs(Ne,{className:"px-3 sm:px-6 pb-3 sm:pb-6",children:[c&&s.jsxs(Ze,{variant:"destructive",className:"mb-3 sm:mb-4",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsxs(Ke,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:[s.jsxs("span",{className:"text-sm",children:["Failed to load role assignments: ",c.message]}),s.jsxs(X,{variant:"outline",size:"sm",onClick:d,className:"sm:ml-4 h-8 text-xs sm:text-sm w-full sm:w-auto",children:[s.jsx(Lr,{className:"mr-1 sm:mr-2 h-3 w-3"}),"Retry"]})]})]}),l&&s.jsx(RZ,{}),!l&&!c&&u===0&&s.jsx(PZ,{}),!l&&!c&&u>0&&s.jsx("div",{className:"rounded-md border border-border bg-card",children:s.jsx(w8e,{assignments:o})})]})]})},j8e=e=>{switch(e.toLowerCase()){case"active":return"bg-[#d1fae5] text-[#064e3b] border-[#a7f3d0] dark:bg-[#064e3b] dark:text-[#d1fae5] dark:border-[#065f46]";case"inactive":return"bg-[#fecaca] text-[#7f1d1d] border-[#fca5a5] dark:bg-[#7f1d1d] dark:text-[#fecaca] dark:border-[#991b1b]";case"pending":return"bg-[#fef3c7] text-[#92400e] border-[#fde68a] dark:bg-[#92400e] dark:text-[#fef3c7] dark:border-[#b45309]";default:return"bg-secondary text-secondary-foreground border-border"}},N8e=({store:e})=>s.jsxs(be,{children:[s.jsx(Te,{className:"pb-3 sm:pb-6",children:s.jsxs(Ue,{className:"flex items-center space-x-2 text-base sm:text-lg",children:[s.jsx(zr,{className:"h-4 w-4 sm:h-5 sm:w-5"}),s.jsx("span",{children:"Basic Information"})]})}),s.jsxs(Ne,{className:"space-y-3 sm:space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-1 sm:gap-0",children:[s.jsx("span",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Store ID"}),s.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[s.jsx(Xw,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"}),s.jsx("span",{className:"font-mono text-xs sm:text-sm break-all",children:e.id})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-1 sm:gap-0",children:[s.jsx("span",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Name"}),s.jsx("span",{className:"font-medium text-sm sm:text-base break-words",children:e.name})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-1 sm:gap-0",children:[s.jsx("span",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Status"}),s.jsx(Ve,{className:`text-xs sm:text-sm ${j8e(e.is_active?"active":"inactive")}`,children:e.is_active?"Active":"Inactive"})]})]})]}),XB=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),C8e=({store:e})=>s.jsxs(be,{children:[s.jsx(Te,{className:"pb-3 sm:pb-6",children:s.jsxs(Ue,{className:"flex items-center space-x-2 text-base sm:text-lg",children:[s.jsx(o3,{className:"h-4 w-4 sm:h-5 sm:w-5"}),s.jsx("span",{children:"Location & Contact"})]})}),s.jsxs(Ne,{className:"space-y-3 sm:space-y-4",children:[e.metadata?.address&&s.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[s.jsx("span",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Address"}),s.jsxs("div",{className:"flex items-start space-x-1 sm:space-x-2",children:[s.jsx(o3,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground mt-0.5 shrink-0"}),s.jsx("span",{className:"text-xs sm:text-sm break-words",children:e.metadata.address})]})]}),e.metadata?.phone&&s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-1 sm:gap-0",children:[s.jsx("span",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Phone"}),s.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[s.jsx(sve,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"}),s.jsx("span",{className:"text-xs sm:text-sm break-all",children:e.metadata.phone})]})]}),s.jsx(cs,{className:"my-2 sm:my-4"}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-1 sm:gap-0",children:[s.jsx("span",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Created"}),s.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[s.jsx(js,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"}),s.jsx("span",{className:"text-xs sm:text-sm break-words",children:XB(e.created_at)})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-1 sm:gap-0",children:[s.jsx("span",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Last Updated"}),s.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[s.jsx(zi,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"}),s.jsx("span",{className:"text-xs sm:text-sm break-words",children:XB(e.updated_at)})]})]})]})]}),E8e=()=>s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[s.jsxs(be,{children:[s.jsx(Te,{className:"pb-3 sm:pb-6",children:s.jsx(Ye,{className:"h-5 w-28 sm:h-6 sm:w-32"})}),s.jsx(Ne,{className:"space-y-3 sm:space-y-4",children:[...Array(4)].map((e,t)=>s.jsxs("div",{className:"flex justify-between",children:[s.jsx(Ye,{className:"h-3 w-20 sm:h-4 sm:w-24"}),s.jsx(Ye,{className:"h-3 w-24 sm:h-4 sm:w-32"})]},t))})]}),s.jsxs(be,{children:[s.jsx(Te,{className:"pb-3 sm:pb-6",children:s.jsx(Ye,{className:"h-5 w-28 sm:h-6 sm:w-32"})}),s.jsx(Ne,{className:"space-y-3 sm:space-y-4",children:[...Array(3)].map((e,t)=>s.jsxs("div",{className:"flex justify-between",children:[s.jsx(Ye,{className:"h-3 w-20 sm:h-4 sm:w-24"}),s.jsx(Ye,{className:"h-3 w-24 sm:h-4 sm:w-32"})]},t))})]})]}),_8e=()=>{const{id:e}=zs(),t=Ct(),{store:r,loading:n,error:a}=MLe(e||null),o=b.useCallback(()=>{e&&t(`/stores/edit/${e}`)},[e,t]),l=b.useCallback(c=>{t(`/stores-hierarchy/view/${c}`)},[t]);return n?s.jsx(Vt,{title:"Loading...",subtitle:"Please wait while we load the store details",backButton:{show:!0,to:"/stores"},children:s.jsx(E8e,{})}):a?s.jsx(Vt,{title:"Error",subtitle:"Failed to load store details",backButton:{show:!0,to:"/stores"},children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs(Ze,{variant:"destructive",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsxs(Ke,{className:"text-sm sm:text-base",children:["Failed to load store details: ",a]})]})})}):r?s.jsx(Vt,{title:r.name,subtitle:`Store ID: ${r.id}`,backButton:{show:!0,to:"/stores"},mainButtons:s.jsxs(X,{onClick:o,children:[s.jsx(pa,{className:"mr-2 h-4 w-4"}),"Edit Store"]}),subButtons:s.jsxs(X,{variant:"outline",onClick:()=>l(r.id),children:[s.jsx(Lxe,{className:"mr-2 h-4 w-4"}),"View Hierarchy"]}),children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[s.jsx(N8e,{store:r}),s.jsx(C8e,{store:r})]}),s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsx(DZ,{storeId:r.id}),s.jsx(S8e,{storeId:r.id})]})]})}):s.jsx(Vt,{title:"Store Not Found",subtitle:"The store may have been deleted or the ID is invalid",backButton:{show:!0,to:"/stores"},children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs(Ze,{children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx(Ke,{className:"text-sm sm:text-base",children:"Store not found. The store may have been deleted or the ID is invalid."})]})})})},A8e=[s.jsx(St,{path:"/stores",element:s.jsx(At,{children:s.jsx(Yt,{role:"super-admin",children:s.jsx(kt,{children:s.jsx(a8e,{})})})})},"stores-list"),s.jsx(St,{path:"/stores/create",element:s.jsx(At,{children:s.jsx(Yt,{role:"super-admin",children:s.jsx(kt,{children:s.jsx(x8e,{})})})})},"create-store"),s.jsx(St,{path:"/stores/edit/:storeId",element:s.jsx(At,{children:s.jsx(Yt,{role:"super-admin",children:s.jsx(kt,{children:s.jsx(v8e,{})})})})},"edit-store"),s.jsx(St,{path:"/stores/view/:id",element:s.jsx(At,{children:s.jsx(Yt,{role:"super-admin",children:s.jsx(kt,{children:s.jsx(_8e,{})})})})},"view-store")],k8e=({loading:e,onRefresh:t})=>s.jsx(Te,{className:"mb-0 bg-muted border-b",style:{color:"var(--card-foreground)"},children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4",children:[s.jsx(Ue,{className:"text-lg sm:text-xl text-card-foreground",children:"Users"}),s.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-4 w-full sm:w-auto",children:s.jsx("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:s.jsxs(X,{variant:"outline",size:"sm",onClick:t,disabled:e,className:`flex items-center gap-2 bg-secondary text-secondary-foreground border-border ${e?"opacity-60":""}`,children:[s.jsx(Lr,{className:`h-4 w-4 ${e?"animate-spin":""}`}),s.jsx("span",{className:"hidden xs:inline",children:"Refresh"})]})})})]})}),D8e=({user:e,onView:t,onAssign:r})=>s.jsxs(Nt,{className:"border-border bg-card hover:bg-muted/50",children:[s.jsx(Re,{className:"font-medium text-xs sm:text-sm p-2 sm:p-4 text-foreground",children:s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx("div",{className:"h-6 w-6 sm:h-8 sm:w-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-medium text-primary-foreground",style:{backgroundColor:"var(--primary)"},children:Pr.formatInitials(e.name)}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("div",{className:"text-xs sm:text-sm font-medium truncate text-foreground",title:Pr.formatDisplayName(e.name),children:Pr.formatDisplayName(e.name)}),s.jsxs("div",{className:"sm:hidden mt-1 space-y-1",children:[e.roles&&e.roles.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.roles.slice(0,2).map(n=>s.jsx(Ve,{variant:"outline",className:"text-xs px-1 py-0.5 bg-secondary text-secondary-foreground border-border",children:n.name},n.id)),e.roles.length>2&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",e.roles.length-2]})]}),e.stores&&e.stores.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.stores.slice(0,2).map(n=>s.jsx(Ve,{variant:"secondary",className:"text-xs px-1 py-0.5 bg-accent text-accent-foreground border-border",children:n.store.name},n.store.id)),e.stores.length>2&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",e.stores.length-2]})]})]})]})]})}),s.jsx(Re,{className:"p-2 sm:p-4 hidden sm:table-cell",children:s.jsx("div",{className:"space-y-1 max-w-[20rem] lg:max-w-none",children:e.roles&&e.roles.length>0?s.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.roles.slice(0,4).map(n=>s.jsx(Ve,{variant:"outline",className:"text-xs px-1 py-0.5 bg-secondary text-secondary-foreground border-border",children:s.jsx("span",{className:"truncate max-w-[8rem]",title:n.name,children:n.name})},n.id)),e.roles.length>4&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",e.roles.length-4]})]}):s.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground",children:"No roles"})})}),s.jsx(Re,{className:"p-2 sm:p-4 hidden md:table-cell",children:s.jsx("div",{className:"space-y-1 max-w-[20rem] lg:max-w-none",children:e.stores&&e.stores.length>0?s.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.stores.slice(0,4).map(n=>s.jsx(Ve,{variant:"secondary",className:"text-xs px-1 py-0.5 bg-accent text-accent-foreground border-border",children:s.jsx("span",{className:"truncate max-w-[7rem]",title:n.store.name,children:n.store.name})},n.store.id)),e.stores.length>4&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",e.stores.length-4]})]}):s.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground",children:"No stores"})})}),s.jsx(Re,{className:"text-right p-2 sm:p-4",children:s.jsxs("div",{className:"flex items-center justify-end gap-1 sm:gap-2",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>r(e.id),className:"text-xs px-2 py-1 sm:px-3 sm:py-2 h-auto bg-secondary text-secondary-foreground border-border",children:[s.jsx(c$,{className:"h-3 w-3 sm:mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Assign"})]}),s.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>t(e.id),className:"text-xs px-2 py-1 sm:px-3 sm:py-2 h-auto text-muted-foreground bg-transparent",children:[s.jsx(Sn,{className:"h-3 w-3 sm:mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"View"})]})]})})]}),T8e=()=>s.jsx("div",{className:"flex items-center justify-center h-48 sm:h-64 bg-card",children:s.jsx(Dc,{message:"Loading users...",size:"medium",className:"h-48 sm:h-64 bg-card text-muted-foreground"})}),R8e=()=>s.jsx("div",{className:"text-center py-6 sm:py-8 bg-card",children:s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"No users found."})}),P8e=({users:e,loading:t,onView:r,onAssign:n})=>t?s.jsx(T8e,{}):e.length?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(mn,{className:"min-w-full",children:[s.jsx(hn,{className:"bg-muted border-b",children:s.jsxs(Nt,{className:"border-border",children:[s.jsx(Be,{className:"min-w-[10rem] text-xs sm:text-sm text-foreground font-semibold",children:"Name"}),s.jsx(Be,{className:"min-w-[8rem] text-xs sm:text-sm hidden sm:table-cell text-foreground font-semibold",children:"Roles"}),s.jsx(Be,{className:"min-w-[8rem] text-xs sm:text-sm hidden md:table-cell text-foreground font-semibold",children:"Stores"}),s.jsx(Be,{className:"min-w-[6rem] text-xs sm:text-sm text-right text-foreground font-semibold",children:"Actions"})]})}),s.jsx(pn,{children:e.map(a=>s.jsx(D8e,{user:a,onView:r,onAssign:n},a.id))})]})}):s.jsx(R8e,{}),M8e=["5","10","15","20","25","50"],MZ=b.memo(({loading:e,users:t,pagination:r,currentPage:n,perPage:a,onPerPageChange:o,onPreviousPage:l,onNextPage:c})=>{const d=b.useMemo(()=>a.toString(),[a]),u=b.useMemo(()=>!e&&t.length>0,[e,t.length]),i=b.useMemo(()=>r&&r.lastPage>1,[r]),m=b.useMemo(()=>n<=1,[n]),g=b.useMemo(()=>n>=(r?.lastPage||1),[n,r?.lastPage]),x=b.useMemo(()=>r?`${r.from} to ${r.to} of ${r.total} users`:`1 to ${t.length} of ${t.length} users`,[r,t.length]);return u?s.jsxs("div",{className:"px-4 py-3 border-t bg-card flex flex-col lg:flex-row items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Show"}),s.jsxs(Lt,{value:d,onValueChange:o,children:[s.jsx(Rt,{className:"w-16 h-8 text-xs bg-background border-border text-foreground",children:s.jsx(Bt,{})}),s.jsx(Pt,{className:"bg-popover border-border",children:M8e.map(v=>s.jsx(ot,{value:v,children:v},v))})]}),s.jsx("span",{className:"text-muted-foreground",children:"per page"})]}),i&&r&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(X,{variant:"outline",size:"sm",onClick:l,disabled:m,className:"h-8 px-3 text-xs bg-background border-border text-foreground",children:"Prev"}),s.jsxs("span",{className:"text-xs sm:text-sm px-3 text-foreground",children:["Page ",n," of ",r.lastPage]}),s.jsx(X,{variant:"outline",size:"sm",onClick:c,disabled:g,className:"h-8 px-3 text-xs bg-background border-border text-foreground",children:"Next"})]}),s.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:x})]}):null});MZ.displayName="UsersTableFooter";const O8e=()=>{const e=Ct(),t=Mt(),{users:r,loading:n,error:a,pagination:o,refetch:l,perPage:c,setPerPage:d}=Am(),u=N=>{e(`/user-role-store-assignment/view/user/${N}`)},i=N=>{e(`/user-role-store-assignment/assign?userId=${N}`)},m=N=>{t(Ui({page:N,per_page:c}))},g=async N=>{const h=parseInt(N,10);d(h),t(Ui({page:1,per_page:h}))},x=()=>{o&&o.currentPage>1&&m(o.currentPage-1)},v=()=>{o&&o.currentPage<o.lastPage&&m(o.currentPage+1)};return s.jsxs("div",{className:"space-y-4 sm:space-y-5 lg:space-y-6",children:[a&&s.jsxs(Ze,{variant:"destructive",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsxs(Ke,{children:["Error loading users: ",a]})]}),s.jsxs(be,{className:"rounded-sm border shadow-sm",style:{backgroundColor:"var(--card)",boxShadow:"var(--shadow-realistic)"},children:[s.jsx(k8e,{loading:n,onRefresh:l}),s.jsx(Ne,{className:"p-0 bg-card",children:s.jsx(P8e,{users:r,loading:n,onView:u,onAssign:i})}),s.jsx(MZ,{loading:n,users:r,pagination:o,currentPage:o?.currentPage||1,perPage:c,onPerPageChange:g,onPreviousPage:x,onNextPage:v})]})]})},I8e=({loading:e,onRetry:t})=>s.jsx(Te,{className:"mb-0 bg-muted border-b border-border",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4",children:[s.jsx(Ue,{className:"text-lg sm:text-xl text-card-foreground",children:"Stores"}),s.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-4 w-full sm:w-auto",children:s.jsx("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:s.jsxs(X,{variant:"outline",size:"sm",onClick:t,disabled:e,className:`flex items-center gap-2 border-border ${e?"bg-muted text-secondary-foreground opacity-60":"bg-secondary text-secondary-foreground"}`,children:[s.jsx(Lr,{className:`h-4 w-4 ${e?"animate-spin":""}`}),s.jsx("span",{className:"hidden xs:inline",children:"Refresh"})]})})})]})}),L8e=({store:e,onView:t,onAssign:r})=>s.jsxs(Nt,{className:"border-border bg-card hover:bg-muted/50",children:[s.jsx(Re,{className:"font-medium text-xs sm:text-sm p-2 sm:p-4 text-foreground",children:s.jsx("div",{className:"truncate max-w-[5rem] sm:max-w-none",title:e.id,children:e.id})}),s.jsx(Re,{className:"p-2 sm:p-4",children:s.jsx("div",{className:"text-xs sm:text-sm truncate max-w-[8rem] sm:max-w-none text-foreground",title:e.name,children:e.name})}),s.jsx(Re,{className:"p-2 sm:p-4",children:s.jsx(Ve,{variant:e.is_active?"default":"secondary",className:`text-xs px-1 py-0.5 sm:px-2 sm:py-1 ${e.is_active?"bg-primary text-primary-foreground border-primary":"bg-secondary text-secondary-foreground border-border"}`,children:e.is_active?"Active":"Inactive"})}),s.jsx(Re,{className:"text-right p-2 sm:p-4",children:s.jsxs("div",{className:"flex items-center justify-end gap-1 sm:gap-2",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>r(e.id),className:"text-xs px-2 py-1 sm:px-3 sm:py-2 h-auto bg-secondary text-secondary-foreground border-border",children:[s.jsx(c$,{className:"h-3 w-3 sm:mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Assign"})]}),s.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>t(e.id),className:"text-xs px-2 py-1 sm:px-3 sm:py-2 h-auto text-muted-foreground bg-transparent",children:[s.jsx(Sn,{className:"h-3 w-3 sm:mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"View"})]})]})})]}),B8e=({stores:e,loading:t,onView:r,onAssign:n})=>t?s.jsx("div",{className:"flex items-center justify-center h-48 sm:h-64 bg-card",children:s.jsx(Dc,{message:"Loading stores...",size:"medium",className:"h-48 sm:h-64 bg-card text-muted-foreground"})}):e.length?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(mn,{className:"min-w-full",children:[s.jsx(hn,{className:"bg-muted border-b border-border",children:s.jsxs(Nt,{className:"border-border",children:[s.jsx(Be,{className:"min-w-[6rem] text-xs sm:text-sm text-foreground font-semibold",children:"Store ID"}),s.jsx(Be,{className:"min-w-[10rem] text-xs sm:text-sm text-foreground font-semibold",children:"Name"}),s.jsx(Be,{className:"min-w-[5rem] text-xs sm:text-sm text-foreground font-semibold",children:"Status"}),s.jsx(Be,{className:"min-w-[5rem] text-right text-xs sm:text-sm text-foreground font-semibold",children:"Actions"})]})}),s.jsx(pn,{children:e.map(a=>s.jsx(L8e,{store:a,onView:r,onAssign:n},a.id))})]})}):s.jsx("div",{className:"text-center py-6 sm:py-8 bg-card",children:s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"No stores found."})}),F8e=["5","10","15","25","50"],U8e=({stores:e,loading:t,pagination:r,perPage:n,currentPageData:a,onPageChange:o,onPerPageChange:l})=>{const c=b.useMemo(()=>{const m=!!(r&&r.last_page>1),g=r?.current_page||1,x=g<=1||t,v=g>=(r?.last_page||1)||t;return{shouldShowPagination:m,currentPage:g,isPrevDisabled:x,isNextDisabled:v}},[r,t]),d=b.useMemo(()=>{if(t)return"Loading...";if(!e.length)return"No results";const{from:m,to:g,total:x}=a;return x<=n?`${x} result${x!==1?"s":""}`:`Showing ${m} to ${g} of ${x} results`},[t,e.length,a,n]),u=b.useCallback(()=>{o(c.currentPage-1)},[o,c.currentPage]),i=b.useCallback(()=>{o(c.currentPage+1)},[o,c.currentPage]);return s.jsxs("div",{className:"px-4 py-3 border-t border-border bg-card flex flex-col lg:flex-row items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Show"}),s.jsxs(Lt,{value:n.toString(),onValueChange:l,disabled:t,children:[s.jsx(Rt,{className:"w-16 h-8 text-xs bg-background border-border text-foreground",children:s.jsx(Bt,{})}),s.jsx(Pt,{className:"bg-popover border-border",children:F8e.map(m=>s.jsx(ot,{value:m,children:m},m))})]}),s.jsx("span",{className:"text-muted-foreground",children:"per page"})]}),c.shouldShowPagination&&r&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(X,{variant:"outline",size:"sm",onClick:u,disabled:c.isPrevDisabled,className:"h-8 px-3 text-xs bg-background border-border text-foreground",children:"Prev"}),s.jsxs("span",{className:"text-xs sm:text-sm px-3 text-foreground",children:["Page ",c.currentPage," of ",r.last_page]}),s.jsx(X,{variant:"outline",size:"sm",onClick:i,disabled:c.isNextDisabled,className:"h-8 px-3 text-xs bg-background border-border text-foreground",children:"Next"})]}),s.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:d})]})},$8e=({stores:e,loading:t,pagination:r,perPage:n,currentPageData:a,onView:o,onAssign:l,onRetry:c,onPageChange:d,onPerPageChange:u})=>s.jsxs(be,{className:"rounded-sm bg-card border border-border",style:{boxShadow:"var(--shadow-realistic)"},children:[s.jsx(I8e,{loading:t,onRetry:c}),s.jsx(Ne,{className:"p-0 bg-card",children:s.jsx(B8e,{stores:e,loading:t,onView:o,onAssign:l})}),s.jsx(U8e,{stores:e,loading:t,pagination:r,perPage:n,currentPageData:a,onPageChange:d,onPerPageChange:u})]}),H8e=()=>{const e=Ct(),t=Mt(),{stores:r,loading:n,error:a,pagination:o,refetch:l,changePage:c,currentPageData:d}=bo(),u=ue(tg),i=b.useCallback(N=>{e(`/user-role-store-assignment/view/store/${N}`)},[e]),m=b.useCallback(N=>{e(`/user-role-store-assignment/assign?storeId=${N}`)},[e]),g=b.useCallback(()=>{l()},[l]),x=b.useCallback(N=>{c(N)},[c]),v=b.useCallback(async N=>{const h=parseInt(N,10);t(Bw(h)),await l({per_page:h,page:1})},[t,l]);return s.jsxs("div",{className:"space-y-4 sm:space-y-5 lg:space-y-6",children:[a&&s.jsxs(Ze,{variant:"destructive",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsxs(Ke,{children:["Failed to load stores: ",a]})]}),s.jsx($8e,{stores:r,loading:n,pagination:o,perPage:u,currentPageData:d,onView:i,onAssign:m,onRetry:g,onPageChange:x,onPerPageChange:v})]})},z8e=()=>{const e=Ct(),t=b.useCallback(()=>{e("/user-role-store-assignment/assign")},[e]),r=b.useCallback(()=>{e("/user-role-store-assignment/bulk")},[e]),n=b.useMemo(()=>s.jsxs(X,{onClick:t,className:"flex items-center justify-center gap-2 w-full sm:w-auto px-4 py-2 sm:px-6 sm:py-3 text-sm sm:text-base",children:[s.jsx(_r,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Assign Roles"]}),[t]),a=b.useMemo(()=>s.jsxs(X,{onClick:r,variant:"outline",className:"flex items-center justify-center gap-2 w-full sm:w-auto px-4 py-2 sm:px-6 sm:py-3 text-sm sm:text-base",children:[s.jsx(Sve,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Bulk Assign"]}),[r]);return s.jsxs(Vt,{title:"User Role Store Assignment",subtitle:"Manage user role assignments across different stores. Search and assign roles to users and stores.",mainButtons:n,subButtons:a,children:[s.jsx(O8e,{}),s.jsx(H8e,{})]})},OZ=b.memo(({assignment:e,getRoleName:t,getStoreName:r,onToggleStatus:n,onDelete:a,isUpdating:o,formatDate:l})=>{const c=b.useMemo(()=>t(e.role_id),[t,e.role_id]),d=b.useMemo(()=>r(e.store_id),[r,e.store_id]),u=b.useMemo(()=>l(e.created_at),[l,e.created_at]),i=b.useMemo(()=>l(e.updated_at),[l,e.updated_at]),m=b.useCallback(()=>{n(e)},[n,e]),g=b.useCallback(()=>{a(e)},[a,e]);return s.jsxs(Nt,{children:[s.jsx(Re,{className:"font-mono text-xs sm:text-sm py-2 sm:py-4",children:s.jsx("div",{className:"truncate max-w-[80px] sm:max-w-none",children:e.id})}),s.jsx(Re,{className:"py-2 sm:py-4",children:s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[s.jsx(Br,{className:"h-3 w-3 sm:h-4 sm:w-4 text-chart-4 flex-shrink-0"}),s.jsxs("span",{className:"font-medium text-xs sm:text-sm truncate",children:[c," "]})]})}),s.jsx(Re,{className:"py-2 sm:py-4 hidden sm:table-cell",children:s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[s.jsx(fa,{className:"h-3 w-3 sm:h-4 sm:w-4 text-chart-3 flex-shrink-0"}),s.jsxs("span",{className:"font-medium text-xs sm:text-sm truncate",children:[d," "]})]})}),s.jsx(Re,{className:"py-2 sm:py-4",children:s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[s.jsx(Hn,{checked:e.is_active,onCheckedChange:m,disabled:!e.id||o,className:"scale-75 sm:scale-100"}),s.jsxs(Ve,{variant:e.is_active?"default":"secondary",className:"text-xs px-1 sm:px-2 py-0.5",children:[s.jsx("span",{className:"hidden sm:inline",children:e.is_active?"Active":"Inactive"}),s.jsx("span",{className:"sm:hidden",children:e.is_active?"A":"I"})]}),e.id&&o&&s.jsx(ut,{className:"h-3 w-3 sm:h-4 sm:w-4 animate-spin"})]})}),s.jsx(Re,{className:"text-xs sm:text-sm text-muted-foreground py-2 sm:py-4 hidden md:table-cell",children:s.jsxs("div",{className:"truncate",children:[u," "]})}),s.jsx(Re,{className:"text-xs sm:text-sm text-muted-foreground py-2 sm:py-4 hidden lg:table-cell",children:s.jsxs("div",{className:"truncate",children:[i," "]})}),s.jsx(Re,{className:"text-right py-2 sm:py-4",children:s.jsxs(Wg,{modal:!1,children:[s.jsx(Gg,{asChild:!0,children:s.jsxs(X,{variant:"ghost",className:"h-6 w-6 sm:h-8 sm:w-8 p-0",children:[s.jsx("span",{className:"sr-only",children:"Open menu"}),s.jsx(hg,{className:"h-3 w-3 sm:h-4 sm:w-4"})]})}),s.jsx(Tm,{align:"end",className:"w-48",children:s.jsxs(so,{onClick:g,className:"text-destructive focus:text-destructive text-xs sm:text-sm",children:[s.jsx(Dn,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Delete Assignment"}),s.jsx("span",{className:"sm:hidden",children:"Delete"})]})})]})})]})});OZ.displayName="AssignmentTableRow";const q8e=({assignments:e,loading:t,error:r,getRoleName:n,getStoreName:a,onToggleStatus:o,onDelete:l,updatingAssignments:c,formatDate:d,onAssignRole:u})=>s.jsxs(be,{className:"w-full",children:[s.jsx(Te,{className:"px-4 sm:px-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Cs,{className:"h-4 w-4 sm:h-5 sm:w-5"}),s.jsx(Ue,{className:"text-lg sm:text-xl",children:"Role Assignments"})]}),s.jsxs(X,{onClick:u,className:"flex items-center gap-2",children:[s.jsx(or,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Assign Role"})]})]})}),s.jsx(Ne,{className:"px-0 sm:px-6",children:r?s.jsxs("div",{className:"text-destructive text-center py-4 px-4 sm:px-0",children:["Error loading assignments: ",r.message||"Unknown error"]}):t?s.jsxs("div",{className:"flex items-center justify-center py-8 px-4 sm:px-0",children:[s.jsx(ut,{className:"h-6 w-6 sm:h-8 sm:w-8 animate-spin"}),s.jsx("span",{className:"ml-2 text-sm sm:text-base",children:"Loading assignments..."})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(mn,{className:"min-w-full",children:[s.jsx(hn,{children:s.jsxs(Nt,{children:[s.jsx(Be,{className:"text-xs sm:text-sm font-medium",children:"Assignment ID"}),s.jsx(Be,{className:"text-xs sm:text-sm font-medium",children:"Role"}),s.jsx(Be,{className:"text-xs sm:text-sm font-medium hidden sm:table-cell",children:"Store"}),s.jsx(Be,{className:"text-xs sm:text-sm font-medium",children:"Status"}),s.jsx(Be,{className:"text-xs sm:text-sm font-medium hidden md:table-cell",children:"Assigned Date"}),s.jsx(Be,{className:"text-xs sm:text-sm font-medium hidden lg:table-cell",children:"Updated Date"}),s.jsx(Be,{className:"text-xs sm:text-sm font-medium text-right",children:"Actions"})]})}),s.jsx(pn,{children:e.length===0?s.jsx(Nt,{children:s.jsx(Re,{colSpan:7,className:"text-center py-6 sm:py-8 text-muted-foreground text-sm sm:text-base",children:"No role assignments found for this user"})}):e.map(i=>s.jsx(OZ,{assignment:i,getRoleName:n,getStoreName:a,onToggleStatus:o,onDelete:l,isUpdating:i.id?c.has(i.id):!1,formatDate:d},i.id))})]})})})]}),IZ=b.memo(({open:e,onOpenChange:t,assignment:r,onConfirm:n,getRoleName:a,getStoreName:o})=>{const l=b.useMemo(()=>r?a(r.role_id):"",[r,a]),c=b.useMemo(()=>r?o(r.store_id):"",[r,o]),d=b.useMemo(()=>r?s.jsxs("span",{className:"font-medium",children:[" ","for ",l," in ",c]}):null,[r,l,c]),u=b.useCallback(()=>{n()},[n]),i=b.useCallback(m=>{t(m)},[t]);return s.jsx(fl,{open:e,onOpenChange:i,children:s.jsxs(ei,{className:"mx-4 sm:mx-auto max-w-sm sm:max-w-lg",children:[s.jsxs(ti,{className:"space-y-2 sm:space-y-3",children:[s.jsx(ni,{className:"text-lg sm:text-xl",children:"Are you absolutely sure?"}),s.jsxs(si,{className:"text-sm sm:text-base",children:["This action cannot be undone. This will permanently delete the role assignment",d,"."]})]}),s.jsxs(ri,{className:"flex-col sm:flex-row gap-2 sm:gap-0",children:[s.jsx(oi,{className:"w-full sm:w-auto order-2 sm:order-1",children:"Cancel"}),s.jsxs(ai,{onClick:u,className:"w-full sm:w-auto order-1 sm:order-2 bg-destructive hover:bg-destructive/90 text-destructive-foreground",children:[s.jsx("span",{className:"hidden sm:inline",children:"Delete Assignment"}),s.jsx("span",{className:"sm:hidden",children:"Delete"})]})]})]})})});IZ.displayName="DeleteAssignmentDialog";const V8e={year:"numeric",month:"short",day:"numeric"},W8e=()=>{const{userId:e}=zs(),t=Ct(),r=b.useMemo(()=>e?parseInt(e):0,[e]),{getUserAssignments:n,fetchUserAssignments:a,isLoadingUserAssignments:o,getUserAssignmentsError:l,toggleUserRoleStatus:c,removeUserRole:d}=CZ(),[u,i]=b.useState(!1),[m,g]=b.useState(null),[x,v]=b.useState(new Set);b.useEffect(()=>{r&&a(r)},[r,a]);const N=b.useMemo(()=>n(r),[n,r]),h=b.useMemo(()=>o(),[o]),y=b.useMemo(()=>l(),[l]),w=b.useCallback(()=>{t("/user-role-store-assignment")},[t]),j=b.useCallback(()=>{t(`/user-role-store-assignment/assign?userId=${e}`)},[t,e]),C=b.useCallback(B=>N.find(F=>F.role_id===B)?.role?.name||`Role ID: ${B}`,[N]),_=b.useCallback(B=>N.find(F=>F.store_id===B)?.store?.name||B,[N]),k=b.useCallback(async B=>{if(!(!B.id||x.has(B.id))){v(U=>new Set(U).add(B.id));try{await c({user_id:B.user_id,role_id:B.role_id,store_id:B.store_id}),a(r)}catch(U){console.error("Failed to toggle assignment status:",U)}finally{v(U=>{const F=new Set(U);return B.id&&F.delete(B.id),F})}}},[x,c,a,r]),A=b.useCallback(B=>{g(B),i(!0)},[]),T=b.useCallback(async()=>{if(m)try{await d({user_id:m.user_id,role_id:m.role_id,store_id:m.store_id}),i(!1),g(null),a(r)}catch(B){console.error("Failed to delete assignment:",B)}},[m,d,a,r]),R=b.useCallback(B=>{i(B),B||g(null)},[]),P=b.useCallback(B=>new Date(B).toLocaleDateString("en-US",V8e),[]),M=b.useMemo(()=>({title:"User Role Assignments",subtitle:`View all role assignments for User ID: ${e}`,backButton:{show:!0,onClick:w}}),[e,w]),I=b.useMemo(()=>({assignments:N,loading:h,error:y,getRoleName:C,getStoreName:_,onToggleStatus:k,onDelete:A,updatingAssignments:x,formatDate:P,onAssignRole:j}),[N,h,y,C,_,k,A,x,P,j]),L=b.useMemo(()=>({open:u,onOpenChange:R,assignment:m,onConfirm:T,getRoleName:C,getStoreName:_}),[u,R,m,T,C,_]);return s.jsxs(Vt,{...M,children:[s.jsx(q8e,{...I}),s.jsx(IZ,{...L})]})},G8e=()=>s.jsxs("div",{className:"flex flex-col items-center justify-center py-8 sm:py-12 space-y-3",children:[s.jsx(ut,{className:"h-6 w-6 sm:h-8 sm:w-8 animate-spin text-primary"}),s.jsx("span",{className:"text-sm sm:text-base text-primary",children:"Loading assignments..."})]}),Y8e=({error:e})=>s.jsxs("div",{className:"text-center py-6 sm:py-8 text-destructive",children:[s.jsx("p",{className:"text-sm sm:text-base font-medium",children:"Error loading assignments"}),s.jsx("p",{className:"text-xs sm:text-sm mt-1 opacity-80",children:e?.message||"Unknown error"})]}),Z8e=()=>s.jsx(Nt,{children:s.jsx(Re,{colSpan:7,className:"text-center py-8 sm:py-12 text-muted-foreground",children:s.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[s.jsx(fa,{className:"h-8 w-8 sm:h-12 sm:w-12 opacity-50 text-muted-foreground"}),s.jsx("p",{className:"text-sm sm:text-base font-medium",children:"No role assignments found"}),s.jsx("p",{className:"text-xs sm:text-sm opacity-75",children:"This store has no role assignments yet"})]})})}),K8e=({assignment:e,getUserName:t,getRoleName:r,formatDate:n,onToggleStatus:a,onDeleteClick:o,isUpdating:l})=>s.jsxs(Nt,{children:[s.jsx(Re,{className:"font-mono text-xs sm:text-sm py-3",children:s.jsx("span",{className:"px-2 py-1 rounded text-xs bg-muted text-muted-foreground",children:e.id})}),s.jsx(Re,{className:"py-3",children:s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[s.jsx(Cs,{className:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0 text-chart-4"}),s.jsx("span",{className:"font-medium text-xs sm:text-sm truncate",children:t(e.user_id)})]})}),s.jsx(Re,{className:"py-3",children:s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[s.jsx(Br,{className:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0 text-chart-3"}),s.jsx("span",{className:"font-medium text-xs sm:text-sm truncate",children:r(e.role_id)})]})}),s.jsx(Re,{className:"py-3",children:s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[s.jsx(Hn,{checked:e.is_active,onCheckedChange:()=>a(e),disabled:!e.id||l,className:"scale-75 sm:scale-100"}),s.jsxs(Ve,{variant:e.is_active?"default":"secondary",className:"text-xs px-1.5 py-0.5 sm:px-2 sm:py-1",children:[s.jsx("span",{className:"hidden sm:inline",children:e.is_active?"Active":"Inactive"}),s.jsx("span",{className:"sm:hidden",children:e.is_active?"On":"Off"})]}),l&&s.jsx(ut,{className:"h-3 w-3 sm:h-4 sm:w-4 animate-spin text-primary"})]})}),s.jsx(Re,{className:"text-xs sm:text-sm py-3 hidden md:table-cell text-muted-foreground",children:s.jsx("div",{className:"flex flex-col",children:s.jsx("span",{children:n(e.created_at)})})}),s.jsx(Re,{className:"text-xs sm:text-sm py-3 hidden lg:table-cell text-muted-foreground",children:s.jsx("div",{className:"flex flex-col",children:s.jsx("span",{children:n(e.updated_at)})})}),s.jsx(Re,{className:"text-right py-3",children:s.jsxs(Wg,{modal:!1,children:[s.jsx(Gg,{asChild:!0,children:s.jsxs(X,{variant:"ghost",className:"h-6 w-6 p-0 sm:h-8 sm:w-8",size:"sm",children:[s.jsx("span",{className:"sr-only",children:"Open menu"}),s.jsx(hg,{className:"h-3 w-3 sm:h-4 sm:w-4"})]})}),s.jsx(Tm,{align:"end",className:"w-48",children:s.jsxs(so,{onClick:()=>o(e),className:"text-xs sm:text-sm text-destructive",children:[s.jsx(Dn,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Delete Assignment"}),s.jsx("span",{className:"sm:hidden",children:"Delete"})]})})]})})]},e.id),LZ=pe.memo(({assignments:e,loading:t,error:r,getUserName:n,getRoleName:a,formatDate:o,onToggleStatus:l,onDeleteClick:c,onAssignRole:d,updatingAssignments:u})=>{const i=b.useMemo(()=>e.length===0?s.jsx(Z8e,{}):e.map(g=>s.jsx(K8e,{assignment:g,getUserName:n,getRoleName:a,formatDate:o,onToggleStatus:l,onDeleteClick:c,isUpdating:g.id?u.has(g.id):!1},g.id)),[e,n,a,o,l,c,u]),m=b.useMemo(()=>r?s.jsx(Y8e,{error:r}):t?s.jsx(G8e,{}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(mn,{className:"min-w-full",children:[s.jsx(hn,{children:s.jsxs(Nt,{children:[s.jsx(Be,{className:"text-xs sm:text-sm min-w-[100px]",children:"Assignment ID"}),s.jsx(Be,{className:"text-xs sm:text-sm min-w-[120px]",children:"User"}),s.jsx(Be,{className:"text-xs sm:text-sm min-w-[100px]",children:"Role"}),s.jsx(Be,{className:"text-xs sm:text-sm min-w-[120px]",children:"Status"}),s.jsx(Be,{className:"text-xs sm:text-sm min-w-[120px] hidden md:table-cell",children:"Assigned Date"}),s.jsx(Be,{className:"text-xs sm:text-sm min-w-[120px] hidden lg:table-cell",children:"Updated Date"}),s.jsx(Be,{className:"text-xs sm:text-sm text-right min-w-[80px]",children:"Actions"})]})}),s.jsx(pn,{children:i})]})}),[r,t,i]);return s.jsxs(be,{className:"shadow-md",children:[s.jsx(Te,{className:"pb-4",children:s.jsxs("div",{className:"flex flex-col space-y-3 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(fa,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),s.jsx(Ue,{className:"text-lg sm:text-xl",children:"Role Assignments"})]}),s.jsxs(X,{onClick:d,className:"flex items-center gap-2 w-full sm:w-auto",size:"sm",children:[s.jsx(or,{className:"h-4 w-4"}),s.jsx("span",{className:"sm:inline",children:"Assign Role"})]})]})}),s.jsx(Ne,{className:"px-3 sm:px-6",children:m})]})});LZ.displayName="AssignmentsCard";const X8e=({open:e,onOpenChange:t,assignmentToDelete:r,getUserName:n,getRoleName:a,onConfirm:o})=>s.jsx(fl,{open:e,onOpenChange:t,children:s.jsxs(ei,{className:"mx-4 max-w-md sm:max-w-lg",children:[s.jsxs(ti,{className:"space-y-3",children:[s.jsx(ni,{className:"text-lg sm:text-xl",children:"Are you absolutely sure?"}),s.jsxs(si,{className:"text-sm sm:text-base leading-relaxed",children:["This action cannot be undone. This will permanently delete the role assignment",r&&s.jsxs("span",{className:"font-medium block mt-2 p-2 rounded bg-muted text-foreground",children:["User: ",n(r.user_id),s.jsx("br",{}),"Role: ",a(r.role_id)]}),"."]})]}),s.jsxs(ri,{className:"flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-2",children:[s.jsx(oi,{className:"w-full sm:w-auto order-2 sm:order-1",children:"Cancel"}),s.jsxs(ai,{onClick:o,className:"w-full sm:w-auto order-1 sm:order-2 text-destructive-foreground bg-destructive",children:[s.jsx(Dn,{className:"mr-2 h-4 w-4"}),"Delete Assignment"]})]})]})}),Q8e=()=>{const{storeId:e}=zs(),t=Ct(),{getStoreAssignments:r,fetchStoreAssignments:n,isLoadingStoreAssignments:a,getStoreAssignmentsError:o,toggleUserRoleStatus:l,removeUserRole:c}=CZ(),[d,u]=b.useState(!1),[i,m]=b.useState(null),[g,x]=b.useState(new Set),[v,N]=b.useState(null),h=r(e||""),y=a(),w=o();b.useEffect(()=>{e&&n(e)},[e,n]),b.useEffect(()=>{if(v){const M=setTimeout(()=>{N(null)},5e3);return()=>clearTimeout(M)}},[v]);const j=b.useCallback(M=>h.find(L=>L.user_id===M)?.user?.name||`User ID: ${M}`,[h]),C=b.useCallback(M=>h.find(L=>L.role_id===M)?.role?.name||`Role ID: ${M}`,[h]),_=b.useCallback(async M=>{if(!(!M.id||g.has(M.id))){x(I=>new Set(I).add(M.id)),N(null);try{await l({user_id:M.user_id,role_id:M.role_id,store_id:M.store_id}),e&&n(e)}catch(I){console.error("Failed to toggle assignment status:",I),N("Failed to update assignment status. Please try again.")}finally{x(I=>{const L=new Set(I);return M.id&&L.delete(M.id),L})}}},[l,e,n,g]),k=b.useCallback(M=>{m(M),u(!0)},[]),A=b.useCallback(async()=>{if(i){N(null);try{await c({user_id:i.user_id,role_id:i.role_id,store_id:i.store_id}),u(!1),m(null),e&&n(e)}catch(M){console.error("Failed to delete assignment:",M),N("Failed to delete assignment. Please try again.")}}},[i,c,e,n]),T=b.useCallback(()=>{t(`/user-role-store-assignment/assign?storeId=${e}`)},[t,e]),R=b.useCallback(()=>{t("/user-role-store-assignment")},[t]),P=b.useCallback(M=>new Date(M).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),[]);return s.jsxs(Vt,{title:"Store Role Assignments",subtitle:`View all role assignments for Store ID: ${e||""}`,backButton:{show:!0,onClick:R},children:[v&&s.jsx("div",{style:{backgroundColor:"#fee2e2",border:"1px solid #fecaca",color:"#dc2626",padding:"12px",marginBottom:"16px",borderRadius:"6px",fontSize:"14px"},children:v}),s.jsx(LZ,{assignments:h,loading:y,error:w,getUserName:j,getRoleName:C,formatDate:P,onToggleStatus:_,onDeleteClick:k,onAssignRole:T,updatingAssignments:g}),s.jsx(X8e,{open:d,onOpenChange:u,assignmentToDelete:i,getUserName:j,getRoleName:C,onConfirm:A})]})},J8e=({open:e,onOpenChange:t,assignmentData:r,canAssign:n,isAssigning:a,onConfirm:o})=>s.jsxs(rn,{open:e,onOpenChange:t,children:[s.jsx(xz,{asChild:!0,children:s.jsxs(X,{disabled:!n||a,className:"flex items-center gap-2 w-full sm:w-auto text-sm sm:text-base px-3 sm:px-4 py-2 bg-primary hover:bg-primary/90 text-primary-foreground",children:[a?s.jsx(ut,{className:"h-3 w-3 sm:h-4 sm:w-4 animate-spin"}):s.jsx(ic,{className:"h-3 w-3 sm:h-4 sm:w-4"}),s.jsx("span",{className:"hidden sm:inline",children:a?"Assigning...":"Assign Roles"}),s.jsx("span",{className:"sm:hidden",children:a?"Assigning...":"Assign"})]})}),s.jsxs(Vr,{children:[s.jsxs(Wr,{children:[s.jsx(Gr,{children:"Confirm Role Assignment"}),s.jsxs(cn,{children:["You are about to assign ",r.selectedRoles.length," roles to"," ",r.selectedUsers.length," users across"," ",r.selectedStores.length," stores."]})]}),s.jsxs(nn,{children:[s.jsx(X,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(X,{onClick:o,children:"Confirm Assignment"})]})]})]}),eFe=({assignmentData:e,canAssign:t,isAssigning:r,showConfirmDialog:n,onShowConfirmDialog:a,onClearSelection:o,onConfirmAssignment:l})=>s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 justify-end mb-4",children:[s.jsxs(X,{variant:"outline",onClick:o,disabled:!t,className:"flex items-center gap-2 w-full sm:w-auto text-sm sm:text-base px-3 sm:px-4 py-2",children:[s.jsx(qd,{className:"h-3 w-3 sm:h-4 sm:w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Clear Selection"}),s.jsx("span",{className:"sm:hidden",children:"Clear"})]}),s.jsx(J8e,{open:n,onOpenChange:a,assignmentData:e,canAssign:t,isAssigning:r,onConfirm:l})]});var AT="Progress",kT=100,[tFe,T7e]=jn(AT),[rFe,nFe]=tFe(AT),BZ=b.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:o=sFe,...l}=e;(a||a===0)&&!QB(a)&&console.error(aFe(`${a}`,"Progress"));const c=QB(a)?a:kT;n!==null&&!JB(n,c)&&console.error(oFe(`${n}`,"Progress"));const d=JB(n,c)?n:null,u=gw(d)?o(d,c):void 0;return s.jsx(rFe,{scope:r,value:d,max:c,children:s.jsx(Ge.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":gw(d)?d:void 0,"aria-valuetext":u,role:"progressbar","data-state":$Z(d,c),"data-value":d??void 0,"data-max":c,...l,ref:t})})});BZ.displayName=AT;var FZ="ProgressIndicator",UZ=b.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=nFe(FZ,r);return s.jsx(Ge.div,{"data-state":$Z(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});UZ.displayName=FZ;function sFe(e,t){return`${Math.round(e/t*100)}%`}function $Z(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function gw(e){return typeof e=="number"}function QB(e){return gw(e)&&!isNaN(e)&&e>0}function JB(e,t){return gw(e)&&!isNaN(e)&&e<=t&&e>=0}function aFe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${kT}\`.`}function oFe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${kT} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var HZ=BZ,iFe=UZ;const DT=b.forwardRef(({className:e,value:t,...r},n)=>s.jsx(HZ,{ref:n,className:ee("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",e),...r,children:s.jsx(iFe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));DT.displayName=HZ.displayName;const lFe=({assignmentSteps:e,completedSteps:t,progressPercentage:r})=>s.jsx(be,{className:"bg-card border-border shadow-sm",children:s.jsx(Ne,{className:"pt-4 sm:pt-6 p-3 sm:p-6",children:s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[s.jsx("span",{className:"text-xs sm:text-sm font-medium text-card-foreground",children:"Assignment Progress"}),s.jsxs("span",{className:"text-xs sm:text-sm text-muted-foreground",children:[t," of ",e.length," steps completed"]})]}),s.jsx(DT,{value:r,className:"h-1.5 sm:h-2 bg-secondary"}),s.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-2 sm:gap-4",children:e.map((n,a)=>s.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[n.completed?s.jsx(Ns,{className:"h-3 w-3 sm:h-4 sm:w-4 text-[#10b981]"}):s.jsx("div",{className:"h-3 w-3 sm:h-4 sm:w-4 rounded-full border-2 border-muted bg-background"}),s.jsxs("span",{className:`text-xs sm:text-sm ${n.completed?"font-medium text-green-600":"text-muted-foreground"}`,children:[s.jsx("span",{className:"hidden sm:inline",children:n.title}),s.jsx("span",{className:"sm:hidden",children:n.title.split(" ")[1]||n.title})]}),a<e.length-1&&s.jsx(t$,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 text-muted-foreground ml-1 sm:ml-2 hidden sm:block"})]},n.id))})]})})}),cFe=({result:e})=>e?s.jsxs(Ze,{className:`border-2 ${e.success?"border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-950":"border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-950"}`,children:[e.success?s.jsx(Ns,{className:"h-4 w-4 text-green-600 dark:text-green-400"}):s.jsx(q2,{className:"h-4 w-4 text-red-600 dark:text-red-400"}),s.jsx(Ke,{className:`text-sm ${e.success?"text-green-800 dark:text-green-200":"text-red-800 dark:text-red-200"}`,children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium",children:e.message}),(e.successCount!==void 0||e.failureCount!==void 0)&&s.jsxs("div",{className:"text-xs space-y-1",children:[e.successCount!==void 0&&e.successCount>0&&s.jsxs("div",{className:"text-green-700 dark:text-green-300",children:["✓ ",e.successCount," assignment",e.successCount!==1?"s":""," completed successfully"]}),e.failureCount!==void 0&&e.failureCount>0&&s.jsxs("div",{className:"text-red-700 dark:text-red-300",children:["✗ ",e.failureCount," assignment",e.failureCount!==1?"s":""," failed"]})]}),e.details&&e.details.length>0&&s.jsxs("div",{className:"mt-3 space-y-1",children:[s.jsx("div",{className:"text-xs font-medium opacity-80",children:"Details:"}),s.jsx("ul",{className:"text-xs space-y-1 ml-4",children:e.details.map((t,r)=>s.jsx("li",{className:"list-disc",children:t},r))})]})]})})]}):null,dFe=e=>({id:e,name:`User ${e}`,email:"",email_verified_at:null,created_at:"",updated_at:""}),uFe=e=>({id:e,name:`Role ${e}`,guard_name:"web",created_at:"",updated_at:""}),fFe=e=>({id:e,name:`Store ${e}`,is_active:!0,created_at:"",metadata:{}}),y_=(e,t,r,n)=>b.useMemo(()=>t.map(a=>e.find(o=>r(o)===a)??n(a)),[e,t,r,n]),mFe=e=>{const{users:t}=Am(),{roles:r}=yo(),{stores:n}=bo(),a=y_(t,e.selectedUsers,c=>c.id,dFe),o=y_(r,e.selectedRoles,c=>c.id,uFe),l=y_(n,e.selectedStores,c=>c.id,fFe);return{selectedUsers:a,selectedRoles:o,selectedStores:l}},b_=({icon:e,title:t,count:r,items:n,maxDisplay:a=3})=>s.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(e,{className:"h-3 w-3 sm:h-4 sm:w-4 text-primary"}),s.jsxs("span",{className:"font-medium text-xs sm:text-sm text-card-foreground",children:[t," (",r,")"]})]}),s.jsxs("div",{className:"flex flex-wrap gap-1",children:[n.slice(0,a).map(o=>s.jsx(Ve,{variant:"secondary",className:"text-xs bg-secondary text-secondary-foreground border-border",children:o.name},o.id)),r>a&&s.jsxs(Ve,{variant:"outline",className:"text-xs border-border text-muted-foreground",children:["+",r-a," more"]})]})]}),hFe=({assignmentData:e})=>{const{selectedUsers:t,selectedRoles:r,selectedStores:n}=mFe(e);return e.selectedUsers.length>0||e.selectedRoles.length>0||e.selectedStores.length>0?s.jsxs(be,{className:"bg-card border-border shadow-sm",children:[s.jsx(Te,{className:"pb-3 sm:pb-6",children:s.jsxs(Ue,{className:"flex items-center gap-2 text-card-foreground text-base sm:text-lg",children:[s.jsx(pg,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),"Selection Summary"]})}),s.jsx(Ne,{className:"pt-0 p-3 sm:p-6",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 lg:gap-6",children:[s.jsx(b_,{icon:_r,title:"Selected Users",count:e.selectedUsers.length,items:t}),s.jsx(b_,{icon:Br,title:"Selected Roles",count:e.selectedRoles.length,items:r}),s.jsx(b_,{icon:fa,title:"Selected Stores",count:e.selectedStores.length,items:n})]})})]}):null},pFe=({assignmentSteps:e,completedSteps:t,progressPercentage:r,assignmentResult:n,assignmentData:a})=>{const o=a.selectedUsers.length>0||a.selectedRoles.length>0||a.selectedStores.length>0;return s.jsxs(s.Fragment,{children:[s.jsx(lFe,{assignmentSteps:e,completedSteps:t,progressPercentage:r}),n&&s.jsx(cFe,{result:n}),o&&s.jsx(hFe,{assignmentData:a})]})};var gFe=A9();function xFe(){return gFe.useSyncExternalStore(vFe,()=>!0,()=>!1)}function vFe(){return()=>{}}var TT="Avatar",[yFe,R7e]=jn(TT),[bFe,zZ]=yFe(TT),qZ=b.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,o]=b.useState("idle");return s.jsx(bFe,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:o,children:s.jsx(Ge.span,{...n,ref:t})})});qZ.displayName=TT;var VZ="AvatarImage",WZ=b.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...o}=e,l=zZ(VZ,r),c=wFe(n,o),d=Mr(u=>{a(u),l.onImageLoadingStatusChange(u)});return ir(()=>{c!=="idle"&&d(c)},[c,d]),c==="loaded"?s.jsx(Ge.img,{...o,ref:t,src:n}):null});WZ.displayName=VZ;var GZ="AvatarFallback",YZ=b.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,o=zZ(GZ,r),[l,c]=b.useState(n===void 0);return b.useEffect(()=>{if(n!==void 0){const d=window.setTimeout(()=>c(!0),n);return()=>window.clearTimeout(d)}},[n]),l&&o.imageLoadingStatus!=="loaded"?s.jsx(Ge.span,{...a,ref:t}):null});YZ.displayName=GZ;function e8(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function wFe(e,{referrerPolicy:t,crossOrigin:r}){const n=xFe(),a=b.useRef(null),o=n?(a.current||(a.current=new window.Image),a.current):null,[l,c]=b.useState(()=>e8(o,e));return ir(()=>{c(e8(o,e))},[o,e]),ir(()=>{const d=m=>()=>{c(m)};if(!o)return;const u=d("loaded"),i=d("error");return o.addEventListener("load",u),o.addEventListener("error",i),t&&(o.referrerPolicy=t),typeof r=="string"&&(o.crossOrigin=r),()=>{o.removeEventListener("load",u),o.removeEventListener("error",i)}},[o,r,t]),l}var ZZ=qZ,KZ=WZ,XZ=YZ;const QZ=b.forwardRef(({className:e,...t},r)=>s.jsx(ZZ,{ref:r,className:ee("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));QZ.displayName=ZZ.displayName;const SFe=b.forwardRef(({className:e,...t},r)=>s.jsx(KZ,{ref:r,className:ee("aspect-square h-full w-full",e),...t}));SFe.displayName=KZ.displayName;const jFe=b.forwardRef(({className:e,...t},r)=>s.jsx(XZ,{ref:r,className:ee("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));jFe.displayName=XZ.displayName;const NFe=({selectedUserIds:e,onUserToggle:t})=>{const[r,n]=b.useState(""),[a,o]=b.useState("all"),{users:l,loading:c,error:d,pagination:u,fetchUsers:i,perPage:m,setPerPage:g}=Am(),x=b.useMemo(()=>new Set(e),[e]),v=b.useMemo(()=>{if(!l||l.length===0)return[];let A=l;if(r.trim()){const T=r.toLowerCase();A=l.filter(R=>R.name.toLowerCase().includes(T)||R.email.toLowerCase().includes(T))}return a!=="all"&&(A=A.filter(T=>{const R=T.roles&&T.roles.length>0;return a==="with-roles"?R:!R})),A},[l,r,a]),N=b.useMemo(()=>v.map(A=>A.id),[v]),h=b.useMemo(()=>{if(v.length===0)return{allSelected:!1,someSelected:!1};const A=N.filter(T=>x.has(T)).length;return{allSelected:A===N.length,someSelected:A>0&&A<N.length}},[N,x]),y=A=>new Date(A).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),w=A=>A.split(" ").map(T=>T.charAt(0)).join("").toUpperCase().slice(0,2),j=b.useCallback(async A=>{try{await i({page:A,per_page:m})}catch(T){console.error("Failed to fetch users for page:",A,T)}},[i,m]),C=b.useCallback(async A=>{const T=parseInt(A,10);g(T);try{await i({page:1,per_page:T})}catch(R){console.error("Failed to fetch users with new per page:",T,R)}},[g,i]),_=b.useCallback(()=>{N.length!==0&&(h.allSelected?N.forEach(A=>{x.has(A)&&t(A)}):N.forEach(A=>{x.has(A)||t(A)}))},[N,h.allSelected,x,t]),k=b.useMemo(()=>u?{currentPage:u.currentPage||1,lastPage:u.lastPage||1,from:u.from||0,to:u.to||0,total:u.total||0}:null,[u]);return s.jsxs(be,{className:"bg-card border-border shadow-sm",children:[s.jsxs(Te,{className:"px-4 sm:px-6 py-4 sm:py-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0 gap-3 sm:gap-4",children:[s.jsxs(Ue,{className:"flex items-center gap-2 text-base sm:text-lg text-card-foreground",children:[s.jsx(_r,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),"Select Users"]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ol,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(We,{placeholder:"Search users...",value:r,onChange:A=>n(A.target.value),className:"pl-10 w-full sm:w-64 bg-background border-border text-foreground placeholder:text-muted-foreground focus:ring-ring focus:border-ring text-sm sm:text-base"})]}),s.jsxs(Lt,{value:a,onValueChange:A=>o(A),children:[s.jsxs(Rt,{className:"w-full sm:w-40 bg-background border-border text-foreground text-sm sm:text-base",children:[s.jsx(Kw,{className:"h-4 w-4 mr-2 text-muted-foreground"}),s.jsx(Bt,{})]}),s.jsxs(Pt,{className:"bg-popover border-border",children:[s.jsx(ot,{value:"all",className:"text-popover-foreground focus:bg-accent focus:text-accent-foreground",children:"All Users"}),s.jsx(ot,{value:"with-roles",className:"text-popover-foreground focus:bg-accent focus:text-accent-foreground",children:"With Roles"}),s.jsx(ot,{value:"without-roles",className:"text-popover-foreground focus:bg-accent focus:text-accent-foreground",children:"Without Roles"})]})]})]})]}),v.length>0&&s.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[s.jsx(rs,{checked:h.allSelected,ref:A=>{A&&(A.indeterminate=h.someSelected)},onCheckedChange:_,className:"border-border"}),s.jsxs(X,{variant:"ghost",size:"sm",onClick:_,className:"text-xs sm:text-sm text-muted-foreground hover:text-foreground",children:[h.allSelected?"Deselect All":"Select All"," (",v.length,")"]})]})]}),s.jsxs(Ne,{className:"px-4 sm:px-6 pb-4 sm:pb-6",children:[d?s.jsxs("div",{className:"text-destructive text-center py-4 text-sm sm:text-base",children:["Error loading users: ",d]}):c?s.jsxs("div",{className:"flex items-center justify-center py-6 sm:py-8",children:[s.jsx(ut,{className:"h-6 w-6 sm:h-8 sm:w-8 animate-spin text-primary"}),s.jsx("span",{className:"ml-2 text-sm sm:text-base text-muted-foreground",children:"Loading users..."})]}):s.jsx("div",{className:"space-y-3 sm:space-y-4",children:v.length===0?s.jsx("div",{className:"text-center py-6 sm:py-8 text-muted-foreground text-sm sm:text-base",children:r?"No users found matching your search":"No users found"}):v.map(A=>s.jsxs("div",{className:"flex items-center space-x-3 p-3 sm:p-4 border border-border rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsx(rs,{checked:x.has(A.id),onCheckedChange:()=>t(A.id),className:"border-border"}),s.jsx("div",{className:"flex-1 cursor-pointer",onClick:()=>t(A.id),children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(QZ,{className:"h-8 w-8 sm:h-10 sm:w-10 bg-primary/10 text-primary flex items-center justify-center text-xs sm:text-sm font-medium",children:w(A.name)}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("div",{className:"font-medium text-sm sm:text-base text-card-foreground truncate",children:A.name}),s.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:A.email})]})]}),s.jsxs("div",{className:"flex flex-col items-start sm:items-end gap-2 sm:gap-1",children:[s.jsxs("div",{className:"flex flex-wrap gap-1",children:[A.roles&&A.roles.length>0?A.roles.slice(0,2).map((T,R)=>s.jsx(Ve,{variant:"secondary",className:"text-xs bg-secondary text-secondary-foreground",children:T.name||T},R)):s.jsx(Ve,{variant:"outline",className:"text-xs border-border text-muted-foreground",children:"No roles"}),A.roles&&A.roles.length>2&&s.jsxs(Ve,{variant:"outline",className:"text-xs border-border text-muted-foreground",children:["+",A.roles.length-2]})]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:y(A.created_at)})]})]})})]},A.id))}),k&&k.total>0&&s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 px-4 sm:px-6 py-3 border-t border-border bg-card/50",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Show"}),s.jsxs(Lt,{value:m.toString(),onValueChange:C,disabled:c,children:[s.jsx(Rt,{className:"w-16 h-8 text-xs bg-background border-border text-foreground",children:s.jsx(Bt,{})}),s.jsx(Pt,{className:"bg-popover border-border",children:[5,10,15,25,50].map(A=>s.jsx(ot,{value:A.toString(),className:"text-popover-foreground focus:bg-accent focus:text-accent-foreground",children:A},A))})]}),s.jsx("span",{className:"text-muted-foreground",children:"per page"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>j(k.currentPage-1),disabled:c||k.currentPage<=1,className:"h-8 px-3 text-xs bg-background border-border text-foreground hover:bg-accent hover:text-accent-foreground",children:[s.jsx(al,{className:"h-3 w-3 mr-1"}),"Prev"]}),s.jsxs("span",{className:"text-xs sm:text-sm px-3 text-foreground font-medium",children:["Page ",k.currentPage," of ",k.lastPage]}),s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>j(k.currentPage+1),disabled:c||k.currentPage>=k.lastPage,className:"h-8 px-3 text-xs bg-background border-border text-foreground hover:bg-accent hover:text-accent-foreground",children:["Next",s.jsx(qa,{className:"h-3 w-3 ml-1"})]})]}),s.jsxs("div",{className:"text-xs sm:text-sm text-muted-foreground",children:[s.jsxs("span",{className:"hidden sm:inline",children:[k.from," to ",k.to," of ",k.total," users"]}),s.jsxs("span",{className:"sm:hidden",children:[k.from,"-",k.to," of ",k.total]})]})]})]})]})},CFe=({selectedRoleIds:e,onRoleToggle:t})=>{const[r,n]=b.useState(""),[a,o]=b.useState(1),[l,c]=b.useState(10),d={page:a,per_page:l,search:r||void 0},{roles:u,loading:i,error:m,pagination:g,fetchRoles:x}=yo(!0,d),v=b.useCallback(async T=>{o(T),await x({page:T,per_page:l,search:r||void 0})},[x,l,r]),N=b.useCallback(async T=>{const R=parseInt(T,10);c(R),o(1),await x({page:1,per_page:R,search:r||void 0})},[x,r]),h=b.useCallback(async T=>{n(T),o(1),await x({page:1,per_page:l,search:T||void 0})},[x,l]),y=b.useCallback(()=>{g&&a>1&&v(a-1)},[a,g,v]),w=b.useCallback(()=>{g&&a<g.lastPage&&v(a+1)},[a,g,v]),j=u,C=T=>new Date(T).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),_=j.length>0&&j.every(T=>e.includes(T.id)),k=j.some(T=>e.includes(T.id))&&!_,A=b.useCallback(()=>{const T=j.map(R=>R.id);_?T.forEach(R=>{e.includes(R)&&t(R)}):T.forEach(R=>{e.includes(R)||t(R)})},[j,_,e,t]);return s.jsxs(be,{className:"bg-card border-border shadow-sm",children:[s.jsxs(Te,{className:"px-4 sm:px-6 py-4 sm:py-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0 gap-3 sm:gap-4",children:[s.jsxs(Ue,{className:"flex items-center gap-2 text-base sm:text-lg text-card-foreground",children:[s.jsx(Br,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),"Select Roles"]}),s.jsxs("div",{className:"relative",children:[s.jsx(ol,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(We,{placeholder:"Search roles...",value:r,onChange:T=>h(T.target.value),className:"pl-10 w-full sm:w-64 bg-background border-border text-foreground placeholder:text-muted-foreground focus:ring-ring focus:border-ring text-sm sm:text-base"})]})]}),j.length>0&&s.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[s.jsx(rs,{checked:_,ref:T=>{T&&(T.indeterminate=k)},onCheckedChange:A,className:"border-border"}),s.jsxs(X,{variant:"ghost",size:"sm",onClick:A,className:"text-xs sm:text-sm text-muted-foreground hover:text-foreground",children:[_?"Deselect All":"Select All"," (",j.length,")"]})]})]}),s.jsx(Ne,{className:"px-4 sm:px-6 pb-4 sm:pb-6",children:m?s.jsxs("div",{className:"text-destructive text-center py-4 text-sm sm:text-base",children:["Error loading roles: ",m]}):i?s.jsxs("div",{className:"flex items-center justify-center py-6 sm:py-8",children:[s.jsx(ut,{className:"h-6 w-6 sm:h-8 sm:w-8 animate-spin text-primary"}),s.jsx("span",{className:"ml-2 text-sm sm:text-base text-muted-foreground",children:"Loading roles..."})]}):s.jsx("div",{className:"space-y-3 sm:space-y-4",children:j.length===0?s.jsx("div",{className:"text-center py-6 sm:py-8 text-muted-foreground text-sm sm:text-base",children:r?"No roles found matching your search":"No roles found"}):j.map(T=>s.jsxs("div",{className:"flex items-center space-x-3 p-3 sm:p-4 border border-border rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsx(rs,{checked:e.includes(T.id),onCheckedChange:()=>t(T.id),className:"border-border"}),s.jsx("div",{className:"flex-1 cursor-pointer",onClick:()=>t(T.id),children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(Br,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"})}),s.jsx("div",{className:"min-w-0 flex-1",children:s.jsx("div",{className:"font-medium text-sm sm:text-base text-card-foreground truncate",children:T.name})})]}),s.jsx("div",{className:"flex flex-col items-start sm:items-end gap-2 sm:gap-1",children:s.jsx("span",{className:"text-xs text-muted-foreground",children:C(T.created_at)})})]})})]},T.id))})}),g&&s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 px-4 sm:px-6 py-3 border-t border-border bg-card/50",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Show"}),s.jsxs(Lt,{value:l.toString(),onValueChange:N,disabled:i,children:[s.jsx(Rt,{className:"w-16 h-8 text-xs bg-background border-border text-foreground",children:s.jsx(Bt,{})}),s.jsxs(Pt,{className:"bg-popover border-border",children:[s.jsx(ot,{value:"5",className:"text-popover-foreground focus:bg-accent focus:text-accent-foreground",children:"5"}),s.jsx(ot,{value:"10",className:"text-popover-foreground focus:bg-accent focus:text-accent-foreground",children:"10"}),s.jsx(ot,{value:"25",className:"text-popover-foreground focus:bg-accent focus:text-accent-foreground",children:"25"}),s.jsx(ot,{value:"50",className:"text-popover-foreground focus:bg-accent focus:text-accent-foreground",children:"50"}),s.jsx(ot,{value:"100",className:"text-popover-foreground focus:bg-accent focus:text-accent-foreground",children:"100"})]})]}),s.jsx("span",{className:"text-muted-foreground",children:"per page"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:y,disabled:i||a<=1,className:"h-8 px-3 text-xs bg-background border-border text-foreground hover:bg-accent hover:text-accent-foreground",children:[s.jsx(al,{className:"h-3 w-3 mr-1"}),"Prev"]}),s.jsxs("span",{className:"text-xs sm:text-sm px-3 text-foreground font-medium",children:["Page ",a," of ",g.lastPage||1]}),s.jsxs(X,{variant:"outline",size:"sm",onClick:w,disabled:i||a>=(g.lastPage||1),className:"h-8 px-3 text-xs bg-background border-border text-foreground hover:bg-accent hover:text-accent-foreground",children:["Next",s.jsx(qa,{className:"h-3 w-3 ml-1"})]})]}),s.jsxs("div",{className:"text-xs sm:text-sm text-muted-foreground",children:[s.jsxs("span",{className:"hidden sm:inline",children:[g.from||0," to ",g.to||0," of ",g.total||0," roles"]}),s.jsxs("span",{className:"sm:hidden",children:[g.from||0,"-",g.to||0," of ",g.total||0]})]})]})]})},EFe=({selectedStoreIds:e,onStoreToggle:t})=>{const r=Mt(),[n,a]=b.useState(""),o=ue(tg),{stores:l,pagination:c,loading:d,error:u,changePage:i,currentPageData:m,refetch:g}=bo(!0,{search:n}),x=l,v=[5,10,15,25,50],N=b.useCallback(async R=>{const P=parseInt(R,10);r(Bw(P)),await g({per_page:P,page:1,search:n})},[r,g,n]),h=b.useCallback(R=>{a(R),c&&c.current_page!==1&&i(1)},[c,i]),y=b.useMemo(()=>c?{shouldShowPagination:c.last_page>1,currentPage:c.current_page,isPrevDisabled:c.current_page<=1,isNextDisabled:c.current_page>=c.last_page}:{shouldShowPagination:!1,currentPage:1,isPrevDisabled:!0,isNextDisabled:!0},[c]),w=b.useCallback(()=>{y.isPrevDisabled||i(y.currentPage-1)},[y.isPrevDisabled,y.currentPage,i]),j=b.useCallback(()=>{y.isNextDisabled||i(y.currentPage+1)},[y.isNextDisabled,y.currentPage,i]),C=b.useMemo(()=>{if(!m||m.total===0)return"No stores found";const{from:R,to:P,total:M}=m;return s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"hidden sm:inline",children:[R," to ",P," of ",M," stores"]}),s.jsxs("span",{className:"sm:hidden",children:[R,"-",P," of ",M]})]})},[m]),_=R=>new Date(R).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),k=x.length>0&&x.every(R=>e.includes(R.id)),A=x.some(R=>e.includes(R.id))&&!k,T=b.useCallback(()=>{const R=x.map(P=>P.id);k?R.forEach(P=>{e.includes(P)&&t(P)}):R.forEach(P=>{e.includes(P)||t(P)})},[x,k,e,t]);return s.jsxs(be,{className:"bg-card border-border shadow-sm",children:[s.jsxs(Te,{className:"px-4 sm:px-6 py-4 sm:py-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0 gap-3 sm:gap-4",children:[s.jsxs(Ue,{className:"flex items-center gap-2 text-base sm:text-lg text-card-foreground",children:[s.jsx(fa,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),"Select Stores"]}),s.jsxs("div",{className:"relative",children:[s.jsx(ol,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(We,{placeholder:"Search stores...",value:n,onChange:R=>h(R.target.value),className:"pl-10 w-full sm:w-64 bg-background border-border text-foreground placeholder:text-muted-foreground focus:ring-ring focus:border-ring text-sm sm:text-base"})]})]}),x.length>0&&s.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[s.jsx(rs,{checked:k,ref:R=>{R&&(R.indeterminate=A)},onCheckedChange:T,className:"border-border"}),s.jsxs(X,{variant:"ghost",size:"sm",onClick:T,className:"text-xs sm:text-sm text-muted-foreground hover:text-foreground",children:[k?"Deselect All":"Select All"," (",x.length,")"]})]})]}),s.jsxs(Ne,{className:"px-4 sm:px-6 pb-4 sm:pb-6",children:[u?s.jsxs("div",{className:"text-destructive text-center py-4 text-sm sm:text-base",children:["Error loading stores: ",u]}):d?s.jsxs("div",{className:"flex items-center justify-center py-6 sm:py-8",children:[s.jsx(ut,{className:"h-6 w-6 sm:h-8 sm:w-8 animate-spin text-primary"}),s.jsx("span",{className:"ml-2 text-sm sm:text-base text-muted-foreground",children:"Loading stores..."})]}):s.jsx("div",{className:"space-y-3 sm:space-y-4",children:x.length===0?s.jsx("div",{className:"text-center py-6 sm:py-8 text-muted-foreground text-sm sm:text-base",children:n?"No stores found matching your search":"No stores found"}):x.map(R=>s.jsxs("div",{className:"flex items-center space-x-3 p-3 sm:p-4 border border-border rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsx(rs,{checked:e.includes(R.id),onCheckedChange:()=>t(R.id),className:"border-border"}),s.jsx("div",{className:"flex-1 cursor-pointer",onClick:()=>t(R.id),children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(fa,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("div",{className:"font-medium text-sm sm:text-base text-card-foreground truncate",children:R.name}),s.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:R.metadata?.address})]})]}),s.jsxs("div",{className:"flex flex-col items-start sm:items-end gap-2 sm:gap-1",children:[s.jsx(Ve,{variant:R.is_active?"default":"secondary",className:`text-xs ${R.is_active?"bg-green-600 text-white":"bg-secondary text-secondary-foreground"}`,children:R.is_active?"Active":"Inactive"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:_(R.created_at)})]})]})})]},R.id))}),(x.length>0||y.shouldShowPagination)&&s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 px-4 sm:px-6 py-3 border-t border-border bg-card/50",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Show"}),s.jsxs(Lt,{value:o.toString(),onValueChange:N,disabled:d,children:[s.jsx(Rt,{className:"w-16 h-8 text-xs bg-background border-border text-foreground",children:s.jsx(Bt,{})}),s.jsx(Pt,{className:"bg-popover border-border",children:v.map(R=>s.jsx(ot,{value:R.toString(),className:"text-popover-foreground focus:bg-accent focus:text-accent-foreground",children:R},R))})]}),s.jsx("span",{className:"text-muted-foreground",children:"per page"})]}),y.shouldShowPagination&&c&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:w,disabled:y.isPrevDisabled||d,className:"h-8 px-3 text-xs bg-background border-border text-foreground hover:bg-accent hover:text-accent-foreground",children:[s.jsx(al,{className:"h-3 w-3 mr-1"}),"Prev"]}),s.jsxs("span",{className:"text-xs sm:text-sm px-3 text-foreground font-medium",children:["Page ",y.currentPage," of ",c.last_page]}),s.jsxs(X,{variant:"outline",size:"sm",onClick:j,disabled:y.isNextDisabled||d,className:"h-8 px-3 text-xs bg-background border-border text-foreground hover:bg-accent hover:text-accent-foreground",children:["Next",s.jsx(qa,{className:"h-3 w-3 ml-1"})]})]}),s.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:C})]})]})]})},_Fe=({assignmentData:e,onUserToggle:t,onRoleToggle:r,onStoreToggle:n,onSelectAllUsers:a,onSelectAllRoles:o,onSelectAllStores:l})=>s.jsxs(Qd,{defaultValue:"users",className:"space-y-4 sm:space-y-6",children:[s.jsxs(_c,{className:"grid w-full grid-cols-3 bg-muted p-1 rounded-md",children:[s.jsxs(fs,{value:"users",className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm px-2 sm:px-4 py-2 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm transition-all",children:[s.jsx(_r,{className:"h-3 w-3 sm:h-4 sm:w-4"}),s.jsxs("span",{className:"hidden sm:inline",children:["Users (",e.selectedUsers.length,")"]}),s.jsx("span",{className:"sm:hidden",children:"Users"})]}),s.jsxs(fs,{value:"roles",className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm px-2 sm:px-4 py-2 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm transition-all",children:[s.jsx(Br,{className:"h-3 w-3 sm:h-4 sm:w-4"}),s.jsxs("span",{className:"hidden sm:inline",children:["Roles (",e.selectedRoles.length,")"]}),s.jsx("span",{className:"sm:hidden",children:"Roles"})]}),s.jsxs(fs,{value:"stores",className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm px-2 sm:px-4 py-2 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm transition-all",children:[s.jsx(fa,{className:"h-3 w-3 sm:h-4 sm:w-4"}),s.jsxs("span",{className:"hidden sm:inline",children:["Stores (",e.selectedStores.length,")"]}),s.jsx("span",{className:"sm:hidden",children:"Stores"})]})]}),s.jsx(ms,{value:"users",children:s.jsx(NFe,{selectedUserIds:e.selectedUsers,onUserToggle:t,onSelectAllUsers:a})}),s.jsx(ms,{value:"roles",children:s.jsx(CFe,{selectedRoleIds:e.selectedRoles,onRoleToggle:r,onSelectAllRoles:o})}),s.jsx(ms,{value:"stores",children:s.jsx(EFe,{selectedStoreIds:e.selectedStores,onStoreToggle:n,onSelectAllStores:l})})]}),AFe=()=>{const[e,t]=b.useState({selectedUsers:[],selectedRoles:[],selectedStores:[]}),[r,n]=b.useState(!1),[a,o]=b.useState(null),[l,c]=b.useState(!1),d=b.useMemo(()=>[{id:"users",title:"Select Users",description:"Choose users to assign roles to",completed:e.selectedUsers.length>0},{id:"roles",title:"Select Roles",description:"Choose roles to assign",completed:e.selectedRoles.length>0},{id:"stores",title:"Select Stores",description:"Choose stores for the assignment",completed:e.selectedStores.length>0}],[e.selectedUsers.length,e.selectedRoles.length,e.selectedStores.length]),u=b.useMemo(()=>d.filter(T=>T.completed).length,[d]),i=b.useMemo(()=>u/d.length*100,[u,d.length]),m=b.useCallback(T=>{t(R=>({...R,selectedUsers:R.selectedUsers.includes(T)?R.selectedUsers.filter(P=>P!==T):[...R.selectedUsers,T]}))},[]),g=b.useCallback(T=>{t(R=>({...R,selectedRoles:R.selectedRoles.includes(T)?R.selectedRoles.filter(P=>P!==T):[...R.selectedRoles,T]}))},[]),x=b.useCallback(T=>{t(R=>({...R,selectedStores:R.selectedStores.includes(T)?R.selectedStores.filter(P=>P!==T):[...R.selectedStores,T]}))},[]),v=b.useCallback(()=>{},[]),N=b.useCallback(()=>{},[]),h=b.useCallback(()=>{},[]),y=b.useCallback(()=>{t({selectedUsers:[],selectedRoles:[],selectedStores:[]}),o(null)},[]),{bulkAssignUserRoles:w,isBulkAssigning:j,bulkAssignError:C}=ET(),_=b.useCallback(async()=>{n(!0),c(!1);try{const T=[];let R=0;for(const L of e.selectedUsers){const B=[];for(const F of e.selectedRoles)for(const H of e.selectedStores)B.push({role_id:F,store_id:H,metadata:{start_date:new Date().toISOString(),notes:"Bulk assignment via Assignment Page"}}),R++;const U={user_id:L,assignments:B};T.push(w(U))}const P=await Promise.allSettled(T),M=P.filter(L=>L.status==="fulfilled").length,I=P.filter(L=>L.status==="rejected").length;I===0?(o({success:!0,message:`Successfully assigned ${e.selectedRoles.length} roles to ${e.selectedUsers.length} users across ${e.selectedStores.length} stores (${R} total assignments).`}),setTimeout(()=>{y()},3e3)):o({success:!1,message:`Partial success: ${M} users assigned successfully, ${I} failed. Please check the failed assignments and try again.`})}catch(T){console.error("Assignment error:",T),o({success:!1,message:C?.message||"Failed to assign roles. Please try again."})}finally{n(!1)}},[e,w,C,y]),k=b.useMemo(()=>e.selectedUsers.length>0&&e.selectedRoles.length>0&&e.selectedStores.length>0,[e]),A=b.useMemo(()=>r||j,[r,j]);return s.jsxs(Vt,{title:"Role Assignment",subtitle:"Assign roles to users across different stores with an intuitive interface",backButton:{show:!0},children:[s.jsx(eFe,{assignmentData:e,canAssign:k,isAssigning:A,showConfirmDialog:l,onShowConfirmDialog:c,onClearSelection:y,onConfirmAssignment:_}),s.jsx(pFe,{assignmentSteps:d,completedSteps:u,progressPercentage:i,assignmentResult:a,assignmentData:e}),s.jsx(_Fe,{assignmentData:e,onUserToggle:m,onRoleToggle:g,onStoreToggle:x,onSelectAllUsers:v,onSelectAllRoles:N,onSelectAllStores:h})]})},kFe=({assignmentSteps:e,completedSteps:t,progressPercentage:r})=>s.jsx(be,{className:"bg-[var(--card)] border-[var(--border)]",children:s.jsx(Ne,{className:"pt-4 sm:pt-6 px-4 sm:px-6",children:s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-4",children:[s.jsx("span",{className:"text-sm sm:text-base font-medium text-[var(--card-foreground)]",children:"Assignment Progress"}),s.jsxs("span",{className:"text-xs sm:text-sm text-[var(--muted-foreground)]",children:[t," of ",e.length," steps completed"]})]}),s.jsx(DT,{value:r,className:"h-2 sm:h-3"}),s.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-3 sm:gap-2",children:e.map((n,a)=>s.jsxs("div",{className:"flex items-center gap-2 sm:gap-1 lg:gap-2",children:[n.completed?s.jsx(Ns,{className:"h-4 w-4 sm:h-3 sm:w-3 lg:h-4 lg:w-4 text-[#10b981] flex-shrink-0"}):s.jsx("div",{className:"h-4 w-4 sm:h-3 sm:w-3 lg:h-4 lg:w-4 rounded-full border-2 border-[var(--muted)] flex-shrink-0"}),s.jsx("span",{className:`text-xs sm:text-[10px] lg:text-xs ${n.completed?"text-[#059669]":"text-[var(--muted-foreground)]"} truncate`,children:n.title}),a<e.length-1&&s.jsx(t$,{className:"h-3 w-3 sm:h-2 sm:w-2 lg:h-3 lg:w-3 text-[var(--muted-foreground)] ml-1 sm:ml-0 lg:ml-2 hidden sm:block flex-shrink-0"})]},n.id))})]})})}),DFe=({result:e})=>e?s.jsxs(Ze,{className:`px-4 sm:px-6 py-3 sm:py-4 ${e.success?"border-[#10b981] bg-[#dcfce7]":"border-[#ef4444] bg-[#fef2f2]"} dark:${e.success?"border-[#059669] bg-[#064e3b]":"border-[#dc2626] bg-[#7f1d1d]"}`,children:[e.success?s.jsx(Ns,{className:"h-4 w-4 sm:h-5 sm:w-5 text-[#059669] flex-shrink-0"}):s.jsx(st,{className:"h-4 w-4 sm:h-5 sm:w-5 text-[#dc2626] flex-shrink-0"}),s.jsx(Ke,{className:`text-sm sm:text-base ${e.success?"text-[#065f46]":"text-[#991b1b]"} dark:${e.success?"text-[#10b981]":"text-[#f87171]"} ml-2`,children:e.message})]}):null,TFe=({assignmentData:e,users:t,roles:r,stores:n})=>e.selectedUser||e.selectedRole||e.selectedStore?s.jsxs(be,{className:"bg-[var(--card)] border-[var(--border)]",children:[s.jsx(Te,{className:"px-4 sm:px-6 py-4 sm:py-6",children:s.jsxs(Ue,{className:"flex items-center gap-2 text-base sm:text-lg text-[var(--card-foreground)]",children:[s.jsx(pg,{className:"h-4 w-4 sm:h-5 sm:w-5 text-[var(--primary)]"}),"Current Selection"]})}),s.jsx(Ne,{className:"px-4 sm:px-6 pb-4 sm:pb-6",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[s.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_r,{className:"h-4 w-4 text-[var(--primary)] flex-shrink-0"}),s.jsx("span",{className:"font-medium text-sm sm:text-base text-[var(--card-foreground)]",children:"Selected User"})]}),s.jsx("div",{children:e.selectedUser?(()=>{const o=t.find(l=>l.id===e.selectedUser);return o?s.jsx(Ve,{variant:"secondary",className:"text-xs sm:text-sm bg-[var(--secondary)] text-[var(--secondary-foreground)] border-[var(--border)]",children:o.name}):s.jsx("span",{className:"text-[var(--muted-foreground)] text-xs sm:text-sm",children:"User not found"})})():s.jsx("span",{className:"text-[var(--muted-foreground)] text-xs sm:text-sm",children:"No user selected"})})]}),s.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Br,{className:"h-4 w-4 text-[var(--primary)] flex-shrink-0"}),s.jsx("span",{className:"font-medium text-sm sm:text-base text-[var(--card-foreground)]",children:"Selected Role"})]}),s.jsx("div",{children:e.selectedRole?(()=>{const o=r.find(l=>l.id===e.selectedRole);return o?s.jsx(Ve,{variant:"secondary",className:"text-xs sm:text-sm bg-[var(--secondary)] text-[var(--secondary-foreground)] border-[var(--border)]",children:o.name}):s.jsx("span",{className:"text-[var(--muted-foreground)] text-xs sm:text-sm",children:"Role not found"})})():s.jsx("span",{className:"text-[var(--muted-foreground)] text-xs sm:text-sm",children:"No role selected"})})]}),s.jsxs("div",{className:"space-y-2 sm:space-y-3 sm:col-span-2 lg:col-span-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fa,{className:"h-4 w-4 text-[var(--primary)] flex-shrink-0"}),s.jsx("span",{className:"font-medium text-sm sm:text-base text-[var(--card-foreground)]",children:"Selected Store"})]}),s.jsx("div",{children:e.selectedStore?(()=>{const o=n.find(l=>l.id===e.selectedStore);return o?s.jsx(Ve,{variant:"secondary",className:"text-xs sm:text-sm bg-[var(--secondary)] text-[var(--secondary-foreground)] border-[var(--border)]",children:o.name}):s.jsx("span",{className:"text-[var(--muted-foreground)] text-xs sm:text-sm",children:"Store not found"})})():s.jsx("span",{className:"text-[var(--muted-foreground)] text-xs sm:text-sm",children:"No store selected"})})]})]})})]}):null;function Vi(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}var w_="rovingFocusGroup.onEntryFocus",RFe={bubbles:!1,cancelable:!0},Yg="RovingFocusGroup",[c2,JZ,PFe]=$1(Yg),[MFe,eK]=jn(Yg,[PFe]),[OFe,IFe]=MFe(Yg),tK=b.forwardRef((e,t)=>s.jsx(c2.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(c2.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(LFe,{...e,ref:t})})}));tK.displayName=Yg;var LFe=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:o,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:u,preventScrollOnEntryFocus:i=!1,...m}=e,g=b.useRef(null),x=ct(t,g),v=Xd(o),[N,h]=Fa({prop:l,defaultProp:c??null,onChange:d,caller:Yg}),[y,w]=b.useState(!1),j=Mr(u),C=JZ(r),_=b.useRef(!1),[k,A]=b.useState(0);return b.useEffect(()=>{const T=g.current;if(T)return T.addEventListener(w_,j),()=>T.removeEventListener(w_,j)},[j]),s.jsx(OFe,{scope:r,orientation:n,dir:v,loop:a,currentTabStopId:N,onItemFocus:b.useCallback(T=>h(T),[h]),onItemShiftTab:b.useCallback(()=>w(!0),[]),onFocusableItemAdd:b.useCallback(()=>A(T=>T+1),[]),onFocusableItemRemove:b.useCallback(()=>A(T=>T-1),[]),children:s.jsx(Ge.div,{tabIndex:y||k===0?-1:0,"data-orientation":n,...m,ref:x,style:{outline:"none",...e.style},onMouseDown:Vi(e.onMouseDown,()=>{_.current=!0}),onFocus:Vi(e.onFocus,T=>{const R=!_.current;if(T.target===T.currentTarget&&R&&!y){const P=new CustomEvent(w_,RFe);if(T.currentTarget.dispatchEvent(P),!P.defaultPrevented){const M=C().filter(F=>F.focusable),I=M.find(F=>F.active),L=M.find(F=>F.id===N),U=[I,L,...M].filter(Boolean).map(F=>F.ref.current);sK(U,i)}}_.current=!1}),onBlur:Vi(e.onBlur,()=>w(!1))})})}),rK="RovingFocusGroupItem",nK=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:o,children:l,...c}=e,d=kn(),u=o||d,i=IFe(rK,r),m=i.currentTabStopId===u,g=JZ(r),{onFocusableItemAdd:x,onFocusableItemRemove:v,currentTabStopId:N}=i;return b.useEffect(()=>{if(n)return x(),()=>v()},[n,x,v]),s.jsx(c2.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:s.jsx(Ge.span,{tabIndex:m?0:-1,"data-orientation":i.orientation,...c,ref:t,onMouseDown:Vi(e.onMouseDown,h=>{n?i.onItemFocus(u):h.preventDefault()}),onFocus:Vi(e.onFocus,()=>i.onItemFocus(u)),onKeyDown:Vi(e.onKeyDown,h=>{if(h.key==="Tab"&&h.shiftKey){i.onItemShiftTab();return}if(h.target!==h.currentTarget)return;const y=UFe(h,i.orientation,i.dir);if(y!==void 0){if(h.metaKey||h.ctrlKey||h.altKey||h.shiftKey)return;h.preventDefault();let j=g().filter(C=>C.focusable).map(C=>C.ref.current);if(y==="last")j.reverse();else if(y==="prev"||y==="next"){y==="prev"&&j.reverse();const C=j.indexOf(h.currentTarget);j=i.loop?$Fe(j,C+1):j.slice(C+1)}setTimeout(()=>sK(j))}}),children:typeof l=="function"?l({isCurrentTabStop:m,hasTabStop:N!=null}):l})})});nK.displayName=rK;var BFe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function FFe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function UFe(e,t,r){const n=FFe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return BFe[n]}function sK(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function $Fe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var HFe=tK,zFe=nK;function qFe(e,t){return b.useReducer((r,n)=>t[r][n]??r,e)}var aK=e=>{const{present:t,children:r}=e,n=VFe(t),a=typeof r=="function"?r({present:n.isPresent}):b.Children.only(r),o=ct(n.ref,WFe(a));return typeof r=="function"||n.isPresent?b.cloneElement(a,{ref:o}):null};aK.displayName="Presence";function VFe(e){const[t,r]=b.useState(),n=b.useRef(null),a=b.useRef(e),o=b.useRef("none"),l=e?"mounted":"unmounted",[c,d]=qFe(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=Kv(n.current);o.current=c==="mounted"?u:"none"},[c]),ir(()=>{const u=n.current,i=a.current;if(i!==e){const g=o.current,x=Kv(u);e?d("MOUNT"):x==="none"||u?.display==="none"?d("UNMOUNT"):d(i&&g!==x?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,d]),ir(()=>{if(t){let u;const i=t.ownerDocument.defaultView??window,m=x=>{const N=Kv(n.current).includes(CSS.escape(x.animationName));if(x.target===t&&N&&(d("ANIMATION_END"),!a.current)){const h=t.style.animationFillMode;t.style.animationFillMode="forwards",u=i.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=h)})}},g=x=>{x.target===t&&(o.current=Kv(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{i.clearTimeout(u),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:b.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Kv(e){return e?.animationName||"none"}function WFe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var RT="Radio",[GFe,oK]=jn(RT),[YFe,ZFe]=GFe(RT),iK=b.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:o,disabled:l,value:c="on",onCheck:d,form:u,...i}=e,[m,g]=b.useState(null),x=ct(t,h=>g(h)),v=b.useRef(!1),N=m?u||!!m.closest("form"):!0;return s.jsxs(YFe,{scope:r,checked:a,disabled:l,children:[s.jsx(Ge.button,{type:"button",role:"radio","aria-checked":a,"data-state":uK(a),"data-disabled":l?"":void 0,disabled:l,value:c,...i,ref:x,onClick:Vi(e.onClick,h=>{a||d?.(),N&&(v.current=h.isPropagationStopped(),v.current||h.stopPropagation())})}),N&&s.jsx(dK,{control:m,bubbles:!v.current,name:n,value:c,checked:a,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});iK.displayName=RT;var lK="RadioIndicator",cK=b.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...a}=e,o=ZFe(lK,r);return s.jsx(aK,{present:n||o.checked,children:s.jsx(Ge.span,{"data-state":uK(o.checked),"data-disabled":o.disabled?"":void 0,...a,ref:t})})});cK.displayName=lK;var KFe="RadioBubbleInput",dK=b.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...a},o)=>{const l=b.useRef(null),c=ct(l,o),d=q1(r),u=Sg(t);return b.useEffect(()=>{const i=l.current;if(!i)return;const m=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(m,"checked").set;if(d!==r&&x){const v=new Event("click",{bubbles:n});x.call(i,r),i.dispatchEvent(v)}},[d,r,n]),s.jsx(Ge.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:c,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});dK.displayName=KFe;function uK(e){return e?"checked":"unchecked"}var XFe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],nS="RadioGroup",[QFe,P7e]=jn(nS,[eK,oK]),fK=eK(),mK=oK(),[JFe,eUe]=QFe(nS),hK=b.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:o,required:l=!1,disabled:c=!1,orientation:d,dir:u,loop:i=!0,onValueChange:m,...g}=e,x=fK(r),v=Xd(u),[N,h]=Fa({prop:o,defaultProp:a??null,onChange:m,caller:nS});return s.jsx(JFe,{scope:r,name:n,required:l,disabled:c,value:N,onValueChange:h,children:s.jsx(HFe,{asChild:!0,...x,orientation:d,dir:v,loop:i,children:s.jsx(Ge.div,{role:"radiogroup","aria-required":l,"aria-orientation":d,"data-disabled":c?"":void 0,dir:v,...g,ref:t})})})});hK.displayName=nS;var pK="RadioGroupItem",gK=b.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...a}=e,o=eUe(pK,r),l=o.disabled||n,c=fK(r),d=mK(r),u=b.useRef(null),i=ct(t,u),m=o.value===a.value,g=b.useRef(!1);return b.useEffect(()=>{const x=N=>{XFe.includes(N.key)&&(g.current=!0)},v=()=>g.current=!1;return document.addEventListener("keydown",x),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",x),document.removeEventListener("keyup",v)}},[]),s.jsx(zFe,{asChild:!0,...c,focusable:!l,active:m,children:s.jsx(iK,{disabled:l,required:o.required,checked:m,...d,...a,name:o.name,ref:i,onCheck:()=>o.onValueChange(a.value),onKeyDown:Vi(x=>{x.key==="Enter"&&x.preventDefault()}),onFocus:Vi(a.onFocus,()=>{g.current&&u.current?.click()})})})});gK.displayName=pK;var tUe="RadioGroupIndicator",xK=b.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,a=mK(r);return s.jsx(cK,{...a,...n,ref:t})});xK.displayName=tUe;var vK=hK,yK=gK,rUe=xK;const Zg=b.forwardRef(({className:e,...t},r)=>s.jsx(vK,{className:ee("grid gap-2",e),...t,ref:r}));Zg.displayName=vK.displayName;const Kg=b.forwardRef(({className:e,...t},r)=>s.jsx(yK,{ref:r,className:ee("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(rUe,{className:"flex items-center justify-center",children:s.jsx(s$,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Kg.displayName=yK.displayName;const nUe=({selectedUserId:e,onUserSelect:t})=>{const r=Mt(),[n,a]=b.useState(""),[o,l]=b.useState("all"),c=ue(CF),d=T=>{l(T)},{users:u,pagination:i,loading:m,error:g,fetchUsers:x}=Am(!0,{per_page:c,search:n}),v=b.useMemo(()=>{let T=u;switch(o){case"with-roles":T=T.filter(R=>R.roles&&R.roles.length>0);break;case"without-roles":T=T.filter(R=>!R.roles||R.roles.length===0);break}return T},[u,o]),N=[5,10,15,25,50],h=b.useCallback(async T=>{const R=parseInt(T,10);r(SF(R)),await x({per_page:R,page:1,search:n})},[r,x,n]),y=b.useCallback(T=>{a(T),i&&i.currentPage!==1&&x({page:1,per_page:c,search:T})},[i,x,c]),w=b.useMemo(()=>i?{shouldShowPagination:i.lastPage>1,currentPage:i.currentPage,isPrevDisabled:i.currentPage<=1,isNextDisabled:i.currentPage>=i.lastPage}:{shouldShowPagination:!1,currentPage:1,isPrevDisabled:!0,isNextDisabled:!0},[i]),j=b.useCallback(()=>{w.isPrevDisabled||x({page:w.currentPage-1,per_page:c,search:n})},[w.isPrevDisabled,w.currentPage,x,c,n]),C=b.useCallback(()=>{w.isNextDisabled||x({page:w.currentPage+1,per_page:c,search:n})},[w.isNextDisabled,w.currentPage,x,c,n]),_=b.useMemo(()=>{if(!i||i.total===0)return"No users found";const{from:T,to:R,total:P}=i;return s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"hidden sm:inline",children:[T," to ",R," of ",P," users"]}),s.jsxs("span",{className:"sm:hidden",children:[T,"-",R," of ",P]})]})},[i]),k=T=>new Date(T).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),A=T=>T.split(" ").map(R=>R.charAt(0)).join("").toUpperCase().slice(0,2);return s.jsxs(be,{className:"bg-[var(--card)] border-[var(--border)]",children:[s.jsx(Te,{className:"px-4 sm:px-6 py-4 sm:py-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0 gap-3 sm:gap-4",children:[s.jsx(Ue,{className:"text-base sm:text-lg text-[var(--card-foreground)]",children:"Select User"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ol,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-[var(--muted-foreground)]"}),s.jsx(We,{placeholder:"Search users...",value:n,onChange:T=>y(T.target.value),className:"pl-10 w-full sm:w-64 bg-[var(--background)] border-[var(--border)] text-[var(--foreground)] placeholder:text-[var(--muted-foreground)] focus:ring-[var(--ring)] focus:border-[var(--ring)] text-sm sm:text-base"})]}),s.jsxs(Lt,{value:o,onValueChange:d,children:[s.jsxs(Rt,{className:"w-full sm:w-40 bg-[var(--background)] border-[var(--border)] text-[var(--foreground)] text-sm sm:text-base",children:[s.jsx(Kw,{className:"h-4 w-4 mr-2 text-[var(--muted-foreground)]"}),s.jsx(Bt,{})]}),s.jsxs(Pt,{className:"bg-[var(--popover)] border-[var(--border)]",children:[s.jsx(ot,{value:"all",className:"text-[var(--popover-foreground)] focus:bg-[var(--accent)] focus:text-[var(--accent-foreground)]",children:"All Users"}),s.jsx(ot,{value:"with-roles",className:"text-[var(--popover-foreground)] focus:bg-[var(--accent)] focus:text-[var(--accent-foreground)]",children:"With Roles"}),s.jsx(ot,{value:"without-roles",className:"text-[var(--popover-foreground)] focus:bg-[var(--accent)] focus:text-[var(--accent-foreground)]",children:"Without Roles"})]})]})]})]})}),s.jsxs(Ne,{className:"px-4 sm:px-6 pb-4 sm:pb-6",children:[g?s.jsxs("div",{className:"text-[#dc2626] dark:text-[#f87171] text-center py-4 text-sm sm:text-base",children:["Error loading users: ",g]}):m?s.jsxs("div",{className:"flex items-center justify-center py-6 sm:py-8",children:[s.jsx(ut,{className:"h-6 w-6 sm:h-8 sm:w-8 animate-spin text-[var(--primary)]"}),s.jsx("span",{className:"ml-2 text-sm sm:text-base text-[var(--muted-foreground)]",children:"Loading users..."})]}):s.jsx(Zg,{value:e?.toString()||"",onValueChange:t,className:"space-y-3 sm:space-y-4",children:v.length===0?s.jsx("div",{className:"text-center py-6 sm:py-8 text-[var(--muted-foreground)] text-sm sm:text-base",children:n?"No users found matching your search":"No users found"}):s.jsx(s.Fragment,{children:v.map(T=>s.jsxs("div",{className:"flex items-center space-x-3 p-3 sm:p-4 border border-[var(--border)] rounded-lg hover:bg-[var(--muted)]/50 transition-colors",children:[s.jsx(Kg,{value:T.id.toString(),id:`user-${T.id}`,className:"text-[var(--primary)] border-[var(--border)]"}),s.jsx(Ie,{htmlFor:`user-${T.id}`,className:"flex-1 cursor-pointer",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-full bg-[var(--primary)]/10 flex items-center justify-center text-xs sm:text-sm font-medium text-[var(--primary)] flex-shrink-0",children:A(T.name)}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("div",{className:"font-medium text-sm sm:text-base text-[var(--card-foreground)] truncate",children:T.name}),s.jsx("div",{className:"text-xs sm:text-sm text-[var(--muted-foreground)] truncate",children:T.email})]})]}),s.jsxs("div",{className:"flex flex-col items-start sm:items-end gap-2 sm:gap-1",children:[s.jsxs("div",{className:"flex flex-wrap gap-1",children:[T.roles&&T.roles.length>0?T.roles.slice(0,2).map(R=>s.jsx(Ve,{variant:"outline",className:"text-xs bg-[var(--secondary)] text-[var(--secondary-foreground)] border-[var(--border)]",children:R.name},R.id)):s.jsx("span",{className:"text-[var(--muted-foreground)] text-xs",children:"No roles"}),T.roles&&T.roles.length>2&&s.jsxs(Ve,{variant:"outline",className:"text-xs bg-[var(--secondary)] text-[var(--secondary-foreground)] border-[var(--border)]",children:["+",T.roles.length-2]})]}),s.jsx("div",{className:"text-xs text-[var(--muted-foreground)]",children:k(T.created_at)})]})]})})]},T.id))})}),(v.length>0||w.shouldShowPagination)&&s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 px-4 sm:px-6 py-3 border-t border-[var(--border)] bg-[var(--card)]/50",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[s.jsx("span",{className:"text-[var(--muted-foreground)]",children:"Show"}),s.jsxs(Lt,{value:c.toString(),onValueChange:h,disabled:m,children:[s.jsx(Rt,{className:"w-16 h-8 text-xs bg-[var(--background)] border-[var(--border)] text-[var(--foreground)]",children:s.jsx(Bt,{})}),s.jsx(Pt,{className:"bg-[var(--popover)] border-[var(--border)]",children:N.map(T=>s.jsx(ot,{value:T.toString(),className:"text-[var(--popover-foreground)] focus:bg-[var(--accent)] focus:text-[var(--accent-foreground)]",children:T},T))})]}),s.jsx("span",{className:"text-[var(--muted-foreground)]",children:"per page"})]}),w.shouldShowPagination&&i&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:j,disabled:w.isPrevDisabled||m,className:"h-8 px-3 text-xs bg-[var(--background)] border-[var(--border)] text-[var(--foreground)] hover:bg-[var(--accent)] hover:text-[var(--accent-foreground)]",children:[s.jsx(al,{className:"h-3 w-3 mr-1"}),"Prev"]}),s.jsxs("span",{className:"text-xs sm:text-sm px-3 text-[var(--foreground)] font-medium",children:["Page ",w.currentPage," of ",i.lastPage]}),s.jsxs(X,{variant:"outline",size:"sm",onClick:C,disabled:w.isNextDisabled||m,className:"h-8 px-3 text-xs bg-[var(--background)] border-[var(--border)] text-[var(--foreground)] hover:bg-[var(--accent)] hover:text-[var(--accent-foreground)]",children:["Next",s.jsx(qa,{className:"h-3 w-3 ml-1"})]})]}),s.jsx("div",{className:"text-xs sm:text-sm text-[var(--muted-foreground)]",children:_})]})]})]})},sUe=({selectedRoleId:e,onRoleSelect:t})=>{const[r,n]=b.useState(""),[a,o]=b.useState(1),[l,c]=b.useState(10),d={page:a,per_page:l,search:r||void 0},{roles:u,loading:i,error:m,pagination:g,fetchRoles:x}=yo(!0,d),v=u,N=b.useCallback(async _=>{o(_),await x({page:_,per_page:l,search:r||void 0})},[x,l,r]),h=b.useCallback(async _=>{const k=parseInt(_,10);c(k),o(1),await x({page:1,per_page:k,search:r||void 0})},[x,r]),y=b.useCallback(async _=>{n(_),o(1),await x({page:1,per_page:l,search:_||void 0})},[x,l]),w=b.useCallback(()=>{g&&a>1&&N(a-1)},[a,g,N]),j=b.useCallback(()=>{g&&a<g.lastPage&&N(a+1)},[a,g,N]),C=_=>new Date(_).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return s.jsxs(be,{className:"bg-[var(--card)] border-[var(--border)]",children:[s.jsx(Te,{className:"px-4 sm:px-6 py-4 sm:py-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0 gap-3 sm:gap-4",children:[s.jsx(Ue,{className:"text-base sm:text-lg text-[var(--card-foreground)]",children:"Select Role"}),s.jsxs("div",{className:"relative",children:[s.jsx(ol,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-[var(--muted-foreground)]"}),s.jsx(We,{placeholder:"Search roles...",value:r,onChange:_=>y(_.target.value),className:"pl-10 w-full sm:w-64 bg-[var(--background)] border-[var(--border)] text-[var(--foreground)] placeholder:text-[var(--muted-foreground)] focus:ring-[var(--ring)] focus:border-[var(--ring)] text-sm sm:text-base"})]})]})}),s.jsxs(Ne,{className:"px-4 sm:px-6 pb-4 sm:pb-6",children:[m?s.jsxs("div",{className:"text-[#dc2626] dark:text-[#f87171] text-center py-4 text-sm sm:text-base",children:["Error loading roles: ",m]}):i?s.jsxs("div",{className:"flex items-center justify-center py-6 sm:py-8",children:[s.jsx(ut,{className:"h-6 w-6 sm:h-8 sm:w-8 animate-spin text-[var(--primary)]"}),s.jsx("span",{className:"ml-2 text-sm sm:text-base text-[var(--muted-foreground)]",children:"Loading roles..."})]}):s.jsx(Zg,{value:e?.toString()||"",onValueChange:t,className:"space-y-3 sm:space-y-4",children:v.length===0?s.jsx("div",{className:"text-center py-6 sm:py-8 text-[var(--muted-foreground)] text-sm sm:text-base",children:r?"No roles found matching your search":"No roles found"}):v.map(_=>s.jsxs("div",{className:"flex items-center space-x-3 p-3 sm:p-4 border border-[var(--border)] rounded-lg hover:bg-[var(--muted)]/50 transition-colors",children:[s.jsx(Kg,{value:_.id.toString(),id:`role-${_.id}`,className:"text-[var(--primary)] border-[var(--border)]"}),s.jsx(Ie,{htmlFor:`role-${_.id}`,className:"flex-1 cursor-pointer",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-full bg-[var(--primary)]/10 flex items-center justify-center flex-shrink-0",children:s.jsx(Br,{className:"h-4 w-4 sm:h-5 sm:w-5 text-[var(--primary)]"})}),s.jsx("div",{className:"min-w-0 flex-1",children:s.jsx("div",{className:"font-medium text-sm sm:text-base text-[var(--card-foreground)] truncate",children:_.name})})]}),s.jsx("div",{className:"flex flex-col items-start sm:items-end gap-2 sm:gap-1",children:s.jsx("div",{className:"text-xs text-[var(--muted-foreground)]",children:C(_.created_at)})})]})})]},_.id))}),g&&s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 px-4 sm:px-6 py-3 border-t border-[var(--border)] bg-[var(--card)]/50",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[s.jsx("span",{className:"text-[var(--muted-foreground)]",children:"Show"}),s.jsxs(Lt,{value:l.toString(),onValueChange:h,disabled:i,children:[s.jsx(Rt,{className:"w-16 h-8 text-xs bg-[var(--background)] border-[var(--border)] text-[var(--foreground)]",children:s.jsx(Bt,{})}),s.jsxs(Pt,{className:"bg-[var(--popover)] border-[var(--border)]",children:[s.jsx(ot,{value:"5",className:"text-[var(--popover-foreground)] focus:bg-[var(--accent)] focus:text-[var(--accent-foreground)]",children:"5"}),s.jsx(ot,{value:"10",className:"text-[var(--popover-foreground)] focus:bg-[var(--accent)] focus:text-[var(--accent-foreground)]",children:"10"}),s.jsx(ot,{value:"25",className:"text-[var(--popover-foreground)] focus:bg-[var(--accent)] focus:text-[var(--accent-foreground)]",children:"25"}),s.jsx(ot,{value:"50",className:"text-[var(--popover-foreground)] focus:bg-[var(--accent)] focus:text-[var(--accent-foreground)]",children:"50"}),s.jsx(ot,{value:"100",className:"text-[var(--popover-foreground)] focus:bg-[var(--accent)] focus:text-[var(--accent-foreground)]",children:"100"})]})]}),s.jsx("span",{className:"text-[var(--muted-foreground)]",children:"per page"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:w,disabled:i||a<=1,className:"h-8 px-3 text-xs bg-[var(--background)] border-[var(--border)] text-[var(--foreground)] hover:bg-[var(--accent)] hover:text-[var(--accent-foreground)]",children:[s.jsx(al,{className:"h-3 w-3 mr-1"}),"Prev"]}),s.jsxs("span",{className:"text-xs sm:text-sm px-3 text-[var(--foreground)] font-medium",children:["Page ",a," of ",g.lastPage||1]}),s.jsxs(X,{variant:"outline",size:"sm",onClick:j,disabled:i||a>=(g.lastPage||1),className:"h-8 px-3 text-xs bg-[var(--background)] border-[var(--border)] text-[var(--foreground)] hover:bg-[var(--accent)] hover:text-[var(--accent-foreground)]",children:["Next",s.jsx(qa,{className:"h-3 w-3 ml-1"})]})]}),s.jsxs("div",{className:"text-xs sm:text-sm text-[var(--muted-foreground)]",children:[s.jsxs("span",{className:"hidden sm:inline",children:[g.from||0," to ",g.to||0," of ",g.total||0," roles"]}),s.jsxs("span",{className:"sm:hidden",children:[g.from||0,"-",g.to||0," of ",g.total||0]})]})]})]})]})},aUe=({selectedStoreId:e,onStoreSelect:t})=>{const r=Mt(),[n,a]=b.useState(""),[o,l]=b.useState("all"),c=ue(tg),d=R=>{l(R)},{stores:u,pagination:i,loading:m,error:g,changePage:x,currentPageData:v,refetch:N}=bo(!0,{search:n}),h=b.useMemo(()=>{let R=u;switch(o){case"active":R=R.filter(P=>P.is_active);break;case"inactive":R=R.filter(P=>!P.is_active);break}return R},[u,o]),y=[5,10,15,25,50],w=b.useCallback(async R=>{const P=parseInt(R,10);r(Bw(P)),await N({per_page:P,page:1,search:n})},[r,N,n]),j=b.useCallback(R=>{a(R),i&&i.current_page!==1&&x(1)},[i,x]),C=b.useMemo(()=>i?{shouldShowPagination:i.last_page>1,currentPage:i.current_page,isPrevDisabled:i.current_page<=1,isNextDisabled:i.current_page>=i.last_page}:{shouldShowPagination:!1,currentPage:1,isPrevDisabled:!0,isNextDisabled:!0},[i]),_=b.useCallback(()=>{C.isPrevDisabled||x(C.currentPage-1)},[C.isPrevDisabled,C.currentPage,x]),k=b.useCallback(()=>{C.isNextDisabled||x(C.currentPage+1)},[C.isNextDisabled,C.currentPage,x]),A=b.useMemo(()=>{if(!v||v.total===0)return"No stores found";const{from:R,to:P,total:M}=v;return s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"hidden sm:inline",children:[R," to ",P," of ",M," stores"]}),s.jsxs("span",{className:"sm:hidden",children:[R,"-",P," of ",M]})]})},[v]),T=R=>new Date(R).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return s.jsxs(be,{className:"bg-[var(--card)] border-[var(--border)]",children:[s.jsx(Te,{className:"px-4 sm:px-6 py-4 sm:py-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0 gap-3 sm:gap-4",children:[s.jsx(Ue,{className:"text-base sm:text-lg text-[var(--card-foreground)]",children:"Select Store"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ol,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-[var(--muted-foreground)]"}),s.jsx(We,{placeholder:"Search stores...",value:n,onChange:R=>j(R.target.value),className:"pl-10 w-full sm:w-64 bg-[var(--background)] border-[var(--border)] text-[var(--foreground)] placeholder:text-[var(--muted-foreground)] focus:ring-[var(--ring)] focus:border-[var(--ring)] text-sm sm:text-base"})]}),s.jsxs(Lt,{value:o,onValueChange:d,children:[s.jsxs(Rt,{className:"w-full sm:w-40 bg-[var(--background)] border-[var(--border)] text-[var(--foreground)] text-sm sm:text-base",children:[s.jsx(Kw,{className:"h-4 w-4 mr-2 text-[var(--muted-foreground)]"}),s.jsx(Bt,{})]}),s.jsxs(Pt,{className:"bg-[var(--popover)] border-[var(--border)]",children:[s.jsx(ot,{value:"all",className:"text-[var(--popover-foreground)] focus:bg-[var(--accent)] focus:text-[var(--accent-foreground)]",children:"All Stores"}),s.jsx(ot,{value:"active",className:"text-[var(--popover-foreground)] focus:bg-[var(--accent)] focus:text-[var(--accent-foreground)]",children:"Active"}),s.jsx(ot,{value:"inactive",className:"text-[var(--popover-foreground)] focus:bg-[var(--accent)] focus:text-[var(--accent-foreground)]",children:"Inactive"})]})]})]})]})}),s.jsxs(Ne,{className:"px-4 sm:px-6 pb-4 sm:pb-6",children:[g?s.jsxs("div",{className:"text-[#dc2626] dark:text-[#f87171] text-center py-4 text-sm sm:text-base",children:["Error loading stores: ",g]}):m?s.jsxs("div",{className:"flex items-center justify-center py-6 sm:py-8",children:[s.jsx(ut,{className:"h-6 w-6 sm:h-8 sm:w-8 animate-spin text-[var(--primary)]"}),s.jsx("span",{className:"ml-2 text-sm sm:text-base text-[var(--muted-foreground)]",children:"Loading stores..."})]}):s.jsx(Zg,{value:e?.toString()||"",onValueChange:t,className:"space-y-3 sm:space-y-4",children:h.length===0?s.jsx("div",{className:"text-center py-6 sm:py-8 text-[var(--muted-foreground)] text-sm sm:text-base",children:n?"No stores found matching your search":"No stores found"}):h.map(R=>s.jsxs("div",{className:"flex items-center space-x-3 p-3 sm:p-4 border border-[var(--border)] rounded-lg hover:bg-[var(--muted)]/50 transition-colors",children:[s.jsx(Kg,{value:R.id.toString(),id:`store-${R.id}`,className:"text-[var(--primary)] border-[var(--border)]"}),s.jsx(Ie,{htmlFor:`store-${R.id}`,className:"flex-1 cursor-pointer",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-full bg-[var(--primary)]/10 flex items-center justify-center flex-shrink-0",children:s.jsx(fa,{className:"h-4 w-4 sm:h-5 sm:w-5 text-[var(--primary)]"})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("div",{className:"font-medium text-sm sm:text-base text-[var(--card-foreground)] truncate",children:R.name}),s.jsxs("div",{className:"text-xs sm:text-sm text-[var(--muted-foreground)] truncate",children:["ID: ",R.id]}),s.jsx("div",{className:"text-xs sm:text-sm text-[var(--muted-foreground)] truncate",children:R.metadata.address}),s.jsx("div",{className:"text-xs sm:text-sm text-[var(--muted-foreground)] truncate",children:R.metadata.phone})]})]}),s.jsxs("div",{className:"flex flex-col items-start sm:items-end gap-2 sm:gap-1",children:[s.jsx(Ve,{variant:R.is_active?"default":"secondary",className:`text-xs ${R.is_active?"bg-[#16a34a] text-white":"bg-[var(--secondary)] text-[var(--secondary-foreground)]"}`,children:R.is_active?"Active":"Inactive"}),s.jsx("div",{className:"text-xs text-[var(--muted-foreground)]",children:T(R.created_at)})]})]})})]},R.id))}),(h.length>0||C.shouldShowPagination)&&s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 px-4 sm:px-6 py-3 border-t border-[var(--border)] bg-[var(--card)]/50",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[s.jsx("span",{className:"text-[var(--muted-foreground)]",children:"Show"}),s.jsxs(Lt,{value:c.toString(),onValueChange:w,disabled:m,children:[s.jsx(Rt,{className:"w-16 h-8 text-xs bg-[var(--background)] border-[var(--border)] text-[var(--foreground)]",children:s.jsx(Bt,{})}),s.jsx(Pt,{className:"bg-[var(--popover)] border-[var(--border)]",children:y.map(R=>s.jsx(ot,{value:R.toString(),className:"text-[var(--popover-foreground)] focus:bg-[var(--accent)] focus:text-[var(--accent-foreground)]",children:R},R))})]}),s.jsx("span",{className:"text-[var(--muted-foreground)]",children:"per page"})]}),C.shouldShowPagination&&i&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:_,disabled:C.isPrevDisabled||m,className:"h-8 px-3 text-xs bg-[var(--background)] border-[var(--border)] text-[var(--foreground)] hover:bg-[var(--accent)] hover:text-[var(--accent-foreground)]",children:[s.jsx(al,{className:"h-3 w-3 mr-1"}),"Prev"]}),s.jsxs("span",{className:"text-xs sm:text-sm px-3 text-[var(--foreground)] font-medium",children:["Page ",C.currentPage," of ",i.last_page]}),s.jsxs(X,{variant:"outline",size:"sm",onClick:k,disabled:C.isNextDisabled||m,className:"h-8 px-3 text-xs bg-[var(--background)] border-[var(--border)] text-[var(--foreground)] hover:bg-[var(--accent)] hover:text-[var(--accent-foreground)]",children:["Next",s.jsx(qa,{className:"h-3 w-3 ml-1"})]})]}),s.jsx("div",{className:"text-xs sm:text-sm text-[var(--muted-foreground)]",children:A})]})]})]})},oUe=()=>{const[e]=QU(),t=e.get("userId"),r=e.get("storeId"),[n,a]=b.useState({selectedUser:t?parseInt(t):null,selectedRole:null,selectedStore:r||null}),[o,l]=b.useState(!1),[c,d]=b.useState(null),[u,i]=b.useState(!1),{users:m}=Am(),{roles:g}=yo(),{stores:x}=bo(),{assignUserRole:v,assignError:N}=ET(),h=[{id:"user",title:"Select User",description:"Choose a user to assign role to",completed:n.selectedUser!==null},{id:"role",title:"Select Role",description:"Choose a role to assign",completed:n.selectedRole!==null},{id:"store",title:"Select Store",description:"Choose a store for the assignment",completed:n.selectedStore!==null}],y=h.filter(R=>R.completed).length,w=y/h.length*100,j=R=>{a(P=>({...P,selectedUser:parseInt(R)}))},C=R=>{a(P=>({...P,selectedRole:parseInt(R)}))},_=R=>{a(P=>({...P,selectedStore:R}))},k=()=>{a({selectedUser:t?parseInt(t):null,selectedRole:null,selectedStore:r||null}),d(null)},A=async()=>{if(!(!n.selectedUser||!n.selectedRole||!n.selectedStore)){l(!0),i(!1);try{const R={user_id:n.selectedUser,role_id:n.selectedRole,store_id:n.selectedStore,is_active:!0,metadata:{start_date:new Date().toISOString(),notes:"Single assignment via Assignment Page"}};await v(R),d({success:!0,message:"Successfully assigned role to user for the selected store."}),setTimeout(()=>{k()},3e3)}catch(R){console.error("Assignment error:",R),d({success:!1,message:N?.message||"Failed to assign role. Please try again."})}finally{l(!1)}}},T=n.selectedUser!==null&&n.selectedRole!==null&&n.selectedStore!==null;return s.jsxs(Vt,{title:"Single Role Assignment",subtitle:"Assign a single role to a user for a specific store",backButton:{show:!0},children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 mb-6",children:[s.jsxs(X,{variant:"outline",onClick:k,disabled:!T,className:"flex items-center gap-2",children:[s.jsx(qd,{className:"h-4 w-4"}),"Clear Selection"]}),s.jsxs(rn,{open:u,onOpenChange:i,children:[s.jsx(xz,{asChild:!0,children:s.jsxs(X,{disabled:!T||o,className:"flex items-center gap-2",children:[o?s.jsx(ut,{className:"h-4 w-4 animate-spin"}):s.jsx(ic,{className:"h-4 w-4"}),o?"Assigning...":"Assign Role"]})}),s.jsxs(Vr,{children:[s.jsxs(Wr,{children:[s.jsx(Gr,{children:"Confirm Role Assignment"}),s.jsx(cn,{children:"You are about to assign a role to the selected user for the selected store."})]}),s.jsxs(nn,{children:[s.jsx(X,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),s.jsx(X,{onClick:A,children:"Confirm Assignment"})]})]})]})]}),s.jsx(kFe,{assignmentSteps:h,completedSteps:y,progressPercentage:w}),c&&s.jsx(DFe,{result:c}),(n.selectedUser||n.selectedRole||n.selectedStore)&&s.jsx(TFe,{assignmentData:n,users:m,roles:g,stores:x}),s.jsxs(Qd,{defaultValue:"users",className:"space-y-4 sm:space-y-6",children:[s.jsxs(_c,{className:"grid w-full grid-cols-3 bg-[var(--muted)] p-1 rounded-lg",children:[s.jsxs(fs,{value:"users",className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm px-2 sm:px-4 py-2 sm:py-3 data-[state=active]:bg-[var(--background)] data-[state=active]:text-[var(--foreground)] data-[state=active]:shadow-sm",children:[s.jsx(_r,{className:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0"}),s.jsx("span",{className:"hidden sm:inline",children:"Users"}),s.jsx("span",{className:"sm:hidden",children:"U"}),n.selectedUser&&s.jsx("span",{className:"hidden lg:inline text-[var(--primary)]",children:"(1 selected)"})]}),s.jsxs(fs,{value:"roles",className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm px-2 sm:px-4 py-2 sm:py-3 data-[state=active]:bg-[var(--background)] data-[state=active]:text-[var(--foreground)] data-[state=active]:shadow-sm",children:[s.jsx(Br,{className:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0"}),s.jsx("span",{className:"hidden sm:inline",children:"Roles"}),s.jsx("span",{className:"sm:hidden",children:"R"}),n.selectedRole&&s.jsx("span",{className:"hidden lg:inline text-[var(--primary)]",children:"(1 selected)"})]}),s.jsxs(fs,{value:"stores",className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm px-2 sm:px-4 py-2 sm:py-3 data-[state=active]:bg-[var(--background)] data-[state=active]:text-[var(--foreground)] data-[state=active]:shadow-sm",children:[s.jsx(fa,{className:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0"}),s.jsx("span",{className:"hidden sm:inline",children:"Stores"}),s.jsx("span",{className:"sm:hidden",children:"S"}),n.selectedStore&&s.jsx("span",{className:"hidden lg:inline text-[var(--primary)]",children:"(1 selected)"})]})]}),s.jsx(ms,{value:"users",className:"space-y-4 sm:space-y-6",children:s.jsx(nUe,{selectedUserId:n.selectedUser,onUserSelect:j})}),s.jsx(ms,{value:"roles",className:"space-y-4 sm:space-y-6",children:s.jsx(sUe,{selectedRoleId:n.selectedRole,onRoleSelect:C})}),s.jsx(ms,{value:"stores",className:"space-y-4 sm:space-y-6",children:s.jsx(aUe,{selectedStoreId:n.selectedStore,onStoreSelect:_})})]})]})},iUe=[s.jsx(St,{path:"/user-role-store-assignment",element:s.jsx(At,{children:s.jsx(Yt,{role:"super-admin",children:s.jsx(kt,{children:s.jsx(z8e,{})})})})},"user-role-store-assignment"),s.jsx(St,{path:"/user-role-store-assignment/bulk",element:s.jsx(At,{children:s.jsx(Yt,{role:"super-admin",children:s.jsx(kt,{children:s.jsx(AFe,{})})})})},"bulk-assign"),s.jsx(St,{path:"/user-role-store-assignment/assign",element:s.jsx(At,{children:s.jsx(Yt,{role:"super-admin",children:s.jsx(kt,{children:s.jsx(oUe,{})})})})},"single-assign"),s.jsx(St,{path:"/user-role-store-assignment/view/user/:userId",element:s.jsx(At,{children:s.jsx(Yt,{role:"super-admin",children:s.jsx(kt,{children:s.jsx(W8e,{})})})})},"view-user-assignments"),s.jsx(St,{path:"/user-role-store-assignment/view/store/:storeId",element:s.jsx(At,{children:s.jsx(Yt,{role:"super-admin",children:s.jsx(kt,{children:s.jsx(Q8e,{})})})})},"view-store-assignments")],lUe=()=>{const e=Mt(),{creating:t}=ue(ng),{createError:r}=ue(sg),n=b.useCallback(async o=>{const l=await e(Sp(o));if(Sp.fulfilled.match(l))return l.payload;throw l.payload||new Error("Failed to create hierarchy")},[e]),a=b.useCallback(()=>{e(PF("createError"))},[e]);return{createHierarchy:n,isLoading:t,error:r,clearError:a}},bK=e=>{const t=Mt(),{fetchingHierarchies:r}=ue(ng),{fetchError:n}=ue(sg),a=b.useMemo(()=>Coe(),[]),o=b.useMemo(()=>RF(),[]),l=ue(i=>e?a(i,e):[]),c=ue(i=>e?o(i,e):null),d=b.useCallback(async i=>{t(MF(i));const m=await t(vd(i));if(vd.fulfilled.match(m))return m.payload;throw m.payload||new Error("Failed to fetch store hierarchies")},[t]),u=b.useCallback(()=>{e&&(!c?.hierarchiesIsFresh||l.length===0)&&t(vd(e))},[e,c?.hierarchiesIsFresh,l.length,t]);return b.useMemo(()=>{u()},[u]),{hierarchies:l,refetch:d,isLoading:r,error:n,isStale:c?!c.hierarchiesIsFresh:!1}},wK=e=>{const t=Mt(),{fetchingTree:r}=ue(ng),{treeError:n}=ue(sg),a=b.useMemo(()=>_oe(),[]),o=b.useMemo(()=>RF(),[]),l=ue(m=>e?a(m,e):[]),c=ue(m=>e?o(m,e):null),d=b.useCallback(async m=>{t(MF(m));const g=await t(yd(m));if(yd.fulfilled.match(g))return g.payload;throw g.payload||new Error("Failed to fetch hierarchy tree")},[t]),u=b.useMemo(()=>{const m=y=>{const w=j=>{for(const C of j){if(C.role.id===y)return C;const _=w(C.children);if(_)return _}return null};return w(l)};return{findNodeByRoleId:m,getAggregatedPermissions:(y,w={})=>{const{includeInherited:j=!0,deduplicate:C=!0,guardFilter:_}=w,k=m(y);if(!k)return[];let A=[...k.permissions||[]];if(j&&(P=>{const M=[],I=(L,B)=>{for(const U of L){if(M.push(U),U.role.id===B.role.id||I(U.children,B))return!0;M.pop()}return!1};return I(l,P),M})(k).forEach(P=>{P.role.id!==y&&A.push(...P.permissions||[])}),_&&(A=A.filter(T=>T.guard_name===_)),C){const T=new Set;A=A.filter(R=>T.has(R.id)?!1:(T.add(R.id),!0))}return A},getPathToRole:y=>{const w=[],j=C=>{for(const _ of C){if(w.push(_),_.role.id===y||j(_.children))return!0;w.pop()}return!1};return j(l),w},validateHierarchy:()=>{const y=[],w=[],j=[],C=new Set,_=(k,A=0)=>{const T=k.role.id;if(C.has(T)){y.push(`Circular reference detected for role: ${k.role.name}`);return}C.add(T),A>10&&w.push(`Deep nesting detected (depth: ${A}) for role: ${k.role.name}`),k.children.length===0&&A===0&&j.push(`Root role "${k.role.name}" has no subordinates`),(!k.permissions||k.permissions.length===0)&&w.push(`Role "${k.role.name}" has no permissions assigned`),k.children.forEach(R=>{_(R,A+1)}),C.delete(T)};return l.forEach(k=>_(k)),{isValid:y.length===0,errors:y,warnings:w,suggestions:j}},transformTree:(y={})=>{const{maxDepth:w=1/0,includePermissions:j=!0,includeMetadata:C=!0}=y,_=(k,A=0)=>{const T={role:k.role,children:A<w?k.children.map(R=>_(R,A+1)):[],permissions:j?k.permissions:[]};return C&&k.treeMetadata&&(T.treeMetadata=k.treeMetadata),T};return l.map(k=>_(k))},searchTree:y=>{const w=[],j=C=>{let _=!0;y.roleId&&C.role.id!==y.roleId&&(_=!1),y.roleName&&!C.role.name.toLowerCase().includes(y.roleName.toLowerCase())&&(_=!1),y.permissionName&&(C.permissions?.some(A=>A.name.toLowerCase().includes(y.permissionName.toLowerCase()))||(_=!1)),_&&w.push(C),C.children.forEach(j)};return l.forEach(j),w}}},[l]),i=b.useCallback(()=>{e&&(!c?.treeIsFresh||l.length===0)&&t(yd(e))},[e,c?.treeIsFresh,l.length,t]);return b.useMemo(()=>{i()},[i]),{tree:l,refetchTree:d,isLoading:r,error:n,utils:u}},cUe=()=>{const e=Mt(),{removing:t}=ue(ng),{removeError:r}=ue(sg),n=b.useCallback(async o=>{const l=await e(jp(o));if(!jp.fulfilled.match(l))throw l.payload||new Error("Failed to remove hierarchy")},[e]),a=b.useCallback(()=>{e(PF("removeError"))},[e]);return{removeHierarchy:n,isLoading:t,error:r,clearError:a}};function dUe(e,t){return b.useReducer((r,n)=>t[r][n]??r,e)}var Xg=e=>{const{present:t,children:r}=e,n=uUe(t),a=typeof r=="function"?r({present:n.isPresent}):b.Children.only(r),o=ct(n.ref,fUe(a));return typeof r=="function"||n.isPresent?b.cloneElement(a,{ref:o}):null};Xg.displayName="Presence";function uUe(e){const[t,r]=b.useState(),n=b.useRef(null),a=b.useRef(e),o=b.useRef("none"),l=e?"mounted":"unmounted",[c,d]=dUe(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=Xv(n.current);o.current=c==="mounted"?u:"none"},[c]),ir(()=>{const u=n.current,i=a.current;if(i!==e){const g=o.current,x=Xv(u);e?d("MOUNT"):x==="none"||u?.display==="none"?d("UNMOUNT"):d(i&&g!==x?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,d]),ir(()=>{if(t){let u;const i=t.ownerDocument.defaultView??window,m=x=>{const N=Xv(n.current).includes(CSS.escape(x.animationName));if(x.target===t&&N&&(d("ANIMATION_END"),!a.current)){const h=t.style.animationFillMode;t.style.animationFillMode="forwards",u=i.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=h)})}},g=x=>{x.target===t&&(o.current=Xv(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{i.clearTimeout(u),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:b.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Xv(e){return e?.animationName||"none"}function fUe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function jd(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}function mUe(e,t){return b.useReducer((r,n)=>t[r][n]??r,e)}var PT="ScrollArea",[SK,M7e]=jn(PT),[hUe,Wa]=SK(PT),jK=b.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:o=600,...l}=e,[c,d]=b.useState(null),[u,i]=b.useState(null),[m,g]=b.useState(null),[x,v]=b.useState(null),[N,h]=b.useState(null),[y,w]=b.useState(0),[j,C]=b.useState(0),[_,k]=b.useState(!1),[A,T]=b.useState(!1),R=ct(t,M=>d(M)),P=Xd(a);return s.jsx(hUe,{scope:r,type:n,dir:P,scrollHideDelay:o,scrollArea:c,viewport:u,onViewportChange:i,content:m,onContentChange:g,scrollbarX:x,onScrollbarXChange:v,scrollbarXEnabled:_,onScrollbarXEnabledChange:k,scrollbarY:N,onScrollbarYChange:h,scrollbarYEnabled:A,onScrollbarYEnabledChange:T,onCornerWidthChange:w,onCornerHeightChange:C,children:s.jsx(Ge.div,{dir:P,...l,ref:R,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":j+"px",...e.style}})})});jK.displayName=PT;var NK="ScrollAreaViewport",CK=b.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...o}=e,l=Wa(NK,r),c=b.useRef(null),d=ct(t,c,l.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(Ge.div,{"data-radix-scroll-area-viewport":"",...o,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});CK.displayName=NK;var ii="ScrollAreaScrollbar",MT=b.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Wa(ii,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:l}=a,c=e.orientation==="horizontal";return b.useEffect(()=>(c?o(!0):l(!0),()=>{c?o(!1):l(!1)}),[c,o,l]),a.type==="hover"?s.jsx(pUe,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(gUe,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(EK,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(OT,{...n,ref:t}):null});MT.displayName=ii;var pUe=b.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Wa(ii,e.__scopeScrollArea),[o,l]=b.useState(!1);return b.useEffect(()=>{const c=a.scrollArea;let d=0;if(c){const u=()=>{window.clearTimeout(d),l(!0)},i=()=>{d=window.setTimeout(()=>l(!1),a.scrollHideDelay)};return c.addEventListener("pointerenter",u),c.addEventListener("pointerleave",i),()=>{window.clearTimeout(d),c.removeEventListener("pointerenter",u),c.removeEventListener("pointerleave",i)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(Xg,{present:r||o,children:s.jsx(EK,{"data-state":o?"visible":"hidden",...n,ref:t})})}),gUe=b.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Wa(ii,e.__scopeScrollArea),o=e.orientation==="horizontal",l=aS(()=>d("SCROLL_END"),100),[c,d]=mUe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(c==="idle"){const u=window.setTimeout(()=>d("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[c,a.scrollHideDelay,d]),b.useEffect(()=>{const u=a.viewport,i=o?"scrollLeft":"scrollTop";if(u){let m=u[i];const g=()=>{const x=u[i];m!==x&&(d("SCROLL"),l()),m=x};return u.addEventListener("scroll",g),()=>u.removeEventListener("scroll",g)}},[a.viewport,o,d,l]),s.jsx(Xg,{present:r||c!=="hidden",children:s.jsx(OT,{"data-state":c==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:jd(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:jd(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),EK=b.forwardRef((e,t)=>{const r=Wa(ii,e.__scopeScrollArea),{forceMount:n,...a}=e,[o,l]=b.useState(!1),c=e.orientation==="horizontal",d=aS(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,i=r.viewport.offsetHeight<r.viewport.scrollHeight;l(c?u:i)}},10);return Zf(r.viewport,d),Zf(r.content,d),s.jsx(Xg,{present:n||o,children:s.jsx(OT,{"data-state":o?"visible":"hidden",...a,ref:t})})}),OT=b.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=Wa(ii,e.__scopeScrollArea),o=b.useRef(null),l=b.useRef(0),[c,d]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=TK(c.viewport,c.content),i={...n,sizes:c,onSizesChange:d,hasThumb:u>0&&u<1,onThumbChange:g=>o.current=g,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:g=>l.current=g};function m(g,x){return SUe(g,l.current,c,x)}return r==="horizontal"?s.jsx(xUe,{...i,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const g=a.viewport.scrollLeft,x=t8(g,c,a.dir);o.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:g=>{a.viewport&&(a.viewport.scrollLeft=g)},onDragScroll:g=>{a.viewport&&(a.viewport.scrollLeft=m(g,a.dir))}}):r==="vertical"?s.jsx(vUe,{...i,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const g=a.viewport.scrollTop,x=t8(g,c);o.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:g=>{a.viewport&&(a.viewport.scrollTop=g)},onDragScroll:g=>{a.viewport&&(a.viewport.scrollTop=m(g))}}):null}),xUe=b.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,o=Wa(ii,e.__scopeScrollArea),[l,c]=b.useState(),d=b.useRef(null),u=ct(t,d,o.onScrollbarXChange);return b.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),s.jsx(AK,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":sS(r)+"px",...e.style},onThumbPointerDown:i=>e.onThumbPointerDown(i.x),onDragScroll:i=>e.onDragScroll(i.x),onWheelScroll:(i,m)=>{if(o.viewport){const g=o.viewport.scrollLeft+i.deltaX;e.onWheelScroll(g),PK(g,m)&&i.preventDefault()}},onResize:()=>{d.current&&o.viewport&&l&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:vw(l.paddingLeft),paddingEnd:vw(l.paddingRight)}})}})}),vUe=b.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,o=Wa(ii,e.__scopeScrollArea),[l,c]=b.useState(),d=b.useRef(null),u=ct(t,d,o.onScrollbarYChange);return b.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),s.jsx(AK,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":sS(r)+"px",...e.style},onThumbPointerDown:i=>e.onThumbPointerDown(i.y),onDragScroll:i=>e.onDragScroll(i.y),onWheelScroll:(i,m)=>{if(o.viewport){const g=o.viewport.scrollTop+i.deltaY;e.onWheelScroll(g),PK(g,m)&&i.preventDefault()}},onResize:()=>{d.current&&o.viewport&&l&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:vw(l.paddingTop),paddingEnd:vw(l.paddingBottom)}})}})}),[yUe,_K]=SK(ii),AK=b.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:o,onThumbPointerUp:l,onThumbPointerDown:c,onThumbPositionChange:d,onDragScroll:u,onWheelScroll:i,onResize:m,...g}=e,x=Wa(ii,r),[v,N]=b.useState(null),h=ct(t,R=>N(R)),y=b.useRef(null),w=b.useRef(""),j=x.viewport,C=n.content-n.viewport,_=Mr(i),k=Mr(d),A=aS(m,10);function T(R){if(y.current){const P=R.clientX-y.current.left,M=R.clientY-y.current.top;u({x:P,y:M})}}return b.useEffect(()=>{const R=P=>{const M=P.target;v?.contains(M)&&_(P,C)};return document.addEventListener("wheel",R,{passive:!1}),()=>document.removeEventListener("wheel",R,{passive:!1})},[j,v,C,_]),b.useEffect(k,[n,k]),Zf(v,A),Zf(x.content,A),s.jsx(yUe,{scope:r,scrollbar:v,hasThumb:a,onThumbChange:Mr(o),onThumbPointerUp:Mr(l),onThumbPositionChange:k,onThumbPointerDown:Mr(c),children:s.jsx(Ge.div,{...g,ref:h,style:{position:"absolute",...g.style},onPointerDown:jd(e.onPointerDown,R=>{R.button===0&&(R.target.setPointerCapture(R.pointerId),y.current=v.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),T(R))}),onPointerMove:jd(e.onPointerMove,T),onPointerUp:jd(e.onPointerUp,R=>{const P=R.target;P.hasPointerCapture(R.pointerId)&&P.releasePointerCapture(R.pointerId),document.body.style.webkitUserSelect=w.current,x.viewport&&(x.viewport.style.scrollBehavior=""),y.current=null})})})}),xw="ScrollAreaThumb",kK=b.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=_K(xw,e.__scopeScrollArea);return s.jsx(Xg,{present:r||a.hasThumb,children:s.jsx(bUe,{ref:t,...n})})}),bUe=b.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,o=Wa(xw,r),l=_K(xw,r),{onThumbPositionChange:c}=l,d=ct(t,m=>l.onThumbChange(m)),u=b.useRef(void 0),i=aS(()=>{u.current&&(u.current(),u.current=void 0)},100);return b.useEffect(()=>{const m=o.viewport;if(m){const g=()=>{if(i(),!u.current){const x=jUe(m,c);u.current=x,c()}};return c(),m.addEventListener("scroll",g),()=>m.removeEventListener("scroll",g)}},[o.viewport,i,c]),s.jsx(Ge.div,{"data-state":l.hasThumb?"visible":"hidden",...a,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:jd(e.onPointerDownCapture,m=>{const x=m.target.getBoundingClientRect(),v=m.clientX-x.left,N=m.clientY-x.top;l.onThumbPointerDown({x:v,y:N})}),onPointerUp:jd(e.onPointerUp,l.onThumbPointerUp)})});kK.displayName=xw;var IT="ScrollAreaCorner",DK=b.forwardRef((e,t)=>{const r=Wa(IT,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(wUe,{...e,ref:t}):null});DK.displayName=IT;var wUe=b.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=Wa(IT,r),[o,l]=b.useState(0),[c,d]=b.useState(0),u=!!(o&&c);return Zf(a.scrollbarX,()=>{const i=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(i),d(i)}),Zf(a.scrollbarY,()=>{const i=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(i),l(i)}),u?s.jsx(Ge.div,{...n,ref:t,style:{width:o,height:c,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function vw(e){return e?parseInt(e,10):0}function TK(e,t){const r=e/t;return isNaN(r)?0:r}function sS(e){const t=TK(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function SUe(e,t,r,n="ltr"){const a=sS(r),o=a/2,l=t||o,c=a-l,d=r.scrollbar.paddingStart+l,u=r.scrollbar.size-r.scrollbar.paddingEnd-c,i=r.content-r.viewport,m=n==="ltr"?[0,i]:[i*-1,0];return RK([d,u],m)(e)}function t8(e,t,r="ltr"){const n=sS(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-a,l=t.content-t.viewport,c=o-n,d=r==="ltr"?[0,l]:[l*-1,0],u=YA(e,d);return RK([0,l],[0,c])(u)}function RK(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function PK(e,t){return e>0&&e<t}var jUe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const o={left:e.scrollLeft,top:e.scrollTop},l=r.left!==o.left,c=r.top!==o.top;(l||c)&&t(),r=o,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function aS(e,t){const r=Mr(e),n=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(n.current),[]),b.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Zf(e,t){const r=Mr(t);ir(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var MK=jK,NUe=CK,CUe=DK;const Qg=b.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(MK,{ref:n,className:ee("relative overflow-hidden",e),...r,children:[s.jsx(NUe,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(OK,{}),s.jsx(CUe,{})]}));Qg.displayName=MK.displayName;const OK=b.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(MT,{ref:n,orientation:t,className:ee("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(kK,{className:"relative flex-1 rounded-full bg-border"})}));OK.displayName=MT.displayName;const LT=pe.memo(({node:e,level:t,onToggleExpand:r,onSelectRole:n,expandedNodes:a,selectedRoleId:o,searchTerm:l})=>{const c=b.useMemo(()=>({isExpanded:a.has(e.role.id),hasChildren:e.children&&e.children.length>0,isSelected:o===e.role.id,isHighlighted:l&&e.role.name.toLowerCase().includes(l.toLowerCase()),indentWidth:t*24}),[a,e.role.id,e.children,o,l,e.role.name,t]),{isExpanded:d,hasChildren:u,isSelected:i,isHighlighted:m,indentWidth:g}=c,x=b.useCallback(j=>{j.stopPropagation(),r(e.role.id)},[r,e.role.id]),v=b.useCallback(()=>{n(e.role)},[n,e.role]),N=b.useMemo(()=>ee("flex items-center space-x-2 p-3 rounded-lg border transition-all duration-200 cursor-pointer",i?"bg-primary/10 border-primary shadow-sm":"hover:bg-muted/50 border-transparent",m&&"ring-2 ring-yellow-400/50 bg-yellow-50"),[i,m]),h=b.useMemo(()=>ee("p-1.5 rounded-md",t===0?"bg-yellow-100":t===1?"bg-blue-100":"bg-gray-100"),[t]),y=b.useMemo(()=>ee("h-4 w-4",t===0?"text-yellow-600":t===1?"text-blue-600":"text-gray-600"),[t]),w=b.useMemo(()=>ee("font-medium truncate",i?"text-primary":"text-foreground"),[i]);return s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:N,style:{marginLeft:`${g}px`},onClick:v,children:[s.jsx("div",{className:"flex-shrink-0",children:u?s.jsx(X,{onClick:x,variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-primary/10",children:d?s.jsx(zd,{className:"h-4 w-4"}):s.jsx(qa,{className:"h-4 w-4"})}):s.jsx("div",{className:"h-6 w-6"})}),s.jsx("div",{className:h,children:t===0?s.jsx(V2,{className:"h-4 w-4 text-yellow-600"}):s.jsx(ic,{className:y})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h4",{className:w,children:e.role.name}),s.jsx(Ve,{variant:"default",className:"text-xs",children:"Active"})]}),s.jsx("p",{className:"text-sm text-muted-foreground truncate",children:"No description"})]}),s.jsxs("div",{className:"flex items-center space-x-1 text-sm text-muted-foreground",children:[s.jsx(Br,{className:"h-4 w-4"}),s.jsx("span",{children:e.role.permissions?.length||0})]}),u&&s.jsxs("div",{className:"flex items-center space-x-1 text-sm text-muted-foreground",children:[s.jsx(_r,{className:"h-4 w-4"}),s.jsx("span",{children:e.children.length})]})]}),d&&u&&s.jsx("div",{className:"space-y-1",children:e.children.map(j=>s.jsx(LT,{node:j,level:t+1,onToggleExpand:r,onSelectRole:n,expandedNodes:a,selectedRoleId:o,searchTerm:l},j.role.id))})]})});LT.displayName="RoleNode";const EUe=({role:e,onClose:t})=>s.jsxs(be,{className:"h-full",children:[s.jsx(Te,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ue,{className:"text-lg",children:"Role Details"}),s.jsx(X,{onClick:t,variant:"ghost",size:"sm",children:s.jsx($n,{className:"h-4 w-4"})})]})}),s.jsxs(Ne,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Role Name"}),s.jsx("p",{className:"text-lg font-semibold",children:e.name})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),s.jsx("div",{className:"mt-1",children:s.jsx(Ve,{variant:"default",children:"Active"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Role ID"}),s.jsx("p",{className:"text-sm font-mono",children:e.id})]})]})]}),s.jsx(cs,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("h4",{className:"font-medium flex items-center space-x-2",children:[s.jsx(Br,{className:"h-4 w-4"}),s.jsxs("span",{children:["Permissions (",e.permissions?.length||0,")"]})]})}),e.permissions&&e.permissions.length>0?s.jsx(Qg,{className:"h-48",children:s.jsx("div",{className:"space-y-2",children:e.permissions.map(r=>s.jsx("div",{className:"p-3 border rounded-lg bg-muted/30",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h5",{className:"font-medium text-sm",children:r.name}),s.jsx(Ve,{variant:"outline",className:"text-xs",children:r.guard_name})]})},r.id))})}):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Br,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No permissions assigned"})]})]})]})]}),IK=pe.memo(({searchTerm:e,onSearchChange:t,onExpandAll:r,onCollapseAll:n})=>s.jsxs(Te,{className:"pb-3 p-4 sm:p-6",children:[s.jsxs("div",{className:"flex flex-col space-y-3 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[s.jsxs(Ue,{className:"flex items-center space-x-2 text-lg sm:text-xl text-foreground",children:[s.jsx(_r,{className:"h-5 w-5"}),s.jsx("span",{children:"Role Hierarchy Tree"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(X,{onClick:r,variant:"outline",size:"sm",className:"hover:bg-accent text-xs sm:text-sm",children:[s.jsx("span",{className:"hidden sm:inline",children:"Expand All"}),s.jsx("span",{className:"sm:hidden",children:"Expand"})]}),s.jsxs(X,{onClick:n,variant:"outline",size:"sm",className:"hover:bg-accent text-xs sm:text-sm",children:[s.jsx("span",{className:"hidden sm:inline",children:"Collapse All"}),s.jsx("span",{className:"sm:hidden",children:"Collapse"})]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(ol,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(We,{placeholder:"Search roles...",value:e,onChange:a=>t(a.target.value),className:"pl-10"})]})]}));IK.displayName="HierarchyTreeHeader";const _Ue=({onCreateHierarchy:e})=>s.jsxs("div",{className:"text-center py-8 sm:py-12",children:[s.jsx(zr,{className:"h-10 w-10 sm:h-12 sm:w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-2 text-foreground",children:"No hierarchy found"}),s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mb-4",children:"This store doesn't have any role hierarchy configured yet."}),s.jsxs(X,{onClick:e,className:"text-sm sm:text-base",children:[s.jsx(i$,{className:"h-4 w-4 mr-2"}),"Create Hierarchy"]})]}),AUe=()=>s.jsx(be,{children:s.jsxs(Ne,{className:"p-6 sm:p-8 lg:p-12 text-center",children:[s.jsx(Sn,{className:"h-10 w-10 sm:h-12 sm:w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-2 text-foreground",children:"Select a Role"}),s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Click on any role in the hierarchy tree to view its details and permissions."})]})}),kUe=e=>{const t=new Set,r=n=>{n.forEach(a=>{t.add(a.role.id),a.children&&r(a.children)})};return r(e),t},DUe=()=>{const{storeId:e}=zs(),t=Ct(),[r,n]=b.useState(""),[a,o]=b.useState(new Set),[l,c]=b.useState(null),{tree:d,isLoading:u,error:i,refetchTree:m,utils:g}=wK(e),x=b.useMemo(()=>d?.map(j=>j.role.id)||[],[d]);b.useEffect(()=>{d&&d.length>0&&o(new Set(x))},[d,x]);const v=b.useCallback(j=>{o(C=>{const _=new Set(C);return _.has(j)?_.delete(j):_.add(j),_})},[]),N=b.useCallback(j=>{c(j)},[]),h=b.useCallback(()=>{if(d&&g){const j=kUe(d);o(j)}},[d,g]),y=b.useCallback(()=>{o(new Set)},[]);if(!e)return s.jsx("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8",children:s.jsxs(Ze,{variant:"destructive",className:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx(Ke,{className:"text-sm sm:text-base",children:"Store ID is required to view hierarchy."})]})});const w=s.jsxs(s.Fragment,{children:[s.jsxs(X,{onClick:()=>t(`/stores-hierarchy/create/${e}`),variant:"outline",size:"sm",className:"hover:bg-accent text-xs sm:text-sm","aria-label":"Create new hierarchy for this store",children:[s.jsx(i$,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Create Hierarchy"}),s.jsx("span",{className:"sm:hidden",children:"Create"})]}),s.jsxs(X,{onClick:()=>t(`/stores-hierarchy/delete/${e}`),variant:"outline",size:"sm",className:"hover:bg-accent text-xs sm:text-sm","aria-label":"Remove hierarchy for this store",children:[s.jsx(Dn,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Remove Hierarchy"}),s.jsx("span",{className:"sm:hidden",children:"Remove"})]}),s.jsxs(X,{onClick:()=>t(`/stores-hierarchy/validate/${e}`),variant:"outline",size:"sm",className:"hover:bg-accent text-xs sm:text-sm","aria-label":"Validate hierarchy for this store",children:[s.jsx(Ns,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Validate Hierarchy"}),s.jsx("span",{className:"sm:hidden",children:"Validate"})]}),s.jsxs(X,{onClick:()=>m(e),variant:"outline",size:"sm",disabled:u,className:"hover:bg-accent text-xs sm:text-sm","aria-label":"Refresh hierarchy data",children:[s.jsx(Lr,{className:ee("h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2",u&&"animate-spin")}),s.jsx("span",{className:"hidden sm:inline",children:"Refresh"}),s.jsx("span",{className:"sm:hidden",children:"↻"})]})]});return s.jsxs(Vt,{title:"Store Hierarchy",subtitle:`Role hierarchy for store: ${e}`,backButton:{show:!0},subButtons:w,children:[i&&s.jsxs(Ze,{variant:"destructive",className:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx(Ke,{className:"text-sm sm:text-base",children:i?.message||"An error occurred while loading the hierarchy."})]}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-4 sm:gap-6",children:[s.jsx("div",{className:"xl:col-span-2 space-y-4",children:s.jsxs(be,{children:[s.jsx(IK,{searchTerm:r,onSearchChange:n,onExpandAll:h,onCollapseAll:y}),s.jsx(Ne,{className:"p-4 sm:p-6",children:u?s.jsx("div",{className:"space-y-3",children:Array.from({length:5}).map((j,C)=>s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ye,{className:"h-6 w-6"}),s.jsx(Ye,{className:"h-8 w-8 rounded-md"}),s.jsxs("div",{className:"flex-1 space-y-1",children:[s.jsx(Ye,{className:"h-4 w-32"}),s.jsx(Ye,{className:"h-3 w-48"})]}),s.jsx(Ye,{className:"h-6 w-12"})]},C))}):d&&d.length>0?s.jsx(Qg,{className:"h-[400px] sm:h-[500px] lg:h-[600px]",children:s.jsx("div",{className:"space-y-2",children:d.map(j=>s.jsx(LT,{node:j,level:0,onToggleExpand:v,onSelectRole:N,expandedNodes:a,selectedRoleId:l?.id,searchTerm:r},j.role.id))})}):s.jsx(_Ue,{onCreateHierarchy:()=>t(`/stores-hierarchy/create/${e}`)})})]})}),s.jsx("div",{className:"space-y-4",children:l?s.jsx(EUe,{role:l,onClose:()=>c(null)}):s.jsx(AUe,{})})]})]})},yw=({title:e,description:t,icon:r,roles:n,selectedRoleId:a,disabledRoleId:o,isLoading:l,validationError:c,onRoleChange:d})=>{const u=r==="crown"?V2:ic,i=r==="crown"?"text-yellow-600":"text-blue-600";return s.jsxs(be,{children:[s.jsxs(Te,{className:"pb-3 sm:pb-6",children:[s.jsxs(Ue,{className:"flex items-center space-x-2 text-base sm:text-lg",children:[s.jsx(u,{className:`h-4 w-4 sm:h-5 sm:w-5 ${i}`}),s.jsx("span",{className:"text-foreground",children:e})]}),s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:t})]}),s.jsxs(Ne,{className:"pt-0 sm:pt-6",children:[l?s.jsxs("div",{className:"flex items-center justify-center py-6 sm:py-8",children:[s.jsx(ut,{className:"h-4 w-4 animate-spin mr-2"}),s.jsx("span",{className:"text-sm sm:text-base text-muted-foreground",children:"Loading roles..."})]}):s.jsx(Zg,{value:a,onValueChange:d,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:n.map(m=>s.jsxs("div",{className:"flex items-center space-x-2 p-2 rounded-md hover:bg-accent/50",children:[s.jsx(Kg,{value:m.id.toString(),id:`${r}-role-${m.id}`,disabled:o===m.id.toString()}),s.jsxs(Ie,{htmlFor:`${r}-role-${m.id}`,className:ee("text-xs sm:text-sm font-medium leading-none cursor-pointer flex-1",o===m.id.toString()&&"text-muted-foreground cursor-not-allowed"),children:[s.jsx("span",{className:"text-foreground",children:m.name}),m.permissions&&m.permissions.length>0&&s.jsxs("span",{className:"text-xs text-muted-foreground ml-1 block sm:inline",children:["(",m.permissions.length," permission",m.permissions.length>1?"s":"",")"]})]})]},m.id))}),c&&s.jsx("p",{className:"text-xs sm:text-sm text-destructive mt-2",children:c})]})]})},LK=pe.memo(({createdBy:e,reason:t,validationErrors:r,onInputChange:n})=>s.jsxs(be,{children:[s.jsxs(Te,{className:"pb-3 sm:pb-6",children:[s.jsx(Ue,{className:"text-base sm:text-lg text-foreground",children:"Metadata"}),s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Additional information about this hierarchy relationship"})]}),s.jsx(Ne,{className:"space-y-4 sm:space-y-6 pt-0 sm:pt-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"created_by",className:"text-sm font-medium text-foreground",children:"Created By"}),s.jsx(We,{id:"created_by",name:"created_by",type:"text",value:e,onChange:n,placeholder:"Enter creator name",className:ee("text-sm sm:text-base",r.created_by&&"border-destructive")}),r.created_by&&s.jsx("p",{className:"text-xs sm:text-sm text-destructive",children:r.created_by})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"reason",className:"text-sm font-medium text-foreground",children:"Reason (Optional)"}),s.jsx(co,{id:"reason",name:"reason",value:t,onChange:n,placeholder:"e.g., Store manager manages assistant manager",className:ee("text-sm sm:text-base min-h-[80px] sm:min-h-[100px]",r.reason&&"border-destructive"),rows:3}),r.reason&&s.jsx("p",{className:"text-xs sm:text-sm text-destructive",children:r.reason})]})]})})]}));LK.displayName="MetadataSection";const TUe=({isSubmitting:e,isLoading:t,rolesLoading:r,onCancel:n})=>s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 sm:gap-4 pt-2",children:[s.jsx(X,{type:"button",variant:"outline",onClick:n,className:"w-full sm:w-auto text-sm sm:text-base hover:bg-accent",children:"Cancel"}),s.jsx(X,{type:"submit",disabled:e||t||r,className:"w-full sm:w-auto min-w-[120px] sm:min-w-[140px] text-sm sm:text-base",children:e||t?s.jsxs(s.Fragment,{children:[s.jsx(ut,{className:"h-4 w-4 animate-spin mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Creating..."}),s.jsx("span",{className:"sm:hidden",children:"Creating"})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"hidden sm:inline",children:"Create Hierarchy"}),s.jsx("span",{className:"sm:hidden",children:"Create"})]})})]}),RUe=({formData:e,roles:t,rolesLoading:r,isSubmitting:n,isLoading:a,validationErrors:o,onSubmit:l,onInputChange:c,onRoleChange:d,onCancel:u})=>{const i=b.useCallback(g=>{d("higher_role_id",g)},[d]),m=b.useCallback(g=>{d("lower_role_id",g)},[d]);return s.jsxs("form",{onSubmit:l,className:"space-y-4 sm:space-y-6",children:[s.jsx(yw,{title:"Higher Role",description:"Select the role that will be higher in the hierarchy (parent role)",icon:"crown",roles:t,selectedRoleId:e.higher_role_id,disabledRoleId:e.lower_role_id,isLoading:r,validationError:o.higher_role_id,onRoleChange:i}),s.jsx(yw,{title:"Lower Role",description:"Select the role that will be lower in the hierarchy (child role)",icon:"usercheck",roles:t,selectedRoleId:e.lower_role_id,disabledRoleId:e.higher_role_id,isLoading:r,validationError:o.lower_role_id,onRoleChange:m}),s.jsx(LK,{createdBy:e.created_by,reason:e.reason,validationErrors:o,onInputChange:c}),s.jsx(TUe,{isSubmitting:n,isLoading:a,rolesLoading:r,onCancel:u})]})},r8="system",PUe=!0,MUe=()=>s.jsx(Vt,{title:"Create Hierarchy",subtitle:"Store ID is required to create hierarchy",backButton:{show:!0},children:s.jsxs(Ze,{variant:"destructive",className:"border-destructive/50 text-destructive",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx(Ke,{className:"text-sm sm:text-base",children:"Store ID is required to create hierarchy."})]})}),OUe=({storeId:e})=>{const t=Ct(),r=Wn(),{createHierarchy:n,isLoading:a,error:o}=lUe(),{roles:l,loading:c}=yo(),d=r.state,u=b.useMemo(()=>({higher_role_id:d?.preselectedHigherRole||"",lower_role_id:d?.preselectedLowerRole||"",created_by:r8,reason:""}),[d?.preselectedHigherRole,d?.preselectedLowerRole]),[i,m]=b.useState(u),[g,x]=b.useState({}),[v,N]=b.useState(!1),h=b.useCallback(()=>{t(`/stores-hierarchy/view/${e}`)},[t,e]),y=b.useCallback(A=>{x(T=>{if(T[A]){const{[A]:R,...P}=T;return P}return T})},[]),w=b.useCallback(A=>{const{name:T,value:R}=A.target;m(P=>({...P,[T]:R})),y(T)},[y]),j=b.useCallback((A,T)=>{m(R=>({...R,[A]:T})),y(A)},[y]),C=b.useCallback(()=>{const A={};i.higher_role_id.trim()||(A.higher_role_id="Please select a higher role"),i.lower_role_id.trim()||(A.lower_role_id="Please select a lower role");const T=Number(i.higher_role_id),R=Number(i.lower_role_id);return i.higher_role_id&&(isNaN(T)||T<=0)&&(A.higher_role_id="Please select a valid higher role"),i.lower_role_id&&(isNaN(R)||R<=0)&&(A.lower_role_id="Please select a valid lower role"),i.higher_role_id&&i.lower_role_id&&i.higher_role_id===i.lower_role_id&&(A.lower_role_id="Higher role and lower role cannot be the same"),{isValid:Object.keys(A).length===0,errors:A}},[i.higher_role_id,i.lower_role_id]),_=b.useCallback(async A=>{A.preventDefault();const T=C();if(!T.isValid){x(T.errors);return}N(!0),x({});try{const R=Number(i.higher_role_id),P=Number(i.lower_role_id);if(isNaN(R)||isNaN(P))throw new Error("Invalid role selection");const M={higher_role_id:R,lower_role_id:P,store_id:e,metadata:{created_by:i.created_by.trim()||r8,reason:i.reason.trim()},is_active:PUe};await n(M),t(`/stores-hierarchy/view/${e}`)}catch(R){console.error("Failed to create hierarchy:",R);const P=R instanceof Error?R.message:"Failed to create hierarchy. Please try again.";x({general:P})}finally{N(!1)}},[i,e,C,n,t]),k=a||c||v;return s.jsxs(Vt,{title:"Create Hierarchy",subtitle:`Create a new role hierarchy for store: ${e}`,backButton:{show:!0},children:[(o||g.general)&&s.jsxs(Ze,{variant:"destructive",className:"border-destructive/50 text-destructive",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx(Ke,{className:"text-sm sm:text-base",children:o?.message||g.general})]}),s.jsx(RUe,{formData:i,roles:l,rolesLoading:c,isSubmitting:v,isLoading:k,validationErrors:g,onSubmit:_,onInputChange:w,onRoleChange:j,onCancel:h})]})},IUe=()=>{const{storeId:e}=zs();return e?s.jsx(OUe,{storeId:e}):s.jsx(MUe,{})},BK=pe.memo(({isValidating:e,isLoading:t,canValidate:r,validationResult:n,hierarchiesCount:a,onValidate:o,onCreateHierarchy:l,onRemoveHierarchy:c})=>s.jsxs(s.Fragment,{children:[s.jsx(be,{children:s.jsx(Ne,{className:"pt-6",children:s.jsx("div",{className:"flex justify-center",children:s.jsx(X,{onClick:o,disabled:e||t||!r,className:"min-w-[200px] px-6 sm:px-8 py-2 text-sm sm:text-base w-full sm:w-auto",size:"lg",children:e?s.jsxs(s.Fragment,{children:[s.jsx(ut,{className:"h-4 w-4 animate-spin mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Validating..."}),s.jsx("span",{className:"sm:hidden",children:"Validating"})]}):s.jsxs(s.Fragment,{children:[s.jsx(ol,{className:"h-4 w-4 mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Validate Hierarchy"}),s.jsx("span",{className:"sm:hidden",children:"Validate"})]})})})})}),n&&s.jsxs(be,{children:[s.jsx(Te,{className:"p-4 sm:p-6",children:s.jsxs(Ue,{className:"flex items-center space-x-2 text-lg sm:text-xl",children:[n.success?s.jsx(Ns,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600"}):s.jsx(st,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600"}),s.jsx("span",{children:"Validation Results"})]})}),s.jsx(Ne,{className:"p-4 sm:p-6 pt-0",children:n.success?s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Ze,{children:[s.jsx(Ns,{className:"h-4 w-4"}),s.jsx(Ke,{children:"Hierarchy relationship found: This hierarchy already exists for this store."})]}),n.errors&&n.errors.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Validation Details:"}),n.errors.map((d,u)=>s.jsxs(Ze,{variant:u===0?"default":"destructive",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx(Ke,{children:d})]},u))]}),s.jsx("div",{className:"flex justify-center pt-4",children:s.jsxs(X,{onClick:c,variant:"destructive",className:"min-w-[200px]",children:[s.jsx(Dn,{className:"h-4 w-4 mr-2"}),"Remove Hierarchy"]})})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Ze,{children:[s.jsx(st,{className:"h-4 w-4"}),s.jsxs(Ke,{children:["Hierarchy relationship not found: This hierarchy does not exist for this store.",a>0&&s.jsxs("span",{className:"block mt-1 text-sm",children:["Checked against ",a," existing hierarchy relationships."]})]})]}),n.errors&&n.errors.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Additional Validation Notes:"}),n.errors.map((d,u)=>s.jsxs(Ze,{variant:"default",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx(Ke,{children:d})]},u))]}),s.jsx("div",{className:"flex justify-center pt-4",children:s.jsxs(X,{onClick:l,className:"min-w-[200px]",children:[s.jsx(or,{className:"h-4 w-4 mr-2"}),"Create Hierarchy"]})})]})})]})]}));BK.displayName="ValidationSection";const LUe=()=>{const e=Ct(),{storeId:t}=zs(),{roles:r,loading:n}=yo(),{hierarchies:a,isLoading:o,error:l}=bK(t),{tree:c,utils:d,isLoading:u,error:i}=wK(t),[m,g]=b.useState({higher_role_id:"",lower_role_id:""}),[x,v]=b.useState(null),[N,h]=b.useState(!1),[y,w]=b.useState({}),j=b.useMemo(()=>n||o||u,[n,o,u]),C=b.useMemo(()=>{if(!a||a.length===0||!m.higher_role_id||!m.lower_role_id)return!1;const M=parseInt(m.higher_role_id),I=parseInt(m.lower_role_id);return a.some(L=>L.higher_role_id===M&&L.lower_role_id===I)},[a,m.higher_role_id,m.lower_role_id]),_=b.useMemo(()=>!!m.higher_role_id&&!!m.lower_role_id,[m.higher_role_id,m.lower_role_id]),k=b.useCallback((M,I)=>{g(L=>({...L,[M]:I})),y[M]&&w(L=>({...L,[M]:""})),x&&v(null)},[y,x]),A=b.useCallback(()=>{const M={};return m.higher_role_id||(M.higher_role_id="Please select a higher role"),m.lower_role_id||(M.lower_role_id="Please select a lower role"),m.higher_role_id===m.lower_role_id&&m.higher_role_id&&(M.lower_role_id="Higher role and lower role cannot be the same"),w(M),Object.keys(M).length===0},[m.higher_role_id,m.lower_role_id]),T=b.useCallback(async()=>{if(A()){if(!t){w({general:"Store ID is required"});return}h(!0);try{const M=parseInt(m.higher_role_id),I=parseInt(m.lower_role_id);let L=[];if(d&&c.length>0){const B=d.findNodeByRoleId(M),U=d.findNodeByRoleId(I);B||L.push(`Higher role (ID: ${M}) not found in hierarchy tree`),U||L.push(`Lower role (ID: ${I}) not found in hierarchy tree`),B&&U&&d.getPathToRole(I).some(J=>J.role.id===M)&&!C&&L.push("Roles are already connected through an indirect hierarchy path");const F=d.validateHierarchy();F.isValid||L.push(...F.errors)}v(C?{success:!0,valid:!0,errors:["This hierarchy relationship already exists",...L]}:{success:!1,valid:!1,errors:L})}catch(M){console.error("Failed to validate hierarchy:",M),w({general:"Failed to validate hierarchy. Please try again."})}finally{h(!1)}}},[m.higher_role_id,m.lower_role_id,t,d,c,C,A]),R=b.useCallback(()=>{e(`/stores-hierarchy/create/${t}`,{state:{preselectedHigherRole:m.higher_role_id,preselectedLowerRole:m.lower_role_id}})},[e,t,m.higher_role_id,m.lower_role_id]),P=b.useCallback(()=>{e(`/stores-hierarchy/delete/${t}`,{state:{preselectedHigherRole:m.higher_role_id,preselectedLowerRole:m.lower_role_id,validatedHierarchy:{higher_role_id:parseInt(m.higher_role_id),lower_role_id:parseInt(m.lower_role_id),store_id:t}}})},[e,t,m.higher_role_id,m.lower_role_id]);return b.useEffect(()=>{Object.keys(y).length>0&&w({})},[m,y]),t?s.jsxs(Vt,{title:"Validate Hierarchy",subtitle:`Check if a role hierarchy exists for store: ${t}${a.length>0?` (${a.length} existing hierarchies loaded)`:""}`,backButton:{show:!0},children:[y.general&&s.jsxs(Ze,{variant:"destructive",className:"border-destructive/50",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx(Ke,{className:"text-destructive text-sm sm:text-base",children:y.general})]}),l&&s.jsxs(Ze,{variant:"destructive",className:"border-destructive/50",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsxs(Ke,{className:"text-destructive text-sm sm:text-base",children:["Failed to load hierarchies: ",l?.message||"Unknown error"]})]}),i&&s.jsxs(Ze,{variant:"destructive",className:"border-destructive/50",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsxs(Ke,{className:"text-destructive text-sm sm:text-base",children:["Failed to load hierarchy tree: ",i?.message||"Unknown error"]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(yw,{title:"Higher Role",description:"Select the role that should be higher in the hierarchy (parent role)",icon:"crown",roles:r,selectedRoleId:m.higher_role_id,disabledRoleId:m.lower_role_id,isLoading:j,validationError:y.higher_role_id,onRoleChange:M=>k("higher_role_id",M)}),s.jsx(yw,{title:"Lower Role",description:"Select the role that should be lower in the hierarchy (child role)",icon:"usercheck",roles:r,selectedRoleId:m.lower_role_id,disabledRoleId:m.higher_role_id,isLoading:j,validationError:y.lower_role_id,onRoleChange:M=>k("lower_role_id",M)}),s.jsx(BK,{isValidating:N,isLoading:j,canValidate:_,validationResult:x,hierarchiesCount:a.length,onValidate:T,onCreateHierarchy:R,onRemoveHierarchy:P})]})]}):s.jsx(Vt,{title:"Validate Hierarchy",subtitle:"Store ID is required to validate hierarchy",backButton:{show:!0},children:s.jsxs(Ze,{variant:"destructive",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx(Ke,{children:"Store ID is required to validate hierarchy."})]})})},BUe=({totalCount:e,selectedCount:t,allSelected:r,someSelected:n,onSelectAll:a,onDeleteSelected:o,isDeleting:l})=>{const c=b.useRef(null);return b.useEffect(()=>{if(c.current){const d=c.current.querySelector('input[type="checkbox"]');d&&(d.indeterminate=n)}},[n]),e===0?null:s.jsx(be,{children:s.jsx(Te,{className:"pb-3",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-0",children:[s.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[s.jsx(rs,{ref:c,checked:r,onCheckedChange:a}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm sm:text-base",children:"Select Hierarchies"}),s.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:[t," of ",e," selected"]})]})]}),s.jsxs(X,{onClick:o,variant:"destructive",size:"sm",disabled:t===0||l,className:"w-full sm:w-auto text-sm sm:text-base",children:[s.jsx(Dn,{className:"h-4 w-4 mr-2"}),s.jsxs("span",{className:"hidden sm:inline",children:["Delete Selected (",t,")"]}),s.jsxs("span",{className:"sm:hidden",children:["Delete (",t,")"]})]})]})})})},FUe=({hierarchy:e,onSelect:t,isSelected:r,isDeleting:n})=>{const a=b.useCallback(o=>{typeof o=="boolean"&&t(e,o)},[e,t]);return s.jsx("div",{className:ee("p-3 sm:p-4 border rounded-lg transition-all duration-200",r?"border-red-300 bg-red-50 dark:bg-red-950/20 dark:border-red-800/30":"border-border hover:border-accent-foreground/20",n&&"opacity-50 pointer-events-none"),children:s.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3",children:[s.jsx(rs,{checked:r,onCheckedChange:a,disabled:n,className:"mt-1"}),s.jsxs("div",{className:"flex-1 space-y-3",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-2 sm:space-y-0 sm:space-x-3 lg:space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-blue-50 dark:bg-blue-950/20 rounded-md w-full sm:w-auto",children:[s.jsx(V2,{className:"h-3 w-3 sm:h-4 sm:w-4 text-blue-600"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"font-medium text-xs sm:text-sm text-blue-900 dark:text-blue-200 truncate",children:e.higher_role?.name}),s.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-300",children:["Higher Role (ID: ",e.higher_role?.id,")"]})]})]}),s.jsx("div",{className:"flex items-center justify-center w-full sm:w-auto",children:s.jsx($n,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground rotate-180"})}),s.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-green-50 dark:bg-green-950/20 rounded-md w-full sm:w-auto",children:[s.jsx(ic,{className:"h-3 w-3 sm:h-4 sm:w-4 text-green-600"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"font-medium text-xs sm:text-sm text-green-900 dark:text-green-200 truncate",children:e.lower_role?.name}),s.jsxs("p",{className:"text-xs text-green-600 dark:text-green-300",children:["Lower Role (ID: ",e.lower_role?.id,")"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Store ID"}),s.jsx("p",{className:"font-mono text-foreground text-xs sm:text-sm",children:e.store_id})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Hierarchy ID"}),s.jsx("p",{className:"font-mono text-foreground text-xs sm:text-sm",children:e.id})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-1 sm:space-y-0 sm:space-x-6 text-xs sm:text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Br,{className:"h-3 w-3 sm:h-4 sm:w-4"}),s.jsxs("span",{children:["Higher: ",e.higher_role?.permissions?.length||0," permissions"]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Br,{className:"h-3 w-3 sm:h-4 sm:w-4"}),s.jsxs("span",{children:["Lower: ",e.lower_role?.permissions?.length||0," permissions"]})]})]})]}),s.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[s.jsx(Ve,{variant:"default",className:"text-xs",children:"Active"}),r&&s.jsxs(Ve,{variant:"destructive",className:"text-xs",children:[s.jsx(Dn,{className:"h-3 w-3 mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"To Delete"}),s.jsx("span",{className:"sm:hidden",children:"Delete"})]})]})]})})},UUe=({hierarchies:e,loading:t,selectedHierarchies:r,deletingIds:n,onSelectHierarchy:a,onBack:o})=>s.jsxs(be,{children:[s.jsx(Te,{className:"p-4 sm:p-6",children:s.jsxs(Ue,{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-2 sm:space-y-0 sm:space-x-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(zr,{className:"h-4 w-4 sm:h-5 sm:w-5"}),s.jsx("span",{className:"text-lg sm:text-xl",children:"Store Hierarchy Relationships"})]}),s.jsxs(Ve,{variant:"outline",className:"text-xs sm:text-sm",children:[e.length," items"]})]})}),s.jsx(Ne,{className:"p-4 sm:p-6",children:t?s.jsx("div",{className:"space-y-3 sm:space-y-4",children:Array.from({length:3}).map((l,c)=>s.jsx("div",{className:"p-3 sm:p-4 border rounded-lg",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ye,{className:"h-4 w-4"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Ye,{className:"h-12 w-32"}),s.jsx(Ye,{className:"h-4 w-4"}),s.jsx(Ye,{className:"h-12 w-32"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ye,{className:"h-8 w-full"}),s.jsx(Ye,{className:"h-8 w-full"})]})]}),s.jsx(Ye,{className:"h-6 w-16"})]})},c))}):e.length>0?s.jsx(Qg,{className:"h-[600px]",children:s.jsx("div",{className:"space-y-3 sm:space-y-4",children:e.map(l=>s.jsx(FUe,{hierarchy:l,onSelect:a,isSelected:r.has(l.id),isDeleting:n.has(l.id)},l.id))})}):s.jsxs("div",{className:"text-center py-8 sm:py-12",children:[s.jsx(zr,{className:"h-10 w-10 sm:h-12 sm:w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-2",children:"No hierarchies found"}),s.jsx("p",{className:"text-muted-foreground mb-4 text-sm sm:text-base",children:"This store doesn't have any role hierarchy relationships configured."}),s.jsxs(X,{onClick:o,variant:"outline",className:"hover:bg-accent",children:[s.jsx($n,{className:"h-4 w-4 mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Go Back"}),s.jsx("span",{className:"sm:hidden",children:"Back"})]})]})})]}),$Ue=({selectedHierarchies:e,onConfirm:t,onCancel:r,isDeleting:n,open:a})=>{const o=b.useCallback(l=>{l||r()},[r]);return s.jsx(rn,{open:a,onOpenChange:o,children:s.jsxs(Vr,{className:"sm:max-w-[500px] p-4 sm:p-6",children:[s.jsx(Wr,{children:s.jsxs(Gr,{className:"flex items-center space-x-2 text-lg sm:text-xl",children:[s.jsx(Cb,{className:"h-4 w-4 sm:h-5 sm:w-5 text-red-500"}),s.jsx("span",{children:"Confirm Deletion"})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Ze,{variant:"destructive",className:"border-destructive/50",children:[s.jsx(Cb,{className:"h-4 w-4"}),s.jsxs(Ke,{className:"text-destructive text-sm sm:text-base",children:["You are about to delete ",e.length," hierarchy relationship",e.length>1?"s":"",". This action cannot be undone."]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium text-sm sm:text-base",children:"Hierarchies to be deleted:"}),s.jsx(Qg,{className:"h-32 border rounded-md p-2",children:s.jsx("div",{className:"space-y-2",children:e.map(l=>s.jsxs("div",{className:"text-xs sm:text-sm p-2 bg-red-50 dark:bg-red-950/20 rounded border border-red-200 dark:border-red-800/30",children:[s.jsx("span",{className:"font-medium text-foreground",children:l.higher_role?.name}),s.jsx("span",{className:"mx-2 text-muted-foreground",children:"→"}),s.jsx("span",{className:"font-medium text-foreground",children:l.lower_role?.name})]},l.id))})})]})]}),s.jsxs(nn,{className:"flex flex-col sm:flex-row gap-2 sm:gap-0",children:[s.jsx(X,{type:"button",variant:"outline",onClick:r,disabled:n,className:"w-full sm:w-auto text-sm sm:text-base hover:bg-accent",children:"Cancel"}),s.jsx(X,{type:"button",variant:"destructive",onClick:t,disabled:n,className:"w-full sm:w-auto text-sm sm:text-base",children:n?s.jsxs(s.Fragment,{children:[s.jsx(Lr,{className:"h-4 w-4 mr-2 animate-spin"}),s.jsx("span",{className:"hidden sm:inline",children:"Deleting..."}),s.jsx("span",{className:"sm:hidden",children:"Deleting"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Dn,{className:"h-4 w-4 mr-2"}),s.jsxs("span",{className:"hidden sm:inline",children:["Delete ",e.length," Item",e.length>1?"s":""]}),s.jsxs("span",{className:"sm:hidden",children:["Delete (",e.length,")"]})]})})]})]})})},HUe=(e,t,r)=>e.find(n=>n.higher_role?.id===t&&n.lower_role?.id===r),zUe=()=>{const{storeId:e}=zs(),t=Ct(),r=Wn(),[n,a]=b.useState(new Set),[o,l]=b.useState(!1),[c,d]=b.useState(new Set),u=b.useMemo(()=>r.state,[r.state]),{hierarchies:i,isLoading:m,error:g,refetch:x}=bK(e),{removeHierarchy:v,isLoading:N}=cUe(),h=b.useMemo(()=>i.filter(R=>n.has(R.id)),[i,n]),y=b.useMemo(()=>i.length>0&&n.size===i.length,[i.length,n.size]),w=b.useMemo(()=>n.size>0&&n.size<i.length,[n.size,i.length]),j=b.useCallback((R,P)=>{a(M=>{const I=new Set(M);return P?I.add(R.id):I.delete(R.id),I})},[]),C=b.useCallback(R=>{a(R?new Set(i.map(P=>P.id)):new Set)},[i]),_=b.useCallback(()=>{n.size>0&&l(!0)},[n.size]),k=b.useCallback(async()=>{if(h.length!==0)try{d(new Set(n));const R=h.map(I=>{const L={higher_role_id:I.higher_role?.id,lower_role_id:I.lower_role?.id,store_id:e};return v(L)}),M=(await Promise.allSettled(R)).filter(I=>I.status==="rejected");M.length>0&&console.error("Some deletions failed:",M),await x(e),a(new Set),l(!1),d(new Set)}catch(R){console.error("Failed to delete hierarchies:",R),d(new Set)}},[h,n,e,v,x]),A=b.useCallback(()=>{t(`/stores-hierarchy/view/${e}`)},[t,e]),T=b.useCallback(()=>{l(!1)},[]);return b.useEffect(()=>{if(u?.validatedHierarchy&&i.length>0){const{higher_role_id:R,lower_role_id:P}=u.validatedHierarchy,M=HUe(i,R,P);M&&a(new Set([M.id]))}},[i,u]),e?s.jsxs(Vt,{title:`Delete Store Hierarchy - Store ${e}`,subtitle:"Select and remove role hierarchies from your store",backButton:{show:!0},children:[g&&s.jsxs(Ze,{variant:"destructive",className:"border-destructive/50",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx(Ke,{className:"text-destructive text-sm sm:text-base",children:g?.message||"An error occurred while loading the hierarchies."})]}),s.jsx(BUe,{totalCount:i.length,selectedCount:n.size,allSelected:y,someSelected:w,onSelectAll:C,onDeleteSelected:_,isDeleting:N}),s.jsx(UUe,{hierarchies:i,loading:m,selectedHierarchies:n,deletingIds:c,onSelectHierarchy:j,onBack:A}),s.jsx($Ue,{selectedHierarchies:h,onConfirm:k,onCancel:T,isDeleting:N,open:o})]}):s.jsx(Vt,{title:"Delete Store Hierarchy",subtitle:"Manage role hierarchies for your store",backButton:{show:!0},children:s.jsxs(Ze,{variant:"destructive",className:"border-destructive/50",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx(Ke,{className:"text-destructive text-sm sm:text-base",children:"Store ID is required to view hierarchy."})]})})},qUe=[s.jsx(St,{path:"/stores-hierarchy/view/:storeId",element:s.jsx(At,{children:s.jsx(Yt,{role:"super-admin",children:s.jsx(kt,{children:s.jsx(DUe,{})})})})},"view-store-hierarchy"),s.jsx(St,{path:"/stores-hierarchy/create/:storeId",element:s.jsx(At,{children:s.jsx(Yt,{role:"super-admin",children:s.jsx(kt,{children:s.jsx(IUe,{})})})})},"create-hierarchy"),s.jsx(St,{path:"/stores-hierarchy/delete/:storeId",element:s.jsx(At,{children:s.jsx(Yt,{role:"super-admin",children:s.jsx(kt,{children:s.jsx(zUe,{})})})})},"delete-hierarchy"),s.jsx(St,{path:"/stores-hierarchy/validate/:storeId",element:s.jsx(At,{children:s.jsx(Yt,{role:"super-admin",children:s.jsx(kt,{children:s.jsx(LUe,{})})})})},"validate-hierarchy")],VUe=()=>Mt(),Xc=ue,FK=()=>{const e=VUe(),t=Xc(qoe),r=Xc(Voe),n=Xc(Woe),a=Xc(Goe),o=Xc(Yoe),l=Xc(Zoe),c=Xc(Koe),d=b.useCallback(L=>t.find(B=>B.id===L),[t]),u=b.useCallback(async L=>{try{console.log("🔄 Hook: Fetching positions with params:",L);const B=await e(fy(L)),U=os(B);return console.log(`✅ Hook: Successfully fetched ${U.length} positions`),U}catch(B){const U=B;throw console.error("❌ Hook: Failed to fetch positions:",U),U}},[e]),i=b.useCallback(async L=>{try{console.log(`🔄 Hook: Fetching position with ID: ${L}`);const B=await e(my(L)),U=os(B);return console.log(`✅ Hook: Successfully fetched position: ${U.name}`),U}catch(B){const U=B;throw console.error(`❌ Hook: Failed to fetch position ${L}:`,U),U}},[e]),m=b.useCallback(async L=>{try{console.log("🔄 Hook: Creating position with data:",L);const B=await e(hy(L)),U=os(B);return console.log(`✅ Hook: Successfully created position: ${U.name} (ID: ${U.id})`),U}catch(B){const U=B;throw console.error("❌ Hook: Failed to create position:",U),U}},[e]),g=b.useCallback(async(L,B)=>{try{console.log(`🔄 Hook: Updating position ${L} with data:`,B);const U=await e(py({id:L,data:B})),F=os(U);return console.log(`✅ Hook: Successfully updated position: ${F.name} (ID: ${F.id})`),F}catch(U){const F=U;throw console.error(`❌ Hook: Failed to update position ${L}:`,F),F}},[e]),x=b.useCallback(async L=>{try{console.log(`🔄 Hook: Deleting position with ID: ${L}`);const B=await e(gy(L));os(B),console.log(`✅ Hook: Successfully deleted position with ID: ${L}`)}catch(B){const U=B;throw console.error(`❌ Hook: Failed to delete position ${L}:`,U),U}},[e]),v=b.useCallback(L=>{console.log("🔄 Hook: Setting selected position:",L?.name||"null"),e(Poe(L))},[e]),N=b.useCallback(()=>{console.log("🔄 Hook: Clearing selected position"),e(Moe())},[e]),h=b.useCallback(()=>{console.log("🔄 Hook: Opening create modal"),e(Ooe())},[e]),y=b.useCallback(()=>{console.log("🔄 Hook: Closing create modal"),e(Ioe())},[e]),w=b.useCallback(()=>{console.log("🔄 Hook: Opening edit modal"),e(Loe())},[e]),j=b.useCallback(()=>{console.log("🔄 Hook: Closing edit modal"),e(Boe())},[e]),C=b.useCallback(L=>{console.log(`🔄 Hook: Setting deleting ID: ${L}`),e(Foe(L))},[e]),_=b.useCallback(()=>{console.log("🔄 Hook: Clearing all errors"),e(Uoe())},[e]),k=b.useCallback(L=>{console.log(`🔄 Hook: Clearing ${L} error`),e($oe(L))},[e]),A=b.useCallback(L=>{console.log("🔄 Hook: Updating pagination:",L),e(Hoe(L))},[e]),T=b.useCallback(()=>{console.log("🔄 Hook: Resetting positions state"),e(zoe())},[e]),R=b.useCallback(async()=>{const L={per_page:o.perPage,page:o.currentPage};return u(L)},[u,o.perPage,o.currentPage]),P=b.useCallback(L=>n[L],[n]),M=b.useCallback(L=>a[L]!==null,[a]),I=b.useCallback(L=>a[L],[a]);return b.useMemo(()=>({positions:t,selectedPosition:r,loading:n,error:a,pagination:o,ui:l,isAnyLoading:c,fetchPositions:u,fetchPositionById:i,createPosition:m,updatePosition:g,deletePosition:x,setSelectedPosition:v,clearSelectedPosition:N,getPositionById:d,openCreateModal:h,closeCreateModal:y,openEditModal:w,closeEditModal:j,setDeletingId:C,clearAllErrors:_,clearError:k,updatePagination:A,resetState:T,refreshPositions:R,isPositionLoading:P,hasError:M,getErrorMessage:I}),[t,r,n,a,o,l,c,u,i,m,g,x,v,N,d,h,y,w,j,C,_,k,A,T,R,P,M,I])},WUe=ht({name:Qe().min(1,"Position name is required").max(255,"Name must be less than 255 characters"),slug:Qe().max(255,"Slug must be less than 255 characters").optional().or(Zo(""))}),GUe=ht({name:Qe().min(1,"Position name is required").max(255,"Name must be less than 255 characters"),slug:Qe().max(255,"Slug must be less than 255 characters").optional().or(Zo(""))}),YUe=()=>{const{positions:e,loading:t,error:r,ui:n,fetchPositions:a,createPosition:o,updatePosition:l,deletePosition:c,openCreateModal:d,closeCreateModal:u,openEditModal:i,closeEditModal:m,setSelectedPosition:g,setDeletingId:x,clearError:v}=FK(),[N,h]=b.useState(null),y=Es({resolver:$s(WUe),defaultValues:{name:"",slug:""}}),w=Es({resolver:$s(GUe),defaultValues:{name:"",slug:""}});b.useEffect(()=>{j()},[]),b.useEffect(()=>{r.list&&(He.error("Error loading positions",{description:r.list}),v("list"))},[r.list,v]),b.useEffect(()=>{r.create&&(He.error("Error creating position",{description:r.create}),v("create"))},[r.create,v]),b.useEffect(()=>{r.update&&(He.error("Error updating position",{description:r.update}),v("update"))},[r.update,v]),b.useEffect(()=>{r.delete&&(He.error("Error deleting position",{description:r.delete}),v("delete"))},[r.delete,v]);const j=async()=>{try{await a({per_page:50}),He.success("Positions refreshed",{description:"Position list has been updated successfully."})}catch{}},C=()=>{y.reset(),d()},_=B=>{h(B),g(B),w.reset({name:B.name,slug:B.slug||""}),i()},k=B=>{x(B.id)},A=async B=>{try{const U={name:B.name,slug:B.slug||void 0};await o(U),He.success("Position created",{description:`Position "${B.name}" has been created successfully.`}),y.reset(),u()}catch{}},T=async B=>{if(N)try{const U={name:B.name,slug:B.slug||void 0};await l(N.id,U),He.success("Position updated",{description:`Position "${B.name}" has been updated successfully.`}),w.reset(),m(),h(null)}catch{}},R=async()=>{if(!n.deletingId)return;const B=e.find(U=>U.id===n.deletingId);try{await c(n.deletingId),He.success("Position deleted",{description:`Position "${B?.name||"Unknown"}" has been deleted successfully.`}),x(null)}catch{}},P=()=>{y.reset(),u()},M=()=>{w.reset(),m(),h(null)},I=()=>{x(null)},L=e.find(B=>B.id===n.deletingId);return s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsx(be,{children:s.jsx(Te,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Positions"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage your organization's positions"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:j,disabled:t.list,className:"flex items-center space-x-2",children:[s.jsx(Lr,{className:`h-4 w-4 ${t.list?"animate-spin":""}`}),s.jsx("span",{children:"Refresh"})]}),s.jsxs(X,{size:"sm",onClick:C,disabled:t.create,className:"flex items-center space-x-2",children:[s.jsx(or,{className:"h-4 w-4"}),s.jsx("span",{children:"Create Position"})]})]})]})})}),s.jsx(be,{children:s.jsx(Ne,{className:"p-0",children:t.list?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[s.jsx(ut,{className:"h-5 w-5 animate-spin"}),s.jsx("span",{children:"Loading positions..."})]})}):e.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx(st,{className:"h-12 w-12 text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No positions found"}),s.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Get started by creating your first position."}),s.jsxs(X,{onClick:C,className:"flex items-center space-x-2",children:[s.jsx(or,{className:"h-4 w-4"}),s.jsx("span",{children:"Create Position"})]})]}):s.jsxs(mn,{children:[s.jsx(hn,{children:s.jsxs(Nt,{children:[s.jsx(Be,{className:"font-semibold",children:"Name"}),s.jsx(Be,{className:"font-semibold",children:"Slug"}),s.jsx(Be,{className:"font-semibold",children:"Created"}),s.jsx(Be,{className:"font-semibold",children:"Updated"}),s.jsx(Be,{className:"text-right font-semibold",children:"Actions"})]})}),s.jsx(pn,{children:e.map(B=>s.jsxs(Nt,{className:"hover:bg-gray-50",children:[s.jsx(Re,{className:"font-medium",children:B.name}),s.jsx(Re,{className:"text-gray-600",children:B.slug||s.jsx("span",{className:"text-gray-400 italic",children:"No slug"})}),s.jsx(Re,{className:"text-gray-600",children:new Date(B.created_at).toLocaleDateString()}),s.jsx(Re,{className:"text-gray-600",children:new Date(B.updated_at).toLocaleDateString()}),s.jsx(Re,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>_(B),disabled:t.update,className:"flex items-center space-x-1",children:[s.jsx(pa,{className:"h-3 w-3"}),s.jsx("span",{children:"Edit"})]}),s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>k(B),disabled:t.delete,className:"flex items-center space-x-1 text-red-600 hover:text-red-700 hover:bg-red-50 border-red-200",children:[s.jsx(Dn,{className:"h-3 w-3"}),s.jsx("span",{children:"Delete"})]})]})})]},B.id))})]})})}),s.jsx(rn,{open:n.isCreateModalOpen,onOpenChange:P,children:s.jsxs(Vr,{className:"sm:max-w-[425px]",children:[s.jsxs(Wr,{children:[s.jsx(Gr,{children:"Create New Position"}),s.jsx(cn,{children:"Add a new position to your organization. The slug field is optional and will be used for URL-friendly identification."})]}),s.jsx($a,{...y,children:s.jsxs("form",{onSubmit:y.handleSubmit(A),className:"space-y-4",children:[s.jsx(Gt,{control:y.control,name:"name",render:({field:B})=>s.jsxs(Ht,{children:[s.jsx(zt,{children:"Position Name *"}),s.jsx(qt,{children:s.jsx(We,{placeholder:"Enter position name",...B,disabled:t.create})}),s.jsx(ar,{})]})}),s.jsx(Gt,{control:y.control,name:"slug",render:({field:B})=>s.jsxs(Ht,{children:[s.jsx(zt,{children:"Slug (Optional)"}),s.jsx(qt,{children:s.jsx(We,{placeholder:"Enter URL-friendly slug",...B,disabled:t.create})}),s.jsx(ar,{})]})}),s.jsxs(nn,{children:[s.jsx(X,{type:"button",variant:"outline",onClick:P,disabled:t.create,children:"Cancel"}),s.jsxs(X,{type:"submit",disabled:t.create,className:"flex items-center space-x-2",children:[t.create&&s.jsx(ut,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Create Position"})]})]})]})})]})}),s.jsx(rn,{open:n.isEditModalOpen,onOpenChange:M,children:s.jsxs(Vr,{className:"sm:max-w-[425px]",children:[s.jsxs(Wr,{children:[s.jsx(Gr,{children:"Edit Position"}),s.jsx(cn,{children:"Update the position details. Changes will be saved immediately."})]}),s.jsx($a,{...w,children:s.jsxs("form",{onSubmit:w.handleSubmit(T),className:"space-y-4",children:[s.jsx(Gt,{control:w.control,name:"name",render:({field:B})=>s.jsxs(Ht,{children:[s.jsx(zt,{children:"Position Name *"}),s.jsx(qt,{children:s.jsx(We,{placeholder:"Enter position name",...B,disabled:t.update})}),s.jsx(ar,{})]})}),s.jsx(Gt,{control:w.control,name:"slug",render:({field:B})=>s.jsxs(Ht,{children:[s.jsx(zt,{children:"Slug (Optional)"}),s.jsx(qt,{children:s.jsx(We,{placeholder:"Enter URL-friendly slug",...B,disabled:t.update})}),s.jsx(ar,{})]})}),s.jsxs(nn,{children:[s.jsx(X,{type:"button",variant:"outline",onClick:M,disabled:t.update,children:"Cancel"}),s.jsxs(X,{type:"submit",disabled:t.update,className:"flex items-center space-x-2",children:[t.update&&s.jsx(ut,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Update Position"})]})]})]})})]})}),s.jsx(fl,{open:!!n.deletingId,onOpenChange:I,children:s.jsxs(ei,{children:[s.jsxs(ti,{children:[s.jsx(ni,{children:"Are you sure?"}),s.jsxs(si,{children:["This action cannot be undone. This will permanently delete the position"," ",s.jsxs("span",{className:"font-semibold",children:['"',L?.name,'"']})," and all associated data."]})]}),s.jsxs(ri,{children:[s.jsx(oi,{disabled:t.delete,children:"Cancel"}),s.jsxs(ai,{onClick:R,disabled:t.delete,className:"bg-red-600 hover:bg-red-700 flex items-center space-x-2",children:[t.delete&&s.jsx(ut,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Delete Position"})]})]})]})})]})},ZUe=()=>Mt(),nf=ue,UK=()=>{const e=ZUe(),t=nf(Cie),r=nf(Eie),n=nf(_ie),a=nf(Aie),o=nf(kie),l=nf(Die),c=b.useCallback(A=>t.find(T=>T.id===A),[t]),d=b.useCallback(async()=>{try{console.log("🔄 Hook: Fetching skills");const A=await e(wy()),T=os(A);return console.log(`✅ Hook: Successfully fetched ${T.length} skills`),T}catch(A){const T=A;throw console.error("❌ Hook: Failed to fetch skills:",T),T}},[e]),u=b.useCallback(async A=>{try{console.log(`🔄 Hook: Fetching skill with ID: ${A}`);const T=await e(Sy(A)),R=os(T);return console.log(`✅ Hook: Successfully fetched skill: ${R?.name}`),R}catch(T){const R=T;throw console.error(`❌ Hook: Failed to fetch skill ${A}:`,R),R}},[e]),i=b.useCallback(async A=>{try{console.log("🔄 Hook: Creating skill with data:",A);const T=await e(jy(A)),R=os(T);return console.log(`✅ Hook: Successfully created skill: ${R.name} (ID: ${R.id})`),R}catch(T){const R=T;throw console.error("❌ Hook: Failed to create skill:",R),R}},[e]),m=b.useCallback(async(A,T)=>{try{console.log(`🔄 Hook: Updating skill ${A} with data:`,T);const R=await e(Ny({id:A,data:T})),P=os(R);return console.log(`✅ Hook: Successfully updated skill: ${P.name} (ID: ${P.id})`),P}catch(R){const P=R;throw console.error(`❌ Hook: Failed to update skill ${A}:`,P),P}},[e]),g=b.useCallback(async A=>{try{console.log(`🔄 Hook: Deleting skill with ID: ${A}`);const T=await e(Cy(A));os(T),console.log(`✅ Hook: Successfully deleted skill with ID: ${A}`)}catch(T){const R=T;throw console.error(`❌ Hook: Failed to delete skill ${A}:`,R),R}},[e]),x=b.useCallback(A=>{console.log("🔄 Hook: Setting selected skill:",A?.name||"null"),e(pie(A))},[e]),v=b.useCallback(()=>{console.log("🔄 Hook: Clearing selected skill"),e(gie())},[e]),N=b.useCallback(()=>{console.log("🔄 Hook: Opening create modal"),e(xie())},[e]),h=b.useCallback(()=>{console.log("🔄 Hook: Closing create modal"),e(vie())},[e]),y=b.useCallback(()=>{console.log("🔄 Hook: Opening edit modal"),e(yie())},[e]),w=b.useCallback(()=>{console.log("🔄 Hook: Closing edit modal"),e(bie())},[e]),j=b.useCallback(A=>{console.log(`🔄 Hook: Setting deleting ID: ${A}`),e(wie(A))},[e]),C=b.useCallback(()=>{console.log("🔄 Hook: Clearing all errors"),e(Sie())},[e]),_=b.useCallback(A=>{console.log(`🔄 Hook: Clearing ${A} error`),e(jie(A))},[e]),k=b.useCallback(()=>{console.log("🔄 Hook: Resetting skills state"),e(Nie())},[e]);return b.useMemo(()=>({skills:t,selectedSkill:r,loading:n,error:a,ui:o,isAnyLoading:l,fetchSkills:d,fetchSkillById:u,createSkill:i,updateSkill:m,deleteSkill:g,setSelectedSkill:x,clearSelectedSkill:v,getSkillById:c,openCreateModal:N,closeCreateModal:h,openEditModal:y,closeEditModal:w,setDeletingId:j,clearAllErrors:C,clearError:_,resetState:k}),[t,r,n,a,o,l,d,u,i,m,g,x,v,c,N,h,y,w,j,C,_,k])},KUe=ht({name:Qe().min(1,"Skill name is required").max(255,"Name must be less than 255 characters"),slug:Qe().max(255,"Slug must be less than 255 characters").optional().or(Zo(""))}),XUe=ht({name:Qe().min(1,"Skill name is required").max(255,"Name must be less than 255 characters"),slug:Qe().max(255,"Slug must be less than 255 characters").optional().or(Zo(""))}),$K=()=>{const{skills:e,loading:t,error:r,ui:n,fetchSkills:a,createSkill:o,updateSkill:l,deleteSkill:c,openCreateModal:d,closeCreateModal:u,openEditModal:i,closeEditModal:m,setSelectedSkill:g,setDeletingId:x,clearError:v}=UK(),[N,h]=b.useState(null),y=Ct(),w=Es({resolver:$s(KUe),defaultValues:{name:"",slug:""}}),j=Es({resolver:$s(XUe),defaultValues:{name:"",slug:""}});b.useEffect(()=>{C()},[]),b.useEffect(()=>{r.list&&(He.error("Error loading skills",{description:r.list}),v("list"))},[r.list,v]),b.useEffect(()=>{r.create&&(He.error("Error creating skill",{description:r.create}),v("create"))},[r.create,v]),b.useEffect(()=>{r.update&&(He.error("Error updating skill",{description:r.update}),v("update"))},[r.update,v]),b.useEffect(()=>{r.delete&&(He.error("Error deleting skill",{description:r.delete}),v("delete"))},[r.delete,v]);const C=async()=>{try{await a(),He.success("Skills refreshed",{description:"Skill list updated successfully."})}catch{}},_=()=>{w.reset(),d()},k=F=>{h(F),g(F),j.reset({name:F.name,slug:F.slug||""}),i()},A=F=>{y(`/skills/${F.id}`)},T=F=>{x(F.id)},R=async F=>{try{const H={name:F.name,slug:F.slug||void 0};await o(H),He.success("Skill created",{description:`Skill "${F.name}" created successfully.`}),w.reset(),u()}catch{}},P=async F=>{if(N)try{const H={name:F.name,slug:F.slug||void 0};await l(N.id,H),He.success("Skill updated",{description:`Skill "${F.name}" updated successfully.`}),j.reset(),m(),h(null)}catch{}},M=async()=>{if(!n.deletingId)return;const F=e.find(H=>H.id===n.deletingId);try{await c(n.deletingId),He.success("Skill deleted",{description:`Skill "${F?.name||"Unknown"}" deleted successfully.`}),x(null)}catch{}},I=()=>{w.reset(),u()},L=()=>{j.reset(),m(),h(null)},B=()=>{x(null)},U=e.find(F=>F.id===n.deletingId);return s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsx(be,{children:s.jsx(Te,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Skills"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage your organization's skills"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:C,disabled:t.list,className:"flex items-center space-x-2",children:[s.jsx(Lr,{className:`h-4 w-4 ${t.list?"animate-spin":""}`}),s.jsx("span",{children:"Refresh"})]}),s.jsxs(X,{size:"sm",onClick:_,disabled:t.create,className:"flex items-center space-x-2",children:[s.jsx(or,{className:"h-4 w-4"}),s.jsx("span",{children:"Create Skill"})]})]})]})})}),s.jsx(be,{children:s.jsx(Ne,{className:"p-0",children:t.list?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[s.jsx(ut,{className:"h-5 w-5 animate-spin"}),s.jsx("span",{children:"Loading skills..."})]})}):e.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx(st,{className:"h-12 w-12 text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No skills found"}),s.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Get started by creating your first skill."}),s.jsxs(X,{onClick:_,className:"flex items-center space-x-2",children:[s.jsx(or,{className:"h-4 w-4"}),s.jsx("span",{children:"Create Skill"})]})]}):s.jsxs(mn,{children:[s.jsx(hn,{children:s.jsxs(Nt,{children:[s.jsx(Be,{className:"font-semibold",children:"Name"}),s.jsx(Be,{className:"font-semibold",children:"Slug"}),s.jsx(Be,{className:"font-semibold",children:"Created"}),s.jsx(Be,{className:"font-semibold",children:"Updated"}),s.jsx(Be,{className:"text-right font-semibold",children:"Actions"})]})}),s.jsx(pn,{children:e.map(F=>s.jsxs(Nt,{className:"hover:bg-gray-50",children:[s.jsx(Re,{className:"font-medium",children:F.name}),s.jsx(Re,{className:"text-gray-600",children:F.slug||s.jsx("span",{className:"text-gray-400 italic",children:"No slug"})}),s.jsx(Re,{className:"text-gray-600",children:new Date(F.created_at).toLocaleDateString()}),s.jsx(Re,{className:"text-gray-600",children:new Date(F.updated_at).toLocaleDateString()}),s.jsx(Re,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>A(F),className:"flex items-center space-x-1",children:[s.jsx(Sn,{className:"h-3 w-3"}),s.jsx("span",{children:"View"})]}),s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>k(F),disabled:t.update,className:"flex items-center space-x-1",children:[s.jsx(pa,{className:"h-3 w-3"}),s.jsx("span",{children:"Edit"})]}),s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>T(F),disabled:t.delete,className:"flex items-center space-x-1 text-red-600 hover:text-red-700 hover:bg-red-50 border-red-200",children:[s.jsx(Dn,{className:"h-3 w-3"}),s.jsx("span",{children:"Delete"})]})]})})]},F.id))})]})})}),s.jsx(rn,{open:n.isCreateModalOpen,onOpenChange:I,children:s.jsxs(Vr,{className:"sm:max-w-[425px]",children:[s.jsxs(Wr,{children:[s.jsx(Gr,{children:"Create New Skill"}),s.jsx(cn,{children:"Add a new skill to your organization. The slug field is optional and will be used for URL-friendly identification."})]}),s.jsx($a,{...w,children:s.jsxs("form",{onSubmit:w.handleSubmit(R),className:"space-y-4",children:[s.jsx(Gt,{control:w.control,name:"name",render:({field:F})=>s.jsxs(Ht,{children:[s.jsx(zt,{children:"Skill Name *"}),s.jsx(qt,{children:s.jsx(We,{placeholder:"Enter skill name",...F,disabled:t.create})}),s.jsx(ar,{})]})}),s.jsx(Gt,{control:w.control,name:"slug",render:({field:F})=>s.jsxs(Ht,{children:[s.jsx(zt,{children:"Slug (Optional)"}),s.jsx(qt,{children:s.jsx(We,{placeholder:"Enter URL-friendly slug",...F,disabled:t.create})}),s.jsx(ar,{})]})}),s.jsxs(nn,{children:[s.jsx(X,{type:"button",variant:"outline",onClick:I,disabled:t.create,children:"Cancel"}),s.jsxs(X,{type:"submit",disabled:t.create,className:"flex items-center space-x-2",children:[t.create&&s.jsx(ut,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Create Skill"})]})]})]})})]})}),s.jsx(rn,{open:n.isEditModalOpen,onOpenChange:L,children:s.jsxs(Vr,{className:"sm:max-w-[425px]",children:[s.jsxs(Wr,{children:[s.jsx(Gr,{children:"Edit Skill"}),s.jsx(cn,{children:"Update the skill details. Changes will be saved immediately."})]}),s.jsx($a,{...j,children:s.jsxs("form",{onSubmit:j.handleSubmit(P),className:"space-y-4",children:[s.jsx(Gt,{control:j.control,name:"name",render:({field:F})=>s.jsxs(Ht,{children:[s.jsx(zt,{children:"Skill Name *"}),s.jsx(qt,{children:s.jsx(We,{placeholder:"Enter skill name",...F,disabled:t.update})}),s.jsx(ar,{})]})}),s.jsx(Gt,{control:j.control,name:"slug",render:({field:F})=>s.jsxs(Ht,{children:[s.jsx(zt,{children:"Slug (Optional)"}),s.jsx(qt,{children:s.jsx(We,{placeholder:"Enter URL-friendly slug",...F,disabled:t.update})}),s.jsx(ar,{})]})}),s.jsxs(nn,{children:[s.jsx(X,{type:"button",variant:"outline",onClick:L,disabled:t.update,children:"Cancel"}),s.jsxs(X,{type:"submit",disabled:t.update,className:"flex items-center space-x-2",children:[t.update&&s.jsx(ut,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Update Skill"})]})]})]})})]})}),s.jsx(fl,{open:!!n.deletingId,onOpenChange:B,children:s.jsxs(ei,{children:[s.jsxs(ti,{children:[s.jsx(ni,{children:"Are you sure?"}),s.jsxs(si,{children:["This action cannot be undone. This will permanently delete the skill"," ",s.jsxs("span",{className:"font-semibold",children:['"',U?.name,'"']})," and all associated data."]})]}),s.jsxs(ri,{children:[s.jsx(oi,{disabled:t.delete,children:"Cancel"}),s.jsxs(ai,{onClick:M,disabled:t.delete,className:"bg-red-600 hover:bg-red-700 flex items-center space-x-2",children:[t.delete&&s.jsx(ut,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Delete Skill"})]})]})]})})]})},QUe=(e={})=>{const{autoFetch:t=!0,refetchInterval:r=0}=e,n=Mt(),a=ue(aie),o=ue(oie),l=ue(iie),c=ue(lie),d=ue(cie),u=ue(die),i=b.useCallback(async()=>{try{await n(xy()).unwrap()}catch(w){console.error("Failed to fetch statuses:",w)}},[n]),m=b.useCallback(async w=>{try{return await n(vy(w)).unwrap()}catch(j){return console.error("Failed to create status:",j),null}},[n]),g=b.useCallback(async(w,j)=>{try{const C={id:w,description:j.description,slug:j.slug||"",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return n(sie(C)),await n(yy({id:w,data:j})).unwrap()}catch(C){return console.error("Failed to update status:",C),null}},[n]),x=b.useCallback(async w=>{try{return await n(by({id:w})).unwrap(),!0}catch(j){return console.error("Failed to delete status:",j),!1}},[n]),v=b.useCallback(()=>{n(tie())},[n]),N=b.useCallback(w=>{n(rie(w))},[n]),h=b.useCallback(()=>{n(nie())},[n]),y=b.useCallback(async()=>{await i()},[i]);return b.useEffect(()=>{t&&i()},[t,i]),b.useEffect(()=>{if(r>0){const w=setInterval(()=>{i()},r);return()=>clearInterval(w)}},[r,i]),{statuses:a,statusCount:c.total,lastFetched:c.lastFetched,loading:o,isAnyLoading:d,errors:l,hasErrors:u,fetchStatuses:i,createNewStatus:m,updateExistingStatus:g,deleteExistingStatus:x,clearAllErrors:v,clearSpecificError:N,resetState:h,refetch:y}},JUe=ht({description:Qe().min(1,"Description is required"),slug:Qe().max(255,"Slug must be less than 255 characters").optional().or(Zo(""))}),e$e=ht({description:Qe().min(1,"Description is required"),slug:Qe().max(255,"Slug must be less than 255 characters").optional().or(Zo(""))}),t$e=({description:e,maxLength:t=100})=>{const[r,n]=b.useState(!1),a=e.length>t,o=a&&!r?`${e.substring(0,t)}...`:e;return s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:`text-gray-600 ${r?"whitespace-pre-wrap":""}`,children:o}),a&&s.jsx(X,{variant:"ghost",size:"sm",onClick:()=>n(!r),className:"h-6 px-2 text-xs text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:r?s.jsxs(s.Fragment,{children:[s.jsx(oc,{className:"h-3 w-3 mr-1"}),"Show less"]}):s.jsxs(s.Fragment,{children:[s.jsx(Sn,{className:"h-3 w-3 mr-1"}),"Show more"]})})]})},r$e=()=>{const{statuses:e,statusCount:t,loading:r,errors:n,fetchStatuses:a,createNewStatus:o,updateExistingStatus:l,deleteExistingStatus:c,clearSpecificError:d}=QUe(),[u,i]=b.useState(!1),[m,g]=b.useState(!1),[x,v]=b.useState(null),[N,h]=b.useState(null),y=Es({resolver:$s(JUe),defaultValues:{description:"",slug:""}}),w=Es({resolver:$s(e$e),defaultValues:{description:"",slug:""}});b.useEffect(()=>{j()},[]),b.useEffect(()=>{n.fetchAll&&(He.error("Error loading statuses",{description:n.fetchAll}),d("fetchAll"))},[n.fetchAll,d]),b.useEffect(()=>{n.create&&(He.error("Error creating status",{description:n.create}),d("create"))},[n.create,d]),b.useEffect(()=>{n.update&&(He.error("Error updating status",{description:n.update}),d("update"))},[n.update,d]),b.useEffect(()=>{n.delete&&(He.error("Error deleting status",{description:n.delete}),d("delete"))},[n.delete,d]);const j=async()=>{try{await a(),He.success("Statuses refreshed",{description:"Status list has been updated successfully."})}catch{}},C=()=>{y.reset(),i(!0)},_=B=>{v(B),w.reset({description:B.description,slug:B.slug||""}),g(!0)},k=B=>{h(B.id)},A=async B=>{try{const U={description:B.description,slug:B.slug||void 0};await o(U)&&(He.success("Status created",{description:`Status "${B.description.substring(0,50)}..." has been created successfully.`}),y.reset(),i(!1))}catch{}},T=async B=>{if(x)try{const U={description:B.description,slug:B.slug||void 0};await l(x.id,U)&&(He.success("Status updated",{description:"Status has been updated successfully."}),w.reset(),g(!1),v(null))}catch{}},R=async()=>{if(!N)return;const B=e.find(U=>U.id===N);try{await c(N)&&(He.success("Status deleted",{description:`Status "${B?.description.substring(0,50)||"Unknown"}..." has been deleted successfully.`}),h(null))}catch{}},P=()=>{y.reset(),i(!1)},M=()=>{w.reset(),g(!1),v(null)},I=()=>{h(null)},L=e.find(B=>B.id===N);return s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsx(be,{children:s.jsx(Te,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Statuses"}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Manage your organization's statuses (",t," total)"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:j,disabled:r.fetchAll,className:"flex items-center space-x-2",children:[s.jsx(Lr,{className:`h-4 w-4 ${r.fetchAll?"animate-spin":""}`}),s.jsx("span",{children:"Refresh"})]}),s.jsxs(X,{size:"sm",onClick:C,disabled:r.create,className:"flex items-center space-x-2",children:[s.jsx(or,{className:"h-4 w-4"}),s.jsx("span",{children:"Create Status"})]})]})]})})}),s.jsx(be,{children:s.jsx(Ne,{className:"p-0",children:r.fetchAll?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[s.jsx(ut,{className:"h-5 w-5 animate-spin"}),s.jsx("span",{children:"Loading statuses..."})]})}):e.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx(st,{className:"h-12 w-12 text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No statuses found"}),s.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Get started by creating your first status."}),s.jsxs(X,{onClick:C,className:"flex items-center space-x-2",children:[s.jsx(or,{className:"h-4 w-4"}),s.jsx("span",{children:"Create Status"})]})]}):s.jsxs(mn,{children:[s.jsx(hn,{children:s.jsxs(Nt,{children:[s.jsx(Be,{className:"font-semibold w-1/3",children:"Description"}),s.jsx(Be,{className:"font-semibold",children:"Slug"}),s.jsx(Be,{className:"font-semibold",children:"Created"}),s.jsx(Be,{className:"font-semibold",children:"Updated"}),s.jsx(Be,{className:"text-right font-semibold",children:"Actions"})]})}),s.jsx(pn,{children:e.map(B=>s.jsxs(Nt,{className:"hover:bg-gray-50",children:[s.jsx(Re,{className:"font-medium max-w-xs",children:s.jsx(t$e,{description:B.description,maxLength:100})}),s.jsx(Re,{className:"text-gray-600",children:B.slug||s.jsx("span",{className:"text-gray-400 italic",children:"No slug"})}),s.jsx(Re,{className:"text-gray-600",children:new Date(B.created_at).toLocaleDateString()}),s.jsx(Re,{className:"text-gray-600",children:new Date(B.updated_at).toLocaleDateString()}),s.jsx(Re,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>_(B),disabled:r.update,className:"flex items-center space-x-1",children:[s.jsx(pa,{className:"h-3 w-3"}),s.jsx("span",{children:"Edit"})]}),s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>k(B),disabled:r.delete,className:"flex items-center space-x-1 text-red-600 hover:text-red-700 hover:bg-red-50 border-red-200",children:[s.jsx(Dn,{className:"h-3 w-3"}),s.jsx("span",{children:"Delete"})]})]})})]},B.id))})]})})}),s.jsx(rn,{open:u,onOpenChange:P,children:s.jsxs(Vr,{className:"sm:max-w-[500px]",children:[s.jsxs(Wr,{children:[s.jsx(Gr,{children:"Create New Status"}),s.jsx(cn,{children:"Add a new status to your organization. The slug field is optional and will be used for URL-friendly identification."})]}),s.jsx($a,{...y,children:s.jsxs("form",{onSubmit:y.handleSubmit(A),className:"space-y-4",children:[s.jsx(Gt,{control:y.control,name:"description",render:({field:B})=>s.jsxs(Ht,{children:[s.jsx(zt,{children:"Description *"}),s.jsx(qt,{children:s.jsx(co,{placeholder:"Enter status description",rows:4,...B,disabled:r.create})}),s.jsx(ar,{})]})}),s.jsx(Gt,{control:y.control,name:"slug",render:({field:B})=>s.jsxs(Ht,{children:[s.jsx(zt,{children:"Slug (Optional)"}),s.jsx(qt,{children:s.jsx(We,{placeholder:"Enter URL-friendly slug",...B,disabled:r.create})}),s.jsx(ar,{})]})}),s.jsxs(nn,{children:[s.jsx(X,{type:"button",variant:"outline",onClick:P,disabled:r.create,children:"Cancel"}),s.jsxs(X,{type:"submit",disabled:r.create,className:"flex items-center space-x-2",children:[r.create&&s.jsx(ut,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Create Status"})]})]})]})})]})}),s.jsx(rn,{open:m,onOpenChange:M,children:s.jsxs(Vr,{className:"sm:max-w-[500px]",children:[s.jsxs(Wr,{children:[s.jsx(Gr,{children:"Edit Status"}),s.jsx(cn,{children:"Update the status details. Changes will be saved immediately."})]}),s.jsx($a,{...w,children:s.jsxs("form",{onSubmit:w.handleSubmit(T),className:"space-y-4",children:[s.jsx(Gt,{control:w.control,name:"description",render:({field:B})=>s.jsxs(Ht,{children:[s.jsx(zt,{children:"Description *"}),s.jsx(qt,{children:s.jsx(co,{placeholder:"Enter status description",rows:4,...B,disabled:r.update})}),s.jsx(ar,{})]})}),s.jsx(Gt,{control:w.control,name:"slug",render:({field:B})=>s.jsxs(Ht,{children:[s.jsx(zt,{children:"Slug (Optional)"}),s.jsx(qt,{children:s.jsx(We,{placeholder:"Enter URL-friendly slug",...B,disabled:r.update})}),s.jsx(ar,{})]})}),s.jsxs(nn,{children:[s.jsx(X,{type:"button",variant:"outline",onClick:M,disabled:r.update,children:"Cancel"}),s.jsxs(X,{type:"submit",disabled:r.update,className:"flex items-center space-x-2",children:[r.update&&s.jsx(ut,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Update Status"})]})]})]})})]})}),s.jsx(fl,{open:!!N,onOpenChange:I,children:s.jsxs(ei,{children:[s.jsxs(ti,{children:[s.jsx(ni,{children:"Are you sure?"}),s.jsxs(si,{children:["This action cannot be undone. This will permanently delete the status"," ",s.jsxs("span",{className:"font-semibold",children:['"',L?.description.substring(0,50),'..."']})," and all associated data."]})]}),s.jsxs(ri,{children:[s.jsx(oi,{disabled:r.delete,children:"Cancel"}),s.jsxs(ai,{onClick:R,disabled:r.delete,className:"bg-red-600 hover:bg-red-700 flex items-center space-x-2",children:[r.delete&&s.jsx(ut,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Delete Status"})]})]})]})})]})},n$e=()=>Mt(),sf=ue,HK=()=>{const e=n$e(),t=sf(Vie),r=sf(Wie),n=sf(Gie),a=sf(Yie),o=sf(Zie),l=sf(Kie),c=b.useCallback(A=>t.find(T=>T.id===A),[t]),d=b.useCallback(async()=>{try{console.log("🔄 Hook: Fetching preferences");const A=await e(Ey()),T=os(A);return console.log(`✅ Hook: Successfully fetched ${T.length} preferences`),T}catch(A){const T=A;throw console.error("❌ Hook: Failed to fetch preferences:",T),T}},[e]),u=b.useCallback(async A=>{try{console.log(`🔄 Hook: Fetching preference with ID: ${A}`);const T=await e(_y(A)),R=os(T);return console.log(`✅ Hook: Successfully fetched preference: ${R?.name}`),R}catch(T){const R=T;throw console.error(`❌ Hook: Failed to fetch preference ${A}:`,R),R}},[e]),i=b.useCallback(async A=>{try{console.log("🔄 Hook: Creating preference with data:",A);const T=await e(Ay(A)),R=os(T);return console.log(`✅ Hook: Successfully created preference: ${R.name} (ID: ${R.id})`),R}catch(T){const R=T;throw console.error("❌ Hook: Failed to create preference:",R),R}},[e]),m=b.useCallback(async(A,T)=>{try{console.log(`🔄 Hook: Updating preference ${A} with data:`,T);const R=await e(ky({id:A,data:T})),P=os(R);return console.log(`✅ Hook: Successfully updated preference: ${P.name} (ID: ${P.id})`),P}catch(R){const P=R;throw console.error(`❌ Hook: Failed to update preference ${A}:`,P),P}},[e]),g=b.useCallback(async A=>{try{console.log(`🔄 Hook: Deleting preference with ID: ${A}`);const T=await e(Dy(A));os(T),console.log(`✅ Hook: Successfully deleted preference with ID: ${A}`)}catch(T){const R=T;throw console.error(`❌ Hook: Failed to delete preference ${A}:`,R),R}},[e]),x=b.useCallback(A=>{console.log("🔄 Hook: Setting selected preference:",A?.name||"null"),e(Oie(A))},[e]),v=b.useCallback(()=>{console.log("🔄 Hook: Clearing selected preference"),e(Iie())},[e]),N=b.useCallback(()=>{console.log("🔄 Hook: Opening create modal"),e(Lie())},[e]),h=b.useCallback(()=>{console.log("🔄 Hook: Closing create modal"),e(Bie())},[e]),y=b.useCallback(()=>{console.log("🔄 Hook: Opening edit modal"),e(Fie())},[e]),w=b.useCallback(()=>{console.log("🔄 Hook: Closing edit modal"),e(Uie())},[e]),j=b.useCallback(A=>{console.log(`🔄 Hook: Setting deleting ID: ${A}`),e($ie(A))},[e]),C=b.useCallback(()=>{console.log("🔄 Hook: Clearing all errors"),e(Hie())},[e]),_=b.useCallback(A=>{console.log(`🔄 Hook: Clearing ${A} error`),e(zie(A))},[e]),k=b.useCallback(()=>{console.log("🔄 Hook: Resetting preferences state"),e(qie())},[e]);return b.useMemo(()=>({preferences:t,selectedPreference:r,loading:n,error:a,ui:o,isAnyLoading:l,fetchPreferences:d,fetchPreferenceById:u,createPreference:i,updatePreference:m,deletePreference:g,setSelectedPreference:x,clearSelectedPreference:v,getPreferenceById:c,openCreateModal:N,closeCreateModal:h,openEditModal:y,closeEditModal:w,setDeletingId:j,clearAllErrors:C,clearError:_,resetState:k}),[t,r,n,a,o,l,d,u,i,m,g,x,v,c,N,h,y,w,j,C,_,k])},s$e=ht({name:Qe().min(1,"Preference name is required").max(255,"Name must be less than 255 characters"),slug:Qe().max(255,"Slug must be less than 255 characters").optional().or(Zo(""))}),a$e=ht({name:Qe().min(1,"Preference name is required").max(255,"Name must be less than 255 characters"),slug:Qe().max(255,"Slug must be less than 255 characters").optional().or(Zo(""))}),zK=()=>{const{preferences:e,loading:t,error:r,ui:n,fetchPreferences:a,createPreference:o,updatePreference:l,deletePreference:c,openCreateModal:d,closeCreateModal:u,openEditModal:i,closeEditModal:m,setSelectedPreference:g,setDeletingId:x,clearError:v}=HK(),[N,h]=b.useState(null),y=Ct(),w=Es({resolver:$s(s$e),defaultValues:{name:"",slug:""}}),j=Es({resolver:$s(a$e),defaultValues:{name:"",slug:""}});b.useEffect(()=>{C()},[]),b.useEffect(()=>{r.list&&(He.error("Error loading preferences",{description:r.list}),v("list"))},[r.list,v]),b.useEffect(()=>{r.create&&(He.error("Error creating preference",{description:r.create}),v("create"))},[r.create,v]),b.useEffect(()=>{r.update&&(He.error("Error updating preference",{description:r.update}),v("update"))},[r.update,v]),b.useEffect(()=>{r.delete&&(He.error("Error deleting preference",{description:r.delete}),v("delete"))},[r.delete,v]);const C=async()=>{try{await a(),He.success("Preferences refreshed",{description:"Preference list updated successfully."})}catch{}},_=()=>{w.reset(),d()},k=F=>{h(F),g(F),j.reset({name:F.name,slug:F.slug||""}),i()},A=F=>{y(`/preferences/${F.id}`)},T=F=>{x(F.id)},R=async F=>{try{const H={name:F.name,slug:F.slug||void 0};await o(H),He.success("Preference created",{description:`Preference "${F.name}" created successfully.`}),w.reset(),u()}catch{}},P=async F=>{if(N)try{const H={name:F.name,slug:F.slug||void 0};await l(N.id,H),He.success("Preference updated",{description:`Preference "${F.name}" updated successfully.`}),j.reset(),m(),h(null)}catch{}},M=async()=>{if(!n.deletingId)return;const F=e.find(H=>H.id===n.deletingId);try{await c(n.deletingId),He.success("Preference deleted",{description:`Preference "${F?.name||"Unknown"}" deleted successfully.`}),x(null)}catch{}},I=()=>{w.reset(),u()},L=()=>{j.reset(),m(),h(null)},B=()=>{x(null)},U=e.find(F=>F.id===n.deletingId);return s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsx(be,{children:s.jsx(Te,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Preferences"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage your organization's preferences"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:C,disabled:t.list,className:"flex items-center space-x-2",children:[s.jsx(Lr,{className:`h-4 w-4 ${t.list?"animate-spin":""}`}),s.jsx("span",{children:"Refresh"})]}),s.jsxs(X,{size:"sm",onClick:_,disabled:t.create,className:"flex items-center space-x-2",children:[s.jsx(or,{className:"h-4 w-4"}),s.jsx("span",{children:"Create Preference"})]})]})]})})}),s.jsx(be,{children:s.jsx(Ne,{className:"p-0",children:t.list?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[s.jsx(ut,{className:"h-5 w-5 animate-spin"}),s.jsx("span",{children:"Loading preferences..."})]})}):e.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx(st,{className:"h-12 w-12 text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No preferences found"}),s.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Get started by creating your first preference."}),s.jsxs(X,{onClick:_,className:"flex items-center space-x-2",children:[s.jsx(or,{className:"h-4 w-4"}),s.jsx("span",{children:"Create Preference"})]})]}):s.jsxs(mn,{children:[s.jsx(hn,{children:s.jsxs(Nt,{children:[s.jsx(Be,{className:"font-semibold",children:"Name"}),s.jsx(Be,{className:"font-semibold",children:"Slug"}),s.jsx(Be,{className:"font-semibold",children:"Created"}),s.jsx(Be,{className:"font-semibold",children:"Updated"}),s.jsx(Be,{className:"text-right font-semibold",children:"Actions"})]})}),s.jsx(pn,{children:e.map(F=>s.jsxs(Nt,{className:"hover:bg-gray-50",children:[s.jsx(Re,{className:"font-medium",children:F.name}),s.jsx(Re,{className:"text-gray-600",children:F.slug||s.jsx("span",{className:"text-gray-400 italic",children:"No slug"})}),s.jsx(Re,{className:"text-gray-600",children:new Date(F.created_at).toLocaleDateString()}),s.jsx(Re,{className:"text-gray-600",children:new Date(F.updated_at).toLocaleDateString()}),s.jsx(Re,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>A(F),className:"flex items-center space-x-1",children:[s.jsx(Sn,{className:"h-3 w-3"}),s.jsx("span",{children:"View"})]}),s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>k(F),disabled:t.update,className:"flex items-center space-x-1",children:[s.jsx(pa,{className:"h-3 w-3"}),s.jsx("span",{children:"Edit"})]}),s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>T(F),disabled:t.delete,className:"flex items-center space-x-1 text-red-600 hover:text-red-700 hover:bg-red-50 border-red-200",children:[s.jsx(Dn,{className:"h-3 w-3"}),s.jsx("span",{children:"Delete"})]})]})})]},F.id))})]})})}),s.jsx(rn,{open:n.isCreateModalOpen,onOpenChange:I,children:s.jsxs(Vr,{className:"sm:max-w-[425px]",children:[s.jsxs(Wr,{children:[s.jsx(Gr,{children:"Create New Preference"}),s.jsx(cn,{children:"Add a new preference to your organization. The slug field is optional and will be used for URL-friendly identification."})]}),s.jsx($a,{...w,children:s.jsxs("form",{onSubmit:w.handleSubmit(R),className:"space-y-4",children:[s.jsx(Gt,{control:w.control,name:"name",render:({field:F})=>s.jsxs(Ht,{children:[s.jsx(zt,{children:"Preference Name *"}),s.jsx(qt,{children:s.jsx(We,{placeholder:"Enter preference name",...F,disabled:t.create})}),s.jsx(ar,{})]})}),s.jsx(Gt,{control:w.control,name:"slug",render:({field:F})=>s.jsxs(Ht,{children:[s.jsx(zt,{children:"Slug (Optional)"}),s.jsx(qt,{children:s.jsx(We,{placeholder:"Enter URL-friendly slug",...F,disabled:t.create})}),s.jsx(ar,{})]})}),s.jsxs(nn,{children:[s.jsx(X,{type:"button",variant:"outline",onClick:I,disabled:t.create,children:"Cancel"}),s.jsxs(X,{type:"submit",disabled:t.create,className:"flex items-center space-x-2",children:[t.create&&s.jsx(ut,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Create Preference"})]})]})]})})]})}),s.jsx(rn,{open:n.isEditModalOpen,onOpenChange:L,children:s.jsxs(Vr,{className:"sm:max-w-[425px]",children:[s.jsxs(Wr,{children:[s.jsx(Gr,{children:"Edit Preference"}),s.jsx(cn,{children:"Update the preference details. Changes will be saved immediately."})]}),s.jsx($a,{...j,children:s.jsxs("form",{onSubmit:j.handleSubmit(P),className:"space-y-4",children:[s.jsx(Gt,{control:j.control,name:"name",render:({field:F})=>s.jsxs(Ht,{children:[s.jsx(zt,{children:"Preference Name *"}),s.jsx(qt,{children:s.jsx(We,{placeholder:"Enter preference name",...F,disabled:t.update})}),s.jsx(ar,{})]})}),s.jsx(Gt,{control:j.control,name:"slug",render:({field:F})=>s.jsxs(Ht,{children:[s.jsx(zt,{children:"Slug (Optional)"}),s.jsx(qt,{children:s.jsx(We,{placeholder:"Enter URL-friendly slug",...F,disabled:t.update})}),s.jsx(ar,{})]})}),s.jsxs(nn,{children:[s.jsx(X,{type:"button",variant:"outline",onClick:L,disabled:t.update,children:"Cancel"}),s.jsxs(X,{type:"submit",disabled:t.update,className:"flex items-center space-x-2",children:[t.update&&s.jsx(ut,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Update Preference"})]})]})]})})]})}),s.jsx(fl,{open:!!n.deletingId,onOpenChange:B,children:s.jsxs(ei,{children:[s.jsxs(ti,{children:[s.jsx(ni,{children:"Are you sure?"}),s.jsxs(si,{children:["This action cannot be undone. This will permanently delete the preference"," ",s.jsxs("span",{className:"font-semibold",children:['"',U?.name,'"']})," and all associated data."]})]}),s.jsxs(ri,{children:[s.jsx(oi,{disabled:t.delete,children:"Cancel"}),s.jsxs(ai,{onClick:M,disabled:t.delete,className:"bg-red-600 hover:bg-red-700 flex items-center space-x-2",children:[t.delete&&s.jsx(ut,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Delete Preference"})]})]})]})})]})},o$e=()=>{const e=[{id:"positions",label:"Positions",icon:s.jsx(r$,{className:"h-4 w-4"}),component:s.jsx(YUe,{}),description:"Manage organizational positions and roles"},{id:"skills",label:"Skills",icon:s.jsx(cC,{className:"h-4 w-4"}),component:s.jsx($K,{}),description:"Manage organizational skills and related employee info"},{id:"statuses",label:"Statuses",icon:s.jsx(cC,{className:"h-4 w-4"}),component:s.jsx(r$e,{}),description:"Manage organizational statuses and their descriptions"},{id:"preferences",label:"Preferences",icon:s.jsx(cC,{className:"h-4 w-4"}),component:s.jsx(zK,{}),description:"Manage organizational preferences"}],[t,r]=b.useState("positions"),n=e.find(a=>a.id===t);return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"container mx-auto px-6 py-4",children:s.jsxs("div",{className:"flex flex-col space-y-2",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Management Dashboard"}),s.jsx("p",{className:"text-gray-600",children:n?.description||"Manage your organization settings and data"})]})})}),s.jsx("div",{className:"container mx-auto px-6 py-6",children:s.jsxs(Qd,{value:t,onValueChange:r,className:"w-full space-y-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-1",children:s.jsx(_c,{className:"grid w-full grid-cols-2 lg:grid-cols-4 gap-1 bg-transparent",children:e.map(a=>s.jsxs(fs,{value:a.id,className:"flex items-center space-x-2 px-4 py-3 text-sm font-medium rounded-md transition-all duration-200 data-[state=active]:bg-blue-50 data-[state=active]:text-blue-700 data-[state=active]:shadow-sm hover:bg-gray-50",children:[a.icon,s.jsx("span",{children:a.label})]},a.id))})}),e.map(a=>s.jsx(ms,{value:a.id,className:"space-y-6 mt-6",children:s.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:a.component})},a.id))]})}),s.jsx("div",{className:"fixed bottom-6 right-6 space-y-2"})]})},i$e=[s.jsx(St,{path:"/positions",element:s.jsx(At,{children:s.jsx(Yt,{role:"super-admin",children:s.jsx(kt,{children:s.jsx(o$e,{})})})})},"positions-management")],l$e=e=>!!e&&"emp_infos"in e&&Array.isArray(e.emp_infos),c$e=()=>{const{id:e}=zs(),t=Ct(),[r,n]=b.useState(null),[a,o]=b.useState(!0),[l,c]=b.useState(null);b.useEffect(()=>{(async()=>{if(!e||isNaN(Number(e))){c("Invalid skill ID"),o(!1);return}try{o(!0),c(null);const m=await fI(Number(e));n(m)}catch(m){const x=m.message||"Failed to fetch skill details";c(x),He.error("Error loading skill",{description:x})}finally{o(!1)}})()},[e]);const d=()=>{t(-1)},u=()=>{e&&!isNaN(Number(e))&&(async()=>{try{o(!0),c(null);const m=await fI(Number(e));n(m)}catch(m){const x=m.message||"Failed to fetch skill details";c(x),He.error("Error loading skill",{description:x})}finally{o(!1)}})()};return a?s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsx(be,{children:s.jsx(Te,{children:s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs(X,{variant:"outline",size:"sm",onClick:d,className:"flex items-center space-x-2",children:[s.jsx($n,{className:"h-4 w-4"}),s.jsx("span",{children:"Back to Skills"})]})})})}),s.jsx(be,{children:s.jsx(Ne,{className:"p-12",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[s.jsx(ut,{className:"h-6 w-6 animate-spin"}),s.jsx("span",{className:"text-lg",children:"Loading skill details..."})]})})})})]}):l?s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsx(be,{children:s.jsx(Te,{children:s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs(X,{variant:"outline",size:"sm",onClick:d,className:"flex items-center space-x-2",children:[s.jsx($n,{className:"h-4 w-4"}),s.jsx("span",{children:"Back to Skills"})]})})})}),s.jsx(be,{children:s.jsx(Ne,{className:"p-12",children:s.jsxs("div",{className:"flex flex-col items-center justify-center text-center space-y-4",children:[s.jsx(st,{className:"h-12 w-12 text-red-500"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Error Loading Skill"}),s.jsx("p",{className:"text-sm text-gray-500 max-w-md",children:l}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(X,{onClick:u,className:"flex items-center space-x-2",children:s.jsx("span",{children:"Try Again"})}),s.jsx(X,{variant:"outline",onClick:d,children:"Back to Skills"})]})]})})})]}):s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsx(be,{children:s.jsx(Te,{children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:d,className:"flex items-center space-x-2",children:[s.jsx($n,{className:"h-4 w-4"}),s.jsx("span",{children:"Back to Skills"})]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r?.name}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Skill Details"})]})]})})})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(be,{children:[s.jsx(Te,{children:s.jsxs("h2",{className:"text-lg font-semibold flex items-center space-x-2",children:[s.jsx(K_,{className:"h-5 w-5"}),s.jsx("span",{children:"Basic Information"})]})}),s.jsxs(Ne,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"ID"}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsx(Xw,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-gray-900",children:r?.id})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Name"}),s.jsx("p",{className:"text-gray-900 mt-1 font-medium",children:r?.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Slug"}),s.jsx("p",{className:"text-gray-900 mt-1",children:r?.slug||s.jsx("em",{className:"text-gray-400",children:"No slug assigned"})})]})]})]}),s.jsxs(be,{children:[s.jsx(Te,{children:s.jsxs("h2",{className:"text-lg font-semibold flex items-center space-x-2",children:[s.jsx(js,{className:"h-5 w-5"}),s.jsx("span",{children:"Timestamps"})]})}),s.jsxs(Ne,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Created At"}),s.jsx("p",{className:"text-gray-900 mt-1",children:r?new Date(r.created_at).toLocaleString():"-"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Last Updated"}),s.jsx("p",{className:"text-gray-900 mt-1",children:r?new Date(r.updated_at).toLocaleString():"-"})]})]})]})]}),s.jsxs(be,{children:[s.jsx(Te,{children:s.jsxs("h2",{className:"text-lg font-semibold flex items-center space-x-2",children:[s.jsx(Cs,{className:"h-5 w-5"}),s.jsx("span",{children:"Associated Employees"})]})}),s.jsx(Ne,{children:l$e(r)&&r.emp_infos.length>0?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:[r.emp_infos.length," employee",r.emp_infos.length!==1?"s":""," have this skill"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.emp_infos.map(i=>s.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:i.full_name}),s.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:["Rating: ",i.pivot.rating]})]}),s.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[s.jsxs("p",{children:["Store: ",i.store_id]}),s.jsxs("p",{children:["Status: ",i.status]}),s.jsxs("p",{children:["Arabic Team: ",i.is_arabic_team?"Yes":"No"]})]})]})},i.id))})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Cs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No employees assigned"}),s.jsx("p",{className:"text-sm text-gray-500",children:"This skill has not been assigned to any employees yet."})]})})]})]})},d$e=[s.jsx(St,{path:"/skills",element:s.jsx(At,{children:s.jsx(Yt,{role:"super-admin",children:s.jsx(kt,{children:s.jsx($K,{})})})})},"skills-management"),s.jsx(St,{path:"/skills/:id",element:s.jsx(At,{children:s.jsx(Yt,{role:"super-admin",children:s.jsx(kt,{children:s.jsx(c$e,{})})})})},"skill-details")],u$e=()=>{const{id:e}=zs(),t=Ct(),[r,n]=b.useState(null),[a,o]=b.useState(!0),[l,c]=b.useState(null);b.useEffect(()=>{(async()=>{if(!e||isNaN(Number(e))){c("Invalid preference ID"),o(!1);return}try{o(!0),c(null);const g=await nc.getPreferenceById(Number(e));n(g)}catch(g){const v=g.message||"Failed to fetch preference details";c(v),He.error("Error loading preference",{description:v})}finally{o(!1)}})()},[e]);const d=()=>{t(-1)},u=()=>{e&&!isNaN(Number(e))&&(async()=>{try{o(!0),c(null);const g=await nc.getPreferenceById(Number(e));n(g)}catch(g){const v=g.message||"Failed to fetch preference details";c(v),He.error("Error loading preference",{description:v})}finally{o(!1)}})()};if(a)return s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsx(be,{children:s.jsx(Te,{children:s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs(X,{variant:"outline",size:"sm",onClick:d,className:"flex items-center space-x-2",children:[s.jsx($n,{className:"h-4 w-4"}),s.jsx("span",{children:"Back to Preferences"})]})})})}),s.jsx(be,{children:s.jsx(Ne,{className:"p-12",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[s.jsx(ut,{className:"h-6 w-6 animate-spin"}),s.jsx("span",{className:"text-lg",children:"Loading preference details..."})]})})})})]});if(l)return s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsx(be,{children:s.jsx(Te,{children:s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs(X,{variant:"outline",size:"sm",onClick:d,className:"flex items-center space-x-2",children:[s.jsx($n,{className:"h-4 w-4"}),s.jsx("span",{children:"Back to Preferences"})]})})})}),s.jsx(be,{children:s.jsx(Ne,{className:"p-12",children:s.jsxs("div",{className:"flex flex-col items-center justify-center text-center space-y-4",children:[s.jsx(st,{className:"h-12 w-12 text-red-500"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Error Loading Preference"}),s.jsx("p",{className:"text-sm text-gray-500 max-w-md",children:l}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(X,{onClick:u,className:"flex items-center space-x-2",children:s.jsx("span",{children:"Try Again"})}),s.jsx(X,{variant:"outline",onClick:d,children:"Back to Preferences"})]})]})})})]});const i=m=>m.length?s.jsx("ul",{className:"divide-y divide-gray-200",children:m.map(g=>s.jsxs("li",{className:"py-2 flex justify-between",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:g.employment_type})," - Max Hours: ",g.maximum_hours]}),s.jsxs("div",{className:"text-gray-500 text-sm",children:["Emp Info ID: ",g.emp_info_id]})]},g.id))}):s.jsx("p",{className:"text-gray-500",children:"No schedule preferences associated."});return s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsx(be,{children:s.jsx(Te,{children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:d,className:"flex items-center space-x-2",children:[s.jsx($n,{className:"h-4 w-4"}),s.jsx("span",{children:"Back to Preferences"})]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r?.name}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Preference Details"})]})]})})})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(be,{children:[s.jsx(Te,{children:s.jsxs("h2",{className:"text-lg font-semibold flex items-center space-x-2",children:[s.jsx(K_,{className:"h-5 w-5"}),s.jsx("span",{children:"Basic Information"})]})}),s.jsxs(Ne,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"ID"}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsx(Xw,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-gray-900",children:r?.id})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Name"}),s.jsx("p",{className:"text-gray-900 mt-1 font-medium",children:r?.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Slug"}),s.jsx("p",{className:"text-gray-900 mt-1",children:r?.slug||s.jsx("em",{className:"text-gray-400",children:"No slug assigned"})})]})]})]}),s.jsxs(be,{children:[s.jsx(Te,{children:s.jsxs("h2",{className:"text-lg font-semibold flex items-center space-x-2",children:[s.jsx(js,{className:"h-5 w-5"}),s.jsx("span",{children:"Timestamps"})]})}),s.jsxs(Ne,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Created At"}),s.jsx("p",{className:"text-gray-900 mt-1",children:r?new Date(r.created_at).toLocaleString():"-"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Last Updated"}),s.jsx("p",{className:"text-gray-900 mt-1",children:r?new Date(r.updated_at).toLocaleString():"-"})]})]})]})]}),s.jsxs(be,{children:[s.jsx(Te,{children:s.jsxs("h2",{className:"text-lg font-semibold flex items-center space-x-2",children:[s.jsx(K_,{className:"h-5 w-5"}),s.jsx("span",{children:"Associated Schedule Preferences"})]})}),s.jsx(Ne,{children:r?.schedule_preferences&&r.schedule_preferences.length>0?i(r.schedule_preferences):s.jsx("p",{className:"text-center text-gray-500 py-6",children:"No schedule preferences assigned."})})]})]})},f$e=[s.jsx(St,{path:"/preferences",element:s.jsx(At,{children:s.jsx(Yt,{role:"super-admin",children:s.jsx(kt,{children:s.jsx(zK,{})})})})},"preferences-management"),s.jsx(St,{path:"/preferences/:id",element:s.jsx(At,{children:s.jsx(Yt,{role:"super-admin",children:s.jsx(kt,{children:s.jsx(u$e,{})})})})},"preference-details")],tu=()=>{const e=Mt(),t=ue(B=>ple(B)),r=ue(B=>gle(B)),n=ue(B=>xle(B)),a=ue(B=>vle(B)),o=ue(B=>yle(B)),l=ue(B=>ble(B)),c=ue(B=>wle(B)),d=ue(B=>Sle(B)),u=b.useCallback(async()=>{try{await e(Ty()).unwrap()}catch(B){console.error("Failed to fetch all employees:",B)}},[e]),i=b.useCallback(async B=>{try{await e(Ry(B)).unwrap()}catch(U){console.error(`Failed to fetch employee ${B}:`,U)}},[e]),m=b.useCallback(async B=>{try{return await e(Py(B)).unwrap()}catch(U){return console.error("Failed to create employee:",U),null}},[e]),g=b.useCallback(async(B,U)=>{try{return(await e(My({id:B,data:U})).unwrap()).data}catch(F){return console.error(`Failed to update employee ${B}:`,F),null}},[e]),x=b.useCallback(async B=>{try{return e(mle(B)),await e(Oy(B)).unwrap(),!0}catch(U){return console.error(`Failed to delete employee ${B}:`,U),!1}},[e]),v=b.useCallback(async(B,U)=>{try{await e(Iy({storeId:B,options:U})).unwrap()}catch(F){console.error(`Failed to fetch employees for store ${B}:`,F)}},[e]),N=b.useCallback(async B=>{if(!o.currentStoreId){console.warn("Cannot change per page: no current store selected");return}e(gI({perPage:B,currentPage:1})),await v(o.currentStoreId,{page:1,per_page:B})},[e,o.currentStoreId,v]),h=b.useCallback(async B=>{if(!o.currentStoreId){console.warn("Cannot navigate to page: no current store selected");return}if(B<1||B>o.totalPages){console.warn(`Invalid page number: ${B}. Valid range: 1-${o.totalPages}`);return}e(gI({currentPage:B})),await v(o.currentStoreId,{page:B,per_page:o.perPage})},[e,o.currentStoreId,o.totalPages,o.perPage,v]),y=b.useCallback(async()=>{o.hasNextPage&&await h(o.currentPage+1)},[o.hasNextPage,o.currentPage,h]),w=b.useCallback(async()=>{o.hasPrevPage&&await h(o.currentPage-1)},[o.hasPrevPage,o.currentPage,h]),j=b.useCallback(async(B,U,F)=>{try{return await e(Ly({employeeId:B,skillId:U,data:F})).unwrap(),await i(B),!0}catch(H){return console.error(`Failed to attach skill ${U} to employee ${B}:`,H),!1}},[e,i]),C=b.useCallback(async(B,U,F)=>{try{return await e(By({employeeId:B,skillId:U,data:F})).unwrap(),!0}catch(H){return console.error(`Failed to update skill ${U} for employee ${B}:`,H),!1}},[e]),_=b.useCallback(async(B,U)=>{try{return await e(Fy({employeeId:B,skillId:U})).unwrap(),!0}catch(F){return console.error(`Failed to detach skill ${U} from employee ${B}:`,F),!1}},[e]),k=b.useCallback(()=>{e(cle())},[e]),A=b.useCallback(B=>{e(dle(B))},[e]),T=b.useCallback(()=>{e(ule())},[e]),R=b.useCallback(async()=>{o.currentStoreId?await v(o.currentStoreId,{page:o.currentPage,per_page:o.perPage}):await u()},[o.currentStoreId,o.currentPage,o.perPage,v,u]),P=b.useCallback(()=>{e(fle())},[e]);b.useEffect(()=>{P(),l.isStale&&t.length===0&&u()},[l.isStale,t.length,P,u]);const M=b.useMemo(()=>({...o,isFirstPage:o.currentPage===1,isLastPage:o.currentPage===o.totalPages,totalPagesArray:Array.from({length:o.totalPages},(B,U)=>U+1),startRecord:(o.currentPage-1)*o.perPage+1,endRecord:Math.min(o.currentPage*o.perPage,o.totalRecords)}),[o]),I=b.useMemo(()=>({...n,isAnyLoading:c,activeOperations:Object.entries(n).filter(([,B])=>B.isLoading).map(([B,U])=>({operation:B,description:U.operation}))}),[n,c]),L=b.useMemo(()=>({...a,hasAnyError:d,activeErrors:Object.entries(a).filter(([,B])=>B.hasError).map(([B,U])=>({operation:B,message:U.message,details:U.details}))}),[a,d]);return{employees:t,currentEmployee:r,loading:I,errors:L,pagination:M,actions:{fetchAllEmployees:u,fetchEmployeeById:i,createEmployee:m,updateEmployee:g,deleteEmployee:x,fetchEmployeesByStore:v,changePerPage:N,goToPage:h,nextPage:y,prevPage:w,attachSkill:j,updateSkill:C,detachSkill:_,clearCurrentEmployee:k,clearError:A,clearAllErrors:T,refreshEmployees:R}}},qK=({className:e,...t})=>s.jsx("nav",{role:"navigation","aria-label":"pagination",className:ee("mx-auto flex w-full justify-center",e),...t});qK.displayName="Pagination";const VK=b.forwardRef(({className:e,...t},r)=>s.jsx("ul",{ref:r,className:ee("flex flex-row items-center gap-1",e),...t}));VK.displayName="PaginationContent";const eb=b.forwardRef(({className:e,...t},r)=>s.jsx("li",{ref:r,className:ee("",e),...t}));eb.displayName="PaginationItem";const oS=({className:e,isActive:t,size:r="icon",...n})=>s.jsx("a",{"aria-current":t?"page":void 0,className:ee(Mf({variant:t?"outline":"ghost",size:r}),e),...n});oS.displayName="PaginationLink";const WK=({className:e,...t})=>s.jsxs(oS,{"aria-label":"Go to previous page",size:"default",className:ee("gap-1 pl-2.5",e),...t,children:[s.jsx(al,{className:"h-4 w-4"}),s.jsx("span",{children:"Previous"})]});WK.displayName="PaginationPrevious";const GK=({className:e,...t})=>s.jsxs(oS,{"aria-label":"Go to next page",size:"default",className:ee("gap-1 pr-2.5",e),...t,children:[s.jsx("span",{children:"Next"}),s.jsx(qa,{className:"h-4 w-4"})]});GK.displayName="PaginationNext";const m$e=({status:e})=>{const t=n=>{switch(n){case"Active":return"default";case"Suspension":return"secondary";case"Terminated":return"destructive";case"On Leave":return"outline";default:return"secondary"}},r=n=>{switch(n){case"Active":return"🟢";case"Suspension":return"🟡";case"Terminated":return"🔴";case"On Leave":return"🟠";default:return"⚪"}};return s.jsxs(Ve,{variant:t(e),className:"gap-1",children:[s.jsx("span",{className:"text-xs",children:r(e)}),e]})},h$e=({employee:e,onView:t,onEdit:r,onDelete:n})=>s.jsxs(Wg,{children:[s.jsx(Gg,{asChild:!0,children:s.jsxs(X,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:[s.jsx(hg,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Open actions menu"})]})}),s.jsxs(Tm,{align:"end",className:"w-48",children:[s.jsxs(so,{onClick:()=>t(e),className:"cursor-pointer",children:[s.jsx(Sn,{className:"mr-2 h-4 w-4"}),"View Details"]}),s.jsxs(so,{onClick:()=>r(e),className:"cursor-pointer",children:[s.jsx(pa,{className:"mr-2 h-4 w-4"}),"Edit Employee"]}),s.jsxs(so,{onClick:()=>n(e),className:"cursor-pointer text-destructive focus:text-destructive",children:[s.jsx(Dn,{className:"mr-2 h-4 w-4"}),"Delete Employee"]})]})]}),p$e=({employee:e,onView:t,onEdit:r,onDelete:n})=>{const a=b.useCallback(l=>new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),[]),o=b.useCallback(l=>{const c=new Date,d=new Date(l);let u=c.getFullYear()-d.getFullYear();const i=c.getMonth()-d.getMonth();return(i<0||i===0&&c.getDate()<d.getDate())&&u--,u},[]);return s.jsxs(Nt,{className:"hover:bg-muted/50",children:[s.jsx(Re,{className:"font-medium",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-semibold",children:e.full_name}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["ID: ",e.id]})]})}),s.jsx(Re,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zr,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:e.store.name}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["#",e.store.number]})]})]})}),s.jsx(Re,{children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{children:a(e.date_of_birth)}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Age: ",o(e.date_of_birth)]})]})}),s.jsx(Re,{children:s.jsx(m$e,{status:e.status})}),s.jsx(Re,{children:s.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.has_family&&s.jsx(Ve,{variant:"outline",className:"text-xs",children:"👨‍👩‍👧‍👦 Family"}),e.has_car&&s.jsx(Ve,{variant:"outline",className:"text-xs",children:"🚗 Car"}),e.is_arabic_team&&s.jsx(Ve,{variant:"outline",className:"text-xs",children:"🗣️ Arabic"})]})}),s.jsx(Re,{children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[s.jsx("span",{className:"font-medium",children:"Skills:"}),s.jsx("span",{className:"text-muted-foreground",children:e.skills.length})]}),e.employment_info&&s.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[s.jsx("span",{className:"font-medium",children:"Pay:"}),s.jsxs("span",{className:"text-muted-foreground",children:["$",e.employment_info.base_pay]})]})]})}),s.jsx(Re,{children:s.jsx("span",{className:"text-sm text-muted-foreground",children:a(e.created_at)})}),s.jsx(Re,{children:s.jsx(h$e,{employee:e,onView:t,onEdit:r,onDelete:n})})]})},g$e=()=>s.jsx(s.Fragment,{children:Array.from({length:5}).map((e,t)=>s.jsxs(Nt,{children:[s.jsx(Re,{children:s.jsx(Ye,{className:"h-12 w-full"})}),s.jsx(Re,{children:s.jsx(Ye,{className:"h-8 w-32"})}),s.jsx(Re,{children:s.jsx(Ye,{className:"h-8 w-24"})}),s.jsx(Re,{children:s.jsx(Ye,{className:"h-6 w-16"})}),s.jsx(Re,{children:s.jsx(Ye,{className:"h-8 w-20"})}),s.jsx(Re,{children:s.jsx(Ye,{className:"h-8 w-24"})}),s.jsx(Re,{children:s.jsx(Ye,{className:"h-6 w-20"})}),s.jsx(Re,{children:s.jsx(Ye,{className:"h-8 w-8"})})]},t))}),x$e=({currentPerPage:e,availableOptions:t,onChange:r,disabled:n=!1})=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ie,{htmlFor:"per-page",className:"text-sm font-medium",children:"Show:"}),s.jsxs(Lt,{value:e.toString(),onValueChange:a=>r(Number(a)),disabled:n,children:[s.jsx(Rt,{id:"per-page",className:"w-20",children:s.jsx(Bt,{})}),s.jsx(Pt,{children:t.map(a=>s.jsx(ot,{value:a.toString(),children:a},a))})]})]}),v$e=({className:e})=>{const t=Ct(),[r,n]=b.useState(""),{stores:a,loading:o,error:l}=bo(!0,{per_page:100}),{employees:c,pagination:d,loading:u,errors:i,actions:m}=tu(),g=b.useMemo(()=>a.find(U=>U.id===r),[a,r]),x=b.useMemo(()=>u.fetchByStore.isLoading,[u.fetchByStore.isLoading]),v=b.useMemo(()=>i.fetchByStore.hasError,[i.fetchByStore.hasError]),N=b.useMemo(()=>v?[]:r?x&&c.length===0?[]:d.currentStoreId!==r?[]:c.filter(U=>U.store_id===r):[],[c,v,r,x,d.currentStoreId]),h=b.useMemo(()=>N.length>0,[N.length]),y=b.useMemo(()=>{const U=d.totalRecords>0?(d.currentPage-1)*d.perPage+1:0,F=d.totalRecords>0?Math.min(d.currentPage*d.perPage,d.totalRecords):0,H=Array.from({length:d.totalPages},(W,J)=>J+1);return{...d,startRecord:U,endRecord:F,totalPagesArray:H}},[d]);b.useEffect(()=>{r&&!x&&(m.clearAllErrors(),m.fetchEmployeesByStore(r,{page:1,per_page:d.perPage}))},[r]),b.useEffect(()=>{(v||!r&&c.length>0)&&console.log("Clearing employee display due to error or store change")},[v,r,c.length]);const w=b.useCallback(U=>{n(U),m.clearAllErrors()},[m]),j=b.useCallback(()=>{r?t(`/employees/create?storeId=${r}`):alert("Please select a store first")},[t,r]),C=b.useCallback(U=>{t(`/employees/view/${U.id}`)},[t]),_=b.useCallback(U=>{t(`/employees/edit/${U.id}`)},[t]),k=b.useCallback(async U=>{window.confirm(`Are you sure you want to delete ${U.full_name}?`)&&await m.deleteEmployee(U.id)&&console.log("Employee deleted successfully")},[m]),A=b.useCallback(U=>{r&&m.changePerPage(U)},[m,r]),T=b.useCallback(U=>{r&&m.goToPage(U)},[m,r]),R=b.useCallback(()=>{r&&(m.clearAllErrors(),m.refreshEmployees())},[m,r]),P=b.useMemo(()=>s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(Ie,{htmlFor:"store-select",className:"text-sm font-medium",children:"Select Store"}),s.jsxs(Lt,{value:r,onValueChange:w,disabled:o,children:[s.jsx(Rt,{id:"store-select",className:"w-64",children:s.jsx(Bt,{placeholder:"Choose a store..."})}),s.jsx(Pt,{children:a.map(U=>s.jsx(ot,{value:U.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zr,{className:"h-4 w-4"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:U.name}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["ID: ",U.id]})]})]})},U.id))})]}),a.length>0&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.length," store",a.length!==1?"s":""," available"]})]}),[r,w,o,a]),M=b.useMemo(()=>s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("span",{children:["Showing ",y.startRecord," to ",y.endRecord," of"," ",y.totalRecords," employees"]}),s.jsx(x$e,{currentPerPage:y.perPage,availableOptions:y.availablePerPageOptions,onChange:A,disabled:x})]}),[y,A,x]),I=b.useMemo(()=>y.totalPages<=1?null:s.jsx(qK,{children:s.jsxs(VK,{children:[s.jsx(eb,{children:s.jsx(WK,{onClick:()=>T(y.currentPage-1),className:ee(!y.hasPrevPage&&"pointer-events-none opacity-50")})}),y.totalPagesArray.map(U=>s.jsx(eb,{children:s.jsx(oS,{onClick:()=>T(U),isActive:U===y.currentPage,children:U})},U)),s.jsx(eb,{children:s.jsx(GK,{onClick:()=>T(y.currentPage+1),className:ee(!y.hasNextPage&&"pointer-events-none opacity-50")})})]})}),[y,T]),L=b.useMemo(()=>s.jsxs("div",{className:"flex items-center justify-between gap-4 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_r,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("h2",{className:"text-lg font-semibold",children:g?`${g.name} Employees`:"Store Employees"})]}),r&&s.jsxs(Ve,{variant:"outline",className:"gap-1",children:[s.jsx(zr,{className:"h-3 w-3"}),r]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:R,disabled:!r||x,children:[s.jsx(Lr,{className:ee("h-4 w-4",x&&"animate-spin")}),"Refresh"]}),s.jsxs(X,{onClick:j,disabled:!r,className:"gap-2",children:[s.jsx(or,{className:"h-4 w-4"}),"Create Employee"]})]})]}),[g,r,R,x,j]),B=b.useMemo(()=>r?!h&&!x&&!v?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx(_r,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Employees Found"}),s.jsxs("p",{className:"text-muted-foreground mb-4 max-w-md",children:[g?.name," doesn't have any employees yet. Create the first employee to get started."]}),s.jsxs(X,{onClick:j,className:"gap-2",children:[s.jsx(or,{className:"h-4 w-4"}),"Create First Employee"]})]}):null:s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx(zr,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Select a Store"}),s.jsx("p",{className:"text-muted-foreground mb-4 max-w-md",children:"Choose a store from the dropdown above to view and manage its employees."}),a.length===0&&!o&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"No stores available. Please create a store first."})]}),[r,h,x,v,g?.name,j,a.length,o]);return s.jsxs("div",{className:ee("space-y-6",e),children:[s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Store Employees"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage employees across different store locations"})]})}),s.jsxs(be,{children:[s.jsxs(Te,{children:[s.jsx(Ue,{className:"text-lg",children:"Store Selection"}),s.jsx(bn,{children:"Select a store to view and manage its employees"})]}),s.jsx(Ne,{children:o?s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ye,{className:"h-4 w-24"}),s.jsx(Ye,{className:"h-10 w-64"}),s.jsx(Ye,{className:"h-3 w-32"})]}):l?s.jsxs(Ze,{variant:"destructive",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx(Ke,{children:"Failed to load stores. Please refresh the page and try again."})]}):P})]})]}),r&&s.jsxs(be,{children:[s.jsx(Te,{className:"pb-4",children:L}),s.jsxs(Ne,{children:[v&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsxs(Ze,{className:"mb-6 max-w-md",variant:"destructive",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx(Ke,{children:i.fetchByStore.message||"Failed to load employees for this store"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-muted-foreground",children:["Unable to load employees for ",g?.name||"the selected store","."]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(X,{variant:"outline",onClick:R,disabled:x,children:[s.jsx(Lr,{className:ee("h-4 w-4 mr-2",x&&"animate-spin")}),"Try Again"]}),s.jsx(X,{variant:"outline",onClick:()=>n(""),children:"Select Different Store"})]})]})]}),!v&&(B||s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"rounded-md border",children:s.jsxs(mn,{children:[s.jsx(hn,{children:s.jsxs(Nt,{children:[s.jsx(Be,{children:"Employee"}),s.jsx(Be,{children:"Store"}),s.jsx(Be,{children:"Date of Birth"}),s.jsx(Be,{children:"Status"}),s.jsx(Be,{children:"Attributes"}),s.jsx(Be,{children:"Details"}),s.jsx(Be,{children:"Created"}),s.jsx(Be,{className:"w-12",children:"Actions"})]})}),s.jsx(pn,{children:x?s.jsx(g$e,{}):N.map(U=>s.jsx(p$e,{employee:U,onView:C,onEdit:_,onDelete:k},U.id))})]})}),h&&!v&&s.jsxs("div",{className:"flex items-center justify-between pt-4",children:[M,I]})]}))]})]})]})},y$e=ht({store_id:Qe().min(1,"Store selection is required"),full_name:Qe().min(2,"Name must be at least 2 characters").max(100,"Name must not exceed 100 characters").regex(/^[a-zA-Z\s'-]+$/,"Name can only contain letters, spaces, hyphens, and apostrophes"),date_of_birth:Qe().min(1,"Date of birth is required").refine(e=>{const t=new Date(e),r=new Date,n=r.getFullYear()-t.getFullYear(),a=r.getMonth()-t.getMonth();return a<0||a===0&&r.getDate()<t.getDate()?n-1>=16:n>=16},"Employee must be at least 16 years old").refine(e=>new Date(e)<=new Date,"Date of birth cannot be in the future"),has_family:tn(),has_car:tn(),is_arabic_team:tn(),notes:Qe().optional(),status:Ww(["Active","Suspension","Terminated","On Leave"])}),b$e=({value:e,onChange:t,disabled:r})=>{const n=o=>{switch(o){case"Active":return{icon:"🟢",color:"text-green-600",description:"Employee is actively working"};case"Suspension":return{icon:"🟡",color:"text-yellow-600",description:"Employee is temporarily suspended"};case"Terminated":return{icon:"🔴",color:"text-red-600",description:"Employee is no longer with the company"};case"On Leave":return{icon:"🟠",color:"text-orange-600",description:"Employee is on temporary leave"};default:return{icon:"⚪",color:"text-gray-600",description:"Unknown status"}}},a=["Active","Suspension","Terminated","On Leave"];return s.jsxs(Lt,{value:e,onValueChange:t,disabled:r,children:[s.jsx(Rt,{children:s.jsx(Bt,{children:e&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:n(e).icon}),s.jsx("span",{children:e})]})})}),s.jsx(Pt,{children:a.map(o=>{const l=n(o);return s.jsx(ot,{value:o,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:l.icon}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:o}),s.jsx("span",{className:"text-xs text-muted-foreground",children:l.description})]})]})},o)})})]})},w$e=({className:e})=>{const t=Ct(),[r]=QU(),n=r.get("storeId"),[a,o]=b.useState(!1),[l,c]=b.useState(null),[d,u]=b.useState(!1),{stores:i,loading:m,error:g}=bo(!0,{per_page:100}),{actions:x}=tu(),v=Es({resolver:$s(y$e),mode:"onChange",reValidateMode:"onChange",defaultValues:{store_id:n||"",full_name:"",date_of_birth:"",has_family:!1,has_car:!1,is_arabic_team:!1,notes:"",status:"Active"}}),N=b.useMemo(()=>{const k=v.watch("store_id");return i.find(A=>A.id===k)},[i,v.watch("store_id")]),h=b.useMemo(()=>{const k=v.formState,A=v.getValues(),T=A.store_id&&A.full_name&&A.date_of_birth&&A.status;return console.log("Form validation check:",{isValid:k.isValid,isDirty:k.isDirty,isSubmitting:a,hasRequiredFields:T,errors:k.errors,values:A}),k.isValid&&T&&!a},[v.formState,a,v]);b.useEffect(()=>{n&&i.length>0&&i.some(A=>A.id===n)&&v.setValue("store_id",n,{shouldValidate:!0,shouldDirty:!0,shouldTouch:!0})},[n,i,v]),b.useEffect(()=>{const k=v.watch(()=>{v.trigger(),l&&c(null),d&&u(!1)});return()=>k.unsubscribe()},[v,l,d]);const y=async k=>{try{o(!0),c(null),u(!1);const A={store_id:k.store_id,full_name:k.full_name.trim(),date_of_birth:k.date_of_birth,has_family:k.has_family,has_car:k.has_car,is_arabic_team:k.is_arabic_team,notes:k.notes?.trim()||void 0,status:k.status};if(console.log("Creating employee with data:",A),await x.createEmployee(A))u(!0),setTimeout(()=>{t("/employees",{replace:!0,state:{message:`Employee "${k.full_name}" created successfully`}})},1e3);else throw new Error("Failed to create employee")}catch(A){console.error("Error creating employee:",A),c(A?.message||"Failed to create employee. Please check your information and try again.")}finally{o(!1)}},w=()=>{t(n?`/employees/store?selected=${n}`:"/employees/store")},j=()=>{v.reset(),c(null),u(!1)},C=()=>s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(X,{variant:"ghost",size:"sm",onClick:w,className:"gap-2",children:[s.jsx($n,{className:"h-4 w-4"}),"Back to Employees"]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Create Employee"}),s.jsx("p",{className:"text-muted-foreground",children:"Add a new employee to the system"})]})]})}),_=()=>s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(X,{type:"button",variant:"outline",onClick:w,disabled:a,children:"Cancel"}),s.jsx(X,{type:"button",variant:"ghost",onClick:j,disabled:a,children:"Reset Form"}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Valid: ",String(v.formState.isValid)," | Errors: ",Object.keys(v.formState.errors).length," | Submitting: ",String(a)]}),s.jsx(X,{type:"submit",disabled:!h,className:"gap-2",children:a?s.jsxs(s.Fragment,{children:[s.jsx(ut,{className:"h-4 w-4 animate-spin"}),"Creating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(l$,{className:"h-4 w-4"}),"Create Employee ",!h&&"(Form Invalid)"]})})]});return m?s.jsxs("div",{className:ee("space-y-6",e),children:[C(),s.jsxs(be,{children:[s.jsxs(Te,{children:[s.jsx(Ye,{className:"h-6 w-48"}),s.jsx(Ye,{className:"h-4 w-64"})]}),s.jsx(Ne,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(Ye,{className:"h-10 w-full"}),s.jsx(Ye,{className:"h-10 w-full"}),s.jsx(Ye,{className:"h-20 w-full"})]})})]})]}):g?s.jsxs("div",{className:ee("space-y-6",e),children:[C(),s.jsx(be,{children:s.jsx(Ne,{className:"pt-6",children:s.jsxs(Ze,{variant:"destructive",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx(Ke,{children:"Failed to load stores. Please refresh the page and try again."})]})})})]}):i.length===0?s.jsxs("div",{className:ee("space-y-6",e),children:[C(),s.jsx(be,{children:s.jsx(Ne,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx(zr,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Stores Available"}),s.jsx("p",{className:"text-muted-foreground mb-4 max-w-md",children:"You need to create at least one store before adding employees."}),s.jsxs(X,{onClick:()=>t("/stores/create"),className:"gap-2",children:[s.jsx(zr,{className:"h-4 w-4"}),"Create Store"]})]})})})]}):s.jsxs("div",{className:ee("space-y-6",e),children:[C(),d&&s.jsxs(Ze,{className:"border-green-200 bg-green-50 text-green-800",children:[s.jsx(Ns,{className:"h-4 w-4"}),s.jsx(Ke,{children:"Employee created successfully! Redirecting to employees list..."})]}),l&&s.jsxs(Ze,{variant:"destructive",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx(Ke,{children:l})]}),s.jsx($a,{...v,children:s.jsxs("form",{onSubmit:v.handleSubmit(y),className:"space-y-8",children:[s.jsxs(be,{children:[s.jsxs(Te,{children:[s.jsxs(Ue,{className:"flex items-center gap-2",children:[s.jsx(Cs,{className:"h-5 w-5"}),"Basic Information"]}),s.jsx(bn,{children:"Enter the employee's personal and contact information"})]}),s.jsxs(Ne,{className:"space-y-6",children:[s.jsx(Gt,{control:v.control,name:"store_id",render:({field:k})=>s.jsxs(Ht,{children:[s.jsx(zt,{children:"Store Assignment"}),s.jsxs(Lt,{value:k.value,onValueChange:k.onChange,disabled:a,children:[s.jsx(qt,{children:s.jsx(Rt,{children:s.jsx(Bt,{placeholder:"Select a store..."})})}),s.jsx(Pt,{children:i.map(A=>s.jsx(ot,{value:A.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zr,{className:"h-4 w-4"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:A.name}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["ID: ",A.id]})]})]})},A.id))})]}),s.jsx(ts,{children:"Choose which store this employee will be assigned to"}),s.jsx(ar,{})]})}),N&&s.jsxs("div",{className:"rounded-lg bg-muted/50 p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(zr,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm font-medium",children:"Selected Store"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-semibold",children:N.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Store ID: ",N.id]}),N.metadata?.address&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["📍 ",N.metadata.address]})]})]}),s.jsx(cs,{}),s.jsx(Gt,{control:v.control,name:"full_name",render:({field:k})=>s.jsxs(Ht,{children:[s.jsx(zt,{children:"Full Name"}),s.jsx(qt,{children:s.jsx(We,{...k,placeholder:"Enter employee's full name",disabled:a})}),s.jsx(ts,{children:"Enter the employee's complete name (first and last name)"}),s.jsx(ar,{})]})}),s.jsx(Gt,{control:v.control,name:"date_of_birth",render:({field:k})=>s.jsxs(Ht,{children:[s.jsx(zt,{children:"Date of Birth"}),s.jsx(qt,{children:s.jsx(We,{...k,type:"date",disabled:a,max:new Date().toISOString().split("T")[0]})}),s.jsx(ts,{children:"Employee must be at least 16 years old"}),s.jsx(ar,{})]})}),s.jsx(Gt,{control:v.control,name:"status",render:({field:k})=>s.jsxs(Ht,{children:[s.jsx(zt,{children:"Employment Status"}),s.jsx(qt,{children:s.jsx(b$e,{value:k.value,onChange:k.onChange,disabled:a})}),s.jsx(ts,{children:"Set the initial employment status for this employee"}),s.jsx(ar,{})]})})]})]}),s.jsxs(be,{children:[s.jsxs(Te,{children:[s.jsxs(Ue,{className:"flex items-center gap-2",children:[s.jsx(_r,{className:"h-5 w-5"}),"Employee Attributes"]}),s.jsx(bn,{children:"Additional information about the employee's circumstances and capabilities"})]}),s.jsxs(Ne,{className:"space-y-6",children:[s.jsx(Gt,{control:v.control,name:"has_family",render:({field:k})=>s.jsxs(Ht,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(zt,{className:"text-base flex items-center gap-2",children:"👨‍👩‍👧‍👦 Has Family"}),s.jsx(ts,{children:"Employee has family responsibilities that may affect scheduling"})]}),s.jsx(qt,{children:s.jsx(Hn,{checked:k.value,onCheckedChange:k.onChange,disabled:a})})]})}),s.jsx(Gt,{control:v.control,name:"has_car",render:({field:k})=>s.jsxs(Ht,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsxs(zt,{className:"text-base flex items-center gap-2",children:[s.jsx(z2,{className:"h-4 w-4"}),"Has Car"]}),s.jsx(ts,{children:"Employee has reliable transportation"})]}),s.jsx(qt,{children:s.jsx(Hn,{checked:k.value,onCheckedChange:k.onChange,disabled:a})})]})}),s.jsx(Gt,{control:v.control,name:"is_arabic_team",render:({field:k})=>s.jsxs(Ht,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(zt,{className:"text-base flex items-center gap-2",children:"🗣️ Arabic Team"}),s.jsx(ts,{children:"Employee can serve Arabic-speaking customers"})]}),s.jsx(qt,{children:s.jsx(Hn,{checked:k.value,onCheckedChange:k.onChange,disabled:a})})]})})]})]}),s.jsxs(be,{children:[s.jsxs(Te,{children:[s.jsxs(Ue,{className:"flex items-center gap-2",children:[s.jsx(W2,{className:"h-5 w-5"}),"Additional Notes"]}),s.jsx(bn,{children:"Any additional information about the employee (optional)"})]}),s.jsx(Ne,{children:s.jsx(Gt,{control:v.control,name:"notes",render:({field:k})=>s.jsxs(Ht,{children:[s.jsx(zt,{children:"Notes"}),s.jsx(qt,{children:s.jsx(co,{...k,placeholder:"Enter any additional notes about the employee...",className:"min-h-[100px]",disabled:a})}),s.jsx(ts,{children:"Optional notes about skills, preferences, or other relevant information"}),s.jsx(ar,{})]})})})]}),s.jsx(be,{children:s.jsx(Ne,{className:"pt-6",children:s.jsx("div",{className:"flex justify-end",children:_()})})})]})})]})},S$e=ht({store_id:Qe().min(1,"Store selection is required"),full_name:Qe().min(2,"Name must be at least 2 characters").max(100,"Name must not exceed 100 characters").regex(/^[a-zA-Z\s'-]+$/,"Name can only contain letters, spaces, hyphens, and apostrophes"),date_of_birth:Qe().min(1,"Date of birth is required").refine(e=>{const t=new Date(e),r=new Date,n=r.getFullYear()-t.getFullYear(),a=r.getMonth()-t.getMonth();return a<0||a===0&&r.getDate()<t.getDate()?n-1>=16:n>=16},"Employee must be at least 16 years old").refine(e=>new Date(e)<=new Date,"Date of birth cannot be in the future"),has_family:tn(),has_car:tn(),is_arabic_team:tn(),notes:Qe().optional(),status:Ww(["Active","Suspension","Terminated","On Leave"])}),j$e=({value:e,onChange:t,disabled:r})=>{const n=o=>{switch(o){case"Active":return{icon:"🟢",color:"text-green-600",description:"Employee is actively working"};case"Suspension":return{icon:"🟡",color:"text-yellow-600",description:"Employee is temporarily suspended"};case"Terminated":return{icon:"🔴",color:"text-red-600",description:"Employee is no longer with the company"};case"On Leave":return{icon:"🟠",color:"text-orange-600",description:"Employee is on temporary leave"};default:return{icon:"⚪",color:"text-gray-600",description:"Unknown status"}}},a=["Active","Suspension","Terminated","On Leave"];return s.jsxs(Lt,{value:e,onValueChange:t,disabled:r,children:[s.jsx(Rt,{children:s.jsx(Bt,{children:e&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:n(e).icon}),s.jsx("span",{children:e})]})})}),s.jsx(Pt,{children:a.map(o=>{const l=n(o);return s.jsx(ot,{value:o,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:l.icon}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:o}),s.jsx("span",{className:"text-xs text-muted-foreground",children:l.description})]})]})},o)})})]})},N$e=({employee:e})=>{const t=b.useCallback(n=>new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),[]),r=b.useCallback(n=>{const a=new Date,o=new Date(n);let l=a.getFullYear()-o.getFullYear();const c=a.getMonth()-o.getMonth();return(c<0||c===0&&a.getDate()<o.getDate())&&l--,l},[]);return s.jsxs("div",{className:"rounded-lg bg-muted/50 p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Cs,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm font-medium",children:"Current Employee Information"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Employee ID:"}),s.jsx("span",{className:"ml-2 text-muted-foreground",children:e.id})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Current Age:"}),s.jsxs("span",{className:"ml-2 text-muted-foreground",children:[r(e.date_of_birth)," years old"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Skills:"}),s.jsxs("span",{className:"ml-2 text-muted-foreground",children:[e.skills.length," skill(s)"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Created:"}),s.jsx("span",{className:"ml-2 text-muted-foreground",children:t(e.created_at)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Last Updated:"}),s.jsx("span",{className:"ml-2 text-muted-foreground",children:t(e.updated_at)})]}),e.employment_info&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Base Pay:"}),s.jsxs("span",{className:"ml-2 text-muted-foreground",children:["$",e.employment_info.base_pay]})]})]})]})},C$e=({className:e})=>{const t=Ct(),{id:r}=zs(),n=r?parseInt(r,10):null,[a,o]=b.useState(!1),[l,c]=b.useState(null),[d,u]=b.useState(!1),[i,m]=b.useState(!1),[g,x]=b.useState(!1),{stores:v,loading:N,error:h}=bo(!0,{per_page:100}),{currentEmployee:y,loading:w,errors:j,actions:C}=tu(),_=Es({resolver:$s(S$e),mode:"onChange",reValidateMode:"onChange",defaultValues:{store_id:"",full_name:"",date_of_birth:"",has_family:!1,has_car:!1,is_arabic_team:!1,notes:"",status:"Active"}}),k=b.useCallback(()=>{n&&!g&&!w.fetchById.isLoading&&(console.log("Initiating employee fetch for ID:",n),x(!0),C.fetchEmployeeById(n))},[n,g,w.fetchById.isLoading,C]),A=b.useMemo(()=>{const H=_.watch("store_id");return v.find(W=>W.id===H)},[v,_.watch("store_id")]),T=b.useMemo(()=>{const H=_.formState,W=_.getValues(),J=W.store_id&&W.full_name&&W.date_of_birth&&W.status;return H.isValid&&J&&i&&!a},[_.formState,i,a,_]),R=b.useMemo(()=>_.formState.isDirty&&i,[_.formState.isDirty,i]),P=b.useMemo(()=>y!==null&&y.id===n,[y,n]);b.useEffect(()=>{k()},[n]),b.useEffect(()=>{if(P&&y&&!i){console.log("Populating form with employee data:",y);const H={store_id:y.store_id,full_name:y.full_name,date_of_birth:y.date_of_birth,has_family:y.has_family,has_car:y.has_car,is_arabic_team:y.is_arabic_team,notes:y.notes||"",status:y.status};_.reset(H),m(!0),console.log("Form populated and data loaded set to true")}},[P,y,i,_]),b.useEffect(()=>{const H=_.watch(()=>{l&&c(null),d&&u(!1)});return()=>H.unsubscribe()},[_,l,d]),b.useEffect(()=>{m(!1),x(!1),c(null),u(!1)},[n]);const M=async H=>{if(n)try{o(!0),c(null),u(!1);const W={store_id:H.store_id,full_name:H.full_name.trim(),date_of_birth:H.date_of_birth,has_family:H.has_family,has_car:H.has_car,is_arabic_team:H.is_arabic_team,notes:H.notes?.trim()||void 0,status:H.status};if(console.log("Updating employee with data:",W),await C.updateEmployee(n,W))u(!0),setTimeout(()=>{t("/employees",{replace:!0,state:{message:`Employee "${H.full_name}" updated successfully`}})},1500);else throw new Error("Failed to update employee")}catch(W){console.error("Error updating employee:",W),c(W?.message||"Failed to update employee. Please check your information and try again.")}finally{o(!1)}},I=b.useCallback(()=>{t("/employees")},[t,n]),L=b.useCallback(()=>{if(y){const H={store_id:y.store_id,full_name:y.full_name,date_of_birth:y.date_of_birth,has_family:y.has_family,has_car:y.has_car,is_arabic_team:y.is_arabic_team,notes:y.notes||"",status:y.status};_.reset(H)}c(null),u(!1)},[y,_]),B=b.useCallback(()=>{n&&t(`/employees/${n}`)},[t,n]),U=()=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(X,{variant:"ghost",size:"sm",onClick:I,className:"gap-2",children:[s.jsx($n,{className:"h-4 w-4"}),"Back"]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Edit Employee"}),s.jsx("p",{className:"text-muted-foreground",children:P&&y?`Editing: ${y.full_name}`:"Update employee information"})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:P&&y&&s.jsxs(X,{variant:"outline",size:"sm",onClick:B,className:"gap-2",children:[s.jsx(Sn,{className:"h-4 w-4"}),"View Details"]})})]}),F=()=>s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(X,{type:"button",variant:"outline",onClick:I,disabled:a,children:"Cancel"}),s.jsx(X,{type:"button",variant:"ghost",onClick:L,disabled:a||!R,children:"Reset Changes"}),s.jsx(X,{type:"submit",disabled:!T||!R,className:"gap-2",children:a?s.jsxs(s.Fragment,{children:[s.jsx(ut,{className:"h-4 w-4 animate-spin"}),"Updating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(l$,{className:"h-4 w-4"}),"Update Employee"]})})]});return n?w.fetchById.isLoading||N||!i?s.jsxs("div",{className:ee("space-y-6",e),children:[U(),s.jsxs(be,{children:[s.jsxs(Te,{children:[s.jsx(Ye,{className:"h-6 w-48"}),s.jsx(Ye,{className:"h-4 w-64"})]}),s.jsx(Ne,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(Ye,{className:"h-20 w-full"}),s.jsx(Ye,{className:"h-10 w-full"}),s.jsx(Ye,{className:"h-10 w-full"}),s.jsx(Ye,{className:"h-20 w-full"})]})})]})]}):j.fetchById.hasError?s.jsxs("div",{className:ee("space-y-6",e),children:[U(),s.jsx(be,{children:s.jsx(Ne,{className:"pt-6",children:s.jsxs(Ze,{variant:"destructive",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx(Ke,{children:j.fetchById.message||"Failed to load employee data. Please try again."})]})})})]}):!P||!y?s.jsxs("div",{className:ee("space-y-6",e),children:[U(),s.jsx(be,{children:s.jsx(Ne,{className:"pt-6",children:s.jsxs(Ze,{variant:"destructive",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx(Ke,{children:"Employee not found. The employee may have been deleted or you may not have permission to view it."})]})})})]}):h?s.jsxs("div",{className:ee("space-y-6",e),children:[U(),s.jsx(be,{children:s.jsx(Ne,{className:"pt-6",children:s.jsxs(Ze,{variant:"destructive",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx(Ke,{children:"Failed to load stores. Please refresh the page and try again."})]})})})]}):s.jsxs("div",{className:ee("space-y-6",e),children:[U(),d&&s.jsxs(Ze,{className:"border-green-200 bg-green-50 text-green-800",children:[s.jsx(Ns,{className:"h-4 w-4"}),s.jsx(Ke,{children:"Employee updated successfully! Redirecting to employee details..."})]}),l&&s.jsxs(Ze,{variant:"destructive",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx(Ke,{children:l})]}),R&&!d&&s.jsxs(Ze,{children:[s.jsx(zi,{className:"h-4 w-4"}),s.jsx(Ke,{children:"You have unsaved changes. Don't forget to update the employee before leaving this page."})]}),s.jsxs(be,{children:[s.jsxs(Te,{children:[s.jsx(Ue,{className:"text-lg",children:"Current Employee Information"}),s.jsx(bn,{children:"Review the current employee details before making changes"})]}),s.jsx(Ne,{children:s.jsx(N$e,{employee:y})})]}),s.jsx($a,{..._,children:s.jsxs("form",{onSubmit:_.handleSubmit(M),className:"space-y-8",children:[s.jsxs(be,{children:[s.jsxs(Te,{children:[s.jsxs(Ue,{className:"flex items-center gap-2",children:[s.jsx(Cs,{className:"h-5 w-5"}),"Basic Information"]}),s.jsx(bn,{children:"Update the employee's personal and contact information"})]}),s.jsxs(Ne,{className:"space-y-6",children:[s.jsx(Gt,{control:_.control,name:"store_id",render:({field:H})=>s.jsxs(Ht,{children:[s.jsx(zt,{children:"Store Assignment"}),s.jsxs(Lt,{value:H.value,onValueChange:H.onChange,disabled:a,children:[s.jsx(qt,{children:s.jsx(Rt,{children:s.jsx(Bt,{placeholder:"Select a store..."})})}),s.jsx(Pt,{children:v.map(W=>s.jsx(ot,{value:W.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zr,{className:"h-4 w-4"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:W.name}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["ID: ",W.id]})]})]})},W.id))})]}),s.jsx(ts,{children:"Choose which store this employee is assigned to"}),s.jsx(ar,{})]})}),A&&s.jsxs("div",{className:"rounded-lg bg-muted/50 p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(zr,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm font-medium",children:"Selected Store"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-semibold",children:A.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Store ID: ",A.id]}),A.metadata?.address&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["📍 ",A.metadata.address]})]})]}),s.jsx(cs,{}),s.jsx(Gt,{control:_.control,name:"full_name",render:({field:H})=>s.jsxs(Ht,{children:[s.jsx(zt,{children:"Full Name"}),s.jsx(qt,{children:s.jsx(We,{...H,placeholder:"Enter employee's full name",disabled:a})}),s.jsx(ts,{children:"Update the employee's complete name (first and last name)"}),s.jsx(ar,{})]})}),s.jsx(Gt,{control:_.control,name:"date_of_birth",render:({field:H})=>s.jsxs(Ht,{children:[s.jsx(zt,{children:"Date of Birth"}),s.jsx(qt,{children:s.jsx(We,{...H,type:"date",disabled:a,max:new Date().toISOString().split("T")[0]})}),s.jsx(ts,{children:"Employee must be at least 16 years old"}),s.jsx(ar,{})]})}),s.jsx(Gt,{control:_.control,name:"status",render:({field:H})=>s.jsxs(Ht,{children:[s.jsx(zt,{children:"Employment Status"}),s.jsx(qt,{children:s.jsx(j$e,{value:H.value,onChange:H.onChange,disabled:a})}),s.jsx(ts,{children:"Update the employment status for this employee"}),s.jsx(ar,{})]})})]})]}),s.jsxs(be,{children:[s.jsxs(Te,{children:[s.jsxs(Ue,{className:"flex items-center gap-2",children:[s.jsx(_r,{className:"h-5 w-5"}),"Employee Attributes"]}),s.jsx(bn,{children:"Update additional information about the employee's circumstances and capabilities"})]}),s.jsxs(Ne,{className:"space-y-6",children:[s.jsx(Gt,{control:_.control,name:"has_family",render:({field:H})=>s.jsxs(Ht,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(zt,{className:"text-base flex items-center gap-2",children:"👨‍👩‍👧‍👦 Has Family"}),s.jsx(ts,{children:"Employee has family responsibilities that may affect scheduling"})]}),s.jsx(qt,{children:s.jsx(Hn,{checked:H.value,onCheckedChange:H.onChange,disabled:a})})]})}),s.jsx(Gt,{control:_.control,name:"has_car",render:({field:H})=>s.jsxs(Ht,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsxs(zt,{className:"text-base flex items-center gap-2",children:[s.jsx(z2,{className:"h-4 w-4"}),"Has Car"]}),s.jsx(ts,{children:"Employee has reliable transportation"})]}),s.jsx(qt,{children:s.jsx(Hn,{checked:H.value,onCheckedChange:H.onChange,disabled:a})})]})}),s.jsx(Gt,{control:_.control,name:"is_arabic_team",render:({field:H})=>s.jsxs(Ht,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(zt,{className:"text-base flex items-center gap-2",children:"🗣️ Arabic Team"}),s.jsx(ts,{children:"Employee can serve Arabic-speaking customers"})]}),s.jsx(qt,{children:s.jsx(Hn,{checked:H.value,onCheckedChange:H.onChange,disabled:a})})]})})]})]}),s.jsxs(be,{children:[s.jsxs(Te,{children:[s.jsxs(Ue,{className:"flex items-center gap-2",children:[s.jsx(W2,{className:"h-5 w-5"}),"Additional Notes"]}),s.jsx(bn,{children:"Update additional information about the employee (optional)"})]}),s.jsx(Ne,{children:s.jsx(Gt,{control:_.control,name:"notes",render:({field:H})=>s.jsxs(Ht,{children:[s.jsx(zt,{children:"Notes"}),s.jsx(qt,{children:s.jsx(co,{...H,placeholder:"Enter any additional notes about the employee...",className:"min-h-[100px]",disabled:a})}),s.jsx(ts,{children:"Optional notes about skills, preferences, or other relevant information"}),s.jsx(ar,{})]})})})]}),s.jsx(be,{children:s.jsx(Ne,{className:"pt-6",children:s.jsx("div",{className:"flex justify-end",children:F()})})})]})})]}):s.jsxs("div",{className:ee("space-y-6",e),children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>t("/employees/store"),className:"gap-2",children:[s.jsx($n,{className:"h-4 w-4"}),"Back to Employees"]})}),s.jsx(be,{children:s.jsx(Ne,{className:"pt-6",children:s.jsxs(Ze,{variant:"destructive",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx(Ke,{children:"Invalid employee ID. Please select a valid employee to edit."})]})})})]})},E$e=({status:e})=>{const t=n=>{switch(n){case"Active":return"default";case"Suspension":return"secondary";case"Terminated":return"destructive";case"On Leave":return"outline";default:return"secondary"}},r=n=>{switch(n){case"Active":return"🟢";case"Suspension":return"🟡";case"Terminated":return"🔴";case"On Leave":return"🟠";default:return"⚪"}};return s.jsxs(Ve,{variant:t(e),className:"gap-1",children:[s.jsx("span",{className:"text-xs",children:r(e)}),e]})},d2=({rating:e,size:t="sm"})=>{const r=o=>{switch(o){case"A+":return"bg-green-600 text-white";case"A":return"bg-green-500 text-white";case"B":return"bg-blue-500 text-white";case"C":return"bg-yellow-500 text-white";case"D":return"bg-red-500 text-white";default:return"bg-gray-500 text-white"}},n=o=>{switch(o){case"A+":return"Exceptional";case"A":return"Excellent";case"B":return"Good";case"C":return"Satisfactory";case"D":return"Needs Improvement";default:return"Unknown"}},a={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1.5",lg:"text-base px-4 py-2"};return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ve,{className:ee(r(e),a[t],"font-mono font-bold"),children:e}),s.jsx("span",{className:"text-xs text-muted-foreground",children:n(e)})]})},_$e=({employee:e,onEdit:t})=>{const r=b.useCallback(a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),[]),n=b.useCallback(a=>{const o=new Date,l=new Date(a);let c=o.getFullYear()-l.getFullYear();const d=o.getMonth()-l.getMonth();return(d<0||d===0&&o.getDate()<l.getDate())&&c--,c},[]);return s.jsxs(be,{children:[s.jsx(Te,{className:"pb-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-muted",children:s.jsx(Cs,{className:"h-6 w-6 text-muted-foreground"})}),s.jsxs("div",{children:[s.jsx(Ue,{className:"text-xl",children:e.full_name}),s.jsxs(bn,{children:["Employee ID: ",e.id]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(E$e,{status:e.status}),s.jsxs(X,{onClick:t,size:"sm",className:"gap-2",children:[s.jsx(pa,{className:"h-4 w-4"}),"Edit Employee"]})]})]})}),s.jsxs(Ne,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[s.jsx(js,{className:"h-4 w-4 text-muted-foreground"}),"Date of Birth"]}),s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{children:r(e.date_of_birth)}),s.jsxs("div",{className:"text-muted-foreground",children:["Age: ",n(e.date_of_birth)," years old"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[s.jsx(zr,{className:"h-4 w-4 text-muted-foreground"}),"Store Assignment"]}),s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium",children:e.store.name}),s.jsxs("div",{className:"text-muted-foreground",children:["Store #",e.store.number," • ID: ",e.store_id]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[s.jsx(zi,{className:"h-4 w-4 text-muted-foreground"}),"Employment Info"]}),s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{children:["Created: ",r(e.created_at)]}),s.jsxs("div",{className:"text-muted-foreground",children:["Updated: ",r(e.updated_at)]})]})]})]}),s.jsx(cs,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(_r,{className:"h-4 w-4"}),"Employee Attributes"]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.has_family&&s.jsx(Ve,{variant:"outline",className:"gap-1",children:"👨‍👩‍👧‍👦 Has Family"}),e.has_car&&s.jsxs(Ve,{variant:"outline",className:"gap-1",children:[s.jsx(z2,{className:"h-3 w-3"}),"Has Car"]}),e.is_arabic_team&&s.jsx(Ve,{variant:"outline",className:"gap-1",children:"🗣️ Arabic Team"}),!e.has_family&&!e.has_car&&!e.is_arabic_team&&s.jsx("span",{className:"text-sm text-muted-foreground",children:"No special attributes"})]})]}),e.employment_info&&s.jsxs(s.Fragment,{children:[s.jsx(cs,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Mi,{className:"h-4 w-4"}),"Employment Details"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2 font-medium text-muted-foreground",children:[s.jsx(dp,{className:"h-3 w-3"}),"Compensation"]}),s.jsxs("div",{children:["Base Pay:"," ",s.jsxs("span",{className:"font-medium",children:["$",e.employment_info.base_pay]})]}),s.jsxs("div",{children:["Performance Pay:"," ",s.jsxs("span",{className:"font-medium",children:["$",e.employment_info.performance_pay]})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2 font-medium text-muted-foreground",children:[s.jsx(Mi,{className:"h-3 w-3"}),"Employment Type"]}),s.jsx("div",{children:s.jsx(Ve,{variant:"outline",children:e.employment_info.employment_type})}),e.employment_info.hired_date&&s.jsxs("div",{className:"text-muted-foreground",children:["Hired: ",r(e.employment_info.hired_date)]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2 font-medium text-muted-foreground",children:[s.jsx(Xw,{className:"h-3 w-3"}),"Additional Info"]}),e.employment_info.paychex_ids?.length>0&&s.jsxs("div",{children:["Paychex IDs:"," ",s.jsx("span",{className:"font-medium",children:e.employment_info.paychex_ids.join(", ")})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(bve,{className:"h-3 w-3"}),s.jsxs("span",{children:["Uniform:"," ",e.employment_info.has_uniform?"Yes":"No"]})]})]})]})]})]}),e.schedule_preferences&&e.schedule_preferences.length>0&&s.jsxs(s.Fragment,{children:[s.jsx(cs,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(dxe,{className:"h-4 w-4"}),"Schedule Preferences"]}),s.jsx("div",{className:"space-y-3",children:e.schedule_preferences.map(a=>s.jsxs("div",{className:"rounded-lg border p-3 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Maximum Hours:"}),s.jsxs("span",{className:"ml-2",children:[a.maximum_hours,"h"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Employment Type:"}),s.jsx(Ve,{variant:"outline",className:"ml-2",children:a.employment_type})]})]}),a.preference_id&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Preference ID: ",a.preference_id]})]},a.id))})]})]}),e.notes&&s.jsxs(s.Fragment,{children:[s.jsx(cs,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(W2,{className:"h-4 w-4"}),"Notes"]}),s.jsx("div",{className:"text-sm bg-muted/50 rounded-lg p-3",children:e.notes})]})]})]})]})},A$e=({employeeSkill:e,onUpdateRating:t,onRemoveSkill:r})=>{const[n,a]=b.useState(!1),[o,l]=b.useState(e.pivot.rating),c=["A+","A","B","C","D"],d=()=>{o!==e.pivot.rating&&c.includes(o)&&t(e.id,o),a(!1)},u=()=>{l(e.pivot.rating),a(!1)};return s.jsxs(Nt,{children:[s.jsx(Re,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-md bg-primary/10",children:s.jsx(X_,{className:"h-4 w-4 text-primary"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:e.name}),e.slug&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Slug: ",e.slug]})]})]})}),s.jsx(Re,{}),s.jsx(Re,{children:n?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Lt,{value:o,onValueChange:i=>l(i),children:[s.jsx(Rt,{className:"w-24",children:s.jsx(Bt,{})}),s.jsx(Pt,{children:c.map(i=>s.jsx(ot,{value:i,children:s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(d2,{rating:i,size:"sm"})})},i))})]}),s.jsx(X,{size:"sm",onClick:d,children:s.jsx(Ns,{className:"h-3 w-3"})}),s.jsx(X,{size:"sm",variant:"outline",onClick:u,children:"✕"})]}):s.jsx("button",{onClick:()=>a(!0),className:"hover:bg-muted rounded p-1 transition-colors",children:s.jsx(d2,{rating:e.pivot.rating})})}),s.jsx(Re,{children:s.jsxs("div",{className:"text-sm space-y-1",children:[s.jsxs("div",{children:["Created:"," ",new Date(e.pivot.created_at).toLocaleDateString()]}),s.jsxs("div",{className:"text-muted-foreground",children:["Updated:"," ",new Date(e.pivot.updated_at).toLocaleDateString()]})]})}),s.jsx(Re,{children:s.jsxs(Wg,{children:[s.jsx(Gg,{asChild:!0,children:s.jsx(X,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:s.jsx(hg,{className:"h-4 w-4"})})}),s.jsxs(Tm,{align:"end",children:[s.jsxs(so,{onClick:()=>a(!0),className:"cursor-pointer",children:[s.jsx(pa,{className:"mr-2 h-4 w-4"}),"Update Rating"]}),s.jsxs(so,{onClick:()=>r(e.id),className:"cursor-pointer text-destructive focus:text-destructive",children:[s.jsx(Dn,{className:"mr-2 h-4 w-4"}),"Remove Skill"]})]})]})})]})},k$e=({isOpen:e,onOpenChange:t,employee:r,onSkillAttached:n})=>{const[a,o]=b.useState(""),[l,c]=b.useState("B"),[d,u]=b.useState(!1),[i,m]=b.useState(null),g=["A+","A","B","C","D"],{skills:x,loading:v,fetchSkills:N}=UK(),{actions:h}=tu();b.useEffect(()=>{e&&x.length===0&&N()},[e,x.length,N]);const y=b.useMemo(()=>{const C=r.skills.map(_=>_.id);return x.filter(_=>!C.includes(_.id))},[x,r.skills]),w=async()=>{if(!(!a||!l))try{u(!0),m(null);const C=parseInt(a,10);await h.attachSkill(r.id,C,{rating:l}),o(""),c("B"),t(!1),n()}catch(C){console.error("Error attaching skill:",C),m(C.message||"Failed to attach skill")}finally{u(!1)}},j=()=>{o(""),c("B"),m(null),t(!1)};return s.jsx(rn,{open:e,onOpenChange:j,children:s.jsxs(Vr,{className:"sm:max-w-md",children:[s.jsxs(Wr,{children:[s.jsx(Gr,{children:"Attach Skill to Employee"}),s.jsxs(cn,{children:["Add a new skill to ",r.full_name,"'s skill set with an initial rating."]})]}),i&&s.jsxs(Ze,{variant:"destructive",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx(Ke,{children:i})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"skill-select",children:"Select Skill"}),s.jsxs(Lt,{value:a,onValueChange:o,disabled:d||v.list,children:[s.jsx(Rt,{id:"skill-select",children:s.jsx(Bt,{placeholder:"Choose a skill..."})}),s.jsx(Pt,{children:v.list?s.jsx(ot,{value:"loading",disabled:!0,children:"Loading skills..."}):y.length===0?s.jsx(ot,{value:"no-skills",disabled:!0,children:"No skills available"}):y.map(C=>s.jsx(ot,{value:C.id.toString(),children:s.jsx("span",{className:"font-medium",children:C.name})},C.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"rating-select",children:"Initial Rating"}),s.jsxs(Lt,{value:l,onValueChange:C=>c(C),disabled:d,children:[s.jsx(Rt,{id:"rating-select",children:s.jsx(Bt,{})}),s.jsx(Pt,{children:g.map(C=>s.jsx(ot,{value:C,children:s.jsx("div",{className:"flex items-center gap-2 w-full",children:s.jsx(d2,{rating:C,size:"sm"})})},C))})]})]})]}),s.jsxs(nn,{children:[s.jsx(X,{variant:"outline",onClick:j,disabled:d,children:"Cancel"}),s.jsx(X,{onClick:w,disabled:!a||!l||d||y.length===0,className:"gap-2",children:d?s.jsxs(s.Fragment,{children:[s.jsx(ut,{className:"h-4 w-4 animate-spin"}),"Attaching..."]}):s.jsxs(s.Fragment,{children:[s.jsx(or,{className:"h-4 w-4"}),"Attach Skill"]})})]})]})})},D$e=({className:e})=>{const t=Ct(),{id:r}=zs(),n=r?parseInt(r,10):null,[a,o]=b.useState(!1),[l,c]=b.useState(!1),{currentEmployee:d,loading:u,errors:i,actions:m}=tu(),g=b.useCallback(()=>{n&&!l&&!u.fetchById.isLoading&&(console.log("Fetching employee data for ID:",n),c(!0),m.fetchEmployeeById(n))},[n,l,u.fetchById.isLoading,m]),x=b.useMemo(()=>d!==null&&d.id===n,[d,n]);b.useEffect(()=>{g()},[n]),b.useEffect(()=>{c(!1)},[n]);const v=b.useCallback(()=>{t("/employees/store")},[t]),N=b.useCallback(()=>{n&&t(`/employees/${n}/edit`)},[t,n]),h=b.useCallback(async(_,k)=>{if(n)try{await m.updateSkill(n,_,{rating:k}),m.fetchEmployeeById(n)}catch(A){console.error("Failed to update skill rating:",A)}},[n,m]),y=b.useCallback(async _=>{if(!n||!d)return;const k=d.skills.find(T=>T.id===_);if(!k)return;if(window.confirm(`Are you sure you want to remove "${k.name}" from ${d.full_name}'s skills?`))try{await m.detachSkill(n,_),m.fetchEmployeeById(n)}catch(T){console.error("Failed to remove skill:",T)}},[n,d,m]),w=b.useCallback(()=>{n&&m.fetchEmployeeById(n)},[n,m]),j=()=>s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(X,{variant:"ghost",size:"sm",onClick:v,className:"gap-2",children:[s.jsx($n,{className:"h-4 w-4"}),"Back to Employees"]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Employee Details"}),s.jsx("p",{className:"text-muted-foreground",children:x&&d?`Viewing: ${d.full_name}`:"View employee information"})]})]})}),C=()=>d?s.jsxs(be,{children:[s.jsx(Te,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(Ue,{className:"flex items-center gap-2",children:[s.jsx(X_,{className:"h-5 w-5"}),"Employee Skills"]}),s.jsxs(bn,{children:["Skills and competencies for ",d.full_name," with letter grade ratings"]})]}),s.jsxs(X,{onClick:()=>o(!0),className:"gap-2",children:[s.jsx(or,{className:"h-4 w-4"}),"Attach Skill"]})]})}),s.jsx(Ne,{children:d.skills.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[s.jsx(X_,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Skills Assigned"}),s.jsx("p",{className:"text-muted-foreground mb-4 max-w-md",children:"This employee doesn't have any skills assigned yet. Attach skills to track their competencies with A+ through D ratings."}),s.jsxs(X,{onClick:()=>o(!0),className:"gap-2",children:[s.jsx(or,{className:"h-4 w-4"}),"Attach First Skill"]})]}):s.jsx("div",{className:"rounded-md border",children:s.jsxs(mn,{children:[s.jsx(hn,{children:s.jsxs(Nt,{children:[s.jsx(Be,{children:"Skill"}),s.jsx(Be,{children:"Category"}),s.jsx(Be,{children:"Rating"}),s.jsx(Be,{children:"Dates"}),s.jsx(Be,{className:"w-12",children:"Actions"})]})}),s.jsx(pn,{children:d.skills.map(_=>s.jsx(A$e,{employeeSkill:_,onUpdateRating:h,onRemoveSkill:y},_.id))})]})})})]}):null;return n?u.fetchById.isLoading?s.jsxs("div",{className:ee("space-y-6",e),children:[j(),s.jsxs(be,{children:[s.jsx(Te,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ye,{className:"h-12 w-12 rounded-full"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ye,{className:"h-6 w-48"}),s.jsx(Ye,{className:"h-4 w-32"})]})]}),s.jsx(Ye,{className:"h-9 w-32"})]})}),s.jsx(Ne,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx(Ye,{className:"h-16 w-full"}),s.jsx(Ye,{className:"h-16 w-full"}),s.jsx(Ye,{className:"h-16 w-full"})]}),s.jsx(Ye,{className:"h-32 w-full"})]})})]}),s.jsxs(be,{children:[s.jsx(Te,{children:s.jsx(Ye,{className:"h-6 w-48"})}),s.jsx(Ne,{children:s.jsx(Ye,{className:"h-32 w-full"})})]})]}):i.fetchById.hasError?s.jsxs("div",{className:ee("space-y-6",e),children:[j(),s.jsx(be,{children:s.jsx(Ne,{className:"pt-6",children:s.jsxs(Ze,{variant:"destructive",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx(Ke,{children:i.fetchById.message||"Failed to load employee data. Please try again."})]})})})]}):!x||!d?s.jsxs("div",{className:ee("space-y-6",e),children:[j(),s.jsx(be,{children:s.jsx(Ne,{className:"pt-6",children:s.jsxs(Ze,{variant:"destructive",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx(Ke,{children:"Employee not found. The employee may have been deleted or you may not have permission to view it."})]})})})]}):s.jsxs("div",{className:ee("space-y-6",e),children:[j(),s.jsx(_$e,{employee:d,onEdit:N}),C(),s.jsx(k$e,{isOpen:a,onOpenChange:o,employee:d,onSkillAttached:w})]}):s.jsxs("div",{className:ee("space-y-6",e),children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs(X,{variant:"ghost",size:"sm",onClick:v,className:"gap-2",children:[s.jsx($n,{className:"h-4 w-4"}),"Back to Employees"]})}),s.jsx(be,{children:s.jsx(Ne,{className:"pt-6",children:s.jsxs(Ze,{variant:"destructive",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx(Ke,{children:"Invalid employee ID. Please select a valid employee to view."})]})})})]})},T$e=[s.jsx(St,{path:"/employees",element:s.jsx(At,{children:s.jsx(Yt,{role:"super-admin",children:s.jsx(kt,{children:s.jsx(v$e,{})})})})},"employees-management"),s.jsx(St,{path:"/employees/create",element:s.jsx(At,{children:s.jsx(Yt,{role:"super-admin",children:s.jsx(kt,{children:s.jsx(w$e,{})})})})},"create-employee"),s.jsx(St,{path:"/employees/edit/:id",element:s.jsx(At,{children:s.jsx(Yt,{role:"super-admin",children:s.jsx(kt,{children:s.jsx(C$e,{})})})})},"edit-employee"),s.jsx(St,{path:"/employees/view/:id",element:s.jsx(At,{children:s.jsx(Yt,{role:"super-admin",children:s.jsx(kt,{children:s.jsx(D$e,{})})})})},"view-employee")],R$e=()=>{const e=Mt(),t=ue(Fle),r=ue(Ule),n=ue($le),a=ue(Hle),o=ue(zle),l=b.useCallback(async()=>{try{console.log("[useEmploymentInformations] Initiating fetchAll"),await e(bd()).unwrap(),console.log("[useEmploymentInformations] fetchAll completed successfully")}catch(y){console.error("[useEmploymentInformations] fetchAll failed:",y)}},[e]),c=b.useCallback(async y=>{if(!y||y<=0){console.warn("[useEmploymentInformations] fetchById: Invalid ID provided:",y);return}try{console.log(`[useEmploymentInformations] Fetching employment info with ID: ${y}`),await e(Uy(y)).unwrap(),console.log(`[useEmploymentInformations] fetchById(${y}) completed successfully`)}catch(w){console.error(`[useEmploymentInformations] fetchById(${y}) failed:`,w)}},[e]),d=b.useCallback(async y=>{if(!y)return console.warn("[useEmploymentInformations] create: No data provided"),null;try{console.log("[useEmploymentInformations] Creating new employment information");const w=await e($y(y)).unwrap();return console.log("[useEmploymentInformations] create completed successfully:",w.id),w}catch(w){return console.error("[useEmploymentInformations] create failed:",w),null}},[e]),u=b.useCallback(async(y,w)=>{if(!y||y<=0)return console.warn("[useEmploymentInformations] update: Invalid ID provided:",y),null;if(!w)return console.warn("[useEmploymentInformations] update: No data provided"),null;try{console.log(`[useEmploymentInformations] Updating employment info with ID: ${y}`);const j=await e(Hy({id:y,data:w})).unwrap();return console.log(`[useEmploymentInformations] update(${y}) completed successfully`),j}catch(j){return console.error(`[useEmploymentInformations] update(${y}) failed:`,j),null}},[e]),i=b.useCallback(async y=>{if(!y||y<=0)return console.warn("[useEmploymentInformations] delete: Invalid ID provided:",y),!1;try{return console.log(`[useEmploymentInformations] Deleting employment info with ID: ${y}`),await e(zy(y)).unwrap(),console.log(`[useEmploymentInformations] delete(${y}) completed successfully`),!0}catch(w){return console.error(`[useEmploymentInformations] delete(${y}) failed:`,w),!1}},[e]),m=b.useCallback(()=>{console.log("[useEmploymentInformations] Clearing all errors"),e(Mle())},[e]),g=b.useCallback(()=>{console.log("[useEmploymentInformations] Clearing current item"),e(Ole())},[e]),x=b.useCallback(y=>{console.log(`[useEmploymentInformations] Setting current item: ${y.id}`),e(Ile(y))},[e]),v=b.useCallback(y=>{console.log(`[useEmploymentInformations] Clearing ${y} error`),e(Lle(y))},[e]),N=b.useCallback(()=>{console.log("[useEmploymentInformations] Resetting state"),e(Ble())},[e]),h=b.useMemo(()=>({fetchAll:l,fetchById:c,create:d,update:u,delete:i,clearErrors:m,clearCurrent:g,setCurrent:x,clearSpecificError:v,reset:N}),[l,c,d,u,i,m,g,x,v,N]);return b.useEffect(()=>{t.length===0&&!n.list&&!o.lastFetch&&(console.log("[useEmploymentInformations] Auto-fetching data on mount"),l())},[]),{employmentInformations:t,currentEmploymentInformation:r,loading:n,errors:a,actions:h}},P$e=()=>{const{employmentInformations:e,loading:t,errors:r,actions:n}=R$e(),a=bo(!0,{per_page:100}),o=tu(),l=FK(),[c,d]=b.useState({open:!1,selectedStoreId:"",selectedEmployeeId:"",selectedPositionId:"",paychexIds:[""],employmentType:"",hiredDate:new Date().toISOString().split("T")[0],basePay:"0",performancePay:"0",hasUniform:!1}),[u,i]=b.useState({open:!1,employmentInformation:null,selectedStoreId:"",selectedEmployeeId:"",selectedPositionId:"",paychexIds:[""],employmentType:"",hiredDate:new Date().toISOString().split("T")[0],basePay:"0",performancePay:"0",hasUniform:!1}),[m,g]=b.useState({open:!1,employmentInformation:null}),[x,v]=b.useState({open:!1,employmentInformation:null}),[N,h]=b.useState(!1),[y,w]=b.useState(""),[j,C]=b.useState(!1);b.useEffect(()=>{(async()=>{if(!j)try{C(!0),await n.fetchAll()}catch(Fe){console.error("Failed to fetch employment information:",Fe),C(!1)}})()},[n.fetchAll,j]);const _=b.useCallback(async()=>{try{await l.fetchPositions()}catch(oe){console.error("Failed to fetch positions:",oe)}},[l.fetchPositions]);b.useEffect(()=>{_()},[]),b.useEffect(()=>{y&&o.actions.fetchEmployeesByStore(y,{per_page:100}).catch(console.error)},[y]),b.useEffect(()=>{c.selectedStoreId&&w(c.selectedStoreId)},[c.selectedStoreId]),b.useEffect(()=>{u.selectedStoreId&&w(u.selectedStoreId)},[u.selectedStoreId]);const k=b.useMemo(()=>y?o.employees.filter(oe=>oe.store_id===y):[],[o.employees,y]),A=t.list,T=t.list||t.create||t.update||t.delete||a.loading||l.isAnyLoading,R=b.useMemo(()=>Object.values(r).some(oe=>oe!==null),[r]),P=b.useMemo(()=>R?Object.values(r).find(oe=>oe!==null):null,[R,r]),M=b.useMemo(()=>e.filter(oe=>oe.employment_type==="W2"),[e]),I=b.useMemo(()=>e.filter(oe=>oe.employment_type==="1099"),[e]),L=b.useCallback(()=>{d({open:!0,selectedStoreId:"",selectedEmployeeId:"",selectedPositionId:"",paychexIds:[""],employmentType:"",hiredDate:new Date().toISOString().split("T")[0],basePay:"0",performancePay:"0",hasUniform:!1})},[]),B=b.useCallback(()=>{d(oe=>({...oe,open:!1})),w("")},[]),U=b.useCallback(oe=>{const Fe=oe.hired_date?new Date(oe.hired_date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0];i({open:!0,employmentInformation:oe,selectedStoreId:oe.emp_info?.store_id||"",selectedEmployeeId:oe.emp_info_id.toString(),selectedPositionId:oe.position_id?.toString()||"",paychexIds:oe.paychex_ids||[""],employmentType:oe.employment_type,hiredDate:Fe,basePay:oe.base_pay||"0",performancePay:oe.performance_pay||"0",hasUniform:oe.has_uniform})},[]),F=b.useCallback(()=>{i(oe=>({...oe,open:!1})),w("")},[]),H=b.useCallback(oe=>{g({open:!0,employmentInformation:oe})},[]),W=b.useCallback(()=>{g({open:!1,employmentInformation:null})},[]),J=b.useCallback(oe=>{v({open:!0,employmentInformation:oe})},[]),q=b.useCallback(()=>{v({open:!1,employmentInformation:null})},[]),G=b.useCallback(async()=>{try{if(h(!0),!c.selectedStoreId||!c.selectedEmployeeId||!c.employmentType||c.paychexIds.some(Y=>!Y.trim())){He.error("Validation Error",{description:"Please fill in all required fields"});return}const oe={emp_info_id:c.selectedEmployeeId,position_id:c.selectedPositionId||void 0,paychex_ids:c.paychexIds.filter(Y=>Y.trim()),employment_type:c.employmentType,hired_date:c.hiredDate,base_pay:c.basePay,performance_pay:c.performancePay,has_uniform:c.hasUniform},Fe=He.loading("Creating employment information...",{description:"Please wait while we save your changes."});if(await n.create(oe))He.dismiss(Fe),He.success("Employment information created successfully",{description:"The new employment record has been added to the system."}),B();else throw new Error("Failed to create employment information")}catch(oe){console.error("Failed to create employment information:",oe);const Fe=oe instanceof Error?oe.message:"Unknown error occurred";He.error("Failed to create employment information",{description:Fe})}finally{h(!1)}},[c,n.create,B]),z=b.useCallback(async()=>{if(u.employmentInformation)try{if(h(!0),!u.selectedStoreId||!u.selectedEmployeeId||!u.employmentType||u.paychexIds.some(Y=>!Y.trim())){He.error("Validation Error",{description:"Please fill in all required fields"});return}const oe={emp_info_id:u.selectedEmployeeId,position_id:u.selectedPositionId||void 0,paychex_ids:u.paychexIds.filter(Y=>Y.trim()),employment_type:u.employmentType,hired_date:u.hiredDate,base_pay:u.basePay,performance_pay:u.performancePay,has_uniform:u.hasUniform},Fe=He.loading("Updating employment information...",{description:"Please wait while we save your changes."});if(await n.update(u.employmentInformation.id,oe))He.dismiss(Fe),He.success("Employment information updated successfully",{description:"The employment record changes have been saved."}),F();else throw new Error("Failed to update employment information")}catch(oe){console.error("Failed to update employment information:",oe);const Fe=oe instanceof Error?oe.message:"Unknown error occurred";He.error("Failed to update employment information",{description:Fe})}finally{h(!1)}},[u,n.update,F]),K=b.useCallback(async()=>{if(x.employmentInformation)try{const oe=He.loading("Deleting employment information...",{description:"Please wait while we remove the record."});if(await n.delete(x.employmentInformation.id))He.dismiss(oe),He.success("Employment information deleted successfully",{description:"The employment record has been removed from the system."}),q();else throw new Error("Failed to delete employment information")}catch(oe){console.error("Failed to delete employment information:",oe);const Fe=oe instanceof Error?oe.message:"Unknown error occurred";He.error("Failed to delete employment information",{description:Fe})}},[x.employmentInformation,n.delete,q]),Z=b.useCallback(async()=>{try{He.info("Refreshing data...",{description:"Fetching the latest employment information."}),await n.fetchAll(),He.success("Data refreshed successfully",{description:"Employment information has been updated."})}catch(oe){console.error("Failed to refresh employment information:",oe),He.error("Failed to refresh data",{description:"Please try again later."})}},[n.fetchAll]),ie=b.useCallback(oe=>a.stores.find(Q=>Q.id===oe)?.name||oe,[a.stores]),ye=b.useCallback(oe=>oe?l.positions.find(Q=>Q.id===oe)?.name||`Position ${oe}`:"No Position",[l.positions]),de=b.useCallback(oe=>oe==="W2"?"default":"secondary",[]),xe=b.useCallback(oe=>oe==="W2"?"W-2 Employee":"1099 Contractor",[]),ne=b.useCallback((oe=!1)=>{oe?i(Fe=>({...Fe,paychexIds:[...Fe.paychexIds,""]})):d(Fe=>({...Fe,paychexIds:[...Fe.paychexIds,""]}))},[]),ge=b.useCallback((oe,Fe=!1)=>{Fe?i(Q=>({...Q,paychexIds:Q.paychexIds.filter((Y,re)=>re!==oe)})):d(Q=>({...Q,paychexIds:Q.paychexIds.filter((Y,re)=>re!==oe)}))},[]),Ce=b.useCallback((oe,Fe,Q=!1)=>{Q?i(Y=>({...Y,paychexIds:Y.paychexIds.map((re,we)=>we===oe?Fe:re)})):d(Y=>({...Y,paychexIds:Y.paychexIds.map((re,we)=>we===oe?Fe:re)}))},[]),ce=()=>A?s.jsx("div",{className:"space-y-4",children:Array.from({length:5}).map((oe,Fe)=>s.jsx(Ye,{className:"h-16 w-full"},Fe))}):e.length===0?s.jsx(be,{children:s.jsxs(Ne,{className:"flex flex-col items-center justify-center py-16",children:[s.jsx(ic,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Employment Information"}),s.jsx("p",{className:"text-muted-foreground text-center mb-6",children:"Get started by creating your first employment record"}),s.jsxs(X,{onClick:L,children:[s.jsx(or,{className:"h-4 w-4 mr-2"}),"Create Employment Record"]})]})}):s.jsx(be,{children:s.jsx(Ne,{className:"p-0",children:s.jsxs(mn,{children:[s.jsx(hn,{children:s.jsxs(Nt,{children:[s.jsx(Be,{children:"Employee"}),s.jsx(Be,{children:"Store"}),s.jsx(Be,{children:"Position"}),s.jsx(Be,{children:"Employment Type"}),s.jsx(Be,{children:"Base Pay"}),s.jsx(Be,{children:"Performance Pay"}),s.jsx(Be,{children:"Uniform"}),s.jsx(Be,{children:"Hired Date"}),s.jsx(Be,{className:"text-right",children:"Actions"})]})}),s.jsx(pn,{children:e.map(oe=>s.jsxs(Nt,{children:[s.jsx(Re,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(_r,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:oe.emp_info?.full_name||"Unknown Employee"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Status: ",oe.emp_info?.status||"Unknown"]})]})]})}),s.jsx(Re,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(zr,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:ie(oe.emp_info?.store_id||"")})]})}),s.jsx(Re,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Mi,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:ye(oe.position_id)})]})}),s.jsx(Re,{children:s.jsx(Ve,{variant:de(oe.employment_type),children:xe(oe.employment_type)})}),s.jsx(Re,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(dp,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{children:["$",oe.base_pay]})]})}),s.jsx(Re,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(dp,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{children:["$",oe.performance_pay]})]})}),s.jsx(Re,{children:s.jsx(Ve,{variant:oe.has_uniform?"default":"secondary",children:oe.has_uniform?"Yes":"No"})}),s.jsx(Re,{className:"text-sm text-muted-foreground",children:oe.hired_date?new Date(oe.hired_date).toLocaleDateString():"Not set"}),s.jsx(Re,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[s.jsx(X,{variant:"ghost",size:"sm",onClick:()=>H(oe),children:s.jsx(Sn,{className:"h-4 w-4"})}),s.jsx(X,{variant:"ghost",size:"sm",onClick:()=>U(oe),children:s.jsx(pa,{className:"h-4 w-4"})}),s.jsx(X,{variant:"ghost",size:"sm",onClick:()=>J(oe),children:s.jsx(Dn,{className:"h-4 w-4 text-destructive"})})]})})]},oe.id))})]})})}),Oe=b.useCallback((oe,Fe,Q="Select store...")=>s.jsxs(Lt,{value:oe,onValueChange:Fe,children:[s.jsx(Rt,{children:s.jsx(Bt,{placeholder:Q})}),s.jsx(Pt,{children:a.stores.map(Y=>s.jsx(ot,{value:Y.id,children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(zr,{className:"h-4 w-4"}),s.jsx("span",{children:Y.name})]})},Y.id))})]}),[a.stores]),Pe=b.useCallback((oe,Fe,Q=!1)=>s.jsxs(Lt,{value:oe,onValueChange:Fe,disabled:Q,children:[s.jsx(Rt,{children:s.jsx(Bt,{placeholder:Q?"Select store first...":"Select employee..."})}),s.jsx(Pt,{children:k.map(Y=>s.jsx(ot,{value:Y.id.toString(),children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(_r,{className:"h-4 w-4"}),s.jsxs("div",{children:[s.jsx("span",{children:Y.full_name}),s.jsxs("span",{className:"text-sm text-muted-foreground ml-1",children:["(",Y.status,")"]})]})]})},Y.id))})]}),[k]),ae=b.useCallback((oe,Fe)=>s.jsxs(Lt,{value:oe,onValueChange:Fe,children:[s.jsx(Rt,{children:s.jsx(Bt,{placeholder:"Select position (optional)..."})}),s.jsx(Pt,{children:l.positions.map(Q=>s.jsx(ot,{value:Q.id.toString(),children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Mi,{className:"h-4 w-4"}),s.jsx("span",{children:Q.name})]})},Q.id))})]}),[l.positions]),$e=b.useCallback((oe,Fe)=>s.jsxs(Lt,{value:oe,onValueChange:Fe,children:[s.jsx(Rt,{children:s.jsx(Bt,{placeholder:"Select employment type..."})}),s.jsxs(Pt,{children:[s.jsx(ot,{value:"W2",children:s.jsx(Ve,{variant:"default",children:"W-2 Employee"})}),s.jsx(ot,{value:"1099",children:s.jsx(Ve,{variant:"secondary",children:"1099 Contractor"})})]})]}),[]),nt=b.useCallback((oe,Fe=!1)=>s.jsxs("div",{className:"space-y-2",children:[oe.map((Q,Y)=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(We,{value:Q,onChange:re=>Ce(Y,re.target.value,Fe),placeholder:`Paychex ID ${Y+1}`}),oe.length>1&&s.jsx(X,{type:"button",variant:"outline",size:"sm",onClick:()=>ge(Y,Fe),children:s.jsx(Dn,{className:"h-4 w-4"})})]},Y)),s.jsxs(X,{type:"button",variant:"outline",size:"sm",onClick:()=>ne(Fe),children:[s.jsx(or,{className:"h-4 w-4 mr-2"}),"Add Paychex ID"]})]}),[Ce,ge,ne]);return s.jsxs("div",{className:"container mx-auto py-8 space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Employment Information"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage employee employment details and compensation information"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(X,{variant:"outline",onClick:Z,disabled:T,children:[s.jsx(Lr,{className:`h-4 w-4 mr-2 ${T?"animate-spin":""}`}),"Refresh"]}),s.jsxs(X,{onClick:L,disabled:T,children:[s.jsx(or,{className:"h-4 w-4 mr-2"}),"Create Employment Record"]})]})]}),R&&s.jsx(be,{className:"border-destructive",children:s.jsxs(Ne,{className:"pt-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-destructive",children:[s.jsx(st,{className:"h-5 w-5"}),s.jsx("p",{className:"font-medium",children:"Error loading employment information"})]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:P})]})}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(be,{children:[s.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ue,{className:"text-sm font-medium",children:"Total Records"}),s.jsx(ic,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Ne,{children:s.jsx("div",{className:"text-2xl font-bold",children:e.length})})]}),s.jsxs(be,{children:[s.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ue,{className:"text-sm font-medium",children:"W-2 Employees"}),s.jsx(_r,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Ne,{children:s.jsx("div",{className:"text-2xl font-bold",children:M.length})})]}),s.jsxs(be,{children:[s.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ue,{className:"text-sm font-medium",children:"1099 Contractors"}),s.jsx(a$,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Ne,{children:s.jsx("div",{className:"text-2xl font-bold",children:I.length})})]}),s.jsxs(be,{children:[s.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ue,{className:"text-sm font-medium",children:"Stores"}),s.jsx(zr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Ne,{children:s.jsx("div",{className:"text-2xl font-bold",children:a.totalStores})})]})]}),ce(),s.jsx(rn,{open:c.open,onOpenChange:oe=>{oe||B()},children:s.jsxs(Vr,{className:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto",children:[s.jsxs(Wr,{children:[s.jsx(Gr,{children:"Create Employment Record"}),s.jsx(cn,{children:"Set up employment information for an employee"})]}),s.jsxs("div",{className:"grid gap-6 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Ie,{htmlFor:"store",children:"Store *"}),Oe(c.selectedStoreId,oe=>d(Fe=>({...Fe,selectedStoreId:oe,selectedEmployeeId:""})))]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Ie,{htmlFor:"employee",children:"Employee *"}),Pe(c.selectedEmployeeId,oe=>d(Fe=>({...Fe,selectedEmployeeId:oe})),!c.selectedStoreId)]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Ie,{htmlFor:"position",children:"Position"}),ae(c.selectedPositionId,oe=>d(Fe=>({...Fe,selectedPositionId:oe})))]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Ie,{htmlFor:"employmentType",children:"Employment Type *"}),$e(c.employmentType,oe=>d(Fe=>({...Fe,employmentType:oe})))]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Ie,{children:"Paychex IDs *"}),nt(c.paychexIds)]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Ie,{htmlFor:"hiredDate",children:"Hired Date *"}),s.jsx(We,{id:"hiredDate",type:"date",value:c.hiredDate,onChange:oe=>d(Fe=>({...Fe,hiredDate:oe.target.value}))})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Ie,{htmlFor:"basePay",children:"Base Pay ($) *"}),s.jsx(We,{id:"basePay",type:"number",min:"0",step:"0.01",value:c.basePay,onChange:oe=>d(Fe=>({...Fe,basePay:oe.target.value})),placeholder:"0.00"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Ie,{htmlFor:"performancePay",children:"Performance Pay ($) *"}),s.jsx(We,{id:"performancePay",type:"number",min:"0",step:"0.01",value:c.performancePay,onChange:oe=>d(Fe=>({...Fe,performancePay:oe.target.value})),placeholder:"0.00"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(rs,{id:"hasUniform",checked:c.hasUniform,onCheckedChange:oe=>d(Fe=>({...Fe,hasUniform:!!oe}))}),s.jsx(Ie,{htmlFor:"hasUniform",children:"Employee has uniform"})]})]}),s.jsxs(nn,{children:[s.jsx(X,{variant:"outline",onClick:B,disabled:N,children:"Cancel"}),s.jsxs(X,{onClick:G,disabled:N,children:[N&&s.jsx(ut,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Employment Record"]})]})]})}),s.jsx(rn,{open:u.open,onOpenChange:oe=>{oe||F()},children:s.jsxs(Vr,{className:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto",children:[s.jsxs(Wr,{children:[s.jsx(Gr,{children:"Edit Employment Record"}),s.jsx(cn,{children:"Update the employment information details"})]}),s.jsxs("div",{className:"grid gap-6 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Ie,{htmlFor:"editStore",children:"Store *"}),Oe(u.selectedStoreId,oe=>i(Fe=>({...Fe,selectedStoreId:oe,selectedEmployeeId:""})))]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Ie,{htmlFor:"editEmployee",children:"Employee *"}),Pe(u.selectedEmployeeId,oe=>i(Fe=>({...Fe,selectedEmployeeId:oe})),!u.selectedStoreId)]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Ie,{htmlFor:"editPosition",children:"Position"}),ae(u.selectedPositionId,oe=>i(Fe=>({...Fe,selectedPositionId:oe})))]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Ie,{htmlFor:"editEmploymentType",children:"Employment Type *"}),$e(u.employmentType,oe=>i(Fe=>({...Fe,employmentType:oe})))]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Ie,{children:"Paychex IDs *"}),nt(u.paychexIds,!0)]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Ie,{htmlFor:"editHiredDate",children:"Hired Date *"}),s.jsx(We,{id:"editHiredDate",type:"date",value:u.hiredDate,onChange:oe=>i(Fe=>({...Fe,hiredDate:oe.target.value}))})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Ie,{htmlFor:"editBasePay",children:"Base Pay ($) *"}),s.jsx(We,{id:"editBasePay",type:"number",min:"0",step:"0.01",value:u.basePay,onChange:oe=>i(Fe=>({...Fe,basePay:oe.target.value}))})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Ie,{htmlFor:"editPerformancePay",children:"Performance Pay ($) *"}),s.jsx(We,{id:"editPerformancePay",type:"number",min:"0",step:"0.01",value:u.performancePay,onChange:oe=>i(Fe=>({...Fe,performancePay:oe.target.value}))})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(rs,{id:"editHasUniform",checked:u.hasUniform,onCheckedChange:oe=>i(Fe=>({...Fe,hasUniform:!!oe}))}),s.jsx(Ie,{htmlFor:"editHasUniform",children:"Employee has uniform"})]})]}),s.jsxs(nn,{children:[s.jsx(X,{variant:"outline",onClick:F,disabled:N,children:"Cancel"}),s.jsxs(X,{onClick:z,disabled:N,children:[N&&s.jsx(ut,{className:"mr-2 h-4 w-4 animate-spin"}),"Update Employment Record"]})]})]})}),s.jsx(rn,{open:m.open,onOpenChange:oe=>{oe||W()},children:s.jsxs(Vr,{className:"sm:max-w-[500px]",children:[s.jsxs(Wr,{children:[s.jsx(Gr,{children:"Employment Information Details"}),s.jsx(cn,{children:"View employment record information"})]}),m.employmentInformation&&s.jsx("div",{className:"space-y-6 py-4",children:s.jsxs("div",{className:"grid gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:"Employee:"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(_r,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:m.employmentInformation.emp_info?.full_name||"Unknown Employee"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:"Store:"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(zr,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:ie(m.employmentInformation.emp_info?.store_id||"")})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:"Position:"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Mi,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:ye(m.employmentInformation.position_id)})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:"Employment Type:"}),s.jsx(Ve,{variant:de(m.employmentInformation.employment_type),children:xe(m.employmentInformation.employment_type)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:"Paychex IDs:"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:m.employmentInformation.paychex_ids.map((oe,Fe)=>s.jsx(Ve,{variant:"outline",children:oe},Fe))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:"Base Pay:"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(dp,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{children:["$",m.employmentInformation.base_pay]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:"Performance Pay:"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(dp,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{children:["$",m.employmentInformation.performance_pay]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:"Has Uniform:"}),s.jsx(Ve,{variant:m.employmentInformation.has_uniform?"default":"secondary",children:m.employmentInformation.has_uniform?"Yes":"No"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:"Hired Date:"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(js,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:m.employmentInformation.hired_date?new Date(m.employmentInformation.hired_date).toLocaleDateString():"Not set"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:"Employee Status:"}),s.jsx(Ve,{variant:"outline",children:m.employmentInformation.emp_info?.status||"Unknown"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:"Created:"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(m.employmentInformation.created_at).toLocaleString()})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:"Updated:"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(m.employmentInformation.updated_at).toLocaleString()})]})]})}),s.jsx(nn,{children:s.jsx(X,{onClick:W,children:"Close"})})]})}),s.jsx(fl,{open:x.open,onOpenChange:q,children:s.jsxs(ei,{children:[s.jsxs(ti,{children:[s.jsx(ni,{children:"Delete Employment Information"}),s.jsxs(si,{children:["Are you sure you want to delete this employment record? This action cannot be undone.",x.employmentInformation&&s.jsxs("div",{className:"mt-4 p-4 bg-muted rounded-md",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Employee:"})," ",x.employmentInformation.emp_info?.full_name||"Unknown Employee"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Store:"})," ",ie(x.employmentInformation.emp_info?.store_id||"")]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Position:"})," ",ye(x.employmentInformation.position_id)]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Employment Type:"})," ",xe(x.employmentInformation.employment_type)]})]})]})]}),s.jsxs(ri,{children:[s.jsx(oi,{onClick:q,children:"Cancel"}),s.jsx(ai,{onClick:K,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete Employment Record"})]})]})})]})},M$e=[s.jsx(St,{path:"/employment-information",element:s.jsx(At,{children:s.jsx(Yt,{role:"super-admin",children:s.jsx(kt,{children:s.jsx(P$e,{})})})})},"employment-information-management")],O$e=()=>{const e=Mt(),t=ue(ae=>Ale(ae)),r=ue(ae=>kle(ae)),n=ue(ae=>Dle(ae)),a=ue(ae=>Tle(ae)),o=ue(ae=>Rle(ae)),l=bo(!0,{per_page:100}),c=tu(),d=HK(),[u,i]=b.useState({open:!1,selectedStoreId:"",selectedEmployeeId:"",selectedPreferenceId:"",maximumHours:"8",employmentType:""}),[m,g]=b.useState({open:!1,schedulePreference:null,selectedStoreId:"",selectedEmployeeId:"",selectedPreferenceId:"",maximumHours:"8",employmentType:""}),[x,v]=b.useState({open:!1,schedulePreference:null}),[N,h]=b.useState({open:!1,schedulePreference:null}),[y,w]=b.useState(!1),[j,C]=b.useState(""),[_,k]=b.useState(!1);b.useEffect(()=>{(async()=>{if(!_)try{k(!0),await e(Sf()).unwrap()}catch($e){console.error("Failed to fetch schedule preferences:",$e),k(!1)}})()},[e,_]);const A=b.useCallback(async()=>{try{await d.fetchPreferences()}catch(ae){console.error("Failed to fetch preferences:",ae)}},[d.fetchPreferences]);b.useEffect(()=>{A()},[]),b.useEffect(()=>{j&&c.actions.fetchEmployeesByStore(j,{per_page:100}).catch(console.error)},[j]),b.useEffect(()=>{u.selectedStoreId&&C(u.selectedStoreId)},[u.selectedStoreId]),b.useEffect(()=>{m.selectedStoreId&&C(m.selectedStoreId)},[m.selectedStoreId]);const T=b.useMemo(()=>j?c.employees.filter(ae=>ae.store_id===j):[],[c.employees,j]),R=n.fetchAll==="loading",P=o||l.loading||d.isAnyLoading,M=b.useMemo(()=>Object.values(a).some(ae=>ae!==null),[a]),I=b.useMemo(()=>M?Object.values(a).find(ae=>ae!==null):null,[M,a]),L=b.useMemo(()=>t.filter(ae=>ae.employment_type==="FT"),[t]),B=b.useMemo(()=>t.filter(ae=>ae.employment_type==="PT"),[t]),U=b.useCallback(()=>{i({open:!0,selectedStoreId:"",selectedEmployeeId:"",selectedPreferenceId:"",maximumHours:"8",employmentType:""})},[]),F=b.useCallback(()=>{i(ae=>({...ae,open:!1})),C("")},[]),H=b.useCallback(ae=>{g({open:!0,schedulePreference:ae,selectedStoreId:ae.emp_info.store_id,selectedEmployeeId:ae.emp_info_id.toString(),selectedPreferenceId:ae.preference_id.toString(),maximumHours:ae.maximum_hours.toString(),employmentType:ae.employment_type})},[]),W=b.useCallback(()=>{g(ae=>({...ae,open:!1})),C("")},[]),J=b.useCallback(ae=>{v({open:!0,schedulePreference:ae})},[]),q=b.useCallback(()=>{v({open:!1,schedulePreference:null})},[]),G=b.useCallback(ae=>{h({open:!0,schedulePreference:ae})},[]),z=b.useCallback(()=>{h({open:!1,schedulePreference:null})},[]),K=b.useCallback(async()=>{try{if(w(!0),!u.selectedStoreId||!u.selectedEmployeeId||!u.selectedPreferenceId||!u.employmentType){He.error("Validation Error",{description:"Please fill in all required fields"});return}const ae={emp_info_id:parseInt(u.selectedEmployeeId),preference_id:parseInt(u.selectedPreferenceId),maximum_hours:parseInt(u.maximumHours)||8,employment_type:u.employmentType},$e=He.loading("Creating schedule preference...",{description:"Please wait while we save your changes."}),nt=await e(Np(ae));if(Np.fulfilled.match(nt))He.dismiss($e),He.success("Schedule preference created successfully",{description:"The new schedule preference has been added to the system."}),F();else throw new Error(nt.payload||"Failed to create schedule preference")}catch(ae){console.error("Failed to create schedule preference:",ae);const $e=ae instanceof Error?ae.message:"Unknown error occurred";He.error("Failed to create schedule preference",{description:$e})}finally{w(!1)}},[u,e,F]),Z=b.useCallback(async()=>{if(m.schedulePreference)try{if(w(!0),!m.selectedStoreId||!m.selectedEmployeeId||!m.selectedPreferenceId||!m.employmentType){He.error("Validation Error",{description:"Please fill in all required fields"});return}const ae={emp_info_id:parseInt(m.selectedEmployeeId),preference_id:parseInt(m.selectedPreferenceId),maximum_hours:parseInt(m.maximumHours)||8,employment_type:m.employmentType},$e=He.loading("Updating schedule preference...",{description:"Please wait while we save your changes."}),nt=await e(Cp({id:m.schedulePreference.id,data:ae}));if(Cp.fulfilled.match(nt))He.dismiss($e),He.success("Schedule preference updated successfully",{description:"The schedule preference changes have been saved."}),W();else throw new Error(nt.payload||"Failed to update schedule preference")}catch(ae){console.error("Failed to update schedule preference:",ae);const $e=ae instanceof Error?ae.message:"Unknown error occurred";He.error("Failed to update schedule preference",{description:$e})}finally{w(!1)}},[m,e,W]),ie=b.useCallback(async()=>{if(N.schedulePreference)try{const ae=He.loading("Deleting schedule preference...",{description:"Please wait while we remove the preference."}),$e=await e(Ep({id:N.schedulePreference.id}));if(Ep.fulfilled.match($e))He.dismiss(ae),He.success("Schedule preference deleted successfully",{description:"The schedule preference has been removed from the system."}),z();else throw new Error($e.payload||"Failed to delete schedule preference")}catch(ae){console.error("Failed to delete schedule preference:",ae);const $e=ae instanceof Error?ae.message:"Unknown error occurred";He.error("Failed to delete schedule preference",{description:$e})}},[N.schedulePreference,e,z]),ye=b.useCallback(async()=>{try{He.info("Refreshing data...",{description:"Fetching the latest schedule preferences."});const ae=await e(Sf());if(Sf.fulfilled.match(ae))He.success("Data refreshed successfully",{description:"Schedule preferences have been updated."});else throw new Error(ae.payload||"Failed to refresh data")}catch(ae){console.error("Failed to refresh schedule preferences:",ae),He.error("Failed to refresh data",{description:"Please try again later."})}},[e]),de=b.useCallback(ae=>l.stores.find(nt=>nt.id===ae)?.name||ae,[l.stores]),xe=b.useCallback(ae=>ae==="FT"?"default":"secondary",[]),ne=b.useCallback(ae=>ae==="FT"?"Full Time":"Part Time",[]),ge=()=>R?s.jsx("div",{className:"space-y-4",children:Array.from({length:5}).map((ae,$e)=>s.jsx(Ye,{className:"h-16 w-full"},$e))}):t.length===0?s.jsx(be,{children:s.jsxs(Ne,{className:"flex flex-col items-center justify-center py-16",children:[s.jsx(js,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Schedule Preferences"}),s.jsx("p",{className:"text-muted-foreground text-center mb-6",children:"Get started by creating your first schedule preference"}),s.jsxs(X,{onClick:U,children:[s.jsx(or,{className:"h-4 w-4 mr-2"}),"Create Schedule Preference"]})]})}):s.jsx(be,{children:s.jsx(Ne,{className:"p-0",children:s.jsxs(mn,{children:[s.jsx(hn,{children:s.jsxs(Nt,{children:[s.jsx(Be,{children:"Employee"}),s.jsx(Be,{children:"Store"}),s.jsx(Be,{children:"Preference"}),s.jsx(Be,{children:"Max Hours"}),s.jsx(Be,{children:"Employment Type"}),s.jsx(Be,{children:"Created At"}),s.jsx(Be,{className:"text-right",children:"Actions"})]})}),s.jsx(pn,{children:t.map(ae=>s.jsxs(Nt,{children:[s.jsx(Re,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(_r,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:ae.emp_info.full_name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Status: ",ae.emp_info.status]})]})]})}),s.jsx(Re,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(zr,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:de(ae.emp_info.store_id)})]})}),s.jsx(Re,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Mi,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:ae.preference.name})]})}),s.jsx(Re,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(zi,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{children:[ae.maximum_hours," hours"]})]})}),s.jsx(Re,{children:s.jsx(Ve,{variant:xe(ae.employment_type),children:ne(ae.employment_type)})}),s.jsx(Re,{className:"text-sm text-muted-foreground",children:new Date(ae.created_at).toLocaleDateString()}),s.jsx(Re,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[s.jsx(X,{variant:"ghost",size:"sm",onClick:()=>J(ae),children:s.jsx(Sn,{className:"h-4 w-4"})}),s.jsx(X,{variant:"ghost",size:"sm",onClick:()=>H(ae),children:s.jsx(pa,{className:"h-4 w-4"})}),s.jsx(X,{variant:"ghost",size:"sm",onClick:()=>G(ae),children:s.jsx(Dn,{className:"h-4 w-4 text-destructive"})})]})})]},ae.id))})]})})}),Ce=b.useCallback((ae,$e,nt="Select store...")=>s.jsxs(Lt,{value:ae,onValueChange:$e,children:[s.jsx(Rt,{children:s.jsx(Bt,{placeholder:nt})}),s.jsx(Pt,{children:l.stores.map(oe=>s.jsx(ot,{value:oe.id,children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(zr,{className:"h-4 w-4"}),s.jsx("span",{children:oe.name})]})},oe.id))})]}),[l.stores]),ce=b.useCallback((ae,$e,nt=!1)=>s.jsxs(Lt,{value:ae,onValueChange:$e,disabled:nt,children:[s.jsx(Rt,{children:s.jsx(Bt,{placeholder:nt?"Select store first...":"Select employee..."})}),s.jsx(Pt,{children:T.map(oe=>s.jsx(ot,{value:oe.id.toString(),children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(_r,{className:"h-4 w-4"}),s.jsxs("div",{children:[s.jsx("span",{children:oe.full_name}),s.jsxs("span",{className:"text-sm text-muted-foreground ml-1",children:["(",oe.status,")"]})]})]})},oe.id))})]}),[T]),Oe=b.useCallback((ae,$e)=>s.jsxs(Lt,{value:ae,onValueChange:$e,children:[s.jsx(Rt,{children:s.jsx(Bt,{placeholder:"Select preference..."})}),s.jsx(Pt,{children:d.preferences.map(nt=>s.jsx(ot,{value:nt.id.toString(),children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Mi,{className:"h-4 w-4"}),s.jsx("span",{children:nt.name})]})},nt.id))})]}),[d.preferences]),Pe=b.useCallback((ae,$e)=>s.jsxs(Lt,{value:ae,onValueChange:$e,children:[s.jsx(Rt,{children:s.jsx(Bt,{placeholder:"Select employment type..."})}),s.jsxs(Pt,{children:[s.jsx(ot,{value:"FT",children:s.jsx(Ve,{variant:"default",children:"Full Time"})}),s.jsx(ot,{value:"PT",children:s.jsx(Ve,{variant:"secondary",children:"Part Time"})})]})]}),[]);return s.jsxs("div",{className:"container mx-auto py-8 space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Schedule Preferences"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage employee schedule preferences and work arrangements"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(X,{variant:"outline",onClick:ye,disabled:P,children:[s.jsx(Lr,{className:`h-4 w-4 mr-2 ${P?"animate-spin":""}`}),"Refresh"]}),s.jsxs(X,{onClick:U,disabled:P,children:[s.jsx(or,{className:"h-4 w-4 mr-2"}),"Create Schedule Preference"]})]})]}),M&&s.jsx(be,{className:"border-destructive",children:s.jsxs(Ne,{className:"pt-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-destructive",children:[s.jsx(st,{className:"h-5 w-5"}),s.jsx("p",{className:"font-medium",children:"Error loading schedule preferences"})]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:I})]})}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(be,{children:[s.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ue,{className:"text-sm font-medium",children:"Total Preferences"}),s.jsx(js,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Ne,{children:s.jsx("div",{className:"text-2xl font-bold",children:r})})]}),s.jsxs(be,{children:[s.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ue,{className:"text-sm font-medium",children:"Full Time"}),s.jsx(Mi,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Ne,{children:s.jsx("div",{className:"text-2xl font-bold",children:L.length})})]}),s.jsxs(be,{children:[s.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ue,{className:"text-sm font-medium",children:"Part Time"}),s.jsx(zi,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Ne,{children:s.jsx("div",{className:"text-2xl font-bold",children:B.length})})]}),s.jsxs(be,{children:[s.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ue,{className:"text-sm font-medium",children:"Stores"}),s.jsx(zr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Ne,{children:s.jsx("div",{className:"text-2xl font-bold",children:l.totalStores})})]})]}),ge(),s.jsx(rn,{open:u.open,onOpenChange:ae=>{ae||F()},children:s.jsxs(Vr,{className:"sm:max-w-[600px]",children:[s.jsxs(Wr,{children:[s.jsx(Gr,{children:"Create Schedule Preference"}),s.jsx(cn,{children:"Set up a new schedule preference for an employee"})]}),s.jsxs("div",{className:"grid gap-6 py-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Ie,{htmlFor:"store",children:"Store"}),Ce(u.selectedStoreId,ae=>i($e=>({...$e,selectedStoreId:ae,selectedEmployeeId:""})))]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Ie,{htmlFor:"employee",children:"Employee"}),ce(u.selectedEmployeeId,ae=>i($e=>({...$e,selectedEmployeeId:ae})),!u.selectedStoreId)]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Ie,{htmlFor:"preference",children:"Preference"}),Oe(u.selectedPreferenceId,ae=>i($e=>({...$e,selectedPreferenceId:ae})))]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Ie,{htmlFor:"maximumHours",children:"Maximum Hours"}),s.jsx(We,{id:"maximumHours",type:"number",min:"1",max:"24",value:u.maximumHours,onChange:ae=>i($e=>({...$e,maximumHours:ae.target.value})),placeholder:"8"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Ie,{htmlFor:"employmentType",children:"Employment Type"}),Pe(u.employmentType,ae=>i($e=>({...$e,employmentType:ae})))]})]}),s.jsxs(nn,{children:[s.jsx(X,{variant:"outline",onClick:F,disabled:y,children:"Cancel"}),s.jsxs(X,{onClick:K,disabled:y,children:[y&&s.jsx(ut,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Schedule Preference"]})]})]})}),s.jsx(rn,{open:m.open,onOpenChange:ae=>{ae||W()},children:s.jsxs(Vr,{className:"sm:max-w-[600px]",children:[s.jsxs(Wr,{children:[s.jsx(Gr,{children:"Edit Schedule Preference"}),s.jsx(cn,{children:"Update the schedule preference details"})]}),s.jsxs("div",{className:"grid gap-6 py-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Ie,{htmlFor:"editStore",children:"Store"}),Ce(m.selectedStoreId,ae=>g($e=>({...$e,selectedStoreId:ae,selectedEmployeeId:""})))]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Ie,{htmlFor:"editEmployee",children:"Employee"}),ce(m.selectedEmployeeId,ae=>g($e=>({...$e,selectedEmployeeId:ae})),!m.selectedStoreId)]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Ie,{htmlFor:"editPreference",children:"Preference"}),Oe(m.selectedPreferenceId,ae=>g($e=>({...$e,selectedPreferenceId:ae})))]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Ie,{htmlFor:"editMaximumHours",children:"Maximum Hours"}),s.jsx(We,{id:"editMaximumHours",type:"number",min:"1",max:"24",value:m.maximumHours,onChange:ae=>g($e=>({...$e,maximumHours:ae.target.value}))})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Ie,{htmlFor:"editEmploymentType",children:"Employment Type"}),Pe(m.employmentType,ae=>g($e=>({...$e,employmentType:ae})))]})]}),s.jsxs(nn,{children:[s.jsx(X,{variant:"outline",onClick:W,disabled:y,children:"Cancel"}),s.jsxs(X,{onClick:Z,disabled:y,children:[y&&s.jsx(ut,{className:"mr-2 h-4 w-4 animate-spin"}),"Update Schedule Preference"]})]})]})}),s.jsx(rn,{open:x.open,onOpenChange:ae=>{ae||q()},children:s.jsxs(Vr,{className:"sm:max-w-[500px]",children:[s.jsxs(Wr,{children:[s.jsx(Gr,{children:"Schedule Preference Details"}),s.jsx(cn,{children:"View schedule preference information"})]}),x.schedulePreference&&s.jsx("div",{className:"space-y-6 py-4",children:s.jsxs("div",{className:"grid gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:"Employee:"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(_r,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:x.schedulePreference.emp_info.full_name})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:"Store:"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(zr,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:de(x.schedulePreference.emp_info.store_id)})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:"Preference:"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Mi,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:x.schedulePreference.preference.name})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:"Maximum Hours:"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(zi,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{children:[x.schedulePreference.maximum_hours," hours"]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:"Employment Type:"}),s.jsx(Ve,{variant:xe(x.schedulePreference.employment_type),children:ne(x.schedulePreference.employment_type)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:"Employee Status:"}),s.jsx(Ve,{variant:"outline",children:x.schedulePreference.emp_info.status})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:"Created:"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(x.schedulePreference.created_at).toLocaleString()})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:"Updated:"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(x.schedulePreference.updated_at).toLocaleString()})]})]})}),s.jsx(nn,{children:s.jsx(X,{onClick:q,children:"Close"})})]})}),s.jsx(fl,{open:N.open,onOpenChange:z,children:s.jsxs(ei,{children:[s.jsxs(ti,{children:[s.jsx(ni,{children:"Delete Schedule Preference"}),s.jsxs(si,{children:["Are you sure you want to delete this schedule preference? This action cannot be undone.",N.schedulePreference&&s.jsxs("div",{className:"mt-4 p-4 bg-muted rounded-md",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Employee:"})," ",N.schedulePreference.emp_info.full_name]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Store:"})," ",de(N.schedulePreference.emp_info.store_id)]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Preference:"})," ",N.schedulePreference.preference.name]})]})]})]}),s.jsxs(ri,{children:[s.jsx(oi,{onClick:z,children:"Cancel"}),s.jsx(ai,{onClick:ie,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete Schedule Preference"})]})]})})]})},I$e=[s.jsx(St,{path:"/schedule-preferences",element:s.jsx(At,{children:s.jsx(Yt,{role:"super-admin",children:s.jsx(kt,{children:s.jsx(O$e,{})})})})},"schedule-preferences-management")];var S_={exports:{}};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var j_,n8;function L$e(){if(n8)return j_;n8=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function n(o){if(o==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(o)}function a(){try{if(!Object.assign)return!1;var o=new String("abc");if(o[5]="de",Object.getOwnPropertyNames(o)[0]==="5")return!1;for(var l={},c=0;c<10;c++)l["_"+String.fromCharCode(c)]=c;var d=Object.getOwnPropertyNames(l).map(function(i){return l[i]});if(d.join("")!=="0123456789")return!1;var u={};return"abcdefghijklmnopqrst".split("").forEach(function(i){u[i]=i}),Object.keys(Object.assign({},u)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return j_=a()?Object.assign:function(o,l){for(var c,d=n(o),u,i=1;i<arguments.length;i++){c=Object(arguments[i]);for(var m in c)t.call(c,m)&&(d[m]=c[m]);if(e){u=e(c);for(var g=0;g<u.length;g++)r.call(c,u[g])&&(d[u[g]]=c[u[g]])}}return d},j_}var N_,s8;function B$e(){if(s8)return N_;s8=1;var e=L$e(),t={};function r(l,c,d,u,i,m,g,x){if(!l){var v;if(c===void 0)v=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var N=[d,u,i,m,g,x],h=0;v=new Error(c.replace(/%s/g,function(){return N[h++]})),v.name="Invariant Violation"}throw v.framesToPop=1,v}}var n="mixins";function a(l){return l}function o(l,c,d){var u=[],i={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},m={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},g={displayName:function(P,M){P.displayName=M},mixins:function(P,M){if(M)for(var I=0;I<M.length;I++)v(P,M[I])},childContextTypes:function(P,M){P.childContextTypes=e({},P.childContextTypes,M)},contextTypes:function(P,M){P.contextTypes=e({},P.contextTypes,M)},getDefaultProps:function(P,M){P.getDefaultProps?P.getDefaultProps=y(P.getDefaultProps,M):P.getDefaultProps=M},propTypes:function(P,M){P.propTypes=e({},P.propTypes,M)},statics:function(P,M){N(P,M)},autobind:function(){}};function x(P,M){var I=i.hasOwnProperty(M)?i[M]:null;A.hasOwnProperty(M)&&r(I==="OVERRIDE_BASE","ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",M),P&&r(I==="DEFINE_MANY"||I==="DEFINE_MANY_MERGED","ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",M)}function v(P,M){if(M){r(typeof M!="function","ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),r(!c(M),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var I=P.prototype,L=I.__reactAutoBindPairs;M.hasOwnProperty(n)&&g.mixins(P,M.mixins);for(var B in M)if(M.hasOwnProperty(B)&&B!==n){var U=M[B],F=I.hasOwnProperty(B);if(x(F,B),g.hasOwnProperty(B))g[B](P,U);else{var H=i.hasOwnProperty(B),W=typeof U=="function",J=W&&!H&&!F&&M.autobind!==!1;if(J)L.push(B,U),I[B]=U;else if(F){var q=i[B];r(H&&(q==="DEFINE_MANY_MERGED"||q==="DEFINE_MANY"),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",q,B),q==="DEFINE_MANY_MERGED"?I[B]=y(I[B],U):q==="DEFINE_MANY"&&(I[B]=w(I[B],U))}else I[B]=U}}}}function N(P,M){if(M)for(var I in M){var L=M[I];if(M.hasOwnProperty(I)){var B=I in g;r(!B,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',I);var U=I in P;if(U){var F=m.hasOwnProperty(I)?m[I]:null;r(F==="DEFINE_MANY_MERGED","ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",I),P[I]=y(P[I],L);return}P[I]=L}}}function h(P,M){r(P&&M&&typeof P=="object"&&typeof M=="object","mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var I in M)M.hasOwnProperty(I)&&(r(P[I]===void 0,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",I),P[I]=M[I]);return P}function y(P,M){return function(){var L=P.apply(this,arguments),B=M.apply(this,arguments);if(L==null)return B;if(B==null)return L;var U={};return h(U,L),h(U,B),U}}function w(P,M){return function(){P.apply(this,arguments),M.apply(this,arguments)}}function j(P,M){var I=M.bind(P);return I}function C(P){for(var M=P.__reactAutoBindPairs,I=0;I<M.length;I+=2){var L=M[I],B=M[I+1];P[L]=j(P,B)}}var _={componentDidMount:function(){this.__isMounted=!0}},k={componentWillUnmount:function(){this.__isMounted=!1}},A={replaceState:function(P,M){this.updater.enqueueReplaceState(this,P,M)},isMounted:function(){return!!this.__isMounted}},T=function(){};e(T.prototype,l.prototype,A);function R(P){var M=function(L,B,U){this.__reactAutoBindPairs.length&&C(this),this.props=L,this.context=B,this.refs=t,this.updater=U||d,this.state=null;var F=this.getInitialState?this.getInitialState():null;r(typeof F=="object"&&!Array.isArray(F),"%s.getInitialState(): must return an object or null",M.displayName||"ReactCompositeComponent"),this.state=F};M.prototype=new T,M.prototype.constructor=M,M.prototype.__reactAutoBindPairs=[],u.forEach(v.bind(null,M)),v(M,_),v(M,P),v(M,k),M.getDefaultProps&&(M.defaultProps=M.getDefaultProps()),r(M.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var I in i)M.prototype[I]||(M.prototype[I]=null);return M}return R}return N_=o,N_}var C_,a8;function F$e(){if(a8)return C_;a8=1;var e=fc(),t=B$e();if(typeof e>"u")throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var r=new e.Component().updater;return C_=t(e.Component,e.isValidElement,r),C_}var o8;function U$e(){if(o8)return S_.exports;o8=1;var e={};if(typeof e>"u")var e={};if(function(){function t(l){var c=e.Date.Cache.Ticks;if(c[l])return e.Stats.cacheHitsTicks+=1,c[l];var d,u=new Date(l),i=u.getUTCMilliseconds();d=i===0?"":i<10?".00"+i:i<100?".0"+i:"."+i;var m=u.getUTCSeconds();m<10&&(m="0"+m);var g=u.getUTCMinutes();g<10&&(g="0"+g);var x=u.getUTCHours();x<10&&(x="0"+x);var v=u.getUTCDate();v<10&&(v="0"+v);var N=u.getUTCMonth()+1;N<10&&(N="0"+N);var h=u.getUTCFullYear();if(h<=0)throw"The minimum year supported is 1.";h<10?h="000"+h:h<100?h="00"+h:h<1e3&&(h="0"+h);var y=h+"-"+N+"-"+v+"T"+x+":"+g+":"+m+d;return c[l]=y,y}function r(l,c){return!e.Util.isNullOrUndefined(l)&&!e.Util.isNullOrUndefined(c)&&l.toLocaleLowerCase()===c.toLocaleLowerCase()}function n(l){l=Math.min(l,255),l=Math.max(l,0);var c=l.toString(16);return l<16?"0"+c:c}if(typeof e.$>"u"){typeof e.Global>"u"&&(e.Global={}),e.$=function(l){return document.getElementById(l)},Object.defineProperty(e,"isKhtml",{get:function(){return typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.indexOf("KHTML")!==-1}}),e.touch={},e.touch.start="touchstart",e.touch.move="touchmove",e.touch.end="touchend",e.mo2=function(l,c){if(typeof c.offsetX<"u"){var d={x:c.offsetX+1,y:c.offsetY+1};if(!l)return d;for(var u=c.srcElement;u&&u!==l;)u.tagName!=="SPAN"&&(d.x+=u.offsetLeft,u.offsetTop>0&&(d.y+=u.offsetTop-u.scrollTop)),u=u.offsetParent;return u?d:null}if(typeof c.layerX<"u"){var d={x:c.layerX,y:c.layerY,src:c.target};if(!l)return d;for(var u=c.target;u&&u.style.position!=="absolute"&&u.style.position!=="relative";)u=u.parentNode,e.isKhtml&&(d.y+=u.scrollTop);for(;u&&u!==l;)d.x+=u.offsetLeft,d.y+=u.offsetTop-u.scrollTop,u=u.offsetParent;return u?d:null}return null},e.mo3=function(l,c){var d,u=e.page(c);if(u)if(l){var i=e.abs(l);if(!i)throw new Error("no abs");d={x:u.x-i.x,y:u.y-i.y}}else d={x:u.x,y:u.y};else if(d=e.mo2(l,c),!d)return null;return d.shift=c.shiftKey,d.meta=c.metaKey,d.ctrl=c.ctrlKey,d.alt=c.altKey,d},e.browser={},Object.defineProperty(e.browser,"hover",{get:function(){return!window.matchMedia("(any-hover: none)").matches}}),e.touch={},e.debounce=function(l,c){var d;return function(){var u=this,i=arguments,m=function(){d=null,l.apply(u,i)};clearTimeout(d),d=setTimeout(m,c)}},e.page=function(l){var c=l.changedTouches&&l.changedTouches[0]?l.changedTouches[0]:l;return typeof c.pageX<"u"?{x:c.pageX,y:c.pageY}:typeof l.clientX<"u"&&document.body&&document.documentElement?{x:l.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,y:l.clientY+document.body.scrollTop+document.documentElement.scrollTop}:null},e.abs=function(l,c){if(!l)return null;if(l.getBoundingClientRect){var d=e.absBoundingClientBased(l);if(c){var u=e.absOffsetBased(l,!1),c=e.absOffsetBased(l,!0);d.x+=c.x-u.x,d.y+=c.y-u.y,d.w=c.w,d.h=c.h}return d}return e.absOffsetBased(l,c)},e.absBoundingClientBased=function(l){var c=l.getBoundingClientRect();return{x:c.left+window.pageXOffset,y:c.top+window.pageYOffset,w:l.clientWidth,h:l.clientHeight,toString:function(){return"x:"+this.x+" y:"+this.y+" w:"+this.w+" h:"+this.h}}},e.absOffsetBased=function(l,c){for(var d={x:l.offsetLeft,y:l.offsetTop,w:l.clientWidth,h:l.clientHeight,toString:function(){return"x:"+this.x+" y:"+this.y+" w:"+this.w+" h:"+this.h}};l.offsetParent;)l=l.offsetParent,d.x-=l.scrollLeft,d.y-=l.scrollTop,c&&(d.x<0&&(d.w+=d.x,d.x=0),d.y<0&&(d.h+=d.y,d.y=0),l.scrollLeft>0&&d.x+d.w>l.clientWidth&&(d.w-=d.x+d.w-l.clientWidth),l.scrollTop&&d.y+d.h>l.clientHeight&&(d.h-=d.y+d.h-l.clientHeight)),d.x+=l.offsetLeft,d.y+=l.offsetTop;var u=e.pageOffset();return d.x+=u.x,d.y+=u.y,d},e.isArray=function(l){return Object.prototype.toString.call(l)==="[object Array]"},e.distance=function(l,c){return Math.sqrt(Math.pow(l.x-c.x,2)+Math.pow(l.y-c.y,2))},e.sheet=function(){function l(){for(var i=document.querySelectorAll("style[nonce]"),m=0;m<i.length;m++){var g=i[m];if(g.nonce)return g.nonce}if(document.currentScript&&document.currentScript.nonce)return document.currentScript.nonce;for(var x=document.querySelectorAll("script[nonce]"),v=0;v<x.length;v++){var N=x[v];if(N.nonce)return N.nonce}return""}if(typeof window>"u"){var u={};return u.add=function(){},u.commit=function(){},u}var c=document.createElement("style");c.nonce=l(),c.styleSheet||c.appendChild(document.createTextNode("")),(document.head||document.getElementsByTagName("head")[0]).appendChild(c);var d=!!c.styleSheet,u={};return u.rules=[],u.commit=function(){d&&(c.styleSheet.cssText=this.rules.join(`
`))},u.add=function(i,m,g){return d?void this.rules.push(i+"{"+m+"}"):void(c.sheet.insertRule?(typeof g>"u"&&(g=c.sheet.cssRules.length),c.sheet.insertRule(i+"{"+m+"}",g)):c.sheet.addRule&&c.sheet.addRule(i,m,g))},u},e.gs=function(l,c){return window.getComputedStyle(l,null).getPropertyValue(c)||""},e.StyleReader=function(l){this.get=function(c){return l?e.gs(l,c):null},this.getPx=function(c){var d=this.get(c);return d.indexOf("px")===-1?void 0:parseInt(d,10)}},function(){if(!e.Global.defaultCss){var l=e.sheet();l.add(".menu_default_main","user-select:none; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;font-size: 13px;border: 1px solid #dddddd;background-color: white;padding: 0px;cursor: default;background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAABCAIAAABG0om7AAAAKXRFWHRDcmVhdGlvbiBUaW1lAHBvIDEwIDUgMjAxMCAyMjozMzo1OSArMDEwMGzy7+IAAAAHdElNRQfaBQoUJAesj4VUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAABGdBTUEAALGPC/xhBQAAABVJREFUeNpj/P//PwO1weMnT2RlZAAYuwX/4oA3BgAAAABJRU5ErkJggg==);background-repeat: repeat-y;xborder-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);"),l.add(".menu_default_main, .menu_default_main *, .menu_default_main *:before, .menu_default_main *:after","box-sizing: content-box;"),l.add(".menu_default_title","background-color: #f2f2f2;border-bottom: 1px solid gray;padding: 4px 4px 4px 37px;"),l.add(".menu_default_main a","padding: 2px 2px 2px 35px;color: black;text-decoration: none;cursor: default;"),l.add(".menu_default_main.menu_default_withchildren a","padding: 2px 35px 2px 35px;"),l.add(".menu_default_main a img","margin-left: 6px;margin-top: 2px;"),l.add(".menu_default_item_text","display: block;height: 20px;line-height: 20px; overflow:hidden;padding-left: 2px;padding-right: 20px; white-space: nowrap;"),l.add(".menu_default_main a:hover","background-color: #f3f3f3;"),l.add(".menu_default_main div div","border-top: 1px solid #dddddd;margin-top: 2px;margin-bottom: 2px;margin-left: 28px;"),l.add(".menu_default_main a.menu_default_item_disabled","color: #ccc"),l.add(".menu_default_item_haschildren.menu_default_item_haschildren_active","background-color: #f3f3f3;"),l.add(".menu_default_item_haschildren a:before","content: ''; border-width: 5px; border-color: transparent transparent transparent #666; border-style: solid; width: 0px; height:0px; position: absolute; right: 5px; margin-top: 5px;"),l.add(".menu_default_item_icon","position: absolute; top:0px; left: 0px; padding: 2px 2px 2px 8px;"),l.add(".menu_default_item a i","height: 20px;line-height: 20px;"),l.add(".menu_default_item .menu_default_item_symbol","width: 18px; height: 18px; color: #999; margin-left: 6px;margin-top: 2px;"),l.add(".menubar_default_main","border-bottom: 1px solid #ccc; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px; user-select:none;"),l.add(".menubar_default_item","display: inline-block;  padding: 6px 10px; cursor: default;"),l.add(".menubar_default_item:hover","background-color: #f2f2f2;"),l.add(".menubar_default_item_active","background-color: #f2f2f2;"),l.add(".calendar_default_main","  --dp-calendar-border-color: #c0c0c0;  --dp-calendar-font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;  --dp-calendar-font-size: 13px;  --dp-calendar-header-bg-color: #f3f3f3;  --dp-calendar-header-color: #333;  --dp-calendar-colheader-padding: 0px;  --dp-calendar-rowheader-font-size: 16pt;  --dp-calendar-rowheader-padding: 3px;  --dp-calendar-cell-bg-color: #f9f9f9;  --dp-calendar-cell-business-bg-color: #ffffff;  --dp-calendar-cell-border-color: #ddd;  --dp-calendar-colheader-horizontal-align: center;  --dp-calendar-colheader-vertical-align: center;  --dp-calendar-allday-event-color: #333;  --dp-calendar-allday-event-border-color: #999;  --dp-calendar-allday-event-border: 1px solid var(--dp-calendar-allday-event-border-color);  --dp-calendar-allday-event-border-radius: 0px;  --dp-calendar-allday-event-bg-top-color: #ffffff;  --dp-calendar-allday-event-bg-bottom-color: #eeeeee;  --dp-calendar-allday-event-background: linear-gradient(to bottom, var(--dp-calendar-allday-event-bg-top-color) 0%, var(--dp-calendar-allday-event-bg-bottom-color) 100%);  --dp-calendar-allday-event-box-shadow: none;  --dp-calendar-allday-event-padding: 4px;  --dp-calendar-allday-event-horizontal-align: flex-start;  --dp-calendar-event-color: #333;  --dp-calendar-event-border-color: #999;  --dp-calendar-event-border: 1px solid var(--dp-calendar-event-border-color);  --dp-calendar-event-border-radius: 0px;  --dp-calendar-event-box-shadow: none;  --dp-calendar-event-bg-top-color: #ffffff;  --dp-calendar-event-bg-bottom-color: #eeeeee;  --dp-calendar-event-background: linear-gradient(to bottom, var(--dp-calendar-event-bg-top-color) 0%, var(--dp-calendar-event-bg-bottom-color) 100%);  --dp-calendar-event-bar-bg-color: #9dc8e8;  --dp-calendar-event-bar-color: #1066a8;  --dp-calendar-event-bar-width: 6px;  --dp-calendar-event-bar-left: 0px;  --dp-calendar-event-bar-bottom: 0px;  --dp-calendar-event-bar-top: 0px;  --dp-calendar-event-bar-display: block;  --dp-calendar-event-padding: 2px;  --dp-calendar-event-padding-left: 8px;  --dp-calendar-message-bg-color: #ffa216;  --dp-calendar-message-color: #ffffff;  --dp-calendar-message-padding: 10px;  --dp-calendar-message-opacity: 0.9;  --dp-calendar-selected-event-bg-color: #ddd;  --dp-calendar-shadow-color: #bbbbbb;  --dp-calendar-shadow-border-color: #888888;  --dp-calendar-forbidden-shadow-border-color: #cc0000;  --dp-calendar-forbidden-shadow-bg-color: #cc4125;  --dp-calendar-now-indicator-color: red;  --dp-calendar-scroll-bg-color: #f3f3f3;"),l.add(".calendar_default_main *, .calendar_default_main *:before, .calendar_default_main *:after","box-sizing: content-box;"),l.add(".calendar_default_main","border:1px solid var(--dp-calendar-border-color); font-family:var(--dp-calendar-font-family); font-size:var(--dp-calendar-font-size);"),l.add(".calendar_default_rowheader_inner, .calendar_default_cornerright_inner, .calendar_default_corner_inner, .calendar_default_colheader_inner, .calendar_default_alldayheader_inner","color: var(--dp-calendar-header-color); background: var(--dp-calendar-header-bg-color);"),l.add(".calendar_default_colheader_back","background: var(--dp-calendar-header-bg-color); border-bottom: 1px solid red;"),l.add(".calendar_default_colheader_back_inner","position: absolute; inset: 0; border-bottom: 1px solid var(--dp-calendar-border-color);"),l.add(".calendar_default_cornerright_inner","position: absolute; top: 0px; left: 0px; bottom: 0px; right: 0px; border-bottom: 1px solid var(--dp-calendar-border-color);"),l.add(".calendar_default_direction_rtl .calendar_default_cornerright_inner","border-right: 1px solid var(--dp-calendar-border-color);"),l.add(".calendar_default_rowheader_inner","font-size: var(--dp-calendar-rowheader-font-size); text-align: right; position: absolute; top: 0px; left: 0px; bottom: 0px; right: 0px; border-right: 1px solid var(--dp-calendar-border-color); border-bottom: 1px solid var(--dp-calendar-border-color); padding: var(--dp-calendar-rowheader-padding);"),l.add(".calendar_default_rowheader_simple .calendar_default_rowheader_inner","font-size: inherit; display: flex; align-items: center; justify-content: center; white-space: nowrap;"),l.add(".calendar_default_direction_rtl .calendar_default_rowheader_inner","border-right: none;"),l.add(".calendar_default_corner_inner","position: absolute; top: 0px; left: 0px; bottom: 0px; right: 0px; border-right: 1px solid var(--dp-calendar-border-color); border-bottom: 1px solid var(--dp-calendar-border-color);"),l.add(".calendar_default_direction_rtl .calendar_default_corner_inner","border-right: none;"),l.add(".calendar_default_rowheader_minutes","font-size: 10px; vertical-align: super; padding-left: 2px; padding-right: 2px;"),l.add(".calendar_default_colheader_inner","position: absolute; top: 0px; left: 0px; bottom: 0px; right: 0px; padding: var(--dp-calendar-colheader-padding);border-right: 1px solid var(--dp-calendar-border-color); border-bottom: 1px solid var(--dp-calendar-border-color); display: flex; align-items: var(--dp-calendar-colheader-vertical-align); justify-content: var(--dp-calendar-colheader-horizontal-align);"),l.add(".calendar_default_cell_inner","position: absolute; top: 0px; left: 0px; bottom: 0px; right: 0px; border-right: 1px solid var(--dp-calendar-cell-border-color); border-bottom: 1px solid var(--dp-calendar-cell-border-color); background: var(--dp-calendar-cell-bg-color);"),l.add(".calendar_default_cell_business .calendar_default_cell_inner","background: var(--dp-calendar-cell-business-bg-color);"),l.add(".calendar_default_alldayheader_inner","text-align: center; position: absolute; top: 0px; left: 0px; bottom: 0px; right: 0px; border-right: 1px solid var(--dp-calendar-border-color); border-bottom: 1px solid var(--dp-calendar-border-color);"),l.add(".calendar_default_message","opacity: var(--dp-calendar-message-opacity); padding: var(--dp-calendar-message-padding); color: var(--dp-calendar-message-color); background: var(--dp-calendar-message-bg-color);"),l.add(".calendar_default_event_inner","color: var(--dp-calendar-event-color); border: var(--dp-calendar-event-border); border-radius: var(--dp-calendar-event-border-radius); background: var(--dp-calendar-event-background);"),l.add(".calendar_default_alldayevent","box-shadow: var(--dp-calendar-allday-event-box-shadow); border-radius: var(--dp-calendar-allday-event-border-radius);"),l.add(".calendar_default_alldayevent_inner","color: var(--dp-calendar-allday-event-color); border: var(--dp-calendar-allday-event-border); border-radius: var(--dp-calendar-allday-event-border-radius); background: var(--dp-calendar-allday-event-background);"),l.add(".calendar_default_event_bar","display: var(--dp-calendar-event-bar-display); top: var(--dp-calendar-event-bar-top); bottom: var(--dp-calendar-event-bar-bottom); left: var(--dp-calendar-event-bar-left); width: var(--dp-calendar-event-bar-width); background-color: var(--dp-calendar-event-bar-bg-color);"),l.add(".calendar_default_direction_rtl .calendar_default_event_bar","top: 0px; bottom: 0px; right: 0px; width: var(--dp-calendar-event-bar-width); background-color: var(--dp-calendar-event-bar-bg-color);"),l.add(".calendar_default_event_bar_inner","position: absolute; width: var(--dp-calendar-event-bar-width); background-color: var(--dp-calendar-event-bar-color);"),l.add(".calendar_default_selected .calendar_default_event_inner","background: var(--dp-calendar-selected-event-bg-color);"),l.add(".calendar_default_alldayevent_inner","position: absolute; top: 0px; bottom: 0px; left: 0px; right: 0px; overflow: hidden; padding: var(--dp-calendar-allday-event-padding); margin-right: 0px; display: flex; align-items: center; justify-content: var(--dp-calendar-allday-event-horizontal-align);"),l.add(".calendar_default_event_withheader .calendar_default_event_inner","padding-top: 15px;"),l.add(".calendar_default_event","box-shadow: var(--dp-calendar-event-box-shadow); border-radius: var(--dp-calendar-event-border-radius); cursor: default;"),l.add(".calendar_default_event_inner","position: absolute; overflow: hidden; top: 0px; bottom: 0px; left: 0px; right: 0px; padding: var(--dp-calendar-event-padding) var(--dp-calendar-event-padding) var(--dp-calendar-event-padding) var(--dp-calendar-event-padding-left);"),l.add(".calendar_default_direction_rtl .calendar_default_event_inner","padding: 2px 8px 2px 2px;"),l.add(".calendar_default_shadow_inner","box-sizing: border-box; background-color: var(--dp-calendar-shadow-color); border: 1px solid var(--dp-calendar-shadow-border-color); opacity: 0.5; height: 100%;"),l.add(".calendar_default_shadow","box-shadow: 0 2px 5px rgba(0,0,0,0.2);"),l.add(".calendar_default_shadow_forbidden:after","content: ''; position: absolute; top: 5px; left: calc(50% - 10px); border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; background-image: url('data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2720%27 height=%2720%27 viewBox=%270 0 20 20%27%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%279%27 fill=%27%23cc0000aa%27 /%3E%3Cline x1=%275%27 y1=%275%27 x2=%2715%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3Cline x1=%2715%27 y1=%275%27 x2=%275%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3C/svg%3E'); background-repeat: no-repeat; background-position: center; background-size: contain;"),l.add(".calendar_default_shadow_forbidden .calendar_default_shadow_inner","border: 1px solid var(--dp-calendar-forbidden-shadow-border-color); background: var(--dp-calendar-forbidden-shadow-bg-color);"),l.add(".calendar_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; cursor: pointer;"),l.add(".calendar_default_event_delete:hover","opacity: 1; -ms-filter: none;"),l.add(".calendar_default_scroll_up","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAB3RJTUUH2wESDiYcrhwCiQAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAARnQU1BAACxjwv8YQUAAACcSURBVHjaY2AgF9wWsTW6yGMlhi7OhC7AyMDQzMnBXIpFHAFuCtuaMTP+P8nA8P/b1x//FfW/HHuF1UQmxv+NUP1c3OxMVVhNvCVi683E8H8LXOY/w9+fTH81tF8fv4NiIpBRj+YoZtZ/LDUoJmKYhsVUpv0MDiyMDP96sIYV0FS2/8z9ICaLlOhvS4b/jC//MzC8xBG0vJeF7GQBlK0xdiUzCtsAAAAASUVORK5CYII=);"),l.add(".calendar_default_scroll_down","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAACqSURBVChTY7wpam3L9J+xmQEP+PGPKZZxP4MDi4zI78uMDIwa2NT+Z2DYovrmiC+TI8OBP/8ZmEqwGvif4e8vxr+FIDkmEKH25vBWBgbG0+iK/zEwLtF+ffwOXCGI8Y+BoRFFIdC030x/WmBiYBNhpgLdswNJ8RSYaSgmgk39z1gPUfj/29ef/9rwhQTDHRHbrbdEbLvRFcGthkkAra/9/uMvhkK8piNLAgCRpTnNn4AEmAAAAABJRU5ErkJggg==);"),l.add(".calendar_default_now","background-color: var(--dp-calendar-now-indicator-color);"),l.add(".calendar_default_now:before","content: ''; top: -5px; border-width: 5px; border-color: transparent transparent transparent var(--dp-calendar-now-indicator-color); border-style: solid; width: 0px; height: 0px; position: absolute; -moz-transform: scale(.9999);"),l.add(".calendar_default_shadow_top","box-sizing: border-box; padding: 2px; border: 1px solid var(--dp-calendar-border-color); background: linear-gradient(to bottom, #ffffff 0%, #eeeeee); pointer-events: none;"),l.add(".calendar_default_shadow_bottom","box-sizing: border-box; padding: 2px; border: 1px solid var(--dp-calendar-border-color); background: linear-gradient(to bottom, #ffffff 0%, #eeeeee); pointer-events: none;"),l.add(".calendar_default_crosshair_vertical, .calendar_default_crosshair_horizontal, .calendar_default_crosshair_left, .calendar_default_crosshair_top","background-color: gray; opacity: 0.2;"),l.add(".calendar_default_loading","background-color: orange; color: white; padding: 2px;"),l.add(".calendar_default_scroll","background-color: var(--dp-calendar-header-bg-color);"),l.add(".calendar_default_event_moving_source","opacity: 0.5;"),l.add(".calendar_default_colmove_handle","background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),l.add(".calendar_default_colheader:hover .calendar_default_colheader_splitter","background-color: #c0c0c0;"),l.add(".calendar_default_colmove_source","background-color: black; opacity: 0.5;"),l.add(".calendar_default_colmove_position_before","box-sizing: border-box; border-left: 2px solid #999999;"),l.add(".calendar_default_colmove_position_before:before","content: ''; border-width: 6px; border-color: transparent #999999 transparent transparent; border-style: solid; width: 0px; height: 0px; position: absolute;"),l.add(".calendar_default_colmove_position_after","box-sizing: border-box; border-right: 2px solid #999999;"),l.add(".calendar_default_colmove_position_after:before","content: ''; border-width: 6px; border-color: transparent transparent transparent #999999; border-style: solid; width: 0px; height: 0px; position: absolute;"),l.add(".calendar_default_colmove_position_child","box-sizing: border-box; border-bottom: 2px solid #999999;"),l.add(".calendar_default_colmove_position_child:before","content: ''; border-width: 6px; border-color: #999999 transparent transparent transparent; border-style: solid; width: 0px; height: 0px; position: absolute;"),l.add(".calendar_default_colmove_position_forbidden","border-top: 2px solid red;"),l.add(".calendar_default_colheader .calendar_default_colheader_splitter:hover","background-color: #999999;"),l.add(".calendar_default_block","background-color: #808080; opacity: 0.5;"),l.add(".month_default_main","  --dp-month-border-color: #c0c0c0;  --dp-month-font-family: -apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;  --dp-month-font-size: 13px;  --dp-month-cell-border-color: #ddd;  --dp-month-cell-bg-color: #f9f9f9;  --dp-month-cell-business-bg-color: #ffffff;  --dp-month-event-color: #333;  --dp-month-event-border-color: #999;  --dp-month-event-border: 1px solid var(--dp-month-event-border-color);  --dp-month-event-bg-top-color: #ffffff;  --dp-month-event-bg-bottom-color: #eeeeee;  --dp-month-event-background: linear-gradient(to bottom, var(--dp-month-event-bg-top-color) 0%, var(--dp-month-event-bg-bottom-color) 100%);  --dp-month-event-horizontal-align: flex-start;  --dp-month-event-vertical-align: center;  --dp-month-event-padding: 2px;  --dp-month-event-padding-left: 10px;  --dp-month-event-padding-rtl: 2px 10px 2px 1px;  --dp-month-event-border-radius: 0px;  --dp-month-event-box-shadow: none;  --dp-month-event-bar-top: 1px;  --dp-month-event-bar-left: 2px;  --dp-month-event-bar-bottom: 1px;  --dp-month-event-bar-width: 6px;  --dp-month-event-bar-color: #1066a8;  --dp-month-event-bar-display: block;  --dp-month-header-bg-color: #f3f3f3;  --dp-month-header-color: #333;  --dp-month-header-horizontal-align: center;  --dp-month-header-vertical-align: center;  --dp-month-header-padding: 0px;  --dp-month-message-bg-color: #ffa216;  --dp-month-message-color: #ffffff;  --dp-month-message-padding: 10px;  --dp-month-selected-event-bg-color: #ddd;  --dp-month-shadow-color: #bbbbbb;  --dp-month-shadow-border-color: #888888;"),l.add(".month_default_main *, .month_default_main *:before, .month_default_main *:after","box-sizing: content-box; "),l.add(".month_default_main","border: 1px solid var(--dp-month-border-color); font-family: var(--dp-month-font-family); font-size: var(--dp-month-font-size); color: #333; "),l.add(".month_default_cell_inner","border-right: 1px solid var(--dp-month-cell-border-color); border-bottom: 1px solid var(--dp-month-cell-border-color); position: absolute; top: 0; left: 0; bottom: 0; right: 0; background-color: var(--dp-month-cell-bg-color); "),l.add(".month_default_cell_business .month_default_cell_inner","background-color: var(--dp-month-cell-business-bg-color); "),l.add(".month_default_cell_header","text-align: right; padding: 4px; box-sizing: border-box; "),l.add(".month_default_header_inner","position: absolute; inset: 0; border-right: 1px solid var(--dp-month-border-color); border-bottom: 1px solid var(--dp-month-border-color); cursor: default; color: var(--dp-month-header-color); background: var(--dp-month-header-bg-color); overflow: hidden; display: flex; align-items: var(--dp-month-header-vertical-align); justify-content: var(--dp-month-header-horizontal-align); padding: var(--dp-month-header-padding);"),l.add(".month_default_message","opacity: 0.9; color: var(--dp-month-message-color); background: var(--dp-month-message-bg-color); padding: var(--dp-month-message-padding); "),l.add(".month_default_event","border-radius: var(--dp-month-event-border-radius); box-shadow: var(--dp-month-event-box-shadow); "),l.add(".month_default_event_inner","position: absolute; top: 0; bottom: 0; left: 1px; right: 1px; overflow: hidden; padding: var(--dp-month-event-padding) var(--dp-month-event-padding) var(--dp-month-event-padding) var(--dp-month-event-padding-left); color: var(--dp-month-event-color); background: var(--dp-month-event-background); border: var(--dp-month-event-border); border-radius: var(--dp-month-event-border-radius); display: flex; align-items: var(--dp-month-event-vertical-align); justify-content: var(--dp-month-event-horizontal-align); "),l.add(".month_default_direction_rtl .month_default_event_inner","right: 2px; padding: var(--dp-month-event-padding-rtl); "),l.add(".month_default_event_continueright .month_default_event_inner","border-top-right-radius: 0; border-bottom-right-radius: 0; border-right-style: dotted; "),l.add(".month_default_event_continueleft .month_default_event_inner","border-top-left-radius: 0; border-bottom-left-radius: 0; border-left-style: dotted; "),l.add(".month_default_event_bar","display: var(--dp-month-event-bar-display); top: var(--dp-month-event-bar-top); bottom: var(--dp-month-event-bar-bottom); left: var(--dp-month-event-bar-left); width: var(--dp-month-event-bar-width); "),l.add(".month_default_direction_rtl .month_default_event_bar","top: 1px; bottom: 1px; right: 3px; width: var(--dp-month-event-bar-width); "),l.add(".month_default_event_bar_inner","position: absolute; width: var(--dp-month-event-bar-width); background-color: var(--dp-month-event-bar-color); "),l.add(".month_default_event_continueleft .month_default_event_bar","display: none; "),l.add(".month_default_selected .month_default_event_inner","background: var(--dp-month-selected-event-bg-color); "),l.add(".month_default_shadow_inner","box-sizing: border-box; background-color: var(--dp-month-shadow-color); border: 1px solid var(--dp-month-shadow-border-color); opacity: 0.5; height: 100%; "),l.add(".month_default_shadow","box-shadow: 0 2px 5px rgba(0, 0, 0, .2); "),l.add(".month_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; cursor: pointer; "),l.add(".month_default_event_delete:hover","opacity: 1; "),l.add(".month_default_event_timeleft","color: #ccc; font-size: 11px; display: flex; align-items: center; "),l.add(".month_default_event_timeright","color: #ccc; font-size: 11px; display: flex; align-items: center; justify-content: end; "),l.add(".month_default_loading","background-color: orange; color: white; padding: 2px; "),l.add(".month_default_shadow_forbidden:after","content: ''; position: absolute; top: calc(50% - 10px); left: 10px; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; background-image: url('data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2720%27 height=%2720%27 viewBox=%270 0 20 20%27%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%279%27 fill=%27%23cc0000aa%27 /%3E%3Cline x1=%275%27 y1=%275%27 x2=%2715%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3Cline x1=%2715%27 y1=%275%27 x2=%275%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3C/svg%3E'); background-repeat: no-repeat; background-position: center; background-size: contain; "),l.add(".month_default_shadow_forbidden .month_default_shadow_inner","border: 1px solid #cc0000; background: #cc4125; "),l.add(".navigator_default_main","  --dp-nav-border-color: #c0c0c0;  --dp-nav-font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;  --dp-nav-font-size: 12px;  --dp-nav-title-color: #333;  --dp-nav-title-bg-color: #f3f3f3;  --dp-nav-dayheader-color: #333;  --dp-nav-dayheader-bg-color: #ffffff;  --dp-nav-weeknumber-color: #999;  --dp-nav-weeknumber-bg-color: #ffffff;  --dp-nav-day-color: #000;  --dp-nav-day-bg-color: #ffffff;  --dp-nav-dayother-color: gray;  --dp-nav-dayother-bg-color: #ffffff;  --dp-nav-weekend-bg-color: #f0f0f0;  --dp-nav-select-bg-color: #FFE794;  --dp-nav-text-align: center;"),l.add(".navigator_default_main *, .navigator_default_main *:before, .navigator_default_main *:after","box-sizing: content-box;"),l.add(".navigator_default_main","border-left: 1px solid var(--dp-nav-border-color);border-right: 1px solid var(--dp-nav-border-color);border-bottom: 1px solid var(--dp-nav-border-color);background-color: white;color: var(--dp-nav-day-color);box-sizing: content-box;"),l.add(".navigator_default_month","font-family: var(--dp-nav-font-family);font-size: var(--dp-nav-font-size);"),l.add(".navigator_default_day","color: var(--dp-nav-day-color); background-color: var(--dp-nav-day-bg-color);"),l.add(".navigator_default_weekend","background-color: var(--dp-nav-weekend-bg-color);"),l.add(".navigator_default_dayheader","color: var(--dp-nav-dayheader-color);background-color: var(--dp-nav-dayheader-bg-color);text-align: var(--dp-nav-text-align);padding: 0px;"),l.add(".navigator_default_line","border-bottom: 1px solid var(--dp-nav-border-color);"),l.add(".navigator_default_dayother","color: var(--dp-nav-dayother-color); background-color: var(--dp-nav-dayother-bg-color);"),l.add(".navigator_default_todaybox","border: 1px solid red;"),l.add(".navigator_default_title, .navigator_default_titleleft, .navigator_default_titleright","box-sizing: border-box; border-top: 1px solid var(--dp-nav-border-color);border-bottom: 1px solid var(--dp-nav-border-color);color: var(--dp-nav-title-color);background: var(--dp-nav-title-bg-color);text-align: var(--dp-nav-text-align);"),l.add(".navigator_default_busy","font-weight: bold;"),l.add(".navigator_default_cell","text-align: var(--dp-nav-text-align);"),l.add(".navigator_default_select .navigator_default_cell_box","background-color: var(--dp-nav-select-bg-color);opacity: 0.5;"),l.add(".navigator_default_weeknumber","text-align: var(--dp-nav-text-align);color: var(--dp-nav-weeknumber-color);background: var(--dp-nav-weeknumber-bg-color);"),l.add(".navigator_default_cell_text","cursor: pointer;"),l.add(".navigator_default_todaysection","box-sizing: border-box; display: flex; align-items: center; justify-content: center; border-top: 1px solid var(--dp-nav-border-color);"),l.add(".navigator_default_todaysection_button","cursor: pointer; color: #333; background-color: #f0f0f0; border: 1px solid var(--dp-nav-border-color); padding: 5px 10px; border-radius: 0px; "),l.add(".scheduler_default_main",'  --dp-scheduler-border-color: #c0c0c0;  --dp-scheduler-border-inner-color: #e0e0e0;  --dp-scheduler-cell-bg-color: #f9f9f9;  --dp-scheduler-cell-business-bg-color: #ffffff;  --dp-scheduler-event-background: linear-gradient(to bottom, var(--dp-scheduler-event-bg-top-color) 0%, var(--dp-scheduler-event-bg-bottom-color) 100%);  --dp-scheduler-event-bg-bottom-color: #eeeeee;  --dp-scheduler-event-bg-top-color: #ffffff;  --dp-scheduler-event-bar-bg-color: #9dc8e8;  --dp-scheduler-event-bar-color: #1066a8;  --dp-scheduler-event-bar-display: block;  --dp-scheduler-event-bar-height: 4px;  --dp-scheduler-event-bar-left: 0px;  --dp-scheduler-event-bar-right: 0px;  --dp-scheduler-event-bar-top: 0px;  --dp-scheduler-event-border: 1px solid var(--dp-scheduler-event-border-color);  --dp-scheduler-event-border-color: #ccc;  --dp-scheduler-event-border-radius: 0px;  --dp-scheduler-event-box-shadow: none;  --dp-scheduler-event-color: #333;  --dp-scheduler-event-horizontal-align: flex-start;  --dp-scheduler-event-milestone-color: #38761d;  --dp-scheduler-event-padding: 2px;  --dp-scheduler-event-selected-bg-color: #ddd;  --dp-scheduler-event-vertical-align: center;  --dp-scheduler-focus-outline-color: red;  --dp-scheduler-font-family: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;  --dp-scheduler-font-size: 13px;  --dp-scheduler-grid-line-break-color: #999;  --dp-scheduler-grid-line-color: #eee;  --dp-scheduler-header-bg-color: #f3f3f3;  --dp-scheduler-header-color: #333;  --dp-scheduler-link-color: #cc0000;  --dp-scheduler-message-bg-color: #ffa216;  --dp-scheduler-message-color: #ffffff;  --dp-scheduler-message-padding: 10px;  --dp-scheduler-rowheader-padding: 7px;  --dp-scheduler-rowheader-vertical-align: center;  --dp-scheduler-selectionrectangle-color: #1066a8;  --dp-scheduler-shadow-border-color: #888888;  --dp-scheduler-shadow-color: #bbbbbb;  --dp-scheduler-timeheader-horizontal-align: center;  --dp-scheduler-timeheader-padding: 0px;  --dp-scheduler-timeheader-vertical-align: center;'),l.add(".scheduler_default_main *, .scheduler_default_main *:before, .scheduler_default_main *:after","box-sizing: content-box;"),l.add(".scheduler_default_main, .scheduler_default_main svg text","box-sizing: content-box; border: 1px solid var(--dp-scheduler-border-color); font-family: var(--dp-scheduler-font-family); font-size: var(--dp-scheduler-font-size);"),l.add(".scheduler_default_selected .scheduler_default_event_inner","background: var(--dp-scheduler-event-selected-bg-color);"),l.add(".scheduler_default_timeheader_scroll","background: var(--dp-scheduler-header-bg-color);"),l.add(".scheduler_default_message","opacity: 0.9; padding: var(--dp-scheduler-message-padding); color: var(--dp-scheduler-message-color); background: var(--dp-scheduler-message-bg-color);"),l.add(".scheduler_default_timeheadergroup,.scheduler_default_timeheadercol","color: var(--dp-scheduler-header-color); background: var(--dp-scheduler-header-bg-color);"),l.add(".scheduler_default_rowheader,.scheduler_default_corner","color: var(--dp-scheduler-header-color); background: var(--dp-scheduler-header-bg-color);"),l.add(".scheduler_default_rowheader.scheduler_default_rowheader_selected","background-color: #aaa; background-image: linear-gradient(45deg, rgba(255,255,255,0.2) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0.2) 75%, transparent 75%, transparent); background-size: 20px 20px;"),l.add(".scheduler_default_rowheader_inner","position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; border-right: 1px solid var(--dp-scheduler-border-inner-color); padding: var(--dp-scheduler-rowheader-padding); display: flex; align-items: var(--dp-scheduler-rowheader-vertical-align);"),l.add(".scheduler_default_timeheadergroup_inner, .scheduler_default_timeheadercol_inner","position: absolute; left: 0; right: 0; top: 0; bottom: 0;  border-right: 1px solid var(--dp-scheduler-border-color);"),l.add(".scheduler_default_timeheadergroup_inner","border-bottom: 1px solid var(--dp-scheduler-border-color);"),l.add(".scheduler_default_timeheadergroup_inner, .scheduler_default_timeheadercol_inner, .scheduler_default_timeheader_float","display: flex; align-items: var(--dp-scheduler-timeheader-vertical-align); justify-content: var(--dp-scheduler-timeheader-horizontal-align); padding: var(--dp-scheduler-timeheader-padding);"),l.add(".scheduler_default_divider, .scheduler_default_splitter","background-color: var(--dp-scheduler-border-color);"),l.add(".scheduler_default_divider_horizontal","background-color: var(--dp-scheduler-border-color);"),l.add(".scheduler_default_matrix_vertical_line","background-color: var(--dp-scheduler-grid-line-color);"),l.add(".scheduler_default_matrix_vertical_break","background-color: var(--dp-scheduler-grid-line-break-color);"),l.add(".scheduler_default_matrix_horizontal_line","background-color: var(--dp-scheduler-grid-line-color);"),l.add(".scheduler_default_resourcedivider","background-color: var(--dp-scheduler-border-color);"),l.add(".scheduler_default_shadow_inner","box-sizing: border-box; background-color: var(--dp-scheduler-shadow-color); border: 1px solid var(--dp-scheduler-shadow-border-color); border-radius: var(--dp-scheduler-event-border-radius); opacity: 0.5; height: 100%;"),l.add(".scheduler_default_shadow","box-shadow: 0 2px 5px rgba(0,0,0,.2); border-radius: var(--dp-scheduler-event-border-radius);"),l.add(".scheduler_default_event","font-size: var(--dp-scheduler-font-size); color: var(--dp-scheduler-event-color); border-radius: var(--dp-scheduler-event-border-radius); box-shadow: var(--dp-scheduler-event-box-shadow);"),l.add(".scheduler_default_event_inner","position: absolute; top: 0px; left: 0px; right: 0px; bottom: 0px; border-radius: var(--dp-scheduler-event-border-radius); padding: var(--dp-scheduler-event-padding); overflow: hidden; border: var(--dp-scheduler-event-border); display: flex; align-items: var(--dp-scheduler-event-vertical-align); justify-content: var(--dp-scheduler-event-horizontal-align); background: var(--dp-scheduler-event-background);"),l.add(".scheduler_default_event_bar","display: var(--dp-scheduler-event-bar-display);top: var(--dp-scheduler-event-bar-top); left: var(--dp-scheduler-event-bar-left); right: var(--dp-scheduler-event-bar-right); height: var(--dp-scheduler-event-bar-height); background-color: var(--dp-scheduler-event-bar-bg-color);"),l.add(".scheduler_default_event_bar_inner","position:absolute; height: var(--dp-scheduler-event-bar-height); background-color: var(--dp-scheduler-event-bar-color);"),l.add(".scheduler_default_event_float","display: flex; align-items: center;"),l.add(".scheduler_default_event_float_inner","padding: var(--dp-scheduler-event-padding) var(--dp-scheduler-event-padding) var(--dp-scheduler-event-padding) 8px; position: relative;"),l.add(".scheduler_default_event_float_inner:after",'content:""; border-color: transparent #666 transparent transparent; border-style:solid; border-width:5px; width:0; height:0; position:absolute; top: calc(50% - 5px); left:-4px;'),l.add(".scheduler_default_event_focus","outline: var(--dp-scheduler-focus-outline-color) 2px solid; z-index: 100; opacity: 0.5;"),l.add(".scheduler_default_columnheader_inner","font-weight: bold;"),l.add(".scheduler_default_columnheader_splitter","box-sizing: border-box; border-right: 1px solid var(--dp-scheduler-border-color);"),l.add(".scheduler_default_columnheader_splitter:hover","background-color: var(--dp-scheduler-border-color);"),l.add(".scheduler_default_columnheader_cell_inner","position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; padding: 2px; display: flex; align-items: center;"),l.add(".scheduler_default_cell","background-color: var(--dp-scheduler-cell-bg-color);"),l.add(".scheduler_default_cell.scheduler_default_cell_business","background-color: var(--dp-scheduler-cell-business-bg-color);"),l.add(".scheduler_default_cell.scheduler_default_cell_business.scheduler_default_cell_selected, .scheduler_default_cell.scheduler_default_cell_selected","background-color: #ccc; background-image: linear-gradient(45deg, rgba(255,255,255,0.2) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0.2) 75%, transparent 75%, transparent); background-size: 20px 20px;"),l.add(".scheduler_default_tree_image_no_children",""),l.add(".scheduler_default_tree_image_expand","background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnPjxwYXRoIGQ9J00gMS41IDAuNSBMIDYuNSA1IEwgMS41IDkuNScgc3R5bGU9J2ZpbGw6bm9uZTtzdHJva2U6Izk5OTk5OTtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLWxpbmVjYXA6YnV0dCcgLz48L3N2Zz4=);"),l.add(".scheduler_default_tree_image_collapse","background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMS41IEwgNSA2LjUgTCA5LjUgMS41JyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojOTk5OTk5O3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==);"),l.add(".scheduler_default_event_delete","background: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTInIGhlaWdodD0nMTInIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMC41IEwgMTEuNSAxMS41IE0gMC41IDExLjUgTCAxMS41IDAuNScgc3R5bGU9J2ZpbGw6bm9uZTtzdHJva2U6IzQ2NDY0NjtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLWxpbmVjYXA6YnV0dCcgLz48L3N2Zz4=) no-repeat center center; opacity: 0.6; cursor: pointer;"),l.add(".scheduler_default_event_delete:hover","opacity: 1;"),l.add(".scheduler_default_rowmove_handle","background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),l.add(".scheduler_default_rowmove_source","background-color: black; opacity: 0.2;"),l.add(".scheduler_default_rowmove_position_before, .scheduler_default_rowmove_position_after","background-color: #999; height: 2px;"),l.add(".scheduler_default_rowmove_position_child","margin-left: 20px; background-color: #999; height: 2px;"),l.add(".scheduler_default_rowmove_position_forbidden","background-color: #cc0000; height: 2px; margin-left: 20px;"),l.add(".scheduler_default_link_horizontal","border-bottom-style: solid; border-bottom-color: var(--dp-scheduler-link-color);"),l.add(".scheduler_default_link_vertical","border-right-style: solid; border-right-color: var(--dp-scheduler-link-color);"),l.add(".scheduler_default_link_arrow_right:before","content: ''; border-width: 6px; border-color: transparent transparent transparent var(--dp-scheduler-link-color); border-style: solid; width: 0; height:0; position: absolute;"),l.add(".scheduler_default_link_arrow_left:before","content: ''; border-width: 6px; border-color: transparent var(--dp-scheduler-link-color) transparent transparent; border-style: solid; width: 0; height:0; position: absolute;"),l.add(".scheduler_default_link_arrow_down:before","content: ''; border-width: 6px; border-color: var(--dp-scheduler-link-color) transparent transparent transparent; border-style: solid; width: 0; height:0; position: absolute;"),l.add(".scheduler_default_link_arrow_up:before","content: ''; border-width: 6px; border-color: transparent transparent var(--dp-scheduler-link-color) transparent; border-style: solid; width: 0; height:0; position: absolute;"),l.add(".scheduler_default_link_mshadow.scheduler_default_link_horizontal","border-bottom-color: #aaaaaa;"),l.add(".scheduler_default_link_mshadow.scheduler_default_link_vertical","border-right-color: #aaaaaa;"),l.add(".scheduler_default_link_mshadow.scheduler_default_link_arrow_right:before","border-color: transparent transparent transparent #aaaaaa;"),l.add(".scheduler_default_link_mshadow.scheduler_default_link_arrow_left:before","border-color: transparent #aaaaaa transparent transparent;"),l.add(".scheduler_default_link_mshadow.scheduler_default_link_arrow_down:before","border-color: #aaaaaa transparent transparent transparent;"),l.add(".scheduler_default_link_mshadow.scheduler_default_link_arrow_up:before","border-color: transparent transparent #aaaaaa transparent;"),l.add(".scheduler_default_block","background-color: #808080; opacity: 0.5;"),l.add(".scheduler_default_main .scheduler_default_event_group","box-sizing: border-box; font-size: 13px; color: #666; padding: 2px; overflow:hidden; border:1px solid var(--dp-scheduler-event-border-color); background-color: #fff; display: flex; align-items: center; white-space: nowrap;"),l.add(".scheduler_default_main .scheduler_default_header_icon","box-sizing: border-box; border: 1px solid var(--dp-scheduler-border-color); background-color: var(--dp-scheduler-header-bg-color); color: var(--dp-scheduler-header-color);"),l.add(".scheduler_default_header_icon:hover","background-color: #ccc;"),l.add(".scheduler_default_header_icon_hide:before","content: '\\00AB';"),l.add(".scheduler_default_header_icon_show:before","content: '\\00BB';"),l.add(".scheduler_default_row_new .scheduler_default_rowheader_inner","padding-left: 10px; color: #666; cursor: text; background-position: 0px 50%; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"),l.add(".scheduler_default_row_new .scheduler_default_rowheader_inner:hover","background: white; color: white;"),l.add(".scheduler_default_rowheader textarea","padding: 3px;"),l.add(".scheduler_default_rowheader_scroll","cursor: default; background: var(--dp-scheduler-header-bg-color);"),l.add(".scheduler_default_shadow_forbidden .scheduler_default_shadow_inner, .scheduler_default_shadow_overlap .scheduler_default_shadow_inner","border: 1px solid #cc0000; background: #cc4125;"),l.add(".scheduler_default_event_moving_source","opacity: 0.5;"),l.add(".scheduler_default_linkpoint","background-color: white; border: 1px solid gray; border-radius: 5px;"),l.add(".scheduler_default_linkpoint.scheduler_default_linkpoint_hover","background-color: black;"),l.add(".scheduler_default_event.scheduler_default_event_version .scheduler_default_event_inner","overflow:hidden; background-color: #cfdde8; background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent); background-size: 20px 20px;"),l.add(".scheduler_default_crosshair_vertical, .scheduler_default_crosshair_horizontal, .scheduler_default_crosshair_left, .scheduler_default_crosshair_top","background-color: gray; opacity: 0.2;"),l.add(".scheduler_default_link_dot","border-radius: 10px; background-color: var(--dp-scheduler-link-color);"),l.add(".scheduler_default_task_milestone .scheduler_default_event_inner","position:absolute; top:16%; left:16%; right:16%; bottom:16%; background: var(--dp-scheduler-event-milestone-color); border: 0px none; transform: rotate(45deg); filter: none;"),l.add(".scheduler_default_event_left, .scheduler_default_event_right","white-space: nowrap; color: #666; cursor: default; display: flex; align-items: center;"),l.add(".scheduler_default_main:focus","outline: none;"),l.add(".scheduler_default_cell_focus","outline: var(--dp-scheduler-focus-outline-color) 2px solid; outline-offset: -2px; z-index: 100; opacity: 0.5;"),l.add(".scheduler_default_cell_focus.scheduler_default_cell_focus_top","border-top: 4px solid var(--dp-scheduler-focus-outline-color);"),l.add(".scheduler_default_cell_focus.scheduler_default_cell_focus_bottom","border-bottom: 4px solid var(--dp-scheduler-focus-outline-color);"),l.add(".scheduler_default_selectionrectangle","background-color: var(--dp-scheduler-selectionrectangle-color); border: 1px solid #000033; opacity: 0.4;"),l.add(".scheduler_default_link_shadow","border:1px solid black;"),l.add(".scheduler_default_link_shadow_circle","background-color:black;"),l.add(".scheduler_default_event_move_left","box-sizing: border-box; padding: 2px; border: 1px solid #ccc; background: #fff; background: linear-gradient(to bottom, #ffffff 0%, #eeeeee); display: flex; align-items: center;"),l.add(".scheduler_default_event_move_right","box-sizing: border-box; padding: 2px; border: 1px solid #ccc; background: #fff; background: linear-gradient(to bottom, #ffffff 0%, #eeeeee); display: flex; align-items: center;"),l.add(".scheduler_default_link_hover","box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)"),l.add(".scheduler_default_sorticon","opacity: 0.2;background-position: center center; background-repeat: no-repeat; cursor: pointer;"),l.add(".scheduler_default_sorticon.scheduler_default_sorticon_asc","background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBvbHlnb24gcG9pbnRzPSI1IDEuNSwgMTAgMTAsIDAgMTAiLz48L3N2Zz4=');"),l.add(".scheduler_default_sorticon.scheduler_default_sorticon_desc","background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBvbHlnb24gcG9pbnRzPSI1IDguNSwgMCAwLCAxMCAwIi8+PC9zdmc+');"),l.add(".scheduler_default_sorticon.scheduler_default_sorticon_active","opacity: 1;"),l.add(".scheduler_default_loading","background-color: orange; color: white; padding: 2px;"),l.add(".scheduler_default_link_curve","stroke: var(--dp-scheduler-link-color); fill: none; stroke-width: 2;"),l.add(".scheduler_default_link_curve:hover","stroke-opacity: 0.5;"),l.add(".scheduler_default_link_curve_dot","fill: var(--dp-scheduler-link-color);"),l.add(".scheduler_default_link_curve_marker","fill: var(--dp-scheduler-link-color);"),l.add(".scheduler_default_link_curve_text","fill: var(--dp-scheduler-link-color);"),l.add(".scheduler_default_link_curve_mshadow.scheduler_default_link_curve","stroke: #aaaaaa;"),l.add(".scheduler_default_link_curve_mshadow.scheduler_default_link_curve_dot","fill: #aaaaaa;"),l.add(".scheduler_default_link_curve_mshadow.scheduler_default_link_curve_marker","fill: #aaaaaa;"),l.add(".scheduler_default_link_curve_mshadow.scheduler_default_link_curve_text","fill: #aaaaaa;"),l.commit(),e.Global.defaultCss=!0}}(),e.doc=function(){var l=document.documentElement;return l&&l.clientHeight?l:document.body},e.sh=function(l){return l?l.offsetHeight-l.clientHeight:0},e.guid=function(){var l=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return""+l()+l()+"-"+l()+"-"+l()+"-"+l()+"-"+l()+l()+l()},e.ua=function(l){if(!e.isArray(l))throw new e.Exception("DayPilot.ua() - array required");var c=[];return l.forEach(function(d){e.contains(c,d)||c.push(d)}),c},e.pageOffset=function(){if(typeof pageXOffset<"u")return{x:pageXOffset,y:pageYOffset};var l=e.doc();return{x:l.scrollLeft,y:l.scrollTop}},e.indexOf=function(l,c){if(!l||!l.length)return-1;for(var d=0;d<l.length;d++)if(l[d]===c)return d;return-1},e.contains=function(l,c){if(arguments.length!==2)throw new e.Exception("DayPilot.contains() requires two arguments.");return!!l&&(l===c&&!e.isArray(l)||e.indexOf(l,c)!==-1)},e.ac=function(l,d){if(!d)var d=[];for(var u=0;l.children&&u<l.children.length;u++)d.push(l.children[u]),e.ac(l.children[u],d);return d},e.rfa=function(l,c){var d=e.indexOf(l,c);d!==-1&&l.splice(d,1)},e.mc=function(l){return l.pageX||l.pageY?{x:l.pageX,y:l.pageY}:{x:l.clientX+document.documentElement.scrollLeft,y:l.clientY+document.documentElement.scrollTop}},e.Stats={},e.Stats.eventObjects=0,e.Stats.dateObjects=0,e.Stats.cacheHitsCtor=0,e.Stats.cacheHitsParsing=0,e.Stats.cacheHitsTicks=0,e.re=function(l,c,d){d&&c&&l&&l.addEventListener(c,d,!1)},e.rePassive=function(l,c,d){d&&c&&l&&l.addEventListener(c,d,{passive:!0})},e.reNonPassive=function(l,c,d){d&&c&&l&&l.addEventListener(c,d,{passive:!1})},e.ue=function(l,c,d){l.removeEventListener(c,d,!1)},e.pu=function(l){var c,d,u,i=l.attributes;if(i)for(d=i.length,c=0;c<d;c+=1)i[c]&&(u=i[c].name,typeof l[u]=="function"&&(l[u]=null));if(i=l.childNodes)for(d=i.length,c=0;c<d;c+=1)e.pu(l.childNodes[c])},e.de=function(l){if(l)if(e.isArray(l))for(var c=0;c<l.length;c++)e.de(l[c]);else l.parentNode&&l.parentNode.removeChild(l)},e.sw=function(l){return l?l.offsetWidth-l.clientWidth:0},e.am=function(){return typeof angular>"u"?null:(e.am.cached||(e.am.cached=angular.module("daypilot",[])),e.am.cached)},e.Selection=function(l,c,d,u){this.type="selection",this.start=l.isDayPilotDate?l:new e.Date(l),this.end=c.isDayPilotDate?c:new e.Date(c),this.resource=d,this.root=u,this.toJSON=function(i){var m={};return m.start=this.start,m.end=this.end,m.resource=this.resource,m}},e.request=function(l,c,d,u){var i=e.createXmlHttp();i&&(i.open("POST",l,!0),i.setRequestHeader("Content-type","text/plain"),i.onreadystatechange=function(){if(i.readyState===4)return i.status!==200&&i.status!==304?void(u?u(i):window.console&&console.log("HTTP error "+i.status)):void c(i)},i.readyState!==4&&(typeof d=="object"&&(d=JSON.stringify(d)),i.send(d)))},e.ajax=function(l){if(!l)throw new e.Exception("Parameter object required.");if(typeof l.url!="string")throw new e.Exception("The parameter object must have 'url' property.");var c=e.createXmlHttp();if(!c)throw new e.Exception("Unable to create XMLHttpRequest object");var d=typeof l.data=="object",u=l.data,i=l.method||(l.data?"POST":"GET"),m=l.success||function(){},g=l.error||function(){},x=l.url,v=l.contentType||(d?"application/json":"text/plain"),N=l.headers||{};c.open(i,x,!0),c.setRequestHeader("Content-type",v),e.Util.ownPropsAsArray(N).forEach(function(h){c.setRequestHeader(h.key,h.val)}),c.onreadystatechange=function(){if(c.readyState===4)if(c.status===200||c.status===201||c.status===204||c.status===304){var h={};h.request=c,c.responseText&&(h.data=JSON.parse(c.responseText)),m(h)}else if(g){var h={};h.request=c,g(h)}else window.console&&console.log("HTTP error "+c.status)},c.readyState!==4&&(d&&(u=JSON.stringify(u)),c.send(u))},e.createXmlHttp=function(){return new XMLHttpRequest},e.Http={},e.Http.ajax=function(l){e.ajax(l)},e.Http.get=function(l,c){return c=c||{},new Promise(function(d,u){var i={};i.url=l,i.method="GET",i.success=function(m){d(m)},i.error=function(m){u(m)},i.contentType=c.contentType,i.headers=c.headers,e.ajax(i)})},e.Http.post=function(l,c,d){return d=d||{},new Promise(function(u,i){var m={};m.url=l,m.method="POST",m.data=c,m.success=function(g){u(g)},m.error=function(g){i(g)},m.contentType=d.contentType,m.headers=d.headers,e.ajax(m)})},e.Http.put=function(l,c,d){return d=d||{},new Promise(function(u,i){var m={};m.url=l,m.method="PUT",m.data=c,m.success=function(g){u(g)},m.error=function(g){i(g)},m.contentType=d.contentType,m.headers=d.headers,e.ajax(m)})},e.Http.delete=function(l,c){return c=c||{},new Promise(function(d,u){var i={};i.url=l,i.method="DELETE",i.success=function(m){d(m)},i.error=function(m){u(m)},i.contentType=c.contentType,i.headers=c.headers,e.ajax(i)})},e.Util={},e.Util.addClass=function(l,c){if(l){if(!l.className)return void(l.className=c);new RegExp("(^|\\s)"+c+"($|\\s)").test(l.className)||(l.className=l.className+" "+c)}},e.Util.removeClass=function(l,c){if(l){var d=new RegExp("(^|\\s)"+c+"($|\\s)");l.className=l.className.replace(d," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}},e.Util.copyProps=function(l,c,d){if(c||(c={}),!l)return c;if(typeof d>"u")for(var u in l)l.hasOwnProperty(u)&&typeof l[u]<"u"&&(c[u]=l[u]);else for(var i=0;i<d.length;i++){var u=d[i];typeof l[u]<"u"&&(c[u]=l[u])}return c},e.Util.ownPropsAsArray=function(l){var c=[];if(!l)return c;for(var d in l)if(l.hasOwnProperty(d)){var u={};u.key=d,u.val=l[d],c.push(u)}return c},e.Util.atLeast=function(l,c){return Math.max(l,c)},e.Util.mouseButton=function(l){var c={};switch(l.button){case 0:c.left=!0;break;case 1:c.middle=!0;break;case 2:c.right=!0}return c},e.Util.replaceCharAt=function(l,c,d){return l.substr(0,c)+d+l.substr(c+d.length)},e.Util.isNullOrUndefined=function(l){return l===null||typeof l>"u"},e.Util.escapeHtml=function(l){var c=document.createElement("div");return c.innerText=l,c.innerHTML},e.Util.escapeTextHtml=function(l,c){return e.Util.isNullOrUndefined(c)?e.Util.isNullOrUndefined(l)?"":e.Util.escapeHtml(l):c},e.Util.isSameEvent=function(l,c){return!(!l||!c)&&(l=l instanceof e.Event?l.data:l,c=c instanceof e.Event?c.data:c,l===c||!e.Util.isNullOrUndefined(l.id)&&l.id===c.id)},e.Util.overlaps=function(l,c,d,u){return!(c<=d||l>=u)},e.Util.isVueVNode=function(l){return!!l&&(e.isArray(l)?e.Util.isVueVNode(l[0]):l.__v_isVNode)},e.Util.isMouseEvent=function(l){return!!l&&(l.pointerType==="mouse"||l instanceof MouseEvent)},e.Areas={},e.Areas.attach=function(l,c,u){var u=u||{},i=u.areas,m=u.allowed||function(){return!0},g=u.offsetX||0;i=a(c,i),i&&e.isArray(i)&&i.length!==0&&(e.re(l,"mousemove",function(x){l.active||l.areasDisabled||!m()||e.Areas.showAreas(l,c,x,i,{offsetX:g,eventDiv:u.eventDiv})}),e.re(l,"mouseleave",function(x){e.Areas.hideAreas(l,x)}),i.forEach(function(x){if(e.Areas.isVisible(x)){var v=e.Areas.createArea(l,c,x,{offsetX:g,eventDiv:u.eventDiv});l.appendChild(v)}}))},e.Areas.disable=function(l){l.areasDisabled=!0,Array.from(l.childNodes).filter(function(c){return c.isActiveArea&&!c.area.start}).forEach(function(c){c.c=c.style.display,c.style.display="none"})},e.Areas.enable=function(l){l.areasDisabled=!1,Array.from(l.childNodes).filter(function(c){return c.isActiveArea&&!c.area.start}).forEach(function(c){c.c?c.style.display=c.c:c.style.display=""})},e.Areas.remove=function(l){var c=Array.from(l.childNodes).filter(function(d){return d.isActiveArea});e.de(c)},e.Areas.isVisible=function(l){var c=l.visibility||l.v||"Visible";return c==="Visible"||c==="TouchVisible"&&!e.browser.hover},e.Areas.copy=function(l){return e.isArray(l)?l.map(function(c){return e.Util.copyProps(c,{})}):[]};var a=function(l,c){return e.isArray(c)||(c=l.areas,c||(l.cache?c=l.cache.areas:l.data&&(c=l.data.areas))),c};e.Areas.showAreas=function(l,c,d,u,i){if(!e.Global.resizing&&!e.Global.moving&&!e.Global.selecting&&!l.active&&e.browser.hover){if(e.Areas.all&&e.Areas.all.length>0)for(var m=0;m<e.Areas.all.length;m++){var g=e.Areas.all[m];g!==l&&e.Areas.hideAreas(g,d)}if(l.active={},e.isArray(u)||(u=c.areas,u||(c.cache?u=c.cache.areas:c.data&&(u=c.data.areas))),u&&u.length!==0&&!(l.areas&&l.areas.length>0)){l.areas=[];for(var m=0;m<u.length;m++){var x=u[m];if(!e.Areas.isVisible(x)){var v=e.Areas.createArea(l,c,x,i);l.areas.push(v),l.appendChild(v),e.Areas.all.push(l)}}l.active.children=e.ac(l)}}},e.Areas.createArea=function(l,c,d,v){function i(M,I,L){var B={};return B.area=M,B.source=I,B.originalEvent=L,B.preventDefault=function(){B.preventDefault.value=!0},typeof M.onClick=="function"&&M.onClick(B),B}function m(M,I,L){e.Bubble&&e.Bubble.touchPosition(L),M.calendar.bubble&&M.calendar.bubble.showEvent(M,!0)}function g(M,I,L,B){e.Menu&&e.Menu.touchPosition(B);var U=L.contextMenu||L.menu;if(U instanceof e.Menu||(I.isEvent&&I.client.contextMenu()?U=I.client.contextMenu():I.isEvent&&I.calendar.contextMenu&&(U=I.calendar.contextMenu)),U&&U.show){var F={type:"area",div:M,e:I,area:L,a:h};U.show(I,{initiator:F})}}function x(M){return typeof M=="string"&&isNaN(M)?M:typeof M<"u"?M+"px":void 0}var v=v||{},N=(v.offsetX,v.eventDiv||l),h=document.createElement("div");h.isActiveArea=!0,h.area=d,h.setAttribute("unselectable","on");var y=d.w||d.width,w=d.h||d.height,j=d.cssClass||d.css||d.className;if(typeof d.style<"u"&&h.setAttribute("style",d.style),h.style.position="absolute",h.style.width=x(y),h.style.height=x(w),h.style.right=x(d.right),h.style.top=x(d.top),h.style.left=x(d.left),h.style.bottom=x(d.bottom),h.style.borderRadius=x(d.borderRadius),typeof d.html<"u"||typeof d.text<"u")h.innerHTML=e.Util.escapeTextHtml(d.text,d.html);else if(d.icon){var C=document.createElement("i");C.className=d.icon,h.appendChild(C)}else if(d.image){var _=document.createElement("img");_.src=d.image,h.appendChild(_)}else if(d.symbol){var k="http://www.w3.org/2000/svg",A=document.createElementNS(k,"svg");A.setAttribute("width","100%"),A.setAttribute("height","100%");var T=document.createElementNS(k,"use");T.setAttribute("href",d.symbol),A.appendChild(T),h.appendChild(A)}if(j&&(h.className=j),d.toolTip&&h.setAttribute("title",d.toolTip),d.backColor&&(h.style.background=d.backColor),d.background&&(h.style.background=d.background),d.fontColor&&(h.style.color=d.fontColor),d.padding&&(h.style.padding=d.padding+"px",h.style.boxSizing="border-box"),d.borderColor){const M=d.borders;M?(M.top&&(h.style.borderTop="1px solid "+d.borderColor),M.right&&(h.style.borderRight="1px solid "+d.borderColor),M.bottom&&(h.style.borderBottom="1px solid "+d.borderColor),M.left&&(h.style.borderLeft="1px solid "+d.borderColor)):h.style.border="1px solid "+d.borderColor,h.style.boxSizing="border-box"}if(d.verticalAlignment)switch(h.style.display="flex",d.verticalAlignment){case"center":h.style.alignItems="center";break;case"top":h.style.alignItems="flex-start";break;case"bottom":h.style.alignItems="flex-end"}if(d.horizontalAlignment)switch(h.style.display="flex",d.horizontalAlignment){case"right":h.style.justifyContent="flex-end";break;case"left":h.style.justifyContent="flex-start";break;case"center":h.style.justifyContent="center"}if(d.action==="ResizeEnd"||d.action==="ResizeStart"||d.action==="Move"){if(c.calendar.isCalendar)switch(d.action){case"ResizeEnd":d.cursor="s-resize",d.dpBorder="bottom";break;case"ResizeStart":d.cursor="n-resize",d.dpBorder="top";break;case"Move":d.cursor="move"}if(c.calendar.isScheduler||c.calendar.isMonth)switch(d.action){case"ResizeEnd":d.cursor="e-resize",d.dpBorder="right";break;case"ResizeStart":d.cursor="w-resize",d.dpBorder="left";break;case"Move":d.cursor="move"}h.onmousemove=function(M,I,L){return function(B){I.calendar.internal&&I.calendar.internal.dragInProgress&&I.calendar.internal.dragInProgress()||(B.cancelBubble=!0,M.style.cursor=L.cursor,L.dpBorder&&(M.dpBorder=L.dpBorder))}}(N,c,d),h.onmouseout=function(M,I,L){return function(B){M.style.cursor=""}}(N)}if((d.action==="ResizeEnd"||d.action==="ResizeStart")&&c.isEvent&&c.calendar.internal.touch){var R=function(M,I,L){return function(B){B.cancelBubble=!0;var U=I.calendar.internal.touch,F=B.touches?B.touches[0]:B,H={x:F.pageX,y:F.pageY};I.calendar.coords=U.relativeCoords(B),U.preventEventTap=!0,I.calendar.isScheduler?U.startResizing(M,L.action==="ResizeEnd"?"right":"left"):I.calendar.isCalendar&&U.startResizing(M,L.action==="ResizeEnd"?"bottom":"top",H)}}(N,c,d);e.rePassive(h,e.touch.start,R)}if(d.action==="ContextMenu"&&c.isEvent&&c.calendar.internal.touch){var R=function(I,L,B){return function(U){U.cancelBubble=!0,U.preventDefault(),g(I,L,B,U),L.calendar.internal.touch.preventEventTap=!0}}(N,c,d),P=function(I,L,B){return function(U){U.cancelBubble=!0,U.preventDefault()}}();e.reNonPassive(h,e.touch.start,R),e.reNonPassive(h,e.touch.end,P)}if(d.action==="Bubble"&&c.isEvent&&c.calendar.internal.touch){var R=function(L,B,U){return function(F){F.cancelBubble=!0,F.preventDefault();var H=i(U,B,F);H.preventDefault.value||(m(B,U,F),B.calendar.internal.touch.preventEventTap=!0,typeof U.onClicked=="function"&&U.onClicked(H))}}(N,c,d),P=function(L,B,U){return function(F){F.cancelBubble=!0,F.preventDefault()}}();e.reNonPassive(h,e.touch.start,R),e.reNonPassive(h,e.touch.end,P)}if(d.action==="Move"&&c.isEvent&&c.calendar.internal.touch){var R=function(I,L,B){return function(U){U.cancelBubble=!0;var F=L.calendar.internal.touch,H=U.touches?U.touches[0]:U,W={x:H.pageX,y:H.pageY};L.calendar.coords=F.relativeCoords(U),e.Global&&e.Global.touch&&(e.Global.touch.active=!0),F.preventEventTap=!0,F.startMoving(I,W)}}(N,c);e.rePassive(h,e.touch.start,R)}if(d.action==="Bubble"&&c.isEvent?(h.onmousemove=function(M,I,L){return function(B){L.bubble?L.bubble.showEvent(I,!0):I.calendar.bubble&&I.calendar.bubble.showEvent(I,!0)}}(l,c,d),h.onmouseout=function(M,I,L){return function(B){typeof e.Bubble<"u"&&(L.bubble?L.bubble.hideOnMouseOut():I.calendar.bubble&&I.calendar.bubble.hideOnMouseOut())}}(l,c,d)):d.action==="Bubble"&&c.isRow?(h.onmousemove=function(M,I,L){return function(B){L.bubble?L.bubble.showResource(I,!0):I.calendar.resourceBubble&&I.calendar.resourceBubble.showResource(I,!0)}}(l,c,d),h.onmouseout=function(M,I,L){return function(B){typeof e.Bubble<"u"&&(L.bubble?L.bubble.hideOnMouseOut():I.calendar.resourceBubble&&I.calendar.resourceBubble.hideOnMouseOut())}}(l,c,d)):d.action==="Bubble"&&typeof e.Bubble<"u"&&d.bubble instanceof e.Bubble&&(h.onmousemove=function(M,I,L){return function(B){L.bubble.showHtml(null,null)}}(l,c,d),h.onmouseout=function(M,I,L){return function(B){typeof e.Bubble<"u"&&L.bubble&&L.bubble.hideOnMouseOut()}}(l,c,d)),d.action==="HoverMenu"&&(h.onmousemove=function(M,I,L){return function(B){var U=L.menu;U&&U.show&&(U.visible?U.source&&typeof U.source.id<"u"&&U.source.id!==I.id&&U.show(I):U.show(I),U.cancelHideTimeout())}}(l,c,d),h.onmouseout=function(M,I,L){return function(B){var U=L.menu;U&&U.hideOnMouseOver&&U.delayedHide()}}(l,c,d)),d.action==="None"){var R=function(I,L,B){return function(U){var F=i(B,L,U);typeof B.onClicked=="function"&&B.onClicked(F),U.preventDefault(),U.stopPropagation()}}(N,c,d);e.reNonPassive(h,e.touch.start,R)}return h.onmousedown=function(M,I,L){return function(B){if(typeof L.onmousedown=="function"&&L.onmousedown(B),typeof L.mousedown=="function"){var U={};U.area=L,U.div=M,U.originalEvent=B,U.source=I,L.mousedown(U)}if(L.action==="Move"&&I.isRow){var F=I.$.row;(0,I.calendar.internal.rowStartMoving)(F)}typeof e.Bubble<"u"&&e.Bubble.hideActive(),L.action==="Move"&&(e.Global.movingAreaData=L.data),L.action==="Move"&&I.isEvent&&I.calendar.internal&&I.calendar.internal.startMoving&&I.calendar.internal.startMoving(M,B),L.action!=="Move"&&L.action!=="ResizeEnd"&&L.action!=="ResizeStart"&&L.action&&L.action!=="Default"&&(B.preventDefault(),B.cancelBubble=!0)}}(l,c,d),h.onclick=function(M,I,L){return function(B){var U=i(L,I,B);if(!U.preventDefault.value){switch(L.action){case"ContextMenu":g(M,I,L,B),B.cancelBubble=!0;break;case"None":B.cancelBubble=!0}typeof L.onClicked=="function"&&L.onClicked(U)}}}(l,c,d),typeof d.onMouseEnter=="function"&&h.addEventListener("mouseenter",function(M,I,L){return function(B){var U={};U.area=L,U.source=I,U.originalEvent=B,L.onMouseEnter(U)}}(l,c,d)),typeof d.onMouseLeave=="function"&&h.addEventListener("mouseleave",function(M,I,L){return function(B){var U={};U.area=L,U.source=I,U.originalEvent=B,L.onMouseLeave(U)}}(l,c,d)),h},e.Areas.all=[],e.Areas.hideAreas=function(l,c){if(l&&l&&l.active){var d=l.active,u=l.areas;if(d&&d.children&&c){var i=c.toElement||c.relatedTarget;if(~e.indexOf(d.children,i))return}if(!u||u.length===0)return void(l.active=null);e.de(u),l.active=null,l.areas=[],e.rfa(e.Areas.all,l),d.children=null}},e.Areas.hideAll=function(l){if(e.Areas.all&&e.Areas.all.length!==0)for(var c=0;c<e.Areas.all.length;c++)e.Areas.hideAreas(e.Areas.all[c],l)},e.Exception=function(l){return new Error(l)},e.Locale=function(l,c){if(this.id=l,this.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],this.dayNamesShort=["Su","Mo","Tu","We","Th","Fr","Sa"],this.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],this.datePattern="M/d/yyyy",this.timePattern="H:mm",this.dateTimePattern="M/d/yyyy H:mm",this.timeFormat="Clock12Hours",this.weekStarts=0,c)for(var d in c)this[d]=c[d]},e.Locale.all={},e.Locale.find=function(l){if(!l)return null;var c=l.toLowerCase();return c.length>2&&(c=e.Util.replaceCharAt(c,2,"-")),e.Locale.all[c]},e.Locale.register=function(l){e.Locale.all[l.id]=l},e.Locale.register(new e.Locale("ca-es",{dayNames:["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],dayNamesShort:["dg","dl","dt","dc","dj","dv","ds"],monthNames:["gener","febrer","març","abril","maig","juny","juliol","agost","setembre","octubre","novembre","desembre",""],monthNamesShort:["gen.","febr.","març","abr.","maig","juny","jul.","ag.","set.","oct.","nov.","des.",""],timePattern:"H:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("cs-cz",{dayNames:["neděle","pondělí","úterý","středa","čtvrtek","pátek","sobota"],dayNamesShort:["ne","po","út","st","čt","pá","so"],monthNames:["leden","únor","březen","duben","květen","červen","červenec","srpen","září","říjen","listopad","prosinec",""],monthNamesShort:["I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII",""],timePattern:"H:mm",datePattern:"d. M. yyyy",dateTimePattern:"d. M. yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("da-dk",{dayNames:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"],dayNamesShort:["sø","ma","ti","on","to","fr","lø"],monthNames:["januar","februar","marts","april","maj","juni","juli","august","september","oktober","november","december",""],monthNamesShort:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"HH:mm",datePattern:"dd-MM-yyyy",dateTimePattern:"dd-MM-yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("de-at",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Jänner","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["Jän","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("de-ch",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("de-de",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("de-lu",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("en-au",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"h:mm tt",datePattern:"d/MM/yyyy",dateTimePattern:"d/MM/yyyy h:mm tt",timeFormat:"Clock12Hours",weekStarts:1})),e.Locale.register(new e.Locale("en-ca",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"h:mm tt",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd h:mm tt",timeFormat:"Clock12Hours",weekStarts:0})),e.Locale.register(new e.Locale("en-gb",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("en-us",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"h:mm tt",datePattern:"M/d/yyyy",dateTimePattern:"M/d/yyyy h:mm tt",timeFormat:"Clock12Hours",weekStarts:0})),e.Locale.register(new e.Locale("es-es",{dayNames:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],dayNamesShort:["D","L","M","X","J","V","S"],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],monthNamesShort:["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic.",""],timePattern:"H:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("es-mx",{dayNames:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],dayNamesShort:["do.","lu.","ma.","mi.","ju.","vi.","sá."],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],monthNamesShort:["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic.",""],timePattern:"hh:mm tt",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy hh:mm tt",timeFormat:"Clock12Hours",weekStarts:0})),e.Locale.register(new e.Locale("eu-es",{dayNames:["igandea","astelehena","asteartea","asteazkena","osteguna","ostirala","larunbata"],dayNamesShort:["ig","al","as","az","og","or","lr"],monthNames:["urtarrila","otsaila","martxoa","apirila","maiatza","ekaina","uztaila","abuztua","iraila","urria","azaroa","abendua",""],monthNamesShort:["urt.","ots.","mar.","api.","mai.","eka.","uzt.","abu.","ira.","urr.","aza.","abe.",""],timePattern:"H:mm",datePattern:"yyyy/MM/dd",dateTimePattern:"yyyy/MM/dd H:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("fi-fi",{dayNames:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"],dayNamesShort:["su","ma","ti","ke","to","pe","la"],monthNames:["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","kesäkuu","heinäkuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu",""],monthNamesShort:["tammi","helmi","maalis","huhti","touko","kesä","heinä","elo","syys","loka","marras","joulu",""],timePattern:"H:mm",datePattern:"d.M.yyyy",dateTimePattern:"d.M.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("fr-be",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre",""],monthNamesShort:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc.",""],timePattern:"HH:mm",datePattern:"dd-MM-yy",dateTimePattern:"dd-MM-yy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("fr-ca",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre",""],monthNamesShort:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc.",""],timePattern:"HH:mm",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd HH:mm",timeFormat:"Clock24Hours",weekStarts:0})),e.Locale.register(new e.Locale("fr-ch",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre",""],monthNamesShort:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc.",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("fr-fr",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre",""],monthNamesShort:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc.",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("fr-lu",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre",""],monthNamesShort:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc.",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("gl-es",{dayNames:["domingo","luns","martes","mércores","xoves","venres","sábado"],dayNamesShort:["do","lu","ma","mé","xo","ve","sá"],monthNames:["xaneiro","febreiro","marzo","abril","maio","xuño","xullo","agosto","setembro","outubro","novembro","decembro",""],monthNamesShort:["xan","feb","mar","abr","maio","xuño","xul","ago","set","out","nov","dec",""],timePattern:"H:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("it-it",{dayNames:["domenica","lunedì","martedì","mercoledì","giovedì","venerdì","sabato"],dayNamesShort:["do","lu","ma","me","gi","ve","sa"],monthNames:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre",""],monthNamesShort:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("it-ch",{dayNames:["domenica","lunedì","martedì","mercoledì","giovedì","venerdì","sabato"],dayNamesShort:["do","lu","ma","me","gi","ve","sa"],monthNames:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre",""],monthNamesShort:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("ja-jp",{dayNames:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],dayNamesShort:["日","月","火","水","木","金","土"],monthNames:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月",""],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12",""],timePattern:"H:mm",datePattern:"yyyy/MM/dd",dateTimePattern:"yyyy/MM/dd H:mm",timeFormat:"Clock24Hours",weekStarts:0})),e.Locale.register(new e.Locale("ko-kr",{dayNames:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],dayNamesShort:["일","월","화","수","목","금","토"],monthNames:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월",""],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12",""],timePattern:"tt h:mm",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd tt h:mm",timeFormat:"Clock12Hours",weekStarts:0})),e.Locale.register(new e.Locale("nb-no",{dayNames:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"],dayNamesShort:["sø","ma","ti","on","to","fr","lø"],monthNames:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember",""],monthNamesShort:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("nl-nl",{dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zo","ma","di","wo","do","vr","za"],monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december",""],monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"HH:mm",datePattern:"d-M-yyyy",dateTimePattern:"d-M-yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("nl-be",{dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zo","ma","di","wo","do","vr","za"],monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december",""],monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"H:mm",datePattern:"d/MM/yyyy",dateTimePattern:"d/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("nn-no",{dayNames:["søndag","måndag","tysdag","onsdag","torsdag","fredag","laurdag"],dayNamesShort:["sø","må","ty","on","to","fr","la"],monthNames:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember",""],monthNamesShort:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("pt-br",{dayNames:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"],dayNamesShort:["D","S","T","Q","Q","S","S"],monthNames:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro",""],monthNamesShort:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:0})),e.Locale.register(new e.Locale("pl-pl",{dayNames:["niedziela","poniedziałek","wtorek","środa","czwartek","piątek","sobota"],dayNamesShort:["N","Pn","Wt","Śr","Cz","Pt","So"],monthNames:["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień",""],monthNamesShort:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","paź","lis","gru",""],timePattern:"HH:mm",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("pt-pt",{dayNames:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"],dayNamesShort:["D","S","T","Q","Q","S","S"],monthNames:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro",""],monthNamesShort:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:0})),e.Locale.register(new e.Locale("ro-ro",{dayNames:["duminică","luni","marți","miercuri","joi","vineri","sâmbătă"],dayNamesShort:["D","L","Ma","Mi","J","V","S"],monthNames:["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie",""],monthNamesShort:["ian.","feb.","mar.","apr.","mai.","iun.","iul.","aug.","sep.","oct.","nov.","dec.",""],timePattern:"H:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("ru-ru",{dayNames:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],dayNamesShort:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь",""],monthNamesShort:["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек",""],timePattern:"H:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("sk-sk",{dayNames:["nedeľa","pondelok","utorok","streda","štvrtok","piatok","sobota"],dayNamesShort:["ne","po","ut","st","št","pi","so"],monthNames:["január","február","marec","apríl","máj","jún","júl","august","september","október","november","december",""],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12",""],timePattern:"H:mm",datePattern:"d.M.yyyy",dateTimePattern:"d.M.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("sv-se",{dayNames:["söndag","måndag","tisdag","onsdag","torsdag","fredag","lördag"],dayNamesShort:["sö","må","ti","on","to","fr","lö"],monthNames:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december",""],monthNamesShort:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"HH:mm",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("tr-tr",{dayNames:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"],dayNamesShort:["Pz","Pt","Sa","Ça","Pe","Cu","Ct"],monthNames:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık",""],monthNamesShort:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara",""],timePattern:"HH:mm",datePattern:"d.M.yyyy",dateTimePattern:"d.M.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("uk-ua",{dayNames:["неділя","понеділок","вівторок","середа","четвер","п'ятниця","субота"],dayNamesShort:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"],monthNames:["січень","лютий","березень","квітень","травень","червень","липень","серпень","вересень","жовтень","листопад","грудень",""],monthNamesShort:["Січ","Лют","Бер","Кві","Тра","Чер","Лип","Сер","Вер","Жов","Лис","Гру",""],timePattern:"H:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("zh-cn",{dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayNamesShort:["日","一","二","三","四","五","六"],monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月",""],monthNamesShort:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月",""],timePattern:"H:mm",datePattern:"yyyy/M/d",dateTimePattern:"yyyy/M/d H:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("zh-tw",{dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayNamesShort:["日","一","二","三","四","五","六"],monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月",""],monthNamesShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月",""],timePattern:"tt hh:mm",datePattern:"yyyy/M/d",dateTimePattern:"yyyy/M/d tt hh:mm",timeFormat:"Clock12Hours",weekStarts:0})),e.Locale.US=e.Locale.find("en-us"),e.Switcher=function(l){function c(u,i,m){var g={};g.start=u,g.end=i,g.day=m,g.target=d.l.control,g.preventDefault=function(){this.preventDefault.value=!0};var x=d.I;x&&x.start===g.start&&x.end===g.end&&x.day===g.day&&x.target===g.target||(d.I=g,typeof d.onChange=="function"&&(d.onChange(g),g.preventDefault.value)||typeof d.onTimeRangeSelect=="function"&&(d.onTimeRangeSelect(g),g.preventDefault.value)||(d.l.t(d.m),typeof d.onChanged=="function"&&d.onChanged(g),typeof d.onTimeRangeSelected=="function"&&d.onTimeRangeSelected(g)))}var d=this;this.f=[],this.j=[],this.k={},this.selectedClass=null,this.syncScrollbar=!0,this.l=null,this.m=e.Date.today(),this.n=null,this.onChange=null,this.onChanged=null,this.onSelect=null,this.k.updateMode=function(u){var i=d.k.control;i&&(i.selectMode=u,i.select(d.m))},this.addView=function(u,i){var m;if(typeof u=="string"){if(m=document.getElementById(u),!m)throw"Element not found: "+u}else m=u;var g=m,x={};return x.o=!0,x.p=g.id,x.control=g,x.q=i||{},x.s=function(){g.hide?g.hide():g.nav&&g.nav.top?g.nav.top.style.display="none":g.style.display="none"},x.t=function(v){(function(){return!!g.backendUrl||!(typeof WebForm_DoCallback!="function"||!g.uniqueID)})()?g.commandCallBack&&g.commandCallBack("navigate",{day:v}):(g.startDate=v,g.update())},x.u=function(){d.z(),g.show?g.show():g.nav&&g.nav.top?g.nav.top.style.display="":g.style.display=""},x.A=function(){if(x.q.navigatorSelectMode)return x.q.navigatorSelectMode;if(g.isCalendar)switch(g.viewType){case"Day":return"day";case"Week":return"week";case"WorkWeek":return"week";default:return"day"}else if(g.isMonth)switch(g.viewType){case"Month":return"month";case"Weeks":return"week";default:return"day"}return"day"},this.f.push(x),x},this.addTrigger=function(u,i){var m;if(typeof u=="string"){if(m=document.getElementById(u),!m)throw"Element not found: "+u}else m=u;var g=this.B(i);g||(g=this.addView(i));var x={};return x.C=!0,x.D=m,x.p=m.id,x.E=g,x.F=function(v){d.show(x),d.G(x),v&&(v.preventDefault?v.preventDefault():v.returnValue=!1)},e.re(m,"click",x.F),this.j.push(x),x},this.addButton=this.addTrigger,this.select=function(u){var i=this.H(u);i?i.F():this.j.length>0&&this.j[0].F()},this.H=function(u){for(var i=0;i<this.j.length;i++){var m=this.j[i];if(m.p===u)return m}return null},this.G=function(u){if(this.selectedClass){for(var i=0;i<this.j.length;i++){var m=this.j[i];e.Util.removeClass(m.D,this.selectedClass)}e.Util.addClass(u.D,this.selectedClass)}},this.addNavigator=function(u){d.k.control=u,u.timeRangeSelectedHandling="JavaScript",u.onTimeRangeSelected=function(){var i,m,g;if(u.api===1)i=arguments[0],m=arguments[1],g=arguments[2];else{var x=arguments[0];i=x.start,m=x.end,g=x.day}d.m=g,c(i,m,g)}},this.show=function(u){var i,m;if(u.C)m=u,i=m.E;else if(i=u.o?u:this.B(u),this.l===i)return;if(d.onSelect){var g={};g.source=m?m.D:null,g.target=i.control,d.onSelect(g)}if(d.syncScrollbar){var x=this.l&&this.l.control;x&&x.isCalendar&&(d.n=x.getScrollY())}this.l=i,i.u(),d.n!==null&&i.control.isCalendar&&i.control.setScrollY(d.n);var v=i.A();d.k.updateMode(v),c(d.k.control.selectionStart,d.k.control.selectionEnd.addDays(1),d.k.control.selectionDay)},this.B=function(u){for(var i=0;i<this.f.length;i++)if(this.f[i].control===u)return this.f[i];return null},this.z=function(){for(var u=0;u<this.f.length;u++)this.f[u].s()},Object.defineProperty(this,"active",{get:function(){return d.l}}),this.events={},this.events.load=function(u,i,m){if(!d.l||!d.l.control)throw"DayPilot.Switcher.events.load(): Active view not found";d.l.control.events.load(u,i,m)},this.I=null,this.J=function(){if(l)for(var u in l)if(u==="triggers"){var i=l.triggers||[];i.forEach(function(m){d.addTrigger(m.id,m.view)})}else u==="navigator"?d.addNavigator(l.navigator):d[u]=l[u]},this.J()},e.Duration=function(l){var c=this,d=864e5,u=36e5,i=6e4,m=1e3;if(arguments.length===2){var g=arguments[0],x=arguments[1];if(!(g instanceof e.Date)&&typeof g!="string")throw"DayPilot.Duration(): Invalid start argument, DayPilot.Date expected";if(!(x instanceof e.Date)&&typeof x!="string")throw"DayPilot.Duration(): Invalid end argument, DayPilot.Date expected";typeof g=="string"&&(g=new e.Date(g)),typeof x=="string"&&(x=new e.Date(x)),l=x.getTime()-g.getTime()}return this.ticks=l,e.Date.Cache.DurationCtor[""+l]?e.Date.Cache.DurationCtor[""+l]:(e.Date.Cache.DurationCtor[""+l]=this,this.toString=function(v){if(!v)return c.days()+"."+c.hours()+":"+c.minutes()+":"+c.seconds()+"."+c.milliseconds();var N=c.minutes();N=(N<10?"0":"")+N;var h=v;return h=h.replace("mm",N),h=h.replace("m",c.minutes()),h=h.replace("H",c.hours()),h=h.replace("h",c.hours()),h=h.replace("d",c.days()),h=h.replace("s",c.seconds())},this.totalHours=function(){return c.ticks/u},this.totalDays=function(){return c.ticks/d},this.totalMinutes=function(){return c.ticks/i},this.totalSeconds=function(){return c.ticks/m},this.days=function(){return Math.floor(c.totalDays())},this.hours=function(){var v=c.ticks-c.days()*d;return Math.floor(v/u)},this.minutes=function(){var v=c.ticks-Math.floor(c.totalHours())*u;return Math.floor(v/i)},this.seconds=function(){var v=c.ticks-Math.floor(c.totalMinutes())*i;return Math.floor(v/m)},void(this.milliseconds=function(){return c.ticks%m}))},e.Duration.weeks=function(l){return new e.Duration(1e3*l*60*60*24*7)},e.Duration.days=function(l){return new e.Duration(1e3*l*60*60*24)},e.Duration.hours=function(l){return new e.Duration(1e3*l*60*60)},e.Duration.minutes=function(l){return new e.Duration(1e3*l*60)},e.Duration.seconds=function(l){return new e.Duration(1e3*l)},e.TimeSpan=function(){throw"Please use DayPilot.Duration class instead of DayPilot.TimeSpan."};try{e.TimeSpan.prototype=Object.create(e.Duration.prototype)}catch{}e.Date=function(l,c){if(l instanceof e.Date)return l;var d;e.Util.isNullOrUndefined(l)&&(d=e.DateUtil.fromLocal().getTime(),l=d);var u=e.Date.Cache.Ctor;if(u[l])return e.Stats.cacheHitsCtor+=1,u[l];var i=!1;if(typeof l=="string"||l instanceof String)d=e.DateUtil.fromStringSortable(l,c).getTime(),i=!0;else if(typeof l=="number"||l instanceof Number){if(isNaN(l))throw"Cannot create DayPilot.Date from NaN";d=l}else{if(!(l instanceof Date))throw"Unrecognized parameter: use Date, number or string in ISO 8601 format";d=c?e.DateUtil.fromLocal(l).getTime():l.getTime()}var m=t(d);return u[m]?u[m]:(u[m]=this,u[d]=this,i&&m!==l&&e.DateUtil.hasTzSpec(l)&&(u[l]=this),Object.defineProperty?(Object.defineProperty(this,"ticks",{get:function(){return d}}),Object.defineProperty(this,"value",{value:m,writable:!1,enumerable:!0})):(this.ticks=d,this.value=m),e.Date.Config.legacyShowD&&(this.d=new Date(d)),void(e.Stats.dateObjects+=1))},e.Date.Config={},e.Date.Config.legacyShowD=!1,e.Date.Cache={},e.Date.Cache.Parsing={},e.Date.Cache.Ctor={},e.Date.Cache.Ticks={},e.Date.Cache.DurationCtor={},e.Date.Cache.clear=function(){e.Date.Cache.Parsing={},e.Date.Cache.Ctor={},e.Date.Cache.Ticks={},e.Date.Cache.DurationCtor={}},e.Date.prototype.addDays=function(l){return l?new e.Date(this.ticks+24*l*60*60*1e3):this},e.Date.prototype.addHours=function(l){return l?this.addTime(60*l*60*1e3):this},e.Date.prototype.addMilliseconds=function(l){return l?this.addTime(l):this},e.Date.prototype.addMinutes=function(l){return l?this.addTime(60*l*1e3):this},e.Date.prototype.addMonths=function(l){if(!l)return this;var c=new Date(this.ticks),d=c.getUTCFullYear(),u=c.getUTCMonth()+1;if(l>0){for(;l>=12;)l-=12,d++;l>12-u?(d++,u=l-(12-u)):u+=l}else{for(;l<=-12;)l+=12,d--;u+l<=0?(d--,u=12+u+l):u+=l}var i=new Date(c.getTime());i.setUTCDate(1),i.setUTCFullYear(d),i.setUTCMonth(u-1);var m=new e.Date(i).daysInMonth();return i.setUTCDate(Math.min(m,c.getUTCDate())),new e.Date(i)},e.Date.prototype.addSeconds=function(l){return l?this.addTime(1e3*l):this},e.Date.prototype.addTime=function(l){return l?(l instanceof e.Duration&&(l=l.ticks),new e.Date(this.ticks+l)):this},e.Date.prototype.addYears=function(l){var c=new Date(this.ticks),d=new Date(this.ticks),u=this.getYear()+l,i=this.getMonth();d.setUTCDate(1),d.setUTCFullYear(u),d.setUTCMonth(i);var m=new e.Date(d).daysInMonth();return d.setUTCDate(Math.min(m,c.getUTCDate())),new e.Date(d)},e.Date.prototype.dayOfWeek=function(){return new Date(this.ticks).getUTCDay()},e.Date.prototype.getDayOfWeek=function(){return new Date(this.ticks).getUTCDay()},e.Date.prototype.getDayOfYear=function(){var l=this.firstDayOfYear();return e.DateUtil.daysDiff(l,this)+1},e.Date.prototype.daysInMonth=function(){var l=new Date(this.ticks),c=l.getUTCMonth()+1,d=l.getUTCFullYear(),u=[31,28,31,30,31,30,31,31,30,31,30,31];return c!==2?u[c-1]:d%4!==0||d%100===0&&d%400!==0?u[1]:u[1]+1},e.Date.prototype.daysInYear=function(){var l=this.getYear();return l%4!==0||l%100===0&&l%400!==0?365:366},e.Date.prototype.dayOfYear=function(){return Math.ceil((this.getDatePart().getTime()-this.firstDayOfYear().getTime())/864e5)+1},e.Date.prototype.equals=function(l){if(l===null)return!1;if(l instanceof e.Date)return this===l;throw"The parameter must be a DayPilot.Date object (DayPilot.Date.equals())"},e.Date.prototype.firstDayOfMonth=function(){var l=new Date;return l.setUTCFullYear(this.getYear(),this.getMonth(),1),l.setUTCHours(0),l.setUTCMinutes(0),l.setUTCSeconds(0),l.setUTCMilliseconds(0),new e.Date(l)},e.Date.prototype.firstDayOfYear=function(){var l=this.getYear(),c=new Date;return c.setUTCFullYear(l,0,1),c.setUTCHours(0),c.setUTCMinutes(0),c.setUTCSeconds(0),c.setUTCMilliseconds(0),new e.Date(c)},e.Date.prototype.firstDayOfWeek=function(l){var c=this;if(l instanceof e.Locale)l=l.weekStarts;else if(typeof l=="string"&&e.Locale.find(l)){var d=e.Locale.find(l);l=d.weekStarts}else l=l||0;for(var u=c.dayOfWeek();u!==l;)c=c.addDays(-1),u=c.dayOfWeek();return new e.Date(c)},e.Date.prototype.getDay=function(){return new Date(this.ticks).getUTCDate()},e.Date.prototype.getDatePart=function(){var l=new Date(this.ticks);return l.setUTCHours(0),l.setUTCMinutes(0),l.setUTCSeconds(0),l.setUTCMilliseconds(0),new e.Date(l)},e.Date.prototype.getYear=function(){return new Date(this.ticks).getUTCFullYear()},e.Date.prototype.getHours=function(){return new Date(this.ticks).getUTCHours()},e.Date.prototype.getMilliseconds=function(){return new Date(this.ticks).getUTCMilliseconds()},e.Date.prototype.getMinutes=function(){return new Date(this.ticks).getUTCMinutes()},e.Date.prototype.getMonth=function(){return new Date(this.ticks).getUTCMonth()},e.Date.prototype.getSeconds=function(){return new Date(this.ticks).getUTCSeconds()},e.Date.prototype.getTotalTicks=function(){return this.getTime()},e.Date.prototype.getTime=function(){return this.ticks},e.Date.prototype.getTimePart=function(){var l=this.getDatePart();return e.DateUtil.diff(this,l)},e.Date.prototype.lastDayOfMonth=function(){var l=new Date(this.firstDayOfMonth().getTime()),c=this.daysInMonth();return l.setUTCDate(c),new e.Date(l)},e.Date.prototype.weekNumber=function(){var l=this.firstDayOfYear(),c=(this.getTime()-l.getTime())/864e5;return Math.ceil((c+l.dayOfWeek()+1)/7)},e.Date.prototype.weekNumberISO=function(){var l=!1,c=this.dayOfYear(),d=this.firstDayOfYear().dayOfWeek(),u=this.firstDayOfYear().addYears(1).addDays(-1).dayOfWeek();d===0&&(d=7),u===0&&(u=7);var i=8-d;d!==4&&u!==4||(l=!0);var m=Math.ceil((c-i)/7),g=m;return i>=4&&(g+=1),g>52&&!l&&(g=1),g===0&&(g=this.firstDayOfYear().addDays(-1).weekNumberISO()),g},e.Date.prototype.toDateLocal=function(){var l=new Date(this.ticks),c=new Date;return c.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),c.setHours(l.getUTCHours()),c.setMinutes(l.getUTCMinutes()),c.setSeconds(l.getUTCSeconds()),c.setMilliseconds(l.getUTCMilliseconds()),c},e.Date.prototype.toDate=function(){return new Date(this.ticks)},e.Date.prototype.toJSON=function(){return this.value},e.Date.prototype.toString=function(l,c){return l?new o(l,c).print(this):this.toStringSortable()},e.Date.prototype.toStringSortable=function(){return t(this.ticks)},e.Date.parse=function(l,c,d){return new o(c,d).parse(l)},e.Date.today=function(){return new e.Date(e.DateUtil.localToday(),!0)},e.Date.now=function(){return new e.Date},e.Date.fromYearMonthDay=function(l,c,d){c=c||1,d=d||1;var u=new Date(0);return u.setUTCFullYear(l),u.setUTCMonth(c-1),u.setUTCDate(d),new e.Date(u)},e.DateUtil={},e.DateUtil.fromStringSortable=function(l,c){if(!l)throw"Can't create DayPilot.Date from an empty string";var d=l.length,u=d===10,i=d===19,m=d>19;if(!u&&!i&&!m)throw"Invalid string format (use '2010-01-01' or '2010-01-01T00:00:00'): "+l;if(e.Date.Cache.Parsing[l]&&!c)return e.Stats.cacheHitsParsing+=1,e.Date.Cache.Parsing[l];var g=l.substring(0,4),x=l.substring(5,7),v=l.substring(8,10),N=new Date(0);if(N.setUTCFullYear(g,x-1,v),u)return e.Date.Cache.Parsing[l]=N,N;var h=l.substring(11,13),y=l.substring(14,16),w=l.substring(17,19);if(N.setUTCHours(h),N.setUTCMinutes(y),N.setUTCSeconds(w),i)return e.Date.Cache.Parsing[l]=N,N;var j=l[19],C=0;if(j==="."){var _=parseInt(l.substring(20,23));N.setUTCMilliseconds(_),C=e.DateUtil.getTzOffsetMinutes(l.substring(23))}else C=e.DateUtil.getTzOffsetMinutes(l.substring(19));var k=new e.Date(N);return c||(k=k.addMinutes(-C)),N=k.toDate(),e.Date.Cache.Parsing[l]=N,N},e.DateUtil.getTzOffsetMinutes=function(l){if(e.Util.isNullOrUndefined(l)||l===""||l==="Z")return 0;var c=l[0],d=parseInt(l.substring(1,3)),u=parseInt(l.substring(4)),i=60*d+u;if(c==="-")return-i;if(c==="+")return i;throw"Invalid timezone spec: "+l},e.DateUtil.hasTzSpec=function(l){return!!l.indexOf("+")||!!l.indexOf("-")},e.DateUtil.daysDiff=function(l,c){if(l&&c||function(){throw"two parameters required"}(),l=new e.Date(l),c=new e.Date(c),l.getTime()>c.getTime())return null;for(var d=0,u=l.getDatePart(),i=c.getDatePart();u<i;)u=u.addDays(1),d++;return d},e.DateUtil.daysSpan=function(l,c){if(l&&c||function(){throw"two parameters required"}(),l=new e.Date(l),c=new e.Date(c),l.getTime()===c.getTime())return 0;var d=e.DateUtil.daysDiff(l,c);return c.getTime()==c.getDatePart().getTime()&&d--,d},e.DateUtil.diff=function(l,c){if(!(l&&c&&l.getTime&&c.getTime))throw"Both compared objects must be Date objects (DayPilot.Date.diff).";return l.getTime()-c.getTime()},e.DateUtil.fromLocal=function(l){l||(l=new Date);var c=new Date;return c.setUTCFullYear(l.getFullYear(),l.getMonth(),l.getDate()),c.setUTCHours(l.getHours()),c.setUTCMinutes(l.getMinutes()),c.setUTCSeconds(l.getSeconds()),c.setUTCMilliseconds(l.getMilliseconds()),c},e.DateUtil.localToday=function(){var l=new Date;return l.setHours(0),l.setMinutes(0),l.setSeconds(0),l.setMilliseconds(0),l},e.DateUtil.hours=function(l,c){var d=l.getUTCMinutes();d<10&&(d="0"+d);var u=l.getUTCHours();if(c){var i=u<12,u=u%12;return u===0&&(u=12),u+":"+d+" "+(i?"AM":"PM")}return u+":"+d},e.DateUtil.max=function(l,c){return l.getTime()>c.getTime()?l:c},e.DateUtil.min=function(l,c){return l.getTime()<c.getTime()?l:c};var o=function(l,d){typeof d=="string"&&(d=e.Locale.find(d));var d=d||e.Locale.US,u=[{seq:"yyyy",expr:"[0-9]{4,4}",str:function(m){return m.getYear()}},{seq:"yy",expr:"[0-9]{2,2}",str:function(m){return m.getYear()%100}},{seq:"mm",expr:"[0-9]{2,2}",str:function(m){var g=m.getMinutes();return g<10?"0"+g:g}},{seq:"m",expr:"[0-9]{1,2}",str:function(m){return m.getMinutes()}},{seq:"HH",expr:"[0-9]{2,2}",str:function(m){var g=m.getHours();return g<10?"0"+g:g}},{seq:"H",expr:"[0-9]{1,2}",str:function(m){return m.getHours()}},{seq:"hh",expr:"[0-9]{2,2}",str:function(m){var g=m.getHours(),g=g%12;g===0&&(g=12);var x=g;return x<10?"0"+x:x}},{seq:"h",expr:"[0-9]{1,2}",str:function(m){var g=m.getHours(),g=g%12;return g===0&&(g=12),g}},{seq:"ss",expr:"[0-9]{2,2}",str:function(m){var g=m.getSeconds();return g<10?"0"+g:g}},{seq:"s",expr:"[0-9]{1,2}",str:function(m){return m.getSeconds()}},{seq:"MMMM",expr:"[^\\s0-9]*",str:function(m){return d.monthNames[m.getMonth()]},transform:function(m){var g=e.indexOf(d.monthNames,m,r);return g<0?null:g+1}},{seq:"MMM",expr:"[^\\s0-9]*",str:function(m){return d.monthNamesShort[m.getMonth()]},transform:function(m){var g=e.indexOf(d.monthNamesShort,m,r);return g<0?null:g+1}},{seq:"MM",expr:"[0-9]{2,2}",str:function(m){var g=m.getMonth()+1;return g<10?"0"+g:g}},{seq:"M",expr:"[0-9]{1,2}",str:function(m){return m.getMonth()+1}},{seq:"dddd",expr:"[^\\s0-9]*",str:function(m){return d.dayNames[m.getDayOfWeek()]}},{seq:"ddd",expr:"[^\\s0-9]*",str:function(m){return d.dayNamesShort[m.getDayOfWeek()]}},{seq:"dd",expr:"[0-9]{2,2}",str:function(m){var g=m.getDay();return g<10?"0"+g:g}},{seq:"%d",expr:"[0-9]{1,2}",str:function(m){return m.getDay()}},{seq:"d",expr:"[0-9]{1,2}",str:function(m){return m.getDay()}},{seq:"tt",expr:"(AM|PM|am|pm)",str:function(m){return m.getHours()<12?"AM":"PM"},transform:function(m){return m.toUpperCase()}}],i=function(m){return m.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};this.init=function(){this.year=this.findSequence("yyyy"),this.month=this.findSequence("MMMM")||this.findSequence("MMM")||this.findSequence("MM")||this.findSequence("M"),this.day=this.findSequence("dd")||this.findSequence("d"),this.hours=this.findSequence("HH")||this.findSequence("H"),this.minutes=this.findSequence("mm")||this.findSequence("m"),this.seconds=this.findSequence("ss")||this.findSequence("s"),this.ampm=this.findSequence("tt"),this.hours12=this.findSequence("hh")||this.findSequence("h")},this.findSequence=function(m){function g(x){return parseInt(x)}return l.indexOf(m)===-1?null:{findValue:function(x){for(var v=i(l),N=null,h=0;h<u.length;h++){var y=(u[h].length,m===u[h].seq),w=u[h].expr;y&&(w="("+w+")",N=u[h].transform),v=v.replace(u[h].seq,w)}v="^"+v+"$";try{var j=new RegExp(v),C=j.exec(x);return C?(N=N||g)(C[1]):null}catch{throw"unable to create regex from: "+v}}}},this.print=function(m){for(var g=function(k){for(var A=0;A<u.length;A++)if(u[A]&&u[A].seq===k)return u[A];return null},x=l.length<=0,v=0,N=[];!x;){var h=l.substring(v),y=/%?(.)\1*/.exec(h);if(y&&y.length>0){var w=y[0],j=g(w);j?N.push(j):N.push(w),v+=w.length,x=l.length<=v}else x=!0}for(var C=0;C<N.length;C++){var _=N[C];typeof _!="string"&&(N[C]=_.str(m))}return N.join("")},this.parse=function(m){var g=this.year.findValue(m);if(!g)return null;var x=this.month.findValue(m);if(e.Util.isNullOrUndefined(x)||x>12||x<1)return null;var v=this.day.findValue(m),N=e.Date.fromYearMonthDay(g,x).daysInMonth();if(v<1||v>N)return null;var h=this.hours?this.hours.findValue(m):0,y=this.minutes?this.minutes.findValue(m):0,w=this.seconds?this.seconds.findValue(m):0,j=this.ampm?this.ampm.findValue(m):null;if(this.ampm&&this.hours12){var C=this.hours12.findValue(m);if(C<1||C>12)return null;h=j==="PM"?C===12?12:C+12:C===12?0:C}if(h<0||h>23||y<0||y>59||w<0||w>59)return null;var _=new Date;return _.setUTCFullYear(g,x-1,v),_.setUTCHours(h),_.setUTCMinutes(y),_.setUTCSeconds(w),_.setUTCMilliseconds(0),new e.Date(_)},this.init()};e.ColorUtil={},e.ColorUtil.hexToRgb=function(l){if(!/^#[0-9a-f]{6}$/i.test(l))throw new e.Exception("Invalid color, only full hex color string accepted, eg. '#ffaaff'.");return l=l.replace("#",""),{r:parseInt(l.substring(0,2),16),g:parseInt(l.substring(2,4),16),b:parseInt(l.substring(4,6),16)}},e.ColorUtil.rgbToHex=function(l){return"#"+n(l.r)+n(l.g)+n(l.b)},e.ColorUtil.adjustLuminance=function(l,c){return{r:l.r+c,g:l.g+c,b:l.b+c}},e.ColorUtil.darker=function(l,c){var d="";l.length===9&&(d=l.slice(7,9),l=l.slice(0,7));var u=e.ColorUtil.hexToRgb(l);typeof c!="number"&&(c=1);var i=17,m=Math.round(c*i),g=e.ColorUtil.adjustLuminance(u,-m);return e.ColorUtil.rgbToHex(g)+d},e.ColorUtil.lighter=function(l,c){return typeof c!="number"&&(c=1),e.ColorUtil.darker(l,-c)},e.ColorUtil.pl=function(l){var c=e.ColorUtil.hexToRgb(l),d=c.r/255,u=c.g/255,i=c.b/255;return Math.sqrt(.299*d*d+.587*u*u+.114*i*i)},e.ColorUtil.contrasting=function(l,c,d){var u=e.ColorUtil.pl(l);return c=c||"#ffffff",d=d||"#000000",u>.5?d:c},e.Event=function(l,c,d){var u=this;this.calendar=c,this.data=l||{},this.part=d||{},typeof this.data.id>"u"&&(this.data.id=this.data.value);var i={},m=["id","text","start","end","resource"];this.isEvent=!0,this.temp=function(){if(i.dirty)return i;for(var g=0;g<m.length;g++)i[m[g]]=u.data[m[g]];return i.dirty=!0,i},this.copy=function(){for(var g={},x=0;x<m.length;x++)g[m[x]]=u.data[m[x]];return g},this.commit=function(){if(i.dirty){for(var g=0;g<m.length;g++)u.data[m[g]]=i[m[g]];i.dirty=!1}},this.dirty=function(){return i.dirty},this.id=function(g){return typeof g>"u"?u.data.id:void(this.temp().id=g)},this.value=function(g){return typeof g>"u"?u.id():void u.id(g)},this.text=function(g){return typeof g>"u"?u.data.text:(this.temp().text=g,void this.client.innerHTML(g))},this.start=function(g){return typeof g>"u"?new e.Date(u.data.start):void(this.temp().start=new e.Date(g))},this.end=function(g){return typeof g>"u"?new e.Date(u.data.end):void(this.temp().end=new e.Date(g))},this.resource=function(g){return typeof g>"u"?u.data.resource:void(this.temp().resource=g)},this.duration=function(){return new e.Duration(this.start(),this.end())},this.rawend=function(g){if(typeof g>"u")return c&&c.internal.adjustEndIn?c.internal.adjustEndIn(new e.Date(u.data.end)):new e.Date(u.data.end);throw new e.Exception("DayPilot.Event.rawend() is readonly")},this.partStart=function(){return new e.Date(this.part.start)},this.partEnd=function(){return new e.Date(this.part.end)},this.tag=function(g){var x=u.data.tag;if(!x)return null;if(typeof g>"u")return u.data.tag;for(var v=u.calendar.tagFields,N=-1,h=0;h<v.length;h++)g===v[h]&&(N=h);if(N===-1)throw"Field name not found.";return x[N]},this.client={},this.client.innerHTML=function(g){if(typeof g>"u"){var x=u.cache||u.data,v=u.calendar&&u.calendar.internal&&u.calendar.internal.xssTextHtml;return v?v(x.text,x.html):e.Util.escapeTextHtml(x.text,x.html)}u.data.html=g},this.client.html=this.client.innerHTML,this.client.header=function(g){return typeof g>"u"?u.data.header:void(u.data.header=g)},this.client.cssClass=function(g){return typeof g>"u"?u.cache&&typeof u.cache.cssClass<"u"?u.cache.cssClass:u.data.cssClass:void(u.data.cssClass=g)},this.client.toolTip=function(g){return typeof g>"u"?u.cache&&typeof u.cache.toolTip<"u"?u.cache.toolTip:typeof u.data.toolTip<"u"?u.data.toolTip:u.data.text:void(u.data.toolTip=g)},this.client.barVisible=function(g){return typeof g>"u"?u.cache&&typeof u.cache.barHidden<"u"?!u.cache.barHidden:u.calendar.durationBarVisible&&!u.data.barHidden:void(u.data.barHidden=!g)},this.client.backColor=function(g){return typeof g>"u"?u.cache&&typeof u.cache.backColor<"u"?u.cache.backColor:typeof u.data.backColor<"u"?u.data.backColor:u.calendar.eventBackColor:void(u.data.backColor=g)},this.client.borderColor=function(g){return typeof g>"u"?u.cache&&typeof u.cache.borderColor<"u"?u.cache.borderColor:typeof u.data.borderColor<"u"?u.data.borderColor:u.calendar.eventBorderColor:void(u.data.borderColor=g)},this.client.contextMenu=function(g){if(typeof g>"u"){if(u.oContextMenu)return u.oContextMenu;u.cache?u.cache.contextMenu:u.data.contextMenu}else u.oContextMenu=g},this.client.moveEnabled=function(g){return typeof g>"u"?u.cache&&typeof u.cache.moveDisabled<"u"?!u.cache.moveDisabled:u.calendar.eventMoveHandling!=="Disabled"&&!u.data.moveDisabled:void(u.data.moveDisabled=!g)},this.client.resizeEnabled=function(g){return typeof g>"u"?u.cache&&typeof u.cache.resizeDisabled<"u"?!u.cache.resizeDisabled:u.calendar.eventResizeHandling!=="Disabled"&&!u.data.resizeDisabled:void(u.data.resizeDisabled=!g)},this.client.clickEnabled=function(g){return typeof g>"u"?u.cache&&typeof u.cache.clickDisabled<"u"?!u.cache.clickDisabled:u.calendar.eventClickHandling!=="Disabled"&&!u.data.clickDisabled:void(u.data.clickDisabled=!g)},this.client.rightClickEnabled=function(g){return typeof g>"u"?u.cache&&typeof u.cache.rightClickDisabled<"u"?!u.cache.rightClickDisabled:u.calendar.eventRightClickHandling!=="Disabled"&&!u.data.rightClickDisabled:void(u.data.rightClickDisabled=!g)},this.client.deleteEnabled=function(g){return typeof g>"u"?u.cache&&typeof u.cache.deleteDisabled<"u"?!u.cache.deleteDisabled:u.calendar.eventDeleteHandling!=="Disabled"&&!u.data.deleteDisabled:void(u.data.deleteDisabled=!g)},this.toJSON=function(g){var x={};if(x.value=this.id(),x.id=this.id(),x.text=this.text(),x.start=this.start(),x.end=this.end(),x.tag={},u.calendar&&u.calendar.tagFields)for(var v=u.calendar.tagFields,N=0;N<v.length;N++)x.tag[v[N]]=this.tag(v[N]);return x}}}}(),e.JSON={},function(){function t(u){return u<10?"0"+u:u}function r(u){return c.lastIndex=0,c.test(u)?'"'+u.replace(c,function(i){var m=d[i];return typeof m=="string"?m:"\\u"+("0000"+i.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+u+'"'}function n(u,i){var m,g,x,v,N,h=a,y=i[u];switch(y&&typeof y=="object"&&typeof y.toJSON2=="function"?y=y.toJSON2(u):y&&typeof y=="object"&&typeof y.toJSON=="function"&&!y.ignoreToJSON&&(y=y.toJSON(u)),typeof l=="function"&&(y=l.call(i,u,y)),typeof y){case"string":return r(y);case"number":return isFinite(y)?String(y):"null";case"boolean":case"null":return String(y);case"object":if(!y)return"null";if(a+=o,N=[],typeof y.length=="number"&&!y.propertyIsEnumerable("length")){for(v=y.length,m=0;m<v;m+=1)N[m]=n(m,y)||"null";return x=N.length===0?"[]":a?`[
`+a+N.join(`,
`+a)+`
`+h+"]":"["+N.join(",")+"]",a=h,x}if(l&&typeof l=="object")for(v=l.length,m=0;m<v;m+=1)g=l[m],typeof g=="string"&&(x=n(g,y),x&&N.push(r(g)+(a?": ":":")+x));else for(g in y)Object.hasOwnProperty.call(y,g)&&(x=n(g,y),x&&N.push(r(g)+(a?": ":":")+x));return x=N.length===0?"{}":a?`{
`+a+N.join(`,
`+a)+`
`+h+"}":"{"+N.join(",")+"}",a=h,x}}typeof Date.prototype.toJSON2!="function"&&(Date.prototype.toJSON2=function(u){return this.getUTCFullYear()+"-"+t(this.getUTCMonth()+1)+"-"+t(this.getUTCDate())+"T"+t(this.getUTCHours())+":"+t(this.getUTCMinutes())+":"+t(this.getUTCSeconds())},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(u){return this.valueOf()});var a,o,l,c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,d={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};typeof e.JSON.stringify!="function"&&(e.JSON.stringify=function(u,i,m){var g;if(a="",o="",typeof m=="number")for(g=0;g<m;g+=1)o+=" ";else typeof m=="string"&&(o=m);if(l=i,i&&typeof i!="function"&&(typeof i!="object"||typeof i.length!="number"))throw new Error("JSON.stringify");return n("",{"":u})})}(),typeof e>"u")var e={};if(typeof e.Global>"u"&&(e.Global={}),function(){var t=function(){};if(typeof e.Calendar>"u"||!e.Calendar.events){var r={};r.selectedCells=[],r.topSelectedCell=null,r.bottomSelectedCell=null,r.column=null,r.firstSelected=null,r.firstMousePos=null,r.originalMouse=null,r.originalHeight=null,r.originalTop=null,r.resizing=null,r.globalHandlers=!1,r.moving=null,r.register=function(o){r.registered||(r.registered=[]);for(var l=r.registered,c=0;c<l.length;c++)if(l[c]===o)return;l.push(o)},r.unregister=function(o){var l=r.registered;if(l){var c=e.indexOf(l,o);c!==-1&&l.splice(c,1)}},r.getCellsAbove=function(o){for(var l=[],c=r.getColumn(o),d=o.parentNode,u=null;d&&u!==r.firstSelected;)for(u=d.getElementsByTagName("td")[c],l.push(u),d=d.previousSibling;d&&d.tagName!=="TR";)d=d.previousSibling;return l},r.getCellsBelow=function(o){for(var l=[],c=r.getColumn(o),d=o.parentNode,u=null;d&&u!==r.firstSelected;)for(u=d.getElementsByTagName("td")[c],l.push(u),d=d.nextSibling;d&&d.tagName!=="TR";)d=d.nextSibling;return l},r.getColumn=function(o){for(var l=0;o.previousSibling;)o=o.previousSibling,o.tagName==="TD"&&l++;return l},r.gUnload=function(o){if(r.registered)for(var l=r.registered,c=0;c<l.length;c++){var d=l[c];d.dispose(),r.unregister(d)}},r.gMouseUp=function(o){if(r.resizing){if(!r.resizingShadow)return r.resizing.style.cursor="default",document.body.style.cursor="default",r.resizing=null,void(e.Global.resizing=null);var l=r.resizing.event,c=r.resizingShadow.clientHeight,d=r.resizingShadow.offsetTop,u=r.resizing.dpBorder;r.deleteShadow(r.resizingShadow),r.resizingShadow=null,r.resizing.style.cursor="default",l.calendar.nav.top.style.cursor="auto",r.resizing.onclick=null,r.resizing=null,e.Global.resizing=null,l.calendar.K(l,c,d,u)}else if(r.moving){if(!r.movingShadow)return r.moving=null,e.Global.moving=null,void(document.body.style.cursor="default");var d=r.movingShadow.offsetTop,l=r.moving.event;r.deleteShadow(r.movingShadow),e.Util.removeClass(r.moving,l.calendar.L("_event_moving_source"));var i=r.movingShadow.column;r.moving=null,e.Global.moving=null,r.movingShadow=null,l.calendar.nav.top.style.cursor="auto",l.calendar.M(l,i,d,o)}else if(e.Global.selecting){var m=e.Global.selecting.calendar;m.N=e.Global.selecting,e.Global.selecting=null;var g=m.getSelection();m.O(g.start,g.end,g.resource),m.timeRangeSelectedHandling!=="Hold"&&m.timeRangeSelectedHandling!=="HoldForever"&&t()}else r.selecting=!1},r.deleteShadow=function(o){o&&o.parentNode&&o.parentNode.removeChild(o)},r.moveShadow=function(o){var l=r.movingShadow,c=l.parentNode;c.style.display="none",l.parentNode.removeChild(l),o.firstChild.appendChild(l),l.style.left="0px",c.style.display="",l.style.width=r.movingShadow.parentNode.offsetWidth+1+"px"};var n=e.Util.isVueVNode,a=e.Util.overlaps;r.Calendar=function(o,l){var c=!1;if(this instanceof r.Calendar&&!this.P&&(c=!0,this.P=!0),!c)throw"DayPilot.Calendar() is a constructor and must be called as 'var c = new DayPilot.Calendar(id);'";var d=this;this.uniqueID=null,this.isCalendar=!0,this.v="2025.3.710-lite",this.id=o,this.clientName=o,this.cache={},this.cache.pixels={},this.elements={},this.elements.events=[],this.elements.selection=[],this.nav={},this.afterRender=function(){},this.fasterDispose=!0,this.angularAutoApply=!1,this.api=2,this.businessBeginsHour=9,this.businessEndsHour=18,this.cellDuration=30,this.cellHeight=30,this.columnMarginLeft=0,this.columnMarginRight=5,this.columnsLoadMethod="GET",this.contextMenu=null,this.days=1,this.durationBarVisible=!0,this.eventBorderRadius=null,this.eventsLoadMethod="GET",this.headerDateFormat=null,this.headerHeight=30,this.headerTextWrappingEnabled=!1,this.height=300,this.heightSpec="BusinessHours",this.hideUntilInit=!0,this.hourWidth=60,this.initScrollPos="Auto",this.loadingLabelHtml=null,this.loadingLabelText="Loading...",this.loadingLabelVisible=!0,this.locale="en-us",this.snapToGrid=!0,this.showToolTip=!0,this.startDate=new e.Date().getDatePart(),this.cssClassPrefix="calendar_default",this.theme=null,this.timeFormat="Auto",this.useEventBoxes="Always",this.viewType="Days",this.visible=!0,this.xssProtection="Enabled",this.headerClickHandling="Enabled",this.eventClickHandling="Enabled",this.eventResizeHandling="Update",this.eventRightClickHandling="ContextMenu",this.eventMoveHandling="Update",this.eventDeleteHandling="Disabled",this.timeRangeSelectedHandling="Enabled",this.onBeforeCellRender=null,this.onBeforeEventRender=null,this.onBeforeHeaderRender=null,this.onEventClick=null,this.onEventClicked=null,this.onEventDelete=null,this.onEventDeleted=null,this.onEventMove=null,this.onEventMoved=null,this.onEventResize=null,this.onEventResized=null,this.onEventRightClick=null,this.onEventRightClicked=null,this.onHeaderClick=null,this.onHeaderClicked=null,this.onTimeRangeSelect=null,this.onTimeRangeSelected=null,this.Q=!1,this.clearSelection=function(){r.topSelectedCell=null,r.bottomSelectedCell=null,this.R()},this.R=function(){e.de(d.elements.selection),d.elements.selection=[],d.nav.activeSelection=null},this.cleanSelection=this.clearSelection,this.S=function(i,m,g){var x={};x.action=i,x.parameters=g,x.data=m,x.header=this.T();var v="JSON"+e.JSON.stringify(x);__doPostBack(d.uniqueID,v)},this.U=function(i,m,g){this.callbackTimeout&&window.clearTimeout(this.callbackTimeout),this.callbackTimeout=window.setTimeout(function(){d.loadingStart()},100);var x={};x.action=i,x.parameters=g,x.data=m,x.header=this.T();var v="JSON"+e.JSON.stringify(x);this.backendUrl?e.request(this.backendUrl,this.V,v,this.ajaxError):typeof WebForm_DoCallback=="function"&&WebForm_DoCallback(this.uniqueID,v,this.W,this.clientName,this.onCallbackError,!0)},this.onCallbackError=function(i,m){alert(`Error!\r
Result: `+i+`\r
Context:`+m)},this.dispose=function(){var i=d;i.Q||(i.Q=!0,clearInterval(i.X),i.Y(),i.nav.scroll.root=null,e.pu(i.nav.loading),i.Z(),i._(),i.nav.select=null,i.nav.cornerRight=null,i.nav.scrollable=null,i.nav.zoom=null,i.nav.loading=null,i.nav.header=null,i.nav.hourTable=null,i.nav.scrolltop=null,i.nav.scroll.onscroll=null,i.nav.scroll=null,i.nav.main=null,i.nav.message=null,i.nav.messageClose=null,i.nav.top=null,r.unregister(i))},this.disposed=function(){return this.Q},this.aa=function(){this.nav.top.dispose=this.dispose},this.V=function(i){d.W(i.responseText)},this.T=function(){var i={};return i.control="dpc",i.id=this.id,i.v=this.v,i.days=d.days,i.startDate=d.startDate,i.heightSpec=d.heightSpec,i.businessBeginsHour=d.businessBeginsHour,i.businessEndsHour=d.businessEndsHour,i.hashes=d.hashes,i.timeFormat=d.timeFormat,i.viewType=d.viewType,i.locale=d.locale,i},this.ba=function(i,m){for(var g=i.parentNode;g&&g.tagName!=="TD";)g=g.parentNode;var x=d.eventBorderRadius;typeof x=="number"&&(x+="px");var v=document.createElement("div");v.setAttribute("unselectable","on"),v.style.position="absolute",v.style.width=i.offsetWidth+"px",v.style.height=i.offsetHeight+"px",v.style.left=i.offsetLeft+"px",v.style.top=i.offsetTop+"px",v.style.boxSizing="border-box",v.style.zIndex=101,v.className=d.L("_shadow");var N=document.createElement("div");return N.className=d.L("_shadow_inner"),x&&(N.style.borderRadius=x,v.style.borderRadius=x),v.appendChild(N),g.firstChild.appendChild(v),v},this.ca={},this.ca.locale=function(){var i=e.Locale.find(d.locale);return i||e.Locale.US},this.ca.timeFormat=function(){return d.timeFormat!=="Auto"?d.timeFormat:this.locale().timeFormat},this.ca.da=function(){return d.xssProtection!=="Disabled"},this.ca.ea=function(){if(d.weekStarts==="Auto"){var i=u.locale();return i?i.weekStarts:0}return d.weekStarts||0},this.ca.fa=function(){var i=d.cellDuration;if(i<=1)return 1;if(i>=60)return 60;var m=[1,2,3,4,5,6,10,12,15,20,30,60],g=Math.floor(i);return Math.max.apply(null,m.filter(function(x){return x<=g}))};var u=this.ca;this.W=function(g,m){if(g&&g.indexOf("$$$")===0){if(!window.console)throw"Error received from the server side: "+g;return void console.log("Error received from the server side: "+g)}var g=JSON.parse(g);if(g.CallBackRedirect)return void(document.location.href=g.CallBackRedirect);if(g.UpdateType==="None")return d.loadingStop(),void d.u();if(d.Y(),g.UpdateType==="Full"&&(d.columns=g.Columns,d.days=g.Days,d.startDate=new e.Date(g.StartDate),d.heightSpec=g.HeightSpec?g.HeightSpec:d.heightSpec,d.businessBeginsHour=g.BusinessBeginsHour?g.BusinessBeginsHour:d.businessBeginsHour,d.businessEndsHour=g.BusinessEndsHour?g.BusinessEndsHour:d.businessEndsHour,d.headerDateFormat=g.HeaderDateFormat?g.HeaderDateFormat:d.headerDateFormat,d.viewType=g.ViewType,d.backColor=g.BackColor?g.BackColor:d.backColor,d.eventHeaderVisible=g.EventHeaderVisible?g.EventHeaderVisible:d.eventHeaderVisible,d.timeFormat=g.TimeFormat?g.TimeFormat:d.timeFormat,d.locale=g.Locale?g.Locale:d.locale,d.ga()),g.Hashes)for(var x in g.Hashes)d.hashes[x]=g.Hashes[x];d.events.list=g.Events,d.ha(),d.ia(),g.UpdateType==="Full"&&(d.ja(),d.ka(),d.la(),d.ma()),d.u(),d.na(),d.clearSelection(),d.afterRender(g.CallBackData,!0),d.loadingStop()},this.oa=function(){return this.pa()/36e5},this.qa=function(){return this.businessBeginsHour>this.businessEndsHour?24-this.businessBeginsHour+this.businessEndsHour:this.businessEndsHour-this.businessBeginsHour},this.ra=function(){return this.pa()/(60*u.fa()*1e3)},this.pa=function(){var i=0;return i=this.heightSpec==="BusinessHoursNoScroll"?this.qa():24,60*i*60*1e3},this.sa=function(){return this.heightSpec==="BusinessHoursNoScroll"?this.businessBeginsHour:0},this.ta=function(){return d.api===2},this.eventClickCallBack=function(i,m){this.U("EventClick",m,i)},this.eventClickPostBack=function(i,m){this.S("EventClick",m,i)},this.va=function(i){var m=this,g=m.event;if(g.client.clickEnabled())if(d.ta()){var x={};if(x.e=g,x.originalEvent=i,x.meta=i.metaKey,x.ctrl=i.ctrlKey,x.control=d,x.preventDefault=function(){this.preventDefault.value=!0},typeof d.onEventClick=="function"&&(d.wa.apply(function(){d.onEventClick(x)}),x.preventDefault.value))return;switch(d.eventClickHandling){case"CallBack":d.eventClickCallBack(g);break;case"PostBack":d.eventClickPostBack(g);break;case"ContextMenu":var v=g.client.contextMenu();v?v.show(g):d.contextMenu&&d.contextMenu.show(g)}typeof d.onEventClicked=="function"&&d.wa.apply(function(){d.onEventClicked(x)})}else switch(d.eventClickHandling){case"PostBack":d.eventClickPostBack(g);break;case"CallBack":d.eventClickCallBack(g);break;case"JavaScript":d.onEventClick(g)}},this.xa=function(i){var m=this.event;if(i.stopPropagation&&i.stopPropagation(),!m.client.rightClickEnabled())return!1;var g={};if(g.e=m,g.preventDefault=function(){this.preventDefault.value=!0},typeof d.onEventRightClick=="function"&&(d.onEventRightClick(g),g.preventDefault.value))return!1;switch(d.eventRightClickHandling){case"ContextMenu":var x=m.client.contextMenu();x?x.show(m):d.contextMenu&&d.contextMenu.show(this.event)}return typeof d.onEventRightClicked=="function"&&d.onEventRightClicked(g),i.preventDefault&&i.preventDefault(),!1},this.eventDeleteCallBack=function(i,m){this.U("EventDelete",m,i)},this.eventDeletePostBack=function(i,m){this.S("EventDelete",m,i)},this.ya=function(i){if(d.ta()){var m={};if(m.e=i,m.control=d,m.preventDefault=function(){this.preventDefault.value=!0},typeof d.onEventDelete=="function"&&(d.wa.apply(function(){d.onEventDelete(m)}),m.preventDefault.value))return;switch(d.eventDeleteHandling){case"CallBack":d.eventDeleteCallBack(i);break;case"PostBack":d.eventDeletePostBack(i);break;case"Update":d.events.remove(i)}typeof d.onEventDeleted=="function"&&d.wa.apply(function(){d.onEventDeleted(m)})}else switch(d.eventDeleteHandling){case"PostBack":d.eventDeletePostBack(i);break;case"CallBack":d.eventDeleteCallBack(i);break;case"JavaScript":d.onEventDelete(i)}},this.eventResizeCallBack=function(i,m,g,x){if(!m)throw"newStart is null";if(!g)throw"newEnd is null";var v={};v.e=i,v.newStart=m,v.newEnd=g,this.U("EventResize",x,v)},this.eventResizePostBack=function(i,m,g,x){if(!m)throw"newStart is null";if(!g)throw"newEnd is null";var v={};v.e=i,v.newStart=m,v.newEnd=g,this.S("EventResize",x,v)},this.K=function(i,m,g,x){var v=0,N=new Date,h=new Date;if(x==="top"?(N=d.za(i,g-v),h=i.end()):x==="bottom"&&(N=i.start(),h=d.Aa(i,g+m-v)),d.ta()){var y={};if(y.e=i,y.control=d,y.newStart=N,y.newEnd=h,y.preventDefault=function(){this.preventDefault.value=!0},typeof d.onEventResize=="function"&&(d.wa.apply(function(){d.onEventResize(y)}),y.preventDefault.value))return;switch(d.eventResizeHandling){case"PostBack":d.eventResizePostBack(i,N,h);break;case"CallBack":d.eventResizeCallBack(i,N,h);break;case"Update":i.start(N),i.end(h),d.events.update(i)}typeof d.onEventResized=="function"&&d.wa.apply(function(){d.onEventResized(y)})}else switch(d.eventResizeHandling){case"PostBack":d.eventResizePostBack(i,N,h);break;case"CallBack":d.eventResizeCallBack(i,N,h);break;case"JavaScript":d.onEventResize(i,N,h)}},this.za=function(i,m){var g=d.Ba[i.part.dayIndex].start,x=Math.floor(m/d.cellHeight);d.snapToGrid||(x=m/d.cellHeight);var v=Math.floor(x*u.fa()),N=60*v*1e3,h=60*d.sa()*60*1e3;return g.addTime(N+h)},this.Aa=function(i,m){var g=Math.floor(m/d.cellHeight);d.snapToGrid||(g=m/d.cellHeight);var x=Math.floor(g*u.fa()),v=60*x*1e3,N=60*d.sa()*60*1e3;return d.Ba[i.part.dayIndex].start.addTime(v+N)},this.eventMovePostBack=function(i,m,g,x,v){if(!m)throw"newStart is null";if(!g)throw"newEnd is null";var N={};N.e=i,N.newStart=m,N.newEnd=g,this.S("EventMove",v,N)},this.eventMoveCallBack=function(i,m,g,x,v){if(!m)throw"newStart is null";if(!g)throw"newEnd is null";var N={};N.e=i,N.newStart=m,N.newEnd=g,this.U("EventMove",v,N)},this.M=function(i,m,g,x){var v=0,N=Math.floor((g-v)/d.cellHeight);d.snapToGrid||(N=(g-v)/d.cellHeight);var h=u.fa(),y=N*h*60*1e3,w=i.start(),j=i.end(),C=new Date;w instanceof e.Date&&(w=w.toDate()),C.setTime(Date.UTC(w.getUTCFullYear(),w.getUTCMonth(),w.getUTCDate()));var _=w.getTime()-(C.getTime()+3600*w.getUTCHours()*1e3+Math.floor(w.getUTCMinutes()/h)*h*60*1e3);d.useEventBoxes==="Never"&&(_=0);var k=j.getTime()-w.getTime(),A=this.Ba[m],T=A.id;d.snapToGrid||(_=0);var R=A.start.getTime(),P=new Date;P.setTime(R+y+_);var M=new e.Date(P),I=M.addTime(k);if(d.ta()){var L={};if(L.e=i,L.newStart=M,L.newEnd=I,L.newResource=T,L.ctrl=x.ctrlKey,L.shift=x.shiftKey,L.control=d,L.preventDefault=function(){this.preventDefault.value=!0},typeof d.onEventMove=="function"&&(d.wa.apply(function(){d.onEventMove(L)}),L.preventDefault.value))return;switch(d.eventMoveHandling){case"PostBack":d.eventMovePostBack(i,M,I,A.id);break;case"CallBack":d.eventMoveCallBack(i,M,I,A.id);break;case"Update":i.start(M),i.end(I),i.resource(T),d.events.update(i)}typeof d.onEventMoved=="function"&&d.wa.apply(function(){d.onEventMoved(L)})}else switch(d.eventMoveHandling){case"PostBack":d.eventMovePostBack(i,M,I,A.id);break;case"CallBack":d.eventMoveCallBack(i,M,I,A.id);break;case"JavaScript":d.onEventMove(i,M,I,A.id,!1)}},this.timeRangeSelectedPostBack=function(i,m,g,x){var v={};v.start=i,v.end=m,this.S("TimeRangeSelected",x,v)},this.timeRangeSelectedCallBack=function(i,m,g,x){var v={};v.start=i,v.end=m,this.U("TimeRangeSelected",x,v)},this.O=function(i,m,g){if(i=new e.Date(i),m=new e.Date(m),this.ta()){var x={};if(x.start=i,x.end=m,x.resource=g,x.control=d,x.preventDefault=function(){this.preventDefault.value=!0},typeof d.onTimeRangeSelect=="function"&&(d.wa.apply(function(){d.onTimeRangeSelect(x)}),x.preventDefault.value))return;switch(d.timeRangeSelectedHandling){case"PostBack":d.timeRangeSelectedPostBack(i,m);break;case"CallBack":d.timeRangeSelectedCallBack(i,m)}typeof d.onTimeRangeSelected=="function"&&d.wa.apply(function(){d.onTimeRangeSelected(x)})}else switch(d.timeRangeSelectedHandling){case"PostBack":d.timeRangeSelectedPostBack(i,m);break;case"CallBack":d.timeRangeSelectedCallBack(i,m);break;case"JavaScript":d.onTimeRangeSelected(i,m)}},this.Ca=function(i){if(!e.Global.selecting&&d.timeRangeSelectedHandling!=="Disabled"){var m=i.which;if(m===1||m===0){e.Global.selecting={calendar:d,start:d.coords};var g=e.Global.selecting;return g.start.time=d.Da(d.coords.x,d.coords.y),g.start.columnIndex=d.Ea(d.coords.x),g.start.column=d.Ba[g.start.columnIndex],d.Fa(),d.Ga(),!1}}},this.Ga=function(){var i=e.Global.selecting;(function(){var m=i.start.column,g=i.start.columnIndex,x=m.start,v=d.getPixels(i.startTime,x),N=d.getPixels(i.endTime,x),h=v.boxTop,y=N.boxBottom;d.snapToGrid||(h=v.top,y=N.top);var w=y-h,j=d.eventBorderRadius;typeof j=="number"&&(j+="px");var C=function(){if(d.nav.activeSelection)return d.nav.activeSelection;var _=document.createElement("div");_.setAttribute("unselectable","on"),_.style.position="absolute",_.style.left="0px",_.style.width="100%";var k=document.createElement("div");return k.setAttribute("unselectable","on"),k.className=d.L("_shadow_inner"),j&&(k.style.borderRadius=j,_.style.borderRadius=j),_.appendChild(k),d.nav.events.rows[0].cells[g].selection.appendChild(_),d.elements.selection.push(_),d.nav.activeSelection=_,_}();C.className=d.L("_shadow"),C.firstChild.innerHTML="",C.style.top=h+"px",C.style.height=w+"px",d.nav.events.rows[0].cells[g].selection.appendChild(C)})()},this.Fa=function(){var i=e.Global.selecting;i.end=d.coords,i.end.time=d.Da(i.start.x,i.end.y),i.end.column=d.Ba[d.Ea(i.end.x)],d.Ha&&(i.end.time=d.Da(i.end.x,i.end.y)),d.Ia(i)},this.Ia=function(i){var m,g,x;d.snapToGrid?i.end.time<i.start.time?(m=d.Ja(i.end.time,i.start.column.start),g=d.Ka(i.start.time,i.start.column.start),x=i.endTime):(m=d.Ja(i.start.time,i.start.column.start),g=d.Ka(i.end.time,i.start.column.start),x=i.startTime):i.end.time<i.start.time?(m=i.end.time,g=i.start.time,x=i.endTime):(m=i.start.time,g=i.end.time,x=i.startTime),i.startTime=m,i.endTime=g,i.anchor=x},this.getSelection=function(){if(!d.N)return null;var i=d.N;return new e.Selection(i.startTime,i.endTime,i.start.column.id,d)},this.Ea=function(i){if(i-=d.hourWidth,i<0)return null;for(var m=0,g=d.nav.events.rows[0].cells,x=0;x<g.length;x++)if(m+=g[x].offsetWidth,i<m)return x;return null},this.Da=function(i,m){i=e.Util.atLeast(i,0);var g=this.Ea(i),x=m/(60/u.fa())/d.cellHeight,v=60*x*60*1e3,N=6e4*Math.floor(v/6e4),h=this.Ba[g];return h?h.start.addTime(N):null},this.Ja=function(i,m){var g=i.getTime();m&&(g-=m.getTime());var x=60*u.fa()*1e3,v=g%x;return i.addTime(-v)},this.Ka=function(i,m){var g=this.Ja(i,m);return g.getTime()===i.getTime()?g:g.addTime(60*u.fa()*1e3)},this.La={},this.La.getCellCoords=function(){var i={};if(i.x=0,i.y=0,!d.coords)return null;i.x=d.Ea(d.coords.x);var m=0,g=Math.floor((d.coords.y-m)/d.cellHeight);return i.y=g,i.x<0?null:i},this.columns={},this.columns.list=[],this.columns.load=function(i,m,g){if(!i)throw new e.Exception("columns.load(): 'url' parameter required");var x=function(N){var h={};h.exception=N.exception,h.request=N.request,typeof g=="function"&&g(h)},v=function(N){var h,y=N.request;try{h=JSON.parse(y.responseText)}catch(C){var w={};return w.exception=C,void x(w)}if(e.isArray(h)){var j={};if(j.preventDefault=function(){this.preventDefault.value=!0},j.data=h,typeof m=="function"&&m(j),j.preventDefault.value)return;d.columns.list=h,d.Ma&&d.update()}};d.columnsLoadMethod&&d.columnsLoadMethod.toUpperCase()==="POST"?e.ajax({method:"POST",url:i,success:v,error:x}):e.ajax({method:"GET",url:i,success:v,error:x})},this.ga=function(){var i;i=d.viewType!=="Resources"?this.Na():d.columns.list,this.Ba=[];for(var m=0;m<i.length;m++){var g=this.Oa(i[m]);this.Ba.push(g)}},this.Oa=function(i){var m={};if(m.name=i.name,m.html=i.html,m.id=i.id,m.toolTip=i.toolTip,m.data=i,i.start?m.start=new e.Date(i.start):m.start=new e.Date(d.startDate),this.heightSpec==="BusinessHoursNoScroll"){var g=m.start.getDatePart();m.start=g.addHours(this.businessBeginsHour)}return m.putIntoBlock=function(x){for(var v=0;v<this.blocks.length;v++){var N=this.blocks[v];if(N.overlapsWith(x.part.top,x.part.height))return N.events.push(x),N.min=Math.min(N.min,x.part.top),N.max=Math.max(N.max,x.part.top+x.part.height),v}var N=[];return N.lines=[],N.events=[],N.overlapsWith=function(h,y){return!(h+y-1<this.min||h>this.max-1)},N.putIntoLine=function(h){for(var y=0;y<this.lines.length;y++){var w=this.lines[y];if(w.isFree(h.part.top,h.part.height))return w.push(h),y}var w=[];return w.isFree=function(j,C){for(var _=j+C-1,k=this.length,A=0;A<k;A++){var T=this[A];if(!(_<T.part.top||j>T.part.top+T.part.height-1))return!1}return!0},w.push(h),this.lines.push(w),this.lines.length-1},N.events.push(x),N.min=x.part.top,N.max=x.part.top+x.part.height,this.blocks.push(N),this.blocks.length-1},m.putIntoLine=function(x){for(var v=0;v<this.lines.length;v++){var N=this.lines[v];if(N.isFree(x.part.top,x.part.height))return N.push(x),v}var N=[];return N.isFree=function(h,y){for(var w=h+y-1,j=this.length,C=0;C<j;C++){var _=this[C];if(!(w<_.part.top||h>_.part.top+_.part.height-1))return!1}return!0},N.push(x),this.lines.push(N),this.lines.length-1},m},this.Na=function(){var i=[],m=this.startDate.getDatePart(),g=this.days;switch(this.viewType){case"Day":g=1;break;case"Week":g=7;var x=u.ea();m=m.firstDayOfWeek(x);break;case"WorkWeek":g=5,m=m.firstDayOfWeek(1)}for(var v=0;v<g;v++){var N=d.headerDateFormat?d.headerDateFormat:u.locale().datePattern,h={};h.start=m.addDays(v),h.name=h.start.toString(N,u.locale()),i.push(h)}return i},this.visibleStart=function(){if(d.viewType==="Resources"){if(d.Ba.length===0)return e.Date.today();var i=d.Ba.map(function(g){return g.start.getTime()}),m=Math.min.apply(null,i);return new e.Date(m)}return this.Ba[0].start},this.visibleEnd=function(){if(d.viewType==="Resources"){if(d.Ba.length===0)return e.Date.today().addDays(1);var i=d.Ba.map(function(x){return x.start.getTime()}),m=Math.max.apply(null,i);return new e.Date(m).addDays(1)}var m=this.Ba.length-1;return this.Ba[m].start.addDays(1)},this.L=function(i){var m=this.theme||this.cssClassPrefix;return m?m+i:""},this.Y=function(){if(this.elements.events)for(var i=0;i<this.elements.events.length;i++){var m=this.elements.events[i];d.Pa(m)}this.elements.events=[]},this.Pa=function(i){(function(){var x=i.domArgs;if(i.domArgs=null,x&&typeof d.onBeforeEventDomRemove=="function"&&d.onBeforeEventDomRemove(x),x&&typeof d.onBeforeEventDomAdd=="function"){var v=x&&x.Qa;v&&d.Sa.Ra&&n(x.element)&&(d.Sa.Ta=!0,d.Sa.Ua(v),d.Sa.Ta=!1)}})();var m=i.event;if(m&&(m.calendar=null),i.onclick=null,i.onclickSave=null,i.onmouseover=null,i.onmouseout=null,i.onmousemove=null,i.onmousedown=null,i.firstChild&&i.firstChild.firstChild&&i.firstChild.firstChild.tagName&&i.firstChild.firstChild.tagName.toUpperCase()==="IMG"){var g=i.firstChild.firstChild;g.onmousedown=null,g.onmousemove=null,g.onclick=null}i.helper=null,i.data=null,i.event=null,e.de(i)},this.Va=function(i){var m=i.cache||i.data,g=this.nav.events,x=m.borderRadius||d.eventBorderRadius;typeof x=="number"&&(x+="px");var v=document.createElement("div");v.style.position="absolute",v.style.left=i.part.left+"%",v.style.top=i.part.top+"px",v.style.width=i.part.width+"%",v.style.height=Math.max(i.part.height,2)+"px",v.style.overflow="hidden",v.data=i,v.event=i,v.unselectable="on",v.style.MozUserSelect="none",v.style.KhtmlUserSelect="none",v.className=this.L("_event"),m.cssClass&&e.Util.addClass(v,m.cssClass),d.showToolTip&&i.client.toolTip()&&(v.title=i.client.toolTip()),v.isFirst=i.part.start.getTime()===i.start().getTime(),v.isLast=i.part.end.getTime()===i.end().getTime(),v.onclick=this.va,e.re(v,"contextmenu",this.xa),v.onmouseout=function(T){v.deleteIcon&&(v.deleteIcon.style.display="none")},v.onmousemove=function(T){var R=5;if(typeof r<"u"){var P=e.mo3(v,T);if(P&&!r.resizing&&!r.moving){v.deleteIcon&&(v.deleteIcon.style.display="");var M=this.isLast;P.y<=R&&i.client.resizeEnabled()?(this.style.cursor="n-resize",this.dpBorder="top"):this.offsetHeight-P.y<=R&&i.client.resizeEnabled()?M?(this.style.cursor="s-resize",this.dpBorder="bottom"):this.style.cursor="not-allowed":r.resizing||r.moving||(d.eventClickHandling!=="Disabled"?this.style.cursor="pointer":this.style.cursor="default")}}},v.onmousedown=function(T){var R=T.which||T.button;if(this.style.cursor!=="n-resize"&&this.style.cursor!=="s-resize"||R!==1){if(R===1&&i.client.moveEnabled()){r.moving=this,e.Global.moving=this,r.moving.event=this.event;var P=r.moving.helper={};P.oldColumn=d.Ba[this.data.part.dayIndex].id,r.originalMouse=e.mc(T),r.originalTop=this.offsetTop;var M=e.mo3(this,T);M?r.moveOffsetY=M.y:r.moveOffsetY=0,d.nav.top.style.cursor="move"}}else r.resizing=this,e.Global.resizing=this,r.originalMouse=e.mc(T),r.originalHeight=this.offsetHeight,r.originalTop=this.offsetTop,d.nav.top.style.cursor=this.style.cursor;return!1};var N=document.createElement("div");if(N.setAttribute("unselectable","on"),N.className=d.L("_event_inner"),m.borderColor==="darker"&&m.backColor?N.style.borderColor=e.ColorUtil.darker(m.backColor,2):N.style.borderColor=m.borderColor,m.backColor&&(N.style.background=m.backColor),m.fontColor&&(N.style.color=m.fontColor),x&&(v.style.borderRadius=x,N.style.borderRadius=x),v.appendChild(N),i.client.barVisible()){var h=i.part.height-2,y=100*i.part.barTop/h,w=Math.ceil(100*i.part.barHeight/h),j=document.createElement("div");j.setAttribute("unselectable","on"),j.className=this.L("_event_bar"),j.style.position="absolute",m.barBackColor&&(j.style.backgroundColor=m.barBackColor);var C=document.createElement("div");C.setAttribute("unselectable","on"),C.className=this.L("_event_bar_inner"),C.style.top=y+"%",0<w&&w<=1?C.style.height="1px":C.style.height=w+"%",m.barColor&&(C.style.backgroundColor=m.barColor),j.appendChild(C),v.appendChild(j)}if(i.client.deleteEnabled()){var _=document.createElement("div");_.style.position="absolute",_.style.right="2px",_.style.top="2px",_.style.width="17px",_.style.height="17px",_.className=d.L("_event_delete"),_.onmousedown=function(T){T.stopPropagation()},_.onclick=function(T){T.stopPropagation();var R=this.parentNode.event;R&&d.ya(R)},_.style.display="none",v.deleteIcon=_,v.appendChild(_)}var k=m.areas?e.Areas.copy(m.areas):[];if(e.Areas.attach(v,i,{areas:k}),typeof d.onAfterEventRender=="function"){var A={};A.e=v.event,A.div=v,d.onAfterEventRender(A)}(function(){var T={};if(T.control=d,T.e=i,T.element=null,v.domArgs=T,typeof d.onBeforeEventDomAdd=="function"&&d.onBeforeEventDomAdd(T),T.element){var R=N;if(R)if(T.Qa=R,n(T.element)){if(!d.Sa.Ra)throw new e.Exception("Can't reach Vue");d.Sa.Ta=!0,d.Sa.Wa(T.element,R),d.Sa.Ta=!1}else R.appendChild(T.element)}else N.innerHTML=i.client.innerHTML()})(),g.rows[0].cells[i.part.dayIndex]&&(g.rows[0].cells[i.part.dayIndex].firstChild.appendChild(v),d.Xa(v)),d.elements.events.push(v)},this.Xa=function(i){for(var m=i&&i.childNodes?i.childNodes.length:0,g=0;g<m;g++)try{var x=i.childNodes[g];x.nodeType===1&&(x.unselectable="on",this.Xa(x))}catch{}},this.na=function(){for(var i=0;i<this.Ba.length;i++){var m=this.Ba[i];if(m.blocks)for(var g=0;g<m.blocks.length;g++)for(var x=m.blocks[g],v=0;v<x.lines.length;v++)for(var N=x.lines[v],h=0;h<N.length;h++){var y=N[h];y.part.width=100/x.lines.length,y.part.left=y.part.width*v;var w=v===x.lines.length-1;w||(y.part.width=1.5*y.part.width),this.Va(y)}}},this.Ya=function(){this.nav.top.innerHTML="",e.Util.addClass(this.nav.top,this.L("_main")),this.nav.top.style.MozUserSelect="none",this.nav.top.style.KhtmlUserSelect="none",this.nav.top.style.position="relative",this.nav.top.style.width=this.width?this.width:"100%",this.hideUntilInit&&(this.nav.top.style.visibility="hidden"),this.visible||(this.nav.top.style.display="none"),this.nav.scroll=document.createElement("div"),this.nav.scroll.style.height=this.Za()+"px",this.heightSpec==="BusinessHours"?this.nav.scroll.style.overflow="auto":this.nav.scroll.style.overflow="hidden",this.nav.scroll.style.position="relative";var i=this.$a();this.nav.top.appendChild(i),this.nav.scroll.style.zoom=1;var m=this._a();this.nav.scrollable=m.firstChild,this.nav.scroll.appendChild(m),this.nav.top.appendChild(this.nav.scroll),this.nav.scrollLayer=document.createElement("div"),this.nav.scrollLayer.style.position="absolute",this.nav.scrollLayer.style.top="0px",this.nav.scrollLayer.style.left="0px",this.nav.top.appendChild(this.nav.scrollLayer),this.nav.loading=document.createElement("div"),this.nav.loading.style.position="absolute",this.nav.loading.style.top="0px",this.nav.loading.style.left=this.hourWidth+5+"px",this.nav.loading.innerHTML=d.ab(d.loadingLabelText,d.loadingLabelHtml),this.nav.loading.style.display="none",this.nav.top.appendChild(this.nav.loading)},this.la=function(){this.fasterDispose||e.pu(this.nav.hourTable),this.nav.scrollable.rows[0].cells[0].innerHTML="",this.nav.hourTable=this.bb(),this.nav.scrollable.rows[0].cells[0].appendChild(this.nav.hourTable)},this._a=function(){var i=document.createElement("div");i.style.zoom=1,i.style.position="relative";var m=document.createElement("table");m.cellSpacing="0",m.cellPadding="0",m.border="0",m.style.border="0px none",m.style.width="100%",m.style.position="absolute";var g,x=m.insertRow(-1);g=x.insertCell(-1),g.valign="top",g.style.padding="0px",g.style.border="0px none",this.nav.hourTable=this.bb(),g.appendChild(this.nav.hourTable),g=x.insertCell(-1),g.valign="top",g.width="100%",g.style.padding="0px",g.style.border="0px none";var v=document.createElement("div");return v.style.position="relative",g.appendChild(v),v.appendChild(this.cb()),v.appendChild(this.db()),i.appendChild(m),this.nav.zoom=i,i},this.cb=function(){var i=document.createElement("table");return i.cellPadding="0",i.cellSpacing="0",i.border="0",i.style.width="100%",i.style.border="0px none",i.style.tableLayout="fixed",this.nav.main=i,this.nav.events=i,i},this.db=function(){var i=document.createElement("table");i.style.top="0px",i.cellPadding="0",i.cellSpacing="0",i.border="0",i.style.position="absolute",i.style.width="100%",i.style.border="0px none",i.style.tableLayout="fixed",this.nav.events=i;for(var m=this.Ba,g=m.length,x=i.insertRow(-1),v=0;v<g;v++){var N=x.insertCell(-1);N.style.padding="0px",N.style.border="0px none",N.style.height="0px",N.style.overflow="visible",d.rtl||(N.style.textAlign="left");var h=document.createElement("div");h.style.marginRight=d.columnMarginRight+"px",h.style.marginLeft=d.columnMarginLeft+"px",h.style.position="relative",h.style.height="1px",h.style.marginTop="-1px";var y=document.createElement("div");N.selection=y,N.appendChild(h),N.appendChild(y)}return i},this.bb=function(){var i=document.createElement("table");i.cellSpacing="0",i.cellPadding="0",i.border="0",i.style.border="0px none",i.style.width=this.hourWidth+"px",i.oncontextmenu=function(){return!1};for(var m=d.oa(),g=0;g<m;g++)this.eb(i,g);return i},this.eb=function(i,m){var g=60*d.cellHeight/u.fa(),x=i.insertRow(-1);x.style.height=g+"px";var v=x.insertCell(-1);v.valign="bottom",v.unselectable="on",v.style.cursor="default",v.style.padding="0px",v.style.border="0px none";var N=document.createElement("div");N.style.position="relative",N.className=this.L("_rowheader"),N.style.width=this.hourWidth+"px",N.style.height=g+"px",N.style.overflow="hidden",N.unselectable="on";var h=document.createElement("div");h.className=this.L("_rowheader_inner"),h.unselectable="on";var y=document.createElement("div");y.unselectable="on";var w=this.startDate.addHours(m).addHours(d.sa()),j=w.getHours(),C=j<12,_=u.timeFormat();_==="Clock12Hours"&&(j%=12,j===0&&(j=12)),y.innerHTML=j;var k=document.createElement("span");k.unselectable="on",k.className=this.L("_rowheader_minutes");var A;A=_==="Clock12Hours"?C?"AM":"PM":"00",k.innerHTML=A,y.appendChild(k),h.appendChild(y),N.appendChild(h),v.appendChild(N)},this.Za=function(){var i=u.fa(),m=60/i;switch(this.heightSpec){case"Full":return 24*m*this.cellHeight;case"BusinessHours":var g=this.qa();return g*this.cellHeight*m;case"BusinessHoursNoScroll":var g=this.qa();return g*this.cellHeight*m;default:throw"DayPilot.Calendar: Unexpected 'heightSpec' value."}},this.fb=function(){var i=d.nav.corner?d.nav.corner.parentNode:null;if(i){i.innerHTML="";var m=this.gb();i.appendChild(m),d.nav.corner=m}},this.$a=function(){var i=document.createElement("div");i.style.overflow="auto";var m=document.createElement("table");m.cellPadding="0",m.cellSpacing="0",m.border="0",m.style.width="100%",m.style.borderCollapse="separate",m.style.border="0px none";var g=m.insertRow(-1),x=g.insertCell(-1);x.style.padding="0px",x.style.border="0px none";var v=this.gb();x.appendChild(v),this.nav.corner=v,x=g.insertCell(-1),x.style.width="100%",x.valign="top",x.style.position="relative",x.style.padding="0px",x.style.border="0px none",this.nav.header=document.createElement("table"),this.nav.header.cellPadding="0",this.nav.header.cellSpacing="0",this.nav.header.border="0",this.nav.header.width="100%",this.nav.header.style.tableLayout="fixed",this.nav.header.oncontextmenu=function(){return!1};var N=this.nav.scroll.style.overflow!=="hidden";if(x.appendChild(this.nav.header),N){x=g.insertCell(-1),x.unselectable="on";var h=document.createElement("div");h.unselectable="on",h.style.position="relative",h.style.width="16px",h.style.height=this.headerHeight+"px",h.className=this.L("_cornerright");var y=document.createElement("div");y.className=this.L("_cornerright_inner"),h.appendChild(y),x.appendChild(h),this.nav.cornerRight=h}return i.appendChild(m),i},this.gb=function(){var i=document.createElement("div");i.style.position="relative",i.className=this.L("_corner"),i.style.width=this.hourWidth+"px",i.style.height=this.headerHeight+"px",i.oncontextmenu=function(){return!1};var m=document.createElement("div");return m.unselectable="on",m.className=this.L("_corner_inner"),i.appendChild(m),i},this.Z=function(){var i=this.nav.main;i.root=null,i.onmouseup=null;for(var m=0;m<i.rows.length;m++)for(var g=i.rows[m],x=0;x<g.cells.length;x++){var v=g.cells[x];d.hb(v)}this.fasterDispose||e.pu(i)},this.hb=function(i){i&&(function(){var m=i,g=m.domArgs;if(m.domArgs=null,g&&typeof d.onBeforeCellDomRemove=="function"&&d.onBeforeCellDomRemove(g),g&&typeof d.onBeforeCellDomAdd=="function"){var x=g&&g.Qa;x&&d.Sa.Ra&&n(g.element)&&(d.Sa.Ta=!0,d.Sa.Ua(x),d.Sa.Ta=!1)}}(),i.root=null,i.onmousedown=null,i.onmousemove=null,i.onmouseout=null,i.onmouseup=null)},this.ka=function(){var i=u.fa(),m=this.nav.main,g=60*i*1e3,x=this.ra(),v=d.Ba;for(m&&this.Z();m&&m.rows&&m.rows.length>0;)this.fasterDispose||e.pu(m.rows[0]),m.deleteRow(0);this.tableCreated=!0;for(var N=v.length,h=this.nav.events;h&&h.rows&&h.rows.length>0;)this.fasterDispose||e.pu(h.rows[0]),h.deleteRow(0);for(var N=v.length,y=h.insertRow(-1),w=0;w<N;w++){var j=y.insertCell(-1);j.style.padding="0px",j.style.border="0px none",j.style.height="0px",j.style.overflow="visible",d.rtl||(j.style.textAlign="left");var C=document.createElement("div");C.style.marginRight=d.columnMarginRight+"px",C.style.marginLeft=d.columnMarginLeft+"px",C.style.position="relative",C.style.height="1px",C.style.marginTop="-1px";var _=document.createElement("div");_.style.position="relative",j.selection=_,j.appendChild(C),j.appendChild(_)}for(var k=0;k<x;k++){var y=m.insertRow(-1);y.style.MozUserSelect="none",y.style.KhtmlUserSelect="none";for(var w=0;w<N;w++){var A=this.Ba[w],j=y.insertCell(-1);j.start=A.start.addTime(k*g),j.end=j.start.addTime(g),j.resource=A.id,j.onmousedown=this.Ca,j.onmouseup=function(){return!1},j.onclick=function(){return!1},j.root=this,j.style.padding="0px",j.style.border="0px none",j.style.verticalAlign="top",j.style.height=d.cellHeight+"px",j.style.overflow="hidden",j.unselectable="on";var C=document.createElement("div");C.unselectable="on",C.style.height=d.cellHeight+"px",C.style.position="relative",C.className=this.L("_cell");var T=this.ib(j.start,j.end),R={business:T,text:null,html:null,cssClass:null,backColor:null,backImage:null,backRepeat:null,fontColor:null},P={start:j.start,end:j.end,resource:j.resource,properties:R,x:w,y:k};(function(){if(typeof d.onBeforeCellRender=="function"){var H={};H.cell=P,d.onBeforeCellRender(H)}})(),R.business&&e.Util.addClass(C,d.L("_cell_business")),R.cssClass&&e.Util.addClass(C,R.cssClass);var M=document.createElement("div");M.setAttribute("unselectable","on"),M.className=this.L("_cell_inner");var I=e.Util.escapeTextHtml(R.text,R.html);I&&(M.innerHTML=I),R.backColor&&(M.style.backgroundColor=R.backColor),R.backImage&&(M.style.backgroundImage="url("+R.backImage+")"),R.backRepeat&&(M.style.backgroundRepeat=R.backRepeat),R.fontColor&&(M.style.color=R.fontColor),C.appendChild(M),function(){if(typeof d.onBeforeCellDomAdd=="function"||typeof d.onBeforeCellDomRemove=="function"){var H={};if(H.control=d,H.cell=P,H.element=null,j.domArgs=H,typeof d.onBeforeCellDomAdd=="function"&&d.onBeforeCellDomAdd(H),H.element){var W=M;if(W)if(H.Qa=W,n(H.element)){if(!d.Sa.Ra)throw new e.Exception("Can't reach Vue");d.Sa.Ta=!0,d.Sa.Wa(H.element,W),d.Sa.Ta=!1}else W.appendChild(H.element)}}}(),j.appendChild(C)}}m.root=this,d.nav.scrollable.onmousemove=function(L){var B=d.nav.scrollable;d.coords=e.mo3(B,L);var U=e.mc(L);if(r.resizing){r.resizingShadow||(r.resizingShadow=d.ba(r.resizing,!1,d.shadow));var F=d.cellHeight,H=0,W=U.y-r.originalMouse.y;if(r.resizing.dpBorder==="bottom"){var J=r.originalHeight+W;d.snapToGrid&&(J=Math.floor((r.originalHeight+r.originalTop+W+F/2)/F)*F-r.originalTop+H),J<F&&(J=F);var q=d.nav.main.clientHeight;r.originalTop+J>q&&(J=q-r.originalTop),r.resizingShadow.style.height=J+"px"}else if(r.resizing.dpBorder==="top"){var G=r.originalTop+W;d.snapToGrid&&(G=Math.floor((r.originalTop+W-H+F/2)/F)*F+H),G<H&&(G=H),G>r.originalTop+r.originalHeight-F&&(G=r.originalTop+r.originalHeight-F);var J=r.originalHeight-(G-r.originalTop);J<F?J=F:r.resizingShadow.style.top=G+"px",r.resizingShadow.style.height=J+"px"}}else if(r.moving){if(!d.coords)return;if(!r.movingShadow){var z=3,U=e.mc(L),K=Math.abs(U.x-r.originalMouse.x)+Math.abs(U.y-r.originalMouse.y);if(K<=z)return;r.movingShadow=d.ba(r.moving,!0,d.shadow),r.movingShadow.style.width=r.movingShadow.parentNode.offsetWidth+1+"px"}var F=d.cellHeight,H=0,Z=r.moveOffsetY;Z||(Z=F/2);var G=d.coords.y-Z;d.snapToGrid&&(G=Math.floor((d.coords.y-Z-H+F/2)/F)*F+H),G<H&&(G=H);var ie=d.nav.events,q=d.nav.main.clientHeight+H,ye=parseInt(r.movingShadow.style.height);G+ye>q&&(G=q-ye),e.Util.addClass(r.moving,d.L("_event_moving_source")),r.movingShadow.parentNode.style.display="none",r.movingShadow.style.top=G+"px",r.movingShadow.parentNode.style.display="";var de=ie.clientWidth/ie.rows[0].cells.length,xe=Math.floor((d.coords.x-45)/de);xe<0&&(xe=0),xe<ie.rows[0].cells.length&&xe>=0&&r.movingShadow.column!==xe&&(r.movingShadow.column=xe,r.moveShadow(ie.rows[0].cells[xe]))}else e.Global.selecting&&(d.Fa(),d.Ga())},d.nav.scrollable.style.display=""},this.ib=function(i,m){return this.businessBeginsHour<this.businessEndsHour?!(i.getHours()<this.businessBeginsHour||i.getHours()>=this.businessEndsHour||i.getDayOfWeek()===6||i.getDayOfWeek()===0):i.getHours()>=this.businessBeginsHour||i.getHours()<this.businessEndsHour},this._=function(){var i=this.nav.header;if(i&&i.rows)for(var m=0;m<i.rows.length;m++)for(var g=i.rows[m],x=0;x<g.cells.length;x++){var v=g.cells[x];v.onclick=null,v.onmousemove=null,v.onmouseout=null}this.fasterDispose||e.pu(i)},this.jb=function(i){function m(h){var y=x[h],w=i?g.insertCell(-1):g.cells[h];w.data=y,w.style.overflow="hidden",w.style.padding="0px",w.style.border="0px none",w.style.height=d.headerHeight+"px",w.onclick=d.kb;var j,C=i?document.createElement("div"):w.firstChild;i?(C.unselectable="on",C.style.MozUserSelect="none",C.style.cursor="default",C.style.position="relative",C.className=d.L("_colheader"),C.style.height=d.headerHeight+"px",d.headerTextWrappingEnabled||(C.style.whiteSpace="nowrap"),j=document.createElement("div"),j.className=d.L("_colheader_inner"),j.unselectable="on",C.appendChild(j),w.appendChild(C)):j=C.firstChild;var _={};_.header={},_.header.cssClass=null,_.header.verticalAlignment="center",_.header.horizontalAlignment="center",_.column=d.lb(y,d),typeof d.onBeforeHeaderRender=="function"&&(e.Util.copyProps(y,_.header,["id","start","name","html","backColor","toolTip","areas"]),d.onBeforeHeaderRender(_),e.Util.copyProps(_.header,y,["html","backColor","toolTip","areas","cssClass","verticalAlignment","horizontalAlignment"])),y.toolTip&&(j.title=y.toolTip),y.cssClass&&e.Util.addClass(C,y.cssClass),y.backColor&&(j.style.background=y.backColor),y.areas&&e.Areas.attach(C,y);var k=y.verticalAlignment;if(k)switch(j.style.display="flex",k){case"center":j.style.alignItems="center";break;case"top":j.style.alignItems="flex-start";break;case"bottom":j.style.alignItems="flex-end"}var A=y.horizontalAlignment;if(A)switch(A){case"center":j.style.justifyContent="center";break;case"left":j.style.justifyContent="flex-start";break;case"right":j.style.justifyContent="flex-end"}C.firstChild.innerHTML=d.ab(y.name,y.html)}for(var g=i?this.nav.header.insertRow(-1):this.nav.header.rows[0],x=this.Ba,v=x.length,N=0;N<v;N++)m(N)},this.kb=function(i){if(d.headerClickHandling!=="Disabled"){var m=this.data,g=d.lb(m),x={};x.header={},x.header.id=m.id,x.header.name=m.name,x.header.start=m.start,x.column=g,x.originalEvent=i,x.shift=i.shiftKey,x.ctrl=i.ctrlKey,x.meta=i.metaKey,x.preventDefault=function(){this.preventDefault.value=!0},typeof d.onHeaderClick=="function"&&(d.onHeaderClick(x),x.preventDefault.value)||typeof d.onHeaderClicked=="function"&&d.onHeaderClicked(x)}},this.lb=function(i){return new e.CalendarColumn(i,d)},this.mb=function(){return this.width&&this.width.indexOf("px")!==-1?"Pixel":"Percentage"},this.ja=function(){var i=this.nav.header,m=!0,g=this.Ba;for(g.length;this.headerCreated&&i&&i.rows&&i.rows.length>0;)this.fasterDispose||e.pu(i.rows[0]),i.deleteRow(0);this.headerCreated=!0,this.jb(m)},this.loadingStart=function(){this.loadingLabelVisible&&(this.nav.loading.innerHTML=this.loadingLabelText,this.nav.loading.style.top=this.headerHeight+5+"px",this.nav.loading.style.display="")},this.commandCallBack=function(i,m){var g={};g.command=i,this.U("Command",m,g)},this.loadingStop=function(i){this.callbackTimeout&&window.clearTimeout(this.callbackTimeout),this.nav.loading.style.display="none"},this.nb=function(){var i=this.nav.scroll;i.root=this,d.ob(),i.onscroll||(i.onscroll=function(){d.pb()})},this.callbackError=function(i,m){alert(`Error!\r
Result: `+i+`\r
Context:`+m)},this.qb=function(){var i=e.sw(this.nav.scroll),m=this.nav.cornerRight;m&&(m.style.width=i+"px")},this.rb=function(){r.globalHandlers||(r.globalHandlers=!0,e.re(document,"mouseup",r.gMouseUp))},this.events={},this.events.add=function(i){var m=null;if(i instanceof e.Event)m=i.data;else{if(typeof i!="object")throw"DayPilot.Calendar.events.add() expects an object or DayPilot.Event instance.";m=i}d.events.list||(d.events.list=[]),d.events.list.push(m),d.sb({eventsOnly:!0}),d.wa.notify()},this.events.find=function(i){if(!d.events.list)return null;if(typeof i=="function"){for(var m=i,g=0;g<d.events.list.length;g++){var x=new e.Event(d.events.list[g],d);if(m(x))return x}return null}for(var g=0;g<d.events.list.length;g++){var v=d.events.list[g];if(v.id===i)return new e.Event(v,d)}return null},this.events.forRange=function(i,m){return i=new e.Date(i),m=new e.Date(m),(d.events.list||[]).filter(function(g){return a(i,m,new e.Date(g.start),new e.Date(g.end))}).map(function(g){return new e.Event(g,d)})},this.events.update=function(i){if(i instanceof e.Event)i.commit();else if(typeof i=="object"){var m=d.events.find(i.id);if(m){var g=e.indexOf(d.events.list,m.data);d.events.list.splice(g,1,i)}}d.sb({eventsOnly:!0}),d.wa.notify()},this.events.remove=function(i){var m;if(i instanceof e.Event)m=i.data;else if(typeof i=="object"){var g=d.events.find(i.id);g&&(m=g.data)}else if(typeof i=="string"||typeof i=="number"){var g=d.events.find(i);g&&(m=g.data)}var x=e.indexOf(d.events.list,m);d.events.list.splice(x,1),d.sb({eventsOnly:!0}),d.wa.notify()},this.events.load=function(i,m,g){var x=function(y){var w={};w.exception=y.exception,w.request=y.request,typeof g=="function"&&g(w)},v=function(y){var w,j=y.request;try{w=JSON.parse(j.responseText)}catch(k){var C={};return C.exception=k,void x(C)}if(e.isArray(w)){var _={};if(_.preventDefault=function(){this.preventDefault.value=!0},_.data=w,typeof m=="function"&&m(_),_.preventDefault.value)return;d.events.list=w,d.Ma&&d.sb({eventsOnly:!0})}};if(d.eventsLoadMethod&&d.eventsLoadMethod.toUpperCase()==="POST")e.Http.ajax({method:"POST",data:{start:d.visibleStart().toString(),end:d.visibleEnd().toString()},url:i,success:v,error:x});else{var N=i,h="start="+d.visibleStart().toString()+"&end="+d.visibleEnd().toString();N+=N.indexOf("?")>-1?"&"+h:"?"+h,e.Http.ajax({method:"GET",url:N,success:v,error:x})}},this.tb=function(){if(d.nav.top.className!==d.L("_main")){d.nav.top.className=d.L("_main");var i=d.nav.corner;i.className=d.L("_corner"),i.firstChild.className=d.L("_corner_inner");var m=d.nav.cornerRight;m&&(m.className=d.L("_cornerright"),m.firstChild.className=d.L("_cornerright_inner"))}},this.update=function(i){if(d.Q)throw new e.Exception("You are trying to update a DayPilot.Calendar instance that has been disposed.");d.ub(i),d.sb()},this.sb=function(i){if(this.Ma){var i=i||{},m=!i.eventsOnly;d.vb(),d.Y(),d.nav.top.style.cursor="auto",m&&(d.ga(),d.ja(),d.ka(),d.la(),d.ma(),d.fb(),d.qb(),d.tb(),d.ob()),d.ha(),d.ia(),d.na(),d.clearSelection(),this.visible?this.show():this.hide()}},this.wb=null,this.ub=function(i){if(i){var m={events:{preInit:function(){var v=this.data||[];e.isArray(v.list)?d.events.list=v.list:d.events.list=v}},columns:{preInit:function(){d.columns.list=this.data}}};this.wb=m;for(var g in i)if(m[g]){var x=m[g];x.data=i[g],x.preInit&&x.preInit()}else d[g]=i[g]}},this.xb=function(){var i=this.wb;for(var m in i){var g=i[m];g.postInit&&g.postInit()}},this.yb=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if(typeof this.id!="string")throw"DayPilot.Calendar() constructor requires the target element or its ID as a parameter";if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw"DayPilot.Calendar: The placeholder element not found: '"+o+"'."}},this.zb={},this.zb.events=[],this.Ab=function(i){var m=this.zb.events,g=this.events.list[i],x={};for(var v in g)x[v]=g[v];if(x.start=new e.Date(g.start),x.end=new e.Date(g.end),typeof this.onBeforeEventRender=="function"){var N={};N.control=d,N.data=x,this.onBeforeEventRender(N)}m[i]=x},this.ha=function(){var i=this.events.list;if(d.zb.events=[],i){if(!e.isArray(i))throw new e.Exception("DayPilot.Calendar.events.list expects an array object. You supplied: "+typeof i);var m=i.length,g=864e5;this.cache.pixels={};var x=[];this.scrollLabels=[],this.minStart=1e4,this.maxEnd=0;for(var v=0;v<m;v++){var N=i[v],h=N;if(typeof h!="object")throw new e.Exception("Event data item must be an object");if(!h.start)throw new e.Exception("Event data item must specify 'start' property");if(!h.end)throw new e.Exception("Event data item must specify 'end' property");if(h instanceof e.Event)throw new e.Exception("DayPilot.Calendar: DayPilot.Event object detected in events.list array. Use raw event data instead.")}if(typeof this.onBeforeEventRender=="function")for(var v=0;v<m;v++)this.Ab(v);for(var v=0;v<this.Ba.length;v++){var y={};y.minEnd=1e6,y.maxStart=-1,this.scrollLabels.push(y);var w=this.Ba[v];w.events=[],w.lines=[],w.blocks=[];for(var j=new e.Date(w.start),C=j.getTime(),_=j.addTime(g),k=_.getTime(),A=0;A<m;A++)if(!x[A]){var N=i[A],T=new e.Date(N.start),R=new e.Date(N.end),P=T.getTime(),M=R.getTime();if(!(M<P)){var I=!(M<=C||P>=k);if(d.viewType==="Resources"&&(I=I&&w.id===N.resource),I){var L=new e.Event(N,d);L.part.dayIndex=v,L.part.start=C<P?T:j,L.part.end=k>M?R:_;var B=this.getPixels(L.part.start,w.start),U=this.getPixels(L.part.end,w.start),F=B.top,H=U.top;if(F===H&&(B.cut||U.cut))continue;var W=U.boxBottom,J=d.useEventBoxes==="Always";J?(L.part.top=Math.floor(F/this.cellHeight)*this.cellHeight+1,L.part.height=Math.max(Math.ceil(W/this.cellHeight)*this.cellHeight-L.part.top,this.cellHeight-1)+1):(L.part.top=F+1,L.part.height=H-F+1),L.part.barTop=Math.max(F-L.part.top-1,0),L.part.barHeight=Math.max(H-F-2,1);var T=L.part.top,R=L.part.top+L.part.height;T>y.maxStart&&(y.maxStart=T),R<y.minEnd&&(y.minEnd=R),T<this.minStart&&(this.minStart=T),R>this.maxEnd&&(this.maxEnd=R),w.events.push(L),typeof this.onBeforeEventRender=="function"&&(L.cache=this.zb.events[A]),L.part.start.getTime()===P&&L.part.end.getTime()===M&&(x[A]=!0)}}}}for(var v=0;v<this.Ba.length;v++){var w=this.Ba[v];w.events.sort(this.Bb);for(var A=0;A<w.events.length;A++){var N=w.events[A];w.putIntoBlock(N)}for(var A=0;A<w.blocks.length;A++){var q=w.blocks[A];q.events.sort(this.Bb);for(var G=0;G<q.events.length;G++){var N=q.events[G];q.putIntoLine(N)}}}}},this.Bb=function(i,m){if(!(i&&m&&i.start&&m.start))return 0;var g=i.start().getTime()-m.start().getTime();return g!==0?g:m.end().getTime()-i.end().getTime()},this.debug=function(i,m){this.debuggingEnabled&&(d.debugMessages||(d.debugMessages=[]),d.debugMessages.push(i),typeof console<"u"&&console.log(i))},this.getPixels=function(i,m){m||(m=this.startDate);var g=m.getTime(),x=i.getTime(),v=u.fa(),N=this.cache.pixels[x+"_"+g];if(N)return N;g=m.getTime();var h=60*v*1e3,y=x-g,w=y%h,j=y-w,C=j+h;w===0&&(C=j);var _={};return _.cut=!1,_.top=this.Cb(y),_.boxTop=this.Cb(j),_.boxBottom=this.Cb(C),this.cache.pixels[x+"_"+g]=_,_},this.Cb=function(i){return Math.floor(this.cellHeight*i/(6e4*u.fa()))},this.Db=function(i){Math.floor((shadowTop-_startOffset)/d.cellHeight),d.snapToGrid||(shadowTop-_startOffset)/d.cellHeight,u.fa()},this.vb=function(){this.startDate=new e.Date(this.startDate).getDatePart()},this.ia=function(){this.nav.corner&&(this.nav.corner.style.height=this.headerHeight+"px")},this.ma=function(){var i=this.Za();this.nav.scroll&&i>0&&(this.nav.scroll.style.height=i+"px")},this.wa={},this.wa.scope=null,this.wa.notify=function(){d.wa.scope&&d.wa.scope.$apply()},this.wa.apply=function(i){i()},this.pb=function(){if(d.nav.scroll&&d.Eb()){var i=d.nav.scroll.scrollTop,m=u.fa(),g=60/m,x=i/(g*d.cellHeight);d.Fb.scrollHour=x}},this.ob=function(){var i=0,m=60/u.fa();i=typeof d.Fb.scrollHour=="number"?m*d.cellHeight*d.Fb.scrollHour:d.initScrollPos==="Auto"?this.heightSpec==="BusinessHours"?m*this.cellHeight*this.businessBeginsHour:0:this.initScrollPos;var g=d.nav.top;g.style.display==="none"?(g.style.display="",d.nav.scroll.scrollTop=i,g.style.display="none"):d.nav.scroll.scrollTop=i},this.getScrollY=function(){return d.nav.scroll.scrollTop},this.setScrollY=function(i){d.nav.scroll.scrollTop=i,d.pb()},this.Gb=function(){return!(!this.backendUrl&&typeof WebForm_DoCallback!="function")&&(typeof d.events.list>"u"||!d.events.list)},this.u=function(){this.nav.top.style.visibility==="hidden"&&(this.nav.top.style.visibility="visible")},this.show=function(){d.visible=!0,d.nav.top.style.display="",this.qb()},this.hide=function(){d.visible=!1,d.nav.top.style.display="none"},this.Hb=function(){this.vb(),this.ga(),this.Ya(),this.ja(),this.ka(),this.qb(),this.nb(),this.rb(),r.register(this),this.Ib(),this.U("Init")},this.Fb={},this.Jb=function(){this.Fb.themes=[],this.Fb.themes.push(this.theme||this.cssClassPrefix)},this.Kb=function(){for(var i=this.Fb.themes,m=0;m<i.length;m++){var g=i[m];e.Util.removeClass(this.nav.top,g+"_main")}this.Fb.themes=[]},this.Lb=function(){if(this.afterRender(null,!1),typeof this.onAfterRender=="function"){var i={};i.isCallBack=!1,this.onAfterRender(i)}},this.Mb=function(){if(typeof this.onInit=="function"&&!this.Nb){this.Nb=!0;var i={};this.onInit(i)}},this.Eb=function(){var i=d.nav.top;return!!i&&i.offsetWidth>0&&i.offsetHeight>0},this.Ib=function(){var i=d.Eb;i()||(d.X=setInterval(function(){i()&&(d.nb(),d.qb(),clearInterval(d.X))},100))},this.ab=function(i,m){return d.ca.da()?e.Util.escapeTextHtml(i,m):e.Util.isNullOrUndefined(m)?e.Util.isNullOrUndefined(i)?"":i:m},this.Sa={},this.Sa.Ra=null,this.Sa.Ob=function(i,m,g){var x=d.Sa.Ra;if(typeof x.createVNode=="function"&&typeof x.render=="function"){var v=x.createVNode(i,g);x.render(v,m)}},this.Sa.Wa=function(i,m){var g=d.Sa.Ra;if(typeof g.render=="function"){var x=i;e.isArray(i)&&(x=g.h("div",null,i)),g.render(x,m)}},this.Sa.Ua=function(i){var m=d.Sa.Ra;typeof m.render=="function"&&m.render(null,i)},this.internal={},this.internal.loadOptions=d.ub,this.internal.xssTextHtml=d.ab,this.internal.enableVue=function(i){d.Sa.Ra=i},this.internal.vueRef=function(){return d.Sa.Ra},this.internal.vueRendering=function(){return d.Sa.Ta},this.init=function(){this.yb();var i=this.Gb();return this.Jb(),i?void this.Hb():(this.vb(),this.ga(),this.ha(),this.Ya(),this.ja(),this.ka(),this.u(),this.qb(),this.nb(),this.rb(),r.register(this),this.events&&(this.ia(),this.na()),this.Lb(),this.Mb(),this.Ib(),this.Ma=!0,this)},this.Init=this.init,this.ub(l)},e.CalendarColumn=function(o,l){var c=this;c.id=o.id,c.name=o.name,c.data=o.data,c.start=new e.Date(o.start),c.calendar=l,c.toJSON=function(){var d={};return d.id=this.id,this.start&&(d.start=this.start.toString()),d.name=this.name,d}},e.Calendar=r.Calendar,typeof jQuery<"u"&&function(o){o.fn.daypilotCalendar=function(l){var c=null,d=this.each(function(){if(!this.daypilot){var u=new e.Calendar(this.id);this.daypilot=u;for(name in l)u[name]=l[name];u.init(),c||(c=u)}});return this.length===1?c:d}}(jQuery),function(){var o=e.am();o&&o.directive("daypilotCalendar",["$parse",function(l){return{restrict:"E",template:"<div></div>",replace:!0,link:function(c,d,u){var i=new e.Calendar(d[0]);i.wa.scope=c,i.init();var m=u.id;m&&(c[m]=i);var g=u.publishAs;g&&(0,l(g).assign)(c,i);for(var x in u)x.indexOf("on")===0&&function(y){i[y]=function(w){var j=l(u[y]);c.$apply(function(){j(c,{args:w})})}}(x);var v=c.$watch,N=u.config||u.daypilotConfig,h=u.events||u.daypilotEvents;v.call(c,N,function(y){for(var w in y)i[w]=y[w];i.update(),i.Mb()},!0),v.call(c,h,function(y){i.events.list=y,i.update()},!0)}}}])}()}}(),typeof e>"u")var e={};if(typeof e.Global>"u"&&(e.Global={}),function(t){typeof t.DatePicker>"u"&&(t.DatePicker=function(r){this.v="2025.3.710-lite";var n="navigator_"+new Date().getTime(),a=this;this.onShow=null,this.onTimeRangeSelect=null,this.onTimeRangeSelected=null,this.prepare=function(){if(this.locale="en-us",this.target=null,this.targetAlignment="left",this.resetTarget=!0,this.pattern=this.ca.locale().datePattern,this.theme="navigator_default",this.patterns=[],this.zIndex=null,this.showToday=!0,this.todayText="Today",this.weekStarts="Auto",r)for(var o in r)this[o]=r[o]},this.init=function(){this.date=new t.Date(this.date);var o=this.Pb();this.resetTarget&&!o?this.Qb(this.date):!this.resetTarget&&o&&(a.date=o);var l=this.D();return l&&l.addEventListener("input",function(){a.date=a.Pb(),a.date&&a.navigator.select(a.date,{dontNotify:!0})}),this},this.close=function(){document.removeEventListener("mousedown",a.close),document.removeEventListener("wheel",a.close),window.removeEventListener("resize",a.close),a.Eb&&(a.Eb=!1,a.navigator&&a.navigator.dispose(),a.div.innerHTML="",a.div&&a.div.parentNode===document.body&&document.body.removeChild(a.div))},this.Rb=function(o){this.date=new t.Date(o),this.Qb(this.date)},this.select=function(o){var l={};l.date=new t.Date(o),l.preventDefault=function(){this.preventDefault.value=!0},typeof a.onTimeRangeSelect=="function"&&(a.onTimeRangeSelect(l),l.preventDefault.value)||(this.Rb(o),typeof a.onTimeRangeSelected=="function"&&a.onTimeRangeSelected(l))},this.Pb=function(){var o=this.D();if(!o)return this.date;var l=null;if(l=o.tagName==="INPUT"?o.value:o.innerText,!l)return null;for(var c=t.Date.parse(l,a.pattern),d=0;d<a.patterns.length;d++){if(c)return c;c=t.Date.parse(l,a.patterns[d])}return c},this.Qb=function(o){var l=this.D();if(l){var c=o.toString(a.pattern,a.locale);l.tagName==="INPUT"?l.value=c:l.innerHTML=c}},this.ca={},this.ca.locale=function(){return t.Locale.find(a.locale)},this.D=function(){var o=this.target;return o&&o.nodeType&&o.nodeType===1?o:document.getElementById(o)},Object.defineProperty(this,"visible",{get:function(){return a.Eb}}),this.show=function(){if(!this.Eb){document.addEventListener("mousedown",a.close),document.addEventListener("wheel",a.close),window.addEventListener("resize",a.close);var o=this.D(),l=new t.Navigator(n);l.api=2,l.cssOnly=!0,l.theme=a.theme,l.weekStarts="Auto",l.locale=a.locale,l.showToday=a.showToday,l.todayText=a.todayText,l.weekStarts=a.weekStarts,l.onTodayClick=function(N){l.onTimeRangeSelected({start:t.Date.today()}),N.preventDefault()},l.onTimeRangeSelected=function(w){a.date=w.start;var h=w.start.addTime(l.Sb),y=h.toString(a.pattern,a.locale),w={};w.start=h,w.date=h,w.preventDefault=function(){this.preventDefault.value=!0},typeof a.onTimeRangeSelect=="function"&&(a.onTimeRangeSelect(w),w.preventDefault.value)||(a.Qb(y),a.close(),typeof a.onTimeRangeSelected=="function"&&a.onTimeRangeSelected(w))},this.navigator=l;var c={x:0,y:0,w:0,h:0};o&&(c=t.abs(o));var d=c.h,u=a.targetAlignment,i=document.createElement("div");i.style.position="absolute",u==="left"&&(i.style.left=c.x+"px"),i.style.top=c.y+d+"px",a.zIndex&&(i.style.zIndex=a.zIndex);var m=document.createElement("div");m.id=n,i.appendChild(m),i.addEventListener("mousedown",function(h){var h=h||window.event;h.cancelBubble=!0,h.stopPropagation&&h.stopPropagation()}),document.body.appendChild(i),this.div=i;var g=a.Pb()||a.date;if(l.startDate=g,l.Sb=g.getTimePart(),l.selectionDay=g.getDatePart(),l.init(),u==="right"){var x=c.x+c.w-l.nav.top.offsetWidth;i.style.left=x+"px"}if(this.Eb=!0,this.onShow){var v={};this.onShow(v)}}},this.prepare(),this.init()})}(e),typeof e>"u")var e={};if(typeof e.Global>"u"&&(e.Global={}),function(t){if(typeof t.Menu>"u"||!t.Menu.def){var r=function(){},n={};n.mouse=null,n.menu=null,n.handlersRegistered=!1,n.hideTimeout=null,n.waitingSubmenu=null,t.Menu=function(a){var o=this,l=null;this.v="2025.3.710-lite",this.zIndex=120,this.cssClassPrefix="menu_default",this.cssOnly=!0,this.menuTitle=null,this.showMenuTitle=!1,this.hideOnMouseOut=!1,this.hideAfter=200,this.theme=null,this.onShow=null,this.Tb=function(){},a&&t.isArray(a)&&(this.items=a),this.toJSON=function(){return null},this.show=function(u,i){i=i||{};var m=null;if(u?typeof u.id=="string"||typeof u.id=="number"?m=u.id:typeof u.id=="function"?m=u.id():typeof u.value=="function"&&(m=u.value()):m=null,typeof t.Bubble<"u"&&t.Bubble.hideActive(),i.submenu||n.menuClean(),this.Tb.submenu=null,n.mouse!==null){o.cssOnly||(o.cssOnly=!0);var g=null;if(u&&u.isRow&&u.$.row.task?(g=new t.Task(u.$.row.task,u.calendar),g.menuType="resource"):g=u&&u.isEvent&&u.data.task?new t.Task(u,u.calendar):u,typeof o.onShow=="function"){var x={};if(x.source=g,x.menu=o,x.preventDefault=function(){x.preventDefault.value=!0},o.onShow(x),x.preventDefault.value)return}var v=document.createElement("div");if(v.style.position="absolute",v.style.top="0px",v.style.left="0px",v.style.display="none",v.style.overflow="hidden",v.style.zIndex=this.zIndex+1,v.className=this.Ub("main"),v.onclick=function(ne){ne.cancelBubble=!0,this.parentNode.removeChild(this)},this.hideOnMouseOut&&(v.onmousemove=function(ne){clearTimeout(n.hideTimeout)},v.onmouseleave=function(ne){o.delayedHide({hideParent:!0})}),!this.items||this.items.length===0)throw"No menu items defined.";if(this.showMenuTitle){var N=document.createElement("div");N.innerHTML=this.menuTitle,N.className=this.Ub("title"),v.appendChild(N)}for(var h=0;h<this.items.length;h++){var y=this.items[h],w=document.createElement("div");if(t.Util.addClass(w,this.Ub("item")),y.items&&(t.Util.addClass(w,this.Ub("item_haschildren")),t.Util.addClass(v,this.Ub("withchildren"))),typeof y<"u"&&!y.hidden){if(y.text==="-"){var j=document.createElement("div");j.addEventListener("click",function(ne){ne.stopPropagation()}),w.appendChild(j)}else{var C=document.createElement("a");if(C.style.position="relative",C.style.display="block",y.cssClass&&t.Util.addClass(C,y.cssClass),y.disabled)t.Util.addClass(C,o.Ub("item_disabled"));else{if(y.onclick||y.onClick){C.item=y,C.onclick=function(ne,ge){return function(Ce){if(typeof ne.onClick=="function"){var ce={};if(ce.item=ne,ce.source=ge.source,ce.originalEvent=Ce,ce.preventDefault=function(){ce.preventDefault.value=!0},ne.onClick(ce),ce.preventDefault.value)return void Ce.stopPropagation()}ne.onclick&&ne.onclick.call(ge,Ce)}}(y,C);var _=function(ne,ge){return function(Ce){Ce.stopPropagation(),Ce.preventDefault(),ge.source.calendar&&ge.source.calendar.internal.touch&&(ge.source.calendar.internal.touch.active=!0)}},k=function(ne,ge){return function(Ce){Ce.stopPropagation(),Ce.preventDefault();var ce=function(){window.setTimeout(function(){ge.source.calendar&&ge.source.calendar.internal.touch&&(ge.source.calendar.internal.touch.active=!1)},500)};if(typeof ne.onClick=="function"){var Oe={};if(Oe.item=ne,Oe.source=ge.source,Oe.originalEvent=Ce,Oe.preventDefault=function(){Oe.preventDefault.value=!0},ne.onClick(Oe),Oe.preventDefault.value)return void ce()}ne.onclick&&ne.onclick.call(ge,Ce),n.menuClean(),ce()}};t.reNonPassive(C,"touchstart",_(y,C)),t.reNonPassive(C,"touchend",k(y,C))}if(y.items&&!y.disabled){var A=function(ne,ge){return function(Ce){Ce.preventDefault(),Ce.stopPropagation(),o.Vb(ne,ge)}};C.ontouchend=A(y,C)}if(y.onclick)r();else if(y.href)C.href=y.href.replace(/\x7B0\x7D/gim,m),y.target&&C.setAttribute("target",y.target);else if(y.command){var A=function(ge,Ce){return function(ce){var Oe=Ce.source,Pe=ge;Pe.action=Pe.action?Pe.action:"CallBack";var ae=Oe.calendar||Oe.root;if(Oe instanceof t.Link)return void ae.internal.linkMenuClick(Pe.command,Oe,Pe.action);if(Oe instanceof t.Selection)return void ae.internal.timeRangeMenuClick(Pe.command,Oe,Pe.action);if(Oe instanceof t.Event)return void ae.internal.eventMenuClick(Pe.command,Oe,Pe.action);if(Oe instanceof t.Selection)return void ae.internal.timeRangeMenuClick(Pe.command,Oe,Pe.action);if(Oe instanceof t.Task)return void(Oe.menuType==="resource"?ae.internal.resourceHeaderMenuClick(Pe.command,Ce.menuSource,Pe.action):ae.internal.eventMenuClick(Pe.command,Ce.menuSource,Pe.action));switch(Oe.menuType){case"resource":return void ae.internal.resourceHeaderMenuClick(Pe.command,Oe,Pe.action);case"selection":return void ae.internal.timeRangeMenuClick(Pe.command,Oe,Pe.action);default:return void ae.internal.eventMenuClick(Pe.command,Oe,Pe.action)}}};C.onclick=A(y,C),C.ontouchend=A(y,C)}}y.items&&C.addEventListener("click",function(ne){ne.stopPropagation()}),C.source=g,C.menuSource=u;var T=document.createElement("span");if(T.className=o.Ub("item_text"),T.innerHTML=t.Util.escapeTextHtml(y.text,y.html),C.appendChild(T),y.image){var R=document.createElement("img");R.src=y.image,R.style.position="absolute",R.style.top="0px",R.style.left="0px",C.appendChild(R)}if(y.icon){var P=document.createElement("span");P.className=o.Ub("item_icon");var M=document.createElement("i");M.className=y.icon,P.appendChild(M),C.appendChild(P)}if(y.symbol){var I="http://www.w3.org/2000/svg",L=document.createElementNS(I,"svg");L.setAttribute("width","100%"),L.setAttribute("height","100%");var B=document.createElementNS(I,"use");B.setAttribute("href",y.symbol),L.appendChild(B);var U=document.createElement("span");U.className=o.Ub("item_symbol"),U.style.position="absolute",U.style.top="0px",U.style.left="0px",U.appendChild(L),C.appendChild(U)}var F=function(ne,ge){return function(){var Ce=(ge.source,ne),ce=n.waitingSubmenu;if(ce){if(ce.parent===Ce)return;clearTimeout(ce.timeout),n.waitingSubmenu=null}ne.disabled||(n.waitingSubmenu={},n.waitingSubmenu.parent=Ce,n.waitingSubmenu.timeout=setTimeout(function(){n.waitingSubmenu=null,o.Vb(Ce,ge)},300))}};C.onmouseover=F(y,C),w.appendChild(C)}v.appendChild(w)}}var H=function(ne){window.setTimeout(function(){n.menuClean(),t.MenuBar.deactivate()},100)};v.onclick=H,v.ontouchend=H,v.onmousedown=function(ne){ne=ne||window.event,ne.cancelBubble=!0,ne.stopPropagation&&ne.stopPropagation()},v.oncontextmenu=function(){return!1},document.body.appendChild(v),o.Tb.visible=!0,o.Tb.source=u,v.style.display="";var W=v.offsetHeight,J=v.offsetWidth;v.style.display="none";var q=document.documentElement.clientHeight,G=window.innerWidth,z=typeof i.windowMargin=="number"?i.windowMargin:5;if(function(){var ne=i.initiator;if(ne){var ge=ne.div,Ce=ne.e,ce=ne.area,Oe=ce.visibility||ce.v||"Visible",Pe=ne.a;if(Oe!=="Visible"&&(Pe=t.Areas.createArea(ge,Ce,ce),ge.appendChild(Pe),l=Pe),Pe){var ae=t.abs(Pe);i.x=ae.x,i.y=ae.y+ae.h+2}}}(),function(){var ne=typeof i.x=="number"?i.x:n.mouse.x+1,ge=typeof i.y=="number"?i.y:n.mouse.y+1,Ce=document.body.scrollTop||document.documentElement.scrollTop,ce=document.body.scrollLeft||document.documentElement.scrollLeft,Oe=0,Pe=0;ge-Ce>q-W&&q!==0?Oe=ge-(ge-Ce-(q-W)+z):Oe=ge,o.Tb.y=Oe,v.style.top=Oe+"px",i.align==="right"&&(ne-=J),ne-ce>G-J&&G!==0?Pe=ne-(ne-ce-(G-J)+z):Pe=ne,o.Tb.x=Pe,v.style.left=Pe+"px"}(),i.parentLink){var K=i.parentLink,Z=parseInt(new t.StyleReader(v).get("border-top-width")),ie=t.abs(i.parentLink.parentNode),ye=ie.x+K.offsetWidth,de=ie.y-Z;ye+J>G&&(ye=Math.max(0,ie.x-J));var xe=document.body.scrollTop+document.documentElement.scrollTop;de+W-xe>q&&(de=Math.max(0,q-W+xe)),v.style.left=ye+"px",v.style.top=de+"px"}v.style.display="",this.addShadow(v),this.Tb.div=v,i.submenu||(t.Menu.active=this)}},this.update=function(){if(o.Tb.visible){var u=o.Tb.source;o.hide(),o.show(u,{x:o.Tb.x,y:o.Tb.y})}},this.Vb=function(u,i){var m=u,g=i.source;if((!o.Tb.submenu||o.Tb.submenu.item!==u)&&(o.Tb.submenu&&o.Tb.submenu.item!==u&&(t.Util.removeClass(o.Tb.submenu.link.parentNode,o.Ub("item_haschildren_active")),o.Tb.submenu.menu.hide(),o.Tb.submenu=null),u.items)){var x=o.cloneOptions();x.items=u.items,o.Tb.submenu={},o.Tb.submenu.menu=new t.Menu(x),o.Tb.submenu.menu.Wb=o,o.Tb.submenu.menu.show(g,{submenu:!0,parentLink:i,parentItem:m}),o.Tb.submenu.item=u,o.Tb.submenu.link=i,t.Util.addClass(i.parentNode,o.Ub("item_haschildren_active"))}},this.Ub=function(u){var i=this.theme||this.cssClassPrefix,m=this.cssOnly?"_":"";return i?i+m+u:""},this.cloneOptions=function(){return t.Util.copyProps(c,{},["cssClassPrefix","theme","hideAfter","hideOnMouseOut","zIndex"])},this.hide=function(u){u=u||{},this.Tb.submenu&&this.Tb.submenu.menu.hide();var i=n.waitingSubmenu;if(i&&(n.waitingSubmenu=null,clearTimeout(i.timeout)),this.removeShadow(),this.Tb.div&&this.Tb.div.parentNode===document.body&&document.body.removeChild(this.Tb.div),l&&(t.de(l),l=null),o.Tb.visible=!1,o.Tb.source=null,o.Wb&&u.hideParent&&o.Wb.hide(u),t.Menu.active===o&&(t.Menu.active=null),typeof this.onHide=="function"){var m={};this.onHide(m)}},this.delayedHide=function(u){n.hideTimeout=setTimeout(function(){o.hide(u)},o.hideAfter)},this.cancelHideTimeout=function(){clearTimeout(n.hideTimeout)},this.init=function(u){return n.mouseMove(u),this},this.addShadow=function(u){},this.removeShadow=function(){};var c=t.isArray(a)?null:a;if(c)for(var d in c)this[d]=c[d]},t.MenuBar=function(a,o){var l=this;o=o||{},this.items=[],this.theme="menubar_default",this.windowMargin=0,this.nav={},this.elements={},this.elements.items=t.list(),this.l=null,this.Ma=!1;for(var c in o)this[c]=o[c];this.Xb=function(d){return this.theme+"_"+d},this.u=function(){this.nav.top=document.getElementById(a);var d=this.nav.top;d.className=this.Xb("main"),t.list(l.items).forEach(function(u){var i=document.createElement("span");i.innerHTML=t.Util.escapeTextHtml(u.text,u.html),i.className=l.Xb("item"),u.cssClass&&i.classList.add(u.cssClass),i.data=u,i.onclick=function(m){if(l.active&&l.active.item===u)l.Yb();else if(u.children)return void l.Zb(i);if(typeof u.onClick=="function"){var g={};g.item=u,g.originalEvent=m,u.onClick(g)}},i.onmousedown=function(m){m.stopPropagation()},i.onmouseover=function(){l.active&&l.active.item!==u&&l.Zb(i)},d.appendChild(i),l.elements.items.push(i)})},this.Yb=function(){var d=l.Xb("item_active");l.elements.items.forEach(function(u){t.Util.removeClass(u,d)}),l.active&&l.active.menu&&l.active.menu.hide(),l.active=null},this.$b=function(d){return!!l.active&&l.active.item===d.data},this.Zb=function(d){if(!l.$b(d)){l.Yb();var u=d.data,i=l.active={};i.item=u,i.div=d;var m=l.Xb("item_active");t.Util.addClass(d,m);var g=t.abs(d);if(u.children){i.menu=new t.Menu({items:u.children});var x=g.x;u.align==="right"&&(x+=g.w),i.menu.show(null,{x,y:g.y+g.h,align:u.align,windowMargin:l.windowMargin})}t.MenuBar.active=l}},this.init=function(){return this.u(),this.Ma=!0,this},this.dispose=function(){this.Ma&&(this.nav.top.innerHTML="",this.elements.items=[])}},t.MenuBar.deactivate=function(){t.MenuBar.active&&(t.MenuBar.active.Yb(),t.MenuBar.active=null)},n.menuClean=function(){typeof t.Menu.active<"u"&&t.Menu.active&&(t.Menu.active.hide(),t.Menu.active=null)},n.mouseDown=function(a){typeof n<"u"&&(n.menuClean(),t.MenuBar.deactivate())},n.wheel=function(a){typeof n<"u"&&(n.menuClean(),t.MenuBar.deactivate())},n.mouseMove=function(a){typeof n<"u"&&(n.mouse=n.mousePosition(a))},n.touchMove=function(a){typeof n<"u"&&(n.mouse=n.touchPosition(a))},n.touchStart=function(a){typeof n<"u"&&(n.mouse=n.touchPosition(a))},n.touchEnd=function(a){},n.touchPosition=function(a){if(!a||!a.touches)return null;var o=a.touches[0],l={};return l.x=o.pageX,l.y=o.pageY,l},n.mousePosition=function(a){return t.mo3(null,a)},t.Menu.touchPosition=function(a){a.touches&&(n.mouse=n.touchPosition(a))},t.Menu.hide=function(a){if(a=a||{},a.calendar){var o=t.Menu.active;if(o){var l=o.Tb.source;l&&l.calendar===a.calendar&&n.menuClean()}}else n.menuClean()},n.handlersRegistered||typeof document>"u"||(t.re(document,"mousemove",n.mouseMove),t.re(document,"mousedown",n.mouseDown),t.re(document,"wheel",n.wheel),t.re(document,"touchmove",n.touchMove),t.re(document,"touchstart",n.touchStart),t.re(document,"touchend",n.touchEnd),n.handlersRegistered=!0),t.Menu.def={}}}(e),typeof e>"u"&&(e={}),function(t){function r(x,v,N){var h=v.indexOf(".");if(h===-1)return void(v!=="__proto__"&&v!=="constructor"&&(x[v]=N));var y=v.substring(0,h);if(y!=="__proto__"&&y!=="constructor"){var w=v.substring(h+1),j=x[y];typeof j=="object"&&j!==null||(x[y]={},j=x[y]),r(j,w,N)}}function n(x,v,N){v=v||{},N=N||"";for(var h in x){var y=x[h];typeof y=="object"?Object.prototype.toString.call(y)==="[object Array]"?v[N+h]=y:y&&y.toJSON?v[N+h]=y.toJSON():n(y,v,N+h+"."):v[N+h]=y}return v}if(!t.ModalStatic){t.ModalStatic={},t.ModalStatic.list=[],t.ModalStatic.hide=function(){if(this.list.length>0){var x=this.list.pop();x&&x.hide()}},t.ModalStatic.remove=function(x){for(var v=t.ModalStatic.list,N=0;N<v.length;N++)if(v[N]===x)return void v.splice(N,1)},t.ModalStatic.close=function(x){t.ModalStatic.result(x),t.ModalStatic.hide()},t.ModalStatic.result=function(x){var v=t.ModalStatic.list;v.length>0&&(v[v.length-1].result=x)},t.ModalStatic.displayed=function(x){for(var v=t.ModalStatic.list,N=0;N<v.length;N++)if(v[N]===x)return!0;return!1},t.ModalStatic.stretch=function(){if(this.list.length>0){var x=this.list[this.list.length-1];x&&x.stretch()}},t.ModalStatic.last=function(){var x=t.ModalStatic.list;return x.length>0?x[x.length-1]:null};var a=function(){function x(){for(var y=document.querySelectorAll("style[nonce]"),w=0;w<y.length;w++){var j=y[w];if(j.nonce)return j.nonce}if(document.currentScript&&document.currentScript.nonce)return document.currentScript.nonce;for(var C=document.querySelectorAll("script[nonce]"),_=0;_<C.length;_++){var k=C[_];if(k.nonce)return k.nonce}return""}if(typeof window>"u"){var h={};return h.add=function(){},h.commit=function(){},h}var v=document.createElement("style");v.nonce=x(),v.styleSheet||v.appendChild(document.createTextNode("")),(document.head||document.getElementsByTagName("head")[0]).appendChild(v);var N=!!v.styleSheet,h={};return h.rules=[],h.commit=function(){try{N&&(v.styleSheet.cssText=this.rules.join(`
`))}catch{}},h.add=function(y,w,j){if(N)return void this.rules.push(y+"{"+w+"}");if(v.sheet.insertRule)typeof j>"u"&&(j=v.sheet.cssRules.length),v.sheet.insertRule(y+"{"+w+"}",j);else{if(!v.sheet.addRule)throw"No CSS registration method found";v.sheet.addRule(y,w,j)}},h},o="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB3aWR0aD0iMTAiCiAgIGhlaWdodD0iMTUiCj4KICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDUpIj4KICAgIDxwYXRoCiAgICAgICBpZD0icGF0aDMxNzMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojOTk5OTk5O3N0cm9rZS13aWR0aDoxLjg1MTk2ODUzO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZSIKICAgICAgIGQ9Ik0gMC45NTQxNDgzOCwwLjY4MTYwMzEgNS4wMzkwNjI1LDUuNDExNTM4NiA5LjEyMzk3NjYsMC42ODE2MDMxIgogICAgICAgIC8+CiAgPC9nPgo8L3N2Zz4K",l=new a;l.add(".modal_default_main","border: 10px solid #ccc; max-width: 90%;"),l.add(".modal_default_main:focus","outline: none;"),l.add(".modal_default_content","padding: 10px 0px;"),l.add(".modal_default_inner","padding: 20px;"),l.add(".modal_default_input","padding: 10px 0px;"),l.add(".modal_default_buttons","margin-top: 10px;"),l.add(".modal_default_buttons","padding: 10px 0px;"),l.add(".modal_default_form_item","padding: 10px 0px; position: relative;"),l.add(".modal_default_form_item_level1","border-left: 2px solid #ccc; margin-left: 10px; padding-left: 20px;"),l.add(".modal_default_form_item.modal_default_form_title","font-size: 1.5rem; font-weight: bold;"),l.add(".modal_default_form_item input[type=text]","width: 100%; box-sizing: border-box;"),l.add(".modal_default_form_item textarea","width: 100%; height: 200px; box-sizing: border-box;"),l.add(".modal_default_form_item input[type=select]","width: 100%; box-sizing: border-box;"),l.add(".modal_default_form_item label","display: block;"),l.add(".modal_default_form_item select","width: 100%; box-sizing: border-box;"),l.add(".modal_default_form_item_label","margin: 2px 0px;"),l.add(".modal_default_form_item_image img","max-width: 100%; height: auto;"),l.add(".modal_default_form_item_invalid",""),l.add(".modal_default_form_item_invalid_message","position: absolute; right: 0px; top: 9px; background-color: red; color: #ffffff; padding: 2px; border-radius: 2px;"),l.add(".modal_default_background","opacity: 0.5; background-color: #000;"),l.add(".modal_default_ok","padding: 3px; width: 80px;"),l.add(".modal_default_cancel","padding: 3px; width: 80px;"),l.add(".modal_default_form_item_date","position: relative;"),l.add(".modal_default_form_item_date:after","content: ''; position: absolute; right: 7px; top: 50%; margin-top: 3px; width: 10px; height: 15px; background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB3aWR0aD0iMTAiCiAgIGhlaWdodD0iMTUiCj4KICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDUpIj4KICAgIDxyZWN0CiAgICAgICBzdHlsZT0iZmlsbDojY2NjY2NjO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjM4MDM3MzM2O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBpZD0icmVjdDE5MjgiCiAgICAgICB3aWR0aD0iOS45MTUzMDYxIgogICAgICAgaGVpZ2h0PSIxMS4zNjkzNyIKICAgICAgIHg9IjAuMTE3MTg3NSIKICAgICAgIHk9Ii0zLjAwOTk5NTciCiAgICAgICByeT0iMS4zMTE4NTA1IiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiNjY2NjY2M7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNTk4MTQwMTI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGlkPSJyZWN0MTkzMCIKICAgICAgIHdpZHRoPSIxLjUzNDQxMzYiCiAgICAgICBoZWlnaHQ9IjIuMjE5ODI1IgogICAgICAgeD0iMi4xNTU4NDgzIgogICAgICAgeT0iLTQuMzkzNzAwMSIKICAgICAgIHJ5PSIwLjY3MTc4OTE3IiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjI5NjAxNDciCiAgICAgICB5PSItMS4xNjU4NDY2IgogICAgICAgeD0iMS41MjM5NTA2IgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaWQ9InJlY3QxOTQ4IgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjY3MTc4OTE3IgogICAgICAgeT0iLTQuMzkzNzAwMSIKICAgICAgIHg9IjYuNDUyNzIzNSIKICAgICAgIGhlaWdodD0iMi4yMTk4MjUiCiAgICAgICB3aWR0aD0iMS41MzQ0MTM2IgogICAgICAgaWQ9InJlY3QyMDAzIgogICAgICAgc3R5bGU9ImZpbGw6I2NjY2NjYztmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS41OTgxNDAxMjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNDIxODkxOTM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGlkPSJyZWN0MjAwNSIKICAgICAgIHdpZHRoPSIxLjgzNDIyNTEiCiAgICAgICBoZWlnaHQ9IjEuODI5OTA5MSIKICAgICAgIHg9IjQuMjE5MjYzMSIKICAgICAgIHk9Ii0xLjE2NTg0NjYiCiAgICAgICByeT0iMC4yOTYwMTQ3IiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjI5NjAxNDciCiAgICAgICB5PSItMS4xNjU4NDY2IgogICAgICAgeD0iNi45OTI3MDA2IgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaWQ9InJlY3QyMDA3IgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNDIxODkxOTM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGlkPSJyZWN0MjAxMyIKICAgICAgIHdpZHRoPSIxLjgzNDIyNTEiCiAgICAgICBoZWlnaHQ9IjEuODI5OTA5MSIKICAgICAgIHg9IjEuNTIzOTUwNiIKICAgICAgIHk9IjEuODAyOTAzNCIKICAgICAgIHJ5PSIwLjI5NjAxNDciIC8+CiAgICA8cmVjdAogICAgICAgcnk9IjAuMjk2MDE0NyIKICAgICAgIHk9IjEuODAyOTAzNCIKICAgICAgIHg9IjQuMjE5MjYzMSIKICAgICAgIGhlaWdodD0iMS44Mjk5MDkxIgogICAgICAgd2lkdGg9IjEuODM0MjI1MSIKICAgICAgIGlkPSJyZWN0MjAxNSIKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNDIxODkxOTM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIgLz4KICAgIDxyZWN0CiAgICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjQyMTg5MTkzO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBpZD0icmVjdDIwMTciCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB4PSI2Ljk5MjcwMDYiCiAgICAgICB5PSIxLjgwMjkwMzQiCiAgICAgICByeT0iMC4yOTYwMTQ3IiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjI5NjAxNDciCiAgICAgICB5PSI0LjczMjU5MDciCiAgICAgICB4PSIxLjU2MzAxMzEiCiAgICAgICBoZWlnaHQ9IjEuODI5OTA5MSIKICAgICAgIHdpZHRoPSIxLjgzNDIyNTEiCiAgICAgICBpZD0icmVjdDIwMTkiCiAgICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjQyMTg5MTkzO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiIC8+CiAgICA8cmVjdAogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIgogICAgICAgaWQ9InJlY3QyMDIxIgogICAgICAgd2lkdGg9IjEuODM0MjI1MSIKICAgICAgIGhlaWdodD0iMS44Mjk5MDkxIgogICAgICAgeD0iNC4yNTgzMjU2IgogICAgICAgeT0iNC43MzI1OTA3IgogICAgICAgcnk9IjAuMjk2MDE0NyIgLz4KICAgIDxyZWN0CiAgICAgICByeT0iMC4yOTYwMTQ3IgogICAgICAgeT0iNC43MzI1OTA3IgogICAgICAgeD0iNy4wMzE3NjMxIgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaWQ9InJlY3QyMDIzIgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogIDwvZz4KPC9zdmc+Cg==)"),typeof navigator<"u"&&navigator.userAgent.indexOf("Edge")!==-1&&l.add(".modal_default_form_item_date input::-ms-clear","display: none;"),l.add(".modal_default_form_item_scrollable_scroll","width: 100%; height: 200px; box-sizing: border-box; border: 1px solid #ccc; overflow-y: auto;"),l.add(".modal_default_form_item_scrollable_scroll_content","padding: 5px;"),l.add(".modal_default_form_item_searchable","position: relative;"),l.add(".modal_default_form_item_searchable_icon",""),l.add(".modal_default_form_item_searchable_icon:after","content:''; position: absolute; right: 5px; top: 50%; margin-top: -8px; width: 10px; height: 15px; background-image:url("+o+");"),l.add(".modal_default_form_item_searchable_list","box-sizing: border-box; border: 1px solid #999; max-height: 150px; overflow-y: auto;"),l.add(".modal_default_form_item_searchable_list_item","background: white; padding: 2px; cursor: default;"),l.add(".modal_default_form_item_searchable_list_item_highlight","background: #ccc;"),l.add(".modal_default_form_item_time","position: relative;"),l.add(".modal_default_form_item_time_icon",""),l.add(".modal_default_form_item_time_icon:after","content:''; position: absolute; right: 5px; top: 50%; margin-top: -8px; width: 10px; height: 15px; background-image:url("+o+");"),l.add(".modal_default_form_item_time_list","box-sizing: border-box; border: 1px solid #999; max-height: 150px; overflow-y: auto;"),l.add(".modal_default_form_item_time_list_item","background: white; padding: 2px; cursor: default;"),l.add(".modal_default_form_item_time_list_item_highlight","background: #ccc;"),l.add(".modal_default_form_item_datetime_parent","display: flex;"),l.add(".modal_default_form_item_datetime .modal_default_form_item_time_main","margin-left: 5px;"),l.add(".modal_default_form_item_datetime input[type='text'].modal_default_input_date ",""),l.add(".modal_default_form_item_tabular_main","margin-top: 10px;"),l.add(".modal_default_form_item_tabular_table","display: table; width: 100%; xbackground-color: #fff; border-collapse: collapse;"),l.add(".modal_default_form_item_tabular_tbody","display: table-row-group;"),l.add(".modal_default_form_item_tabular_row","display: table-row;"),l.add(".modal_default_form_item_tabular_row.modal_default_form_item_tabular_header",""),l.add(".modal_default_form_item_tabular_cell.modal_default_form_item_tabular_rowaction","padding: 0px; width: 23px;"),l.add(".modal_default_form_item_tabular_cell","display: table-cell; border: 0px; padding: 2px 2px 2px 0px; cursor: default; vertical-align: bottom;"),l.add(".modal_default_form_item_tabular_header .modal_default_form_item_tabular_cell","padding-left: 0px; padding-bottom: 0px;"),l.add(".modal_default_form_item_tabular_table input[type=text], .modal_default_form_item_tabular_table input[type=number]","width:100%; box-sizing: border-box;"),l.add(".modal_default_form_item_tabular_table select","width:100%; height:100%; box-sizing: border-box;"),l.add(".modal_default_form_item_tabular_plus","display: inline-block; background-color: #ccc; color: white; width: 20px; height: 20px; border-radius: 10px; box-sizing: border-box; position: relative; margin-left: 3px; margin-top: 3px; cursor: pointer;"),l.add(".modal_default_form_item_tabular_plus:after",`content: ''; position: absolute; left: 5px; top: 5px; width: 10px; height: 10px;   background-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSA1LjAgMC41IEwgNS4wIDkuNSBNIDAuNSA1LjAgTCA5LjUgNS4wJyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojZmZmZmZmO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==")`),l.add(".modal_default_form_item_tabular_delete","display: inline-block; background-color: #ccc; color: white; width: 20px; height: 20px; border-radius: 10px; box-sizing: border-box; position: relative; margin-left: 3px; margin-top: 3px; cursor: pointer;"),l.add(".modal_default_form_item_tabular_delete:after",`content: ''; position: absolute; left: 5px; top: 5px; width: 10px; height: 10px;   background-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMC41IEwgOS41IDkuNSBNIDAuNSA5LjUgTCA5LjUgMC41JyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojZmZmZmZmO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==")`),l.add(".modal_default_form_item_tabular_disabled .modal_default_form_item_tabular_plus","display: none;"),l.add(".modal_default_form_item_tabular_plus_max.modal_default_form_item_tabular_plus","display: none;"),l.add(".modal_default_form_item_tabular_disabled .modal_default_form_item_tabular_delete","visibility: hidden;"),l.add(".modal_default_form_item_tabular_empty","height: 1px; margin: 5px 23px 5px 0px; background-color: #ccc;"),l.add(".modal_default_form_item_tabular_spacer .modal_default_form_item_tabular_cell","padding: 0px;"),l.add(".modal_min_main","border: 1px solid #ccc; max-width: 90%;"),l.add(".modal_min_background","opacity: 0.5; background-color: #000;"),l.add(".modal_min_ok","padding: 3px 10px;"),l.add(".modal_min_cancel","padding: 3px 10px;"),l.add(".navigator_modal_main","border-left: 1px solid #c0c0c0;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;background-color: white;color: #000000; box-sizing: content-box;"),l.add(".navigator_modal_main *, .navigator_modal_main *:before, .navigator_modal_main *:after","box-sizing: content-box;"),l.add(".navigator_modal_month","font-size: 11px;"),l.add(".navigator_modal_day","color: black;"),l.add(".navigator_modal_weekend","background-color: #f0f0f0;"),l.add(".navigator_modal_dayheader","color: black;"),l.add(".navigator_modal_line","border-bottom: 1px solid #c0c0c0;"),l.add(".navigator_modal_dayother","color: gray;"),l.add(".navigator_modal_todaybox","border: 1px solid red;"),l.add(".navigator_modal_title, .navigator_modal_titleleft, .navigator_modal_titleright","border-top: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;color: #333;background: #f3f3f3;"),l.add(".navigator_modal_busy","font-weight: bold;"),l.add(".navigator_modal_cell","text-align: center;"),l.add(".navigator_modal_select .navigator_modal_cell_box","background-color: #FFE794; opacity: 0.5;"),l.add(".navigator_modal_title","text-align: center;"),l.add(".navigator_modal_titleleft, .navigator_modal_titleright","text-align: center;"),l.add(".navigator_modal_dayheader","text-align: center;"),l.add(".navigator_modal_weeknumber","text-align: center;"),l.add(".navigator_modal_cell_text","cursor: pointer;"),l.add(".navigator_modal_todaysection","box-sizing: border-box; display: flex; align-items: center; justify-content: center; border-top: 1px solid var(--dp-nav-border-color);"),l.add(".navigator_modal_todaysection_button","cursor: pointer; color: #333; background-color: #f0f0f0; border: 1px solid var(--dp-nav-border-color); padding: 5px 10px; border-radius: 0px; "),l.commit(),t.Modal=function(x){this.autoFocus=!0,this.focus=null,this.autoStretch=!0,this.autoStretchFirstLoadOnly=!1,this.className=null,this.theme="modal_default",this.disposeOnClose=!0,this.dragDrop=!0,this.loadingHtml=null,this.maxHeight=null,this.scrollWithPage=!0,this.useIframe=!0,this.zIndex=99999,this.left=null,this.width=600,this.top=20,this.height=200,this.locale=null,this.closed=null,this.onClose=null,this.onClosed=null,this.onShow=null;var v=this;this.id="_"+new Date().getTime()+"n"+10*Math.random(),this._b=!1,this.bc=null,this.cc=null,this.showHtml=function(N){if(t.ModalStatic.displayed(this))throw"This modal dialog is already displayed.";if(this.div||this.dc(),this.sb(),this.useIframe){var h=function(y,w){return function(){y.setInnerHTML(y.id+"iframe",w)}};window.setTimeout(h(this,N),0)}else N.nodeType?this.div.appendChild(N):this.div.innerHTML=N;this.sb(),this.ec(),this.fc()},this.showUrl=function(N){if(t.ModalStatic.displayed(this))throw"This modal dialog is already displayed.";if(this.useIframe){this.div||this.dc();var h=this.loadingHtml;h&&(this.iframe.src="about:blank",this.setInnerHTML(this.id+"iframe",h)),this.re(this.iframe,"load",this.gc),this.iframe.src=N,this.sb(),this.ec(),this.fc()}else v.hc({url:N,success:function(y){var w=y.request.responseText;v.showHtml(w)},error:function(y){v.showHtml("Error loading the modal dialog")}})},this.fc=function(){if(typeof v.onShow=="function"){var N={};N.root=v.ic(),N.modal=v,v.onShow(N)}},this.ic=function(){return v.iframe?v.iframe.contentWindow.document:v.div},this.hc=function(N){var h=new XMLHttpRequest;if(h){var y=N.method||"GET",w=N.success||function(){},j=N.error||function(){},C=N.data,_=N.url;h.open(y,_,!0),h.setRequestHeader("Content-type","text/plain"),h.onreadystatechange=function(){if(h.readyState===4)if(h.status===200||h.status===304){var k={};k.request=h,w(k)}else if(j){var k={};k.request=h,j(k)}else window.console&&console.log("HTTP error "+h.status)},h.readyState!==4&&(typeof C=="object"&&(C=JSON.stringify(C)),h.send(C))}},this.sb=function(){delete this.result;var N=window,h=document,y=N.pageYOffset?N.pageYOffset:h.documentElement&&h.documentElement.scrollTop?h.documentElement.scrollTop:h.body.scrollTop;this.theme&&(this.hideDiv.className=this.theme+"_background"),this.zIndex&&(this.hideDiv.style.zIndex=this.zIndex),this.hideDiv.style.display="",window.setTimeout(function(){v.hideDiv&&(v.hideDiv.onclick=function(){v.hide({backgroundClick:!0})})},500),this.theme?this.div.className=this.theme+"_main":this.div.className="",this.className&&(this.div.className+=" "+this.className),this.left?this.div.style.left=this.left+"px":this.div.style.marginLeft="-"+Math.floor(this.width/2)+"px",this.div.style.position="absolute",this.div.style.boxSizing="content-box",this.div.style.top=y+this.top+"px",this.div.style.width=this.width+"px",this.zIndex&&(this.div.style.zIndex=this.zIndex),this.height&&(this.useIframe||!this.autoStretch?this.div.style.height=this.height+"px":this.div.style.height=""),this.useIframe&&this.height&&(this.iframe.style.height=this.height+"px"),this.div.style.display="",this.kc(),t.ModalStatic.remove(this),t.ModalStatic.list.push(this)},this.gc=function(){v.iframe.contentWindow.modal=v,v.autoStretch&&v.stretch()},this.stretch=function(){var N=function(){return v.jc().y},h=function(){return v.jc().x};if(this.useIframe){for(var y=h()-40,w=this.width;w<y&&this.lc();w+=10)this.div.style.width=w+"px",this.div.style.marginLeft="-"+Math.floor(w/2)+"px";for(var j=this.maxHeight||N()-2*this.top,C=this.height;C<j&&this.nc();C+=10)this.iframe.style.height=C+"px",this.div.style.height=C+"px";this.autoStretchFirstLoadOnly&&this.ue(this.iframe,"load",this.gc)}else this.div.style.height=""},this.lc=function(){for(var N=this.iframe.contentWindow.document,h=N.compatMode==="BackCompat"?N.body:N.documentElement,y=h.scrollWidth,w=N.body.children,j=0;j<w.length;j++){var C=w[j].offsetLeft+w[j].offsetWidth;y=Math.max(y,C)}return y>h.clientWidth},this.nc=function(){for(var N=this.iframe.contentWindow.document,h=N.compatMode==="BackCompat"?N.body:N.documentElement,y=h.scrollHeight,w=N.body.children,j=0;j<w.length;j++){var C=w[j].offsetTop+w[j].offsetHeight;y=Math.max(y,C)}return y>h.clientHeight},this.jc=function(){var N=document;if(N.compatMode==="CSS1Compat"&&N.documentElement&&N.documentElement.clientWidth){var h=N.documentElement.clientWidth,y=N.documentElement.clientHeight;return{x:h,y}}var h=N.body.clientWidth,y=N.body.clientHeight;return{x:h,y}},this.ec=function(){this._b||(this.re(window,"resize",this.oc),this.re(window,"scroll",this.pc),this.dragDrop&&(this.re(document,"mousemove",this.qc),this.re(document,"mouseup",this.rc)),this._b=!0)},this.sc=function(){this.ue(window,"resize",this.oc),this.ue(window,"scroll",this.pc),this.dragDrop&&(this.ue(document,"mousemove",this.qc),this.ue(document,"mouseup",this.rc)),this._b=!1},this.tc=function(N){N.target===v.div&&(N.preventDefault(),v.div.style.cursor="move",v.uc(),v.cc=v.mc(N||window.event),v.bc={x:v.div.offsetLeft,y:v.div.offsetTop})},this.qc=function(N){if(v.cc){var N=N||window.event,h=v.mc(N),y=h.x-v.cc.x,w=h.y-v.cc.y;v.div.style.marginLeft="0px",v.div.style.top=v.bc.y+w+"px",v.div.style.left=v.bc.x+y+"px"}},this.rc=function(N){v.cc&&(v.vc(),v.div.style.cursor=null,v.cc=null)},this.uc=function(){if(this.useIframe){var N=document.createElement("div");N.style.backgroundColor="#ffffff",N.style.filter="alpha(opacity=80)",N.style.opacity="0.80",N.style.width="100%",N.style.height=this.height+"px",N.style.position="absolute",N.style.left="0px",N.style.top="0px",this.div.appendChild(N),this.mask=N}},this.vc=function(){this.useIframe&&(this.div.removeChild(this.mask),this.mask=null)},this.oc=function(){v.wc(),v.kc()},this.pc=function(){v.wc()},this.kc=function(){if(!v.left&&v.div){var N=v.div.offsetWidth;v.div.style.marginLeft="-"+Math.floor(N/2)+"px"}},this.wc=function(){if(v.hideDiv&&v.div&&v.hideDiv.style.display!=="none"&&v.div.style.display!=="none"){var N=v.xc.scrollY();v.scrollWithPage||(v.div.style.top=N+v.top+"px")}},this.xc={},this.xc.container=function(){return v.container||document.body},this.xc.scrollY=function(){var N=v.xc.container();return N===document.body?window.pageYOffset?window.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop:N.scrollTop},this.re=function(N,h,y){N.addEventListener?N.addEventListener(h,y,!1):N.attachEvent&&N.attachEvent("on"+h,y)},this.ue=function(N,h,y){N.removeEventListener?N.removeEventListener(h,y,!1):N.detachEvent&&N.detachEvent("on"+h,y)},this.mc=function(N){return N.pageX||N.pageY?{x:N.pageX,y:N.pageY}:{x:N.clientX+document.documentElement.scrollLeft,y:N.clientY+document.documentElement.scrollTop}},this.abs=function(N){for(var h={x:N.offsetLeft,y:N.offsetTop};N.offsetParent;)N=N.offsetParent,h.x+=N.offsetLeft,h.y+=N.offsetTop;return h},this.dc=function(){var N=v.xc.container(),h=N===document.body,y=h?"fixed":"absolute",w=document.createElement("div");w.id=this.id+"hide",w.style.position=y,w.style.left="0px",w.style.top="0px",w.style.right="0px",w.style.bottom="0px",w.oncontextmenu=function(){return!1},w.onmousedown=function(){return!1},N.appendChild(w);var j=document.createElement("div");j.id=this.id+"popup",j.style.position=y,j.style.left="50%",j.style.top="0px",j.style.backgroundColor="white",j.style.width="50px",j.style.height="50px",this.dragDrop&&(j.onmousedown=this.tc),j.addEventListener("keydown",function(_){_.stopPropagation()});var C=null;this.useIframe&&(C=document.createElement("iframe"),C.id=this.id+"iframe",C.name=this.id+"iframe",C.frameBorder="0",C.style.width="100%",C.style.height="50px",j.appendChild(C)),N.appendChild(j),this.div=j,this.iframe=C,this.hideDiv=w},this.setInnerHTML=function(N,h){var y=window.frames[N],w=y.contentWindow||y.document||y.contentDocument;w.document&&(w=w.document),w.body==null&&w.write("<body></body>"),h.nodeType?w.body.appendChild(h):w.body.innerHTML=h,v.autoStretch&&(v.autoStretchFirstLoadOnly&&v.yc||(v.stretch(),v.yc=!0))},this.close=function(N){this.result=N,this.hide()},this.closeSerialized=function(){for(var N=v.ic(),h=N.querySelectorAll("input, textarea, select"),y={},w=0;w<h.length;w++){var j=h[w],C=j.name;if(C){var _=j.value;y[C]=_}}v.close(y)},this.hide=function(N){N=N||{};var h={};h.backgroundClick=!!N.backgroundClick,h.result=this.result,h.canceled=typeof this.result>"u",h.preventDefault=function(){this.preventDefault.value=!0},typeof this.onClose=="function"&&(this.onClose(h),h.preventDefault.value)||(this.div&&(this.div.style.display="none",this.hideDiv.style.display="none",this.useIframe||(this.div.innerHTML=null)),window.focus(),t.ModalStatic.remove(this),typeof this.onClosed=="function"?this.onClosed(h):this.closed&&this.closed(),delete this.result,this.disposeOnClose&&(v.sc(),v.zc(v.div),v.zc(v.hideDiv),v.div=null,v.hideDiv=null,v.iframe=null))},this.zc=function(N){N&&N.parentNode&&N.parentNode.removeChild(N)},this.Ac=function(){if(x)for(var N in x)this[N]=x[N]},this.Ac()},t.Modal.alert=function(x,v){v=v||{},v.height=v.height||40,v.useIframe=!1;var N=v.okText||"OK";return v.cancelText,t.getPromise(function(h,y){v.onClosed=function(A){h(A)};var w=new t.Modal(v),j=document.createElement("div");j.className=w.theme+"_inner";var C=document.createElement("div");C.className=w.theme+"_content",C.innerHTML=x;var _=document.createElement("div");_.className=w.theme+"_buttons";var k=document.createElement("button");k.innerText=N,k.className=w.theme+"_ok",k.onclick=function(A){t.ModalStatic.close("OK")},_.appendChild(k),j.appendChild(C),j.appendChild(_),w.showHtml(j),w.autoFocus&&k.focus()})},t.Modal.confirm=function(x,v){v=v||{},v.height=v.height||40,v.useIframe=!1;var N=v.okText||"OK",h=v.cancelText||"Cancel";return t.getPromise(function(y,w){v.onClosed=function(P){y(P)};var j=new t.Modal(v),C=document.createElement("div");C.className=j.theme+"_inner";var _=document.createElement("div");_.className=j.theme+"_content",_.innerHTML=x;var k=document.createElement("div");k.className=j.theme+"_buttons";var A=document.createElement("button");A.innerText=N,A.className=j.theme+"_ok",A.onclick=function(P){t.ModalStatic.close("OK")};var T=document.createTextNode(" "),R=document.createElement("button");R.innerText=h,R.className=j.theme+"_cancel",R.onclick=function(P){t.ModalStatic.close()},k.appendChild(A),k.appendChild(T),k.appendChild(R),C.appendChild(_),C.appendChild(k),j.showHtml(C),j.autoFocus&&A.focus()})},t.Modal.prompt=function(x,v,N){typeof v=="object"&&(N=v,v=""),N=N||{},N.height=N.height||40,N.useIframe=!1;var h=N.okText||"OK",y=N.cancelText||"Cancel",w=v||"";return t.getPromise(function(j,C){N.onClosed=function(B){j(B)};var _=new t.Modal(N),k=document.createElement("div");k.className=_.theme+"_inner";var A=document.createElement("div");A.className=_.theme+"_content",A.innerHTML=x;var T=document.createElement("div");T.className=_.theme+"_input";var R=document.createElement("input");R.value=w,R.style.width="100%",R.onkeydown=function(B){var U=!1;switch(B.keyCode){case 13:_.close(this.value);break;case 27:_.close();break;default:U=!0}U||(B.preventDefault(),B.stopPropagation())},T.appendChild(R);var P=document.createElement("div");P.className=_.theme+"_buttons";var M=document.createElement("button");M.innerText=h,M.className=_.theme+"_ok",M.onclick=function(B){_.close(R.value)};var I=document.createTextNode(" "),L=document.createElement("button");L.innerText=y,L.className=_.theme+"_cancel",L.onclick=function(B){_.close()},P.appendChild(M),P.appendChild(I),P.appendChild(L),k.appendChild(A),k.appendChild(T),k.appendChild(P),_.showHtml(k),_.autoFocus&&R.focus()})};var c=function(x){return Object.prototype.toString.call(x)==="[object Array]"};t.Modal.form=function(x,v,N){if(arguments.length===1){var h=x;if(c(h))v={};else{if(typeof h!="object")throw"Invalid DayPilot.Modal.form() parameter";v=x,x=[];for(var y in v){var w={};w.name=y,w.id=y,x.push(w)}}}var j={};for(var y in N)j[y]=N[y];j.height=j.height||40,j.useIframe=!1;var C=j.okText||"OK",_=j.cancelText||"Cancel";return t.getPromise(function(k,A){j.onClosed=function(G){if(G.result){var z=JSON.parse(JSON.stringify(v));for(var K in G.result)r(z,K,G.result[K]);G.result=z}k(G)};var T=new t.Modal(j),R=document.createElement("div");R.className=T.theme+"_inner";var P=document.createElement("div");P.className=T.theme+"_input";var M=new d({theme:T.theme,form:x,data:v,zIndex:T.zIndex,locale:T.locale,plugins:T.plugins,onKey:function(G){switch(G.key){case"Enter":M.validate()&&T.close(M.serialize());break;case"Escape":T.close()}},onChange:function(G){typeof T.onChange=="function"&&T.onChange(G)}}),I=M.create();P.append(I);var L=document.createElement("div");L.className=T.theme+"_buttons";var B=document.createElement("button");B.innerText=C,B.className=T.theme+"_ok",j.okDisabled&&(B.disabled=!0),B.onclick=function(G){M.validate()&&T.close(M.serialize())};var U=document.createTextNode(" "),F=document.createElement("button");if(F.innerText=_,F.className=T.theme+"_cancel",F.onclick=function(G){T.close()},F.onmousedown=function(G){M.canceling=!0},L.appendChild(B),L.appendChild(U),L.appendChild(F),R.appendChild(P),R.appendChild(L),T.showHtml(R),T.div.setAttribute("tabindex","-1"),T.div.addEventListener("keydown",function(G){switch(G.keyCode){case 27:T.close();break;case 13:M.validate()&&T.close(M.serialize())}}),T.focus){var H=null;if(typeof T.focus=="object"){var W=T.focus.id,J=T.focus.value;H=M.findViewById(W,J)}else typeof T.focus=="string"&&(H=M.findViewById(T.focus));H&&H.focus()}else{var q=M.firstFocusable();T.autoFocus&&q?q.focus():T.div.focus()}})},t.Modal.close=function(x){var v=t.Modal.opener();v&&v.close(x)},t.Modal.stretch=function(x){var v=t.Modal.opener();if(!v)throw"Unable to find the opener DayPilot.Modal instance.";v.stretch()},t.Modal.closeSerialized=function(){var x=t.Modal.opener()||t.ModalStatic.last();x&&x.closeSerialized()},t.Modal.opener=function(){return typeof t<"u"&&typeof t.ModalStatic<"u"&&t.ModalStatic.list.length>0?t.ModalStatic.list[t.ModalStatic.list.length-1]:parent&&parent.DayPilot&&parent.DayPilot.ModalStatic&&parent.DayPilot.ModalStatic.list[parent.DayPilot.ModalStatic.list.length-1]},t.Modal.Experimental={},t.Modal.Experimental.Form=d,typeof t.getPromise>"u"&&(t.getPromise=function(x){return typeof Promise<"u"?new Promise(x):(t.Promise=function(v){var N=this;this.then=function(h,y){return h=h||function(){},y=y||function(){},v(h,y),t.getPromise(v)},this.catch=function(h){return N.then(null,h),t.getPromise(v)}},new t.Promise(x))});var d=function(x){this.form=[],this.data={},this.theme="form_default",this.zIndex=99999,this.locale="en-us",this.plugins={},this.onKey=null,this.Bc=[],this.Cc=null,this.canceling=!1,this.Dc=[],this.f=[],this.Ec=null,x=x||{};for(var v in x)this[v]=x[v]};d.prototype.create=function(){return this.load(),this.render(),this.Ec},d.prototype.render=function(){var x=this;this.Ec=document.createElement("div"),this.Bc.forEach(function(v){x.createView(v)}),this.applyState()},d.prototype.createView=function(x){var v=this.theme,N=this,h=document.createElement("div");if(h.className=v+"_form_item "+v+"_form_item_level"+x.level,x.interactive||x.type!=="title"?h.className+=" "+v+"_form_item_"+x.type:h.className+=" "+v+"_form_title",x.data.cssClass&&(h.className+=" "+x.data.cssClass),!x.isValue){var y=document.createElement("div");y.className=v+"_form_item_label",y.innerText=x.text,h.appendChild(y)}var w=this.createInteractive(x);w.onInput=function(j){if(j=j||{},N.Fc(w,{debounce:!j.immediate}),typeof N.onChange=="function"){var C={};C.result=N.serialize(),N.onChange(C)}},w.onBlur=function(){N.canceling||N.Fc(w)},w.apply(x),w.Ec=h,w.row=x,w.element&&h.appendChild(w.element),this.f.push(w),this.Ec.appendChild(h)},d.prototype.validate=function(){var x=this,v=!0;return this.f.forEach(function(N){var h=x.Fc(N);v=v&&h}),v},d.prototype.Fc=function(x,v){function N(){x.Gc&&(x.Gc.remove(),x.Gc=null),x.Ec.classList.add(T);var M=document.createElement("div");M.classList.add(R),M.innerText=A.message,x.Gc=M,x.Ec.appendChild(M)}v=v||{};var h=v.debounce,y=v.silent,w=x.row,j=!0,C=typeof w.data.onValidate=="function"?w.data.onValidate:null,_=typeof w.data.validate=="function"?w.data.validate:null,k=C||_;if(k){var A={};A.valid=!0,A.value=x.save()[w.field],A.message="Error",A.values=this.serialize(),A.result=this.serialize(),k(A);var T=this.theme+"_form_item_invalid",R=this.theme+"_form_item_invalid_message";if(A.valid)clearTimeout(this.Dc[w.field]),x.Gc&&(x.Gc.remove(),x.Gc=null),x.Ec.classList.remove(T);else if(!y)if(h){var P=1e3;clearTimeout(this.Dc[w.field]),this.Dc[w.field]=setTimeout(function(){N()},P)}else N();j=A.valid}return j},d.prototype.load=function(){var x=this;this.form.forEach(function(y){x.processFormItem(y,0)});var v;try{var N=JSON.stringify(this.data);v=n(JSON.parse(N))}catch(y){throw new Error("The 'data' object is not serializable (it may contain circular dependencies): "+y)}for(var h in v)this.setValue(h,v[h])},d.prototype.setValue=function(x,v){this.Bc.forEach(function(N){N.applyValue(x,v)})},d.prototype.updateDependentState=function(){var x=this,v=[!0];(this.Cc?this.Cc:this.Bc).forEach(function(N){var h=x.updateState(N,{enabled:v[N.level]&&!N.data.disabled});h.isValue&&(v[h.level+1]=h.enabled&&h.checked)})},d.prototype.processFormItem=function(x,v){var N=this,h=this.getFieldType(x),y=[];if(h==="radio"){if(x.name){var w=new u;w.field=x.id,w.data=x,w.level=v,w.type="label",w.interactive=!1,w.text=x.name,N.Bc.push(w),y.push(w)}x.options.forEach(function(j){var C=new u;C.field=x.id,C.data=j,C.level=v,C.type=h,C.isValue=!0,C.text=j.name,C.resolved=j.id,N.Bc.push(C),y.push(C),j.children&&j.children.forEach(function(_){var k=N.processFormItem(_,v+1);y=y.concat(k)})})}else if(h==="title"){var w=new u;w.field=x.id,w.data=x,w.level=v,w.type=h,w.interactive=!1,w.text=x.name,N.Bc.push(w),y.push(w)}else if(h==="image"){var w=new u;w.isValue=!0,w.field=x.id,w.data=x,w.level=v,w.type=h,w.interactive=!1,w.text=null,N.Bc.push(w),y.push(w)}else if(h==="html"){var w=new u;w.isValue=!0,w.field=x.id,w.data=x,w.level=v,w.type=h,w.interactive=!1,w.text=null,N.Bc.push(w),y.push(w)}else if(h==="scrollable"){var w=new u;w.isValue=!0,w.field=x.id,w.data=x,w.level=v,w.type=h,w.interactive=!1,w.text=null,N.Bc.push(w),y.push(w)}else{var w=new u;w.field=x.id,w.data=x,w.level=v,w.type=h,w.text=x.name,w.children=[],N.Bc.push(w),y.push(w)}return h==="checkbox"&&(w.isValue=!0,w.resolved=!0,x.children&&x.children.forEach(function(j){var C=N.processFormItem(j,v+1);y=y.concat(C)})),y},d.prototype.doOnKey=function(x){if(typeof this.onKey=="function"){var v={key:x};this.onKey(v)}},d.prototype.createInteractive=function(x){var v=this,N={label:function(){return new i},title:function(){return new i},image:function(){var h=new i,y=document.createElement("img");return y.src=x.data.image,h.element=y,h},html:function(){var h=new i,y=document.createElement("div");return typeof x.data.text=="string"?y.innerText=x.data.text:typeof x.data.html=="string"&&(y.innerHTML=x.data.html),h.element=y,h},scrollable:function(){var h=new i,y=document.createElement("div");y.className=v.theme+"_form_item_scrollable_scroll",x.data.height&&(y.style.height=x.data.height+"px");var w=document.createElement("div");return w.className=v.theme+"_form_item_scrollable_scroll_content",typeof x.data.text=="string"?w.innerText=x.data.text:typeof x.data.html=="string"&&(w.innerHTML=x.data.html),y.appendChild(w),h.element=y,h},text:function(){var h=new i;h.apply=function(w){h.row=w;var j=h.element;j.value=w.value,j.disabled=!w.enabled};var y=document.createElement("input");return y.name=x.field,y.type="text",y.autocomplete="off",y.onkeydown=function(w){var j=!1;switch(w.keyCode){case 13:v.doOnKey("Enter");break;case 27:v.doOnKey("Escape");break;default:j=!0}j||(w.preventDefault(),w.stopPropagation())},y.oninput=function(w){h.onInput()},y.onblur=function(w){h.onBlur()},h.element=y,h.canFocus=function(){return!h.element.disabled},h.focus=function(){h.element.focus(),h.element.setSelectionRange(0,h.element.value.length)},h.save=function(){var w={};return w[x.field]=y.value,w},h},textarea:function(){var h=new i;h.apply=function(w){h.row=w;var j=h.element;j.value=w.value,j.disabled=!w.enabled};var y=document.createElement("textarea");return y.name=x.field,x.data.height&&(y.style.height=x.data.height+"px"),y.onkeydown=function(w){var j=!1;switch(w.keyCode){case 13:(w.ctrlKey||w.metaKey)&&v.doOnKey("Enter"),j=!1;break;case 27:v.doOnKey("Escape");break;default:j=!0}j||w.stopPropagation()},y.oninput=function(w){h.onInput()},y.onblur=function(w){h.onBlur()},h.element=y,h.canFocus=function(){return!h.element.disabled},h.focus=function(){h.element.focus(),h.element.setSelectionRange(0,0)},h.save=function(){var w={};return w[x.field]=y.value,w},h},date:function(){var h=new i;h.apply=function(j){h.row=j;var C=h.element,_=h.picker;j.data.dateFormat&&(_.pattern=j.data.dateFormat);var k=j.data.locale||v.locale;k&&(_.locale=k),C.disabled=!j.enabled,_.date=new t.Date(j.value);var A=new t.Date(j.value).toString(j.data.dateFormat||_.pattern,_.locale);C.value=A};var y=document.createElement("input");y.name=x.field;var w=new t.DatePicker({target:y,theme:"navigator_modal",zIndex:v.zIndex+1,resetTarget:!1,targetAlignment:"left",onTimeRangeSelect:function(j){h.onInput({immediate:!0})}});return y.picker=w,y.className=v.theme+"_input_date",y.type="text",y.onkeydown=function(j){var C=!1;switch(j.keyCode){case 13:w.visible?w.close():v.doOnKey("Enter");break;case 27:w.visible?w.close():v.doOnKey("Escape");break;case 9:w.close(),C=!0;break;default:C=!0}C||(j.preventDefault(),j.stopPropagation())},y.onfocus=function(){w.show()},y.onclick=function(){w.show()},y.oninput=function(j){h.onInput()},y.onblur=function(j){h.onBlur()},h.element=y,h.picker=w,h.canFocus=function(){return!h.element.disabled},h.focus=function(){h.element.focus()},h.save=function(){var j=w.date?w.date.toString():null,C={};return C[x.field]=j,C},h},time:function(){return v.Hc(x)},datetime:function(){return v.Ic(x)},select:function(){var h=new i;h.apply=function(w){h.row=w;var j=h.element;j.value=w.value,j.disabled=!w.enabled};var y=document.createElement("select");return y.name=x.field,x.data.options&&x.data.options.forEach&&x.data.options.forEach(function(w){var j=document.createElement("option");j.innerText=w.name||w.id,j.value=w.id,j.Jc=w.id,y.appendChild(j)}),y.onchange=function(w){h.onInput({immediate:!0})},y.onblur=function(w){h.onBlur()},h.element=y,h.canFocus=function(){return!h.element.disabled},h.focus=function(){h.element.focus()},h.save=function(){var w=null,j=y.options[y.selectedIndex];j&&typeof j.Jc<"u"&&(w=j.Jc);var C={};return C[x.field]=w,C},h},searchable:function(){var h=new i;h.apply=function(j){h.row=j;var C=h.searchable;C.disabled=!j.enabled,C.select(j.value)};var y=new m({data:x.data.options||[],name:x.field,theme:v.theme+"_form_item_searchable",listZIndex:v.zIndex+1,onSelect:function(j){j.ui&&h.onInput({immediate:!0})}}),w=y.create();return h.element=w,h.searchable=y,h.canFocus=function(){return!h.searchable.disabled},h.focus=function(){h.searchable.focus()},h.save=function(){var j=y.selected&&y.selected.id,C={};return C[x.field]=j,C},h},radio:function(){var h=new i;h.apply=function(C){h.row=C;var _=h.radio;_.checked=C.checked,_.disabled=!C.enabled};var y=document.createElement("label"),w=document.createElement("input");w.type="radio",w.name=x.field,w.Jc=x.resolved,w.onchange=function(C){var _=h.row;v.findRowsByField(_.field).forEach(function(k){v.updateState(k,{checked:!1})}),v.updateState(_,{checked:!0}),v.applyState(),h.onInput({immediate:!0})},w.onblur=function(C){h.onBlur()},y.appendChild(w);var j=document.createTextNode(x.text);return y.append(j),h.element=y,h.radio=w,h.canFocus=function(){return!1},h.focus=function(){h.radio.focus()},h.save=function(){if(!w.checked)return{};var C=w.Jc,_={};return _[x.field]=C,_},h},checkbox:function(){var h=new i;h.apply=function(C){h.row=C;var _=h.checkbox;_.checked=C.checked,_.disabled=!C.enabled};var y=document.createElement("label"),w=document.createElement("input");w.type="checkbox",w.name=x.field,w.Jc=x.resolved,w.onchange=function(C){var _=h.row;v.updateState(_,{checked:this.checked}),v.applyState(),h.onInput({immediate:!0})},w.onblur=function(C){h.onBlur()},y.appendChild(w);var j=document.createTextNode(x.text);return y.append(j),h.element=y,h.checkbox=w,h.canFocus=function(){return!1},h.focus=function(){h.checkbox.focus()},h.save=function(){var C=w.checked,_={};return _[x.field]=C,_},h},table:function(){var h=new i;h.apply=function(j){h.row=j;var C=h.table;C.disabled=!j.enabled,C.load(j.value||[])};var y=new g({name:x.field,form:v,theme:v.theme+"_form_item_tabular",item:x.data,onInput:function(j){h.onInput()}}),w=y.create();return h.element=w,h.table=y,h.canFocus=function(){return!1},h.focus=function(){h.table.focus()},h.save=function(){var j=y.save(),C={};return C[x.field]=j,C},h}};return v.plugins&&v.plugins[x.type]?v.plugins[x.type](x):N[x.type]()},d.prototype.Hc=function(x){var v=this,N=new i;N.apply=function(M){N.row=M;var I=N.searchable;I.disabled=!M.enabled,I.select(M.value)};var h=[],y=x.data.timeInterval||15;[1,5,10,15,20,30,60].includes(y)||(y=15);for(var w=60/y,j=x.data.locale||v.locale,C=t.Locale.find(j)||t.Locale.US,_=t.Date.today(),k=0;k<24*w;k++){var A=_.addMinutes(y*k),T={};T.name=A.toString(x.data.timeFormat||C.timePattern,C),T.id=A.toString("HH:mm"),h.push(T)}var R=new m({data:h,name:x.field,theme:v.theme+"_form_item_time",listZIndex:v.zIndex+1,strategy:"startsWith",onSelect:function(M){M.ui&&N.onInput({immediate:!0})}}),P=R.create();return N.element=P,N.searchable=R,N.canFocus=function(){return!N.searchable.disabled},N.focus=function(){N.searchable.focus()},N.save=function(){var M=R.selected&&R.selected.id,I={};return I[x.field]=M,I},N},d.prototype.Ic=function(x){var v=this,N=new i;N.apply=function(j){N.row=j;var C=N.searchable;C.disabled=!j.enabled;var _=new t.Date(j.value).toString("HH:mm");C.select(_);var k=N.dateInput,A=N.picker;j.data.dateFormat&&(A.pattern=j.data.dateFormat);var T=j.data.locale||v.locale;if(T){var R=t.Locale.find(T)||t.Locale.US;A.locale=T,A.pattern=R.datePattern}k.disabled=!j.enabled,A.date=new t.Date(j.value);var P=new t.Date(j.value).toString(j.data.dateFormat||A.pattern,A.locale);k.value=P};var h=function(){var j=document.createElement("input");j.name=x.field;var C=new t.DatePicker({target:j,theme:"navigator_modal",zIndex:v.zIndex+1,resetTarget:!1,targetAlignment:"left",onTimeRangeSelect:function(_){N.onInput({immediate:!0})}});return j.picker=C,j.className=v.theme+"_input_date",j.type="text",j.onkeydown=function(_){var k=!1;switch(_.keyCode){case 13:C.visible?C.close():v.doOnKey("Enter");break;case 27:C.visible?C.close():v.doOnKey("Escape");break;case 9:C.close(),k=!0;break;default:k=!0}k||(_.preventDefault(),_.stopPropagation())},j.onfocus=function(){C.show()},j.onclick=function(){C.show()},j.oninput=function(_){N.onInput()},j.onblur=function(_){N.onBlur()},N.dateInput=j,N.picker=C,j}(),y=function(){var j=[],C=x.data.timeInterval||15;[1,5,10,15,20,30,60].includes(C)||(C=15);for(var _=60/C,k=x.data.locale||v.locale,A=t.Locale.find(k)||t.Locale.US,T=t.Date.today(),R=0;R<24*_;R++){var P=T.addMinutes(C*R),M={};M.name=P.toString(x.data.timeFormat||A.timePattern,A),M.id=P.toString("HH:mm"),j.push(M)}var I=new m({data:j,name:x.field,theme:v.theme+"_form_item_time",listZIndex:v.zIndex+1,strategy:"startsWith",onSelect:function(L){L.ui&&N.onInput({immediate:!0})}});return N.searchable=I,I.create()}(),w=document.createElement("div");return w.className=v.theme+"_form_item_datetime_parent",w.appendChild(h),w.appendChild(y),N.element=w,N.canFocus=function(){return!N.searchable.disabled},N.focus=function(){N.dateInput.focus()},N.save=function(){var j=N.searchable.selected&&N.searchable.selected.id,C=N.picker.date?N.picker.date.toString():null,_=new t.Date(C).getDatePart(),k=t.Date.parse(_.toString("yyyy-dd-MM ")+j,"yyyy-dd-MM HH:mm"),A={};return A[x.field]=k,A},N},d.prototype.findRowsByField=function(x){return this.Bc.filter(function(v){return v.field===x})},d.prototype.findViewById=function(x,v){return this.f.find(function(N){return N.row.field===x&&(N.row.type!=="radio"||N.row.resolved===v)})},d.prototype.firstFocusable=function(){return this.f.find(function(x){return x.canFocus&&x.canFocus()})},d.prototype.updateState=function(x,v){var N=this.Cc?this.Cc:this.Bc,h=N.indexOf(x);return this.Cc=N.map(function(y){if(y!==x)return y;if(x.propsEqual(v))return x;var w=x.clone();for(var j in v)w[j]=v[j];return w}),this.Cc[h]},d.prototype.updateInteractive=function(x){var v=this.Cc.indexOf(x);this.f[v].apply(x)},d.prototype.applyState=function(){var x=this;this.updateDependentState(),this.Cc&&(this.Cc.filter(function(v,N){return x.Bc[N]!==v}).forEach(function(v){x.updateInteractive(v)}),this.Bc=this.Cc,this.Cc=null)},d.prototype.getFieldType=function(x){return["text","date","select","searchable","radio","checkbox","table","title","image","html","textarea","scrollable","time","datetime"].indexOf(x.type)!==-1||x.type&&this.plugins&&this.plugins[x.type]?x.type:x.image?"image":x.html||x.text?"html":x.id?x.options?"searchable":x.dateFormat?"date":x.columns?"table":"text":"title"},d.prototype.serialize=function(){var x={};return this.f.forEach(function(v){var N=v.save();for(var h in N)x[h]=N[h]}),x};var u=function(){this.id=this.guid(),this.field=null,this.data=null,this.type=null,this.level=0,this.enabled=!0,this.value=null,this.text=null,this.interactive=!0,this.isValue=!1,this.checked=!1,this.resolved=null};u.prototype.clone=function(){var x=new u;for(var v in this)v!=="id"&&(x[v]=this[v]);return x},u.prototype.propsEqual=function(x){for(var v in x)if(this[v]!==x[v])return!1;return!0},u.prototype.guid=function(){var x=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return""+x()+x()+"-"+x()+"-"+x()+"-"+x()+"-"+x()+x()+x()},u.prototype.applyValue=function(x,v){this.field===x&&(this.value=v,this.isValue&&v===this.resolved&&(this.checked=!0))};var i=function(){this.element=null,this.canFocus=function(){return!1},this.apply=function(x){},this.focus=function(){},this.save=function(){return{}}},m=function(x){this.data=[],this.name=null,this.theme="searchable_default",this.Kc=!1,this.listZIndex=1e5,this.onSelect=null,this.Lc=null,this.Mc=null,this.Nc=!1,this.Oc=null,this.Pc=null,this.q=[],this.Qc=null,x=x||{};var v=this,N={selected:{post:function(y){typeof y=="object"&&y.id?v.Lc=y:typeof y!="string"&&typeof y!="number"||v.select(y)}}};Object.defineProperty(this,"selected",{get:function(){return this.Lc}}),Object.defineProperty(this,"disabled",{get:function(){return this.Kc},set:function(y){this.Kc=y,this.Oc&&(this.Oc.disabled=y,y&&this.Rc())}});for(var h in x)N[h]||(this[h]=x[h]);for(var h in x)N[h]&&N[h].post(x[h])};m.prototype.select=function(x){return this.Lc=this.data.find(function(v){return v.id===x}),this.Sc(!1),this},m.prototype.create=function(){function x(I){var L=_.strategy;_.strategy!=="includes"&&_.strategy!=="startsWith"&&(L="includes"),I=I||L||"includes",R.style.display="",R.style.top=M.offsetHeight+"px",R.style.left="0px",R.style.width=M.offsetWidth+"px",R.innerHTML="",R.addEventListener("mousedown",function(U){U.preventDefault()}),_.Mc=null,_.q=[];var B=null;_.data.forEach(function(U){var F=U.name||U.id;if(I==="includes"){if(F.toLowerCase().indexOf(M.value.toLowerCase())===-1)return}else if(I==="startsWith"&&F.toLowerCase().indexOf(M.value.toLowerCase())!==0)return;var H=document.createElement("div");H.className=_.theme+"_list_item",H.innerText=F,H.item=U,U===_.Lc&&(_.Mc=H),B||(B=H),H.addEventListener("mousedown",function(W){h(H),W.preventDefault()}),H.addEventListener("mousemove",function(W){_.Mc!==H&&(_.Mc=H,v({dontScroll:!0}))}),R.appendChild(H),_.q.push(H)}),_.Mc||(_.Mc=B),v()}function v(I){I=I||{};var L=!I.dontScroll;document.querySelectorAll("."+_.theme+"_list_item_highlight").forEach(function(B){B.className=B.className.replace(_.theme+"_list_item_highlight","")}),_.Mc&&(_.Mc.className+=" "+_.theme+"_list_item_highlight",L&&!N(_.Mc,R)&&_.Mc.scrollIntoView())}function N(I,L){var B=I.getBoundingClientRect(),U=L.getBoundingClientRect();return B.top>=U.top&&B.bottom<=U.bottom}function h(I){var L=I.item;_.Lc=L,_.Sc(!0),w(),j()}function y(){_.Rc()}function w(){_.s()}function j(){_.Nc=!0,M.setAttribute("readonly","readonly"),M.focus()}function C(){_.Nc=!1,M.removeAttribute("readonly"),M.select(),x("all")}var _=this,k=this,A=document.createElement("div");A.className=this.theme+"_main",A.style.position="relative";var T=document.createElement("div");T.className=this.theme+"_icon",T.style.position="absolute",T.style.right="0",T.style.top="0",T.style.bottom="0",T.style.width="20px",T.addEventListener("mousedown",function(I){I.preventDefault(),_.Nc?(_.focus(),C()):(y(),j())});var R=document.createElement("div");R.className=this.theme+"_list",R.style.display="none",R.style.position="absolute",R.style.zIndex=this.listZIndex;var P=document.createElement("input");P.type="hidden",P.name=this.name,P.searchable=k,this.Qc=P;var M=document.createElement("input");return M.type="text",M.className=this.theme+"_input",M.disabled=this.Kc,M.addEventListener("click",function(I){C()}),M.addEventListener("focus",function(I){x("all")}),M.addEventListener("input",function(I){x()}),M.addEventListener("blur",function(I){M.removeAttribute("readonly"),y()}),M.addEventListener("keydown",function(I){if(_.Nc){if(I.key==="Enter"||I.key==="Esc"||I.key==="Escape")return;C()}if(I.key==="ArrowDown"){var L=k.q.indexOf(k.Mc);L+1<k.q.length&&(k.Mc=k.q[L+1]),v()}else if(I.key==="ArrowUp"){var L=k.q.indexOf(k.Mc);L-1>=0&&(k.Mc=k.q[L-1]),v()}else I.key==="Enter"?_.Mc?(I.stopPropagation(),h(_.Mc)):(I.stopPropagation(),y(),j()):I.key!=="Esc"&&I.key!=="Escape"||(I.stopPropagation(),y(),j())}),this.Oc=M,this.Pc=R,this.Lc||(this.Lc=this.data[0],this.Lc&&(M.value=this.Lc.name)),A.appendChild(M),A.appendChild(T),A.appendChild(P),A.appendChild(R),A},m.prototype.Rc=function(){this.s(),this.Lc?this.Oc.value=this.Lc.name:(this.Oc.value="",this.Sc(!0))},m.prototype.focus=function(){this.Nc=!0,this.Oc.setAttribute("readonly","readonly"),this.Oc.focus(),this.Rc()},m.prototype.s=function(){this.Pc.style.display="none"},m.prototype.Sc=function(x){if(this.Qc.value=this.selected?this.selected.id:null,this.Lc?this.Oc.value=this.Lc.name:this.Oc.value="",typeof this.onSelect=="function"){var v={control:this,ui:x};this.onSelect(v)}};var g=function(x){this.form=null,this.item=null,this.data=null,this.name=null,this.theme="edit_table_default",this.onInput=null,this.nav={},this.Tc=null,this.Bc=[],x=x||{};for(var v in x)this[v]=x[v]};g.prototype.create=function(){var x=this,v=document.createElement("div");v.className=this.theme+"_main",v.style.position="relative";var N=document.createElement("input");N.type="hidden",N.name=x.name,N.table=this,v.appendChild(N);var h=document.createElement("div");h.className=this.theme+"_table";var y=this.Uc();h.appendChild(y);var w=x.Vc({});w.spacer=!0;var j=this.Wc(w);j.classList.add(x.theme+"_spacer"),h.appendChild(j);var C=document.createElement("div");C.className=x.theme+"_tbody",h.appendChild(C),v.appendChild(h);var _=document.createElement("div");v.appendChild(_),this.nav.body=C,this.nav.table=h,this.nav.main=v,this.nav.after=_;var k=document.createElement("div"),A=document.createElement("span");return A.className=this.theme+"_plus",A.addEventListener("click",function(T){if(!x.disabled){var R=x.item.onNewRow,P={};if(typeof R=="function"){var M={};M.result=x.form.serialize(),M.value={},R(M),P=M.value}var I=x.Vc(P);x.Bc.push(I),x.Xc(),x.Yc()}}),this.nav.plus=A,k.appendChild(A),v.appendChild(k),v},g.prototype.Uc=function(){var x=this,v=document.createElement("div");return v.classList.add(this.theme+"_row"),v.classList.add(this.theme+"_header"),this.item.columns.forEach(function(N){var h=document.createElement("div");h.classList.add(x.theme+"_cell"),h.innerText=N.name,v.appendChild(h)}),v},g.prototype.Zc=function(){var x=this.item.max||0;return!!(x&&this.Bc.length>=x)},g.prototype.save=function(){var x=this,v=[];return x.Bc.forEach(function(N){var h={};N.cells.forEach(function(y){h[y.id]=y.value}),v.push(h)}),v},g.prototype.load=function(x){if(Object.prototype.toString.call(x)!=="[object Array]")throw new Error("Array expected");this.data=x,this.$c(),this.Xc()},g.prototype._c=function(){this.disabled?this.nav.main.classList.add(this.theme+"_disabled"):this.nav.main.classList.remove(this.theme+"_disabled"),this.Zc()?this.nav.plus.classList.add(this.theme+"_plus_max"):this.nav.plus.classList.remove(this.theme+"_plus_max")},g.prototype.$c=function(){var x=this;this.Bc=[],this.data.forEach(function(v){var N=x.Vc(v);x.Bc.push(N)})},g.prototype.ad=function(x){var v=this,N=v.Bc.indexOf(x);v.Bc.splice(N,1)},g.prototype.Vc=function(x){var v=this,N={};return N.data=x,N.cells=[],v.item.columns.forEach(function(h){var y=h.id,w=x[y],j=v.bd(h);if(typeof w>"u"){if(j==="text")w="";else if(j==="number")w=0;else if(j==="select"){var C=h.options;w=C&&C[0].id}}var _={};_.id=y,_.value=w,_.type=j,_.data=h,N.cells.push(_)}),N},g.prototype.bd=function(x){var v=x.type;return v||(v=x.options?"select":"text"),v},g.prototype.Xc=function(){var x=this;if(this.nav.body.innerHTML="",this.nav.after.innerHTML="",this.Bc.forEach(function(N){var h=x.Wc(N);x.nav.body.appendChild(h)}),this.Bc.length===0){var v=x.cd();x.nav.after.appendChild(v)}this._c()},g.prototype.cd=function(){var x=document.createElement("div");return x.className=this.theme+"_empty",x},g.prototype.Wc=function(x){var v=this,N=document.createElement("div");N.className=v.theme+"_row",x.cells.forEach(function(w){var j=document.createElement("div");j.className=v.theme+"_cell";var C=v.dd(w);if(x.spacer){var _=document.createElement("div");_.style.height="0px",_.style.overflow="hidden",_.appendChild(C),j.appendChild(_)}else j.appendChild(C);N.appendChild(j)});var h=document.createElement("div");h.classList.add(v.theme+"_cell"),h.classList.add(v.theme+"_rowaction");var y=document.createElement("span");return y.className=this.theme+"_delete",y.addEventListener("click",function(w){v.disabled||(v.ad(x),v.Xc(),v.Yc())}),x.spacer||h.appendChild(y),N.appendChild(h),N},g.prototype.Yc=function(){var x=this;if(typeof x.onInput=="function"){var v={};x.onInput(v)}},g.prototype.dd=function(x){var v=this,N=x.type;if(N==="text"||N==="number"){var h=document.createElement("input");return h.type=N,v.disabled&&(h.disabled=!0),x.value&&(h.value=x.value),h.addEventListener("keyup",function(w){N==="number"?x.value=Number(this.value):x.value=this.value,v.Yc()}),h}if(N==="select"){var y=document.createElement("select");return v.disabled&&(y.disabled=!0),x.data.options.forEach(function(w){var j=document.createElement("option");j.innerText=w.name,j.value=w.id,j.Jc=w.id,y.appendChild(j),x.value===w.id&&j.setAttribute("selected",!0)}),y.addEventListener("change",function(w){var j=y.options[y.selectedIndex];j&&typeof j.Jc<"u"&&(x.value=j.Jc),v.Yc()}),y}throw new Error("Unsupported item type: "+N)},g.prototype.focus=function(){}}}(e),typeof e>"u")var e={};if(typeof e.Global>"u"&&(e.Global={}),function(){if(typeof e.Month>"u"||!e.Month.events){var t={},r=e.Util.isVueVNode;t.Month=function(n,a){this.v="2025.3.710-lite",this.nav={};var o=this;this.id=n,this.isMonth=!0,this.api=2,this.backendUrl=null,this.cellHeaderHeight=24,this.cellHeight=100,this.cellMarginBottom=0,this.contextMenu=null,this.cssClassPrefix="month_default",this.eventBarVisible=!0,this.eventBorderRadius=null,this.eventHeight=25,this.eventsLoadMethod="GET",this.headerHeight=30,this.hideUntilInit=!0,this.lineSpace=1,this.locale="en-us",this.showToolTip=!0,this.startDate=new e.Date,this.theme=null,this.visible=!0,this.weekStarts="Auto",this.width="100%",this.xssProtection="Enabled",this.afterRender=function(){},this.cellHeaderClickHandling="Enabled",this.eventClickHandling="Enabled",this.eventDeleteHandling="Disabled",this.eventMoveHandling="Update",this.eventResizeHandling="Update",this.eventRightClickHandling="ContextMenu",this.headerClickHandling="Enabled",this.timeRangeSelectedHandling="Enabled",this.onCellHeaderClick=null,this.onCellHeaderClicked=null,this.onEventClick=null,this.onEventClicked=null,this.onEventDelete=null,this.onEventDeleted=null,this.onEventMove=null,this.onEventMoved=null,this.onEventResize=null,this.onEventResized=null,this.onEventRightClick=null,this.onEventRightClicked=null,this.onTimeRangeSelect=null,this.onTimeRangeSelected=null,this.onBeforeEventRender=null,this.onBeforeCellRender=null,this.cellEvents=[],this.elements={},this.elements.events=[],this.cache={},this.Q=!1,this.W=function(u,d){var u=JSON.parse(u);return u.CallBackRedirect?void(document.location.href=u.CallBackRedirect):(u.UpdateType==="None"||(o.events.list=u.Events,u.UpdateType==="Full"&&(o.startDate=u.StartDate,o.timeFormat=u.TimeFormat?u.TimeFormat:o.timeFormat,typeof u.WeekStarts<"u"&&(o.weekStarts=u.WeekStarts),o.hashes=u.Hashes),o.Y(),o.ed(),o.ha(),u.UpdateType==="Full"&&(o.fd(),o.gd()),o.ma(),o.show(),o.na()),void o.fireAfterRenderDetached(u.CallBackData,!0))},this.fireAfterRenderDetached=function(c,d){var u=function(i,m){return function(){o.afterRender&&o.afterRender(i,m)}};window.setTimeout(u(c,d),0)},this.lineHeight=function(){return this.eventHeight+this.lineSpace},this.events={},this.events.add=function(c){var d=null;if(c instanceof e.Event)d=c.data;else{if(typeof c!="object")throw"DayPilot.Month.events.add() expects an object or DayPilot.Event instance.";d=c}o.events.list||(o.events.list=[]),o.events.list.push(d),o.update(),o.wa.notify()},this.events.find=function(c){if(!o.events.list)return null;if(typeof c=="function"){for(var d=c,u=0;u<o.events.list.length;u++){var i=new e.Event(o.events.list[u],o);if(d(i))return i}return null}for(var u=0;u<o.events.list.length;u++){var m=o.events.list[u];if(m.id===c)return new e.Event(m,o)}return null},this.events.update=function(c){if(c instanceof e.Event)c.commit();else if(typeof c=="object"){var d=o.events.find(c.id);if(d){var u=e.indexOf(o.events.list,d.data);o.events.list.splice(u,1,c)}}o.update(),o.wa.notify()},this.events.remove=function(c){var d;if(c instanceof e.Event)d=c.data;else if(typeof c=="object"){var u=o.events.find(c.id);u&&(d=u.data)}else if(typeof c=="string"||typeof c=="number"){var u=o.events.find(c);u&&(d=u.data)}var i=e.indexOf(o.events.list,d);o.events.list.splice(i,1),o.update(),o.wa.notify()},this.events.load=function(c,d,u){var i=function(v){var N={};N.exception=v.exception,N.request=v.request,typeof u=="function"&&u(N)},m=function(v){var N,h=v.request;try{N=JSON.parse(h.responseText)}catch(j){var y={};return y.exception=j,void i(y)}if(e.isArray(N)){var w={};if(w.preventDefault=function(){this.preventDefault.value=!0},w.data=N,typeof d=="function"&&d(w),w.preventDefault.value)return;o.events.list=N,o.Ma&&o.update()}};if(o.eventsLoadMethod&&o.eventsLoadMethod.toUpperCase()==="POST")e.Http.ajax({method:"POST",data:{start:o.visibleStart().toString(),end:o.visibleEnd().toString()},url:c,success:m,error:i});else{var g=c,x="start="+o.visibleStart().toString()+"&end="+o.visibleEnd().toString();g+=g.indexOf("?")>-1?"&"+x:"?"+x,e.Http.ajax({method:"GET",url:g,success:m,error:i})}},this.events.forRange=function(c,d){c=new e.Date(c),d=new e.Date(d);var u=(o.events.list||[]).map(function(i){return new e.Event(i)});return u.sort(o.Bb),u.filter(function(i){var m=i.start(),g=i.end();return m===g&&m===c||e.Util.overlaps(c,d,m,g)})},this.update=function(c){if(o.ub(c),this.Ma){if(o.Q)throw new e.Exception("You are trying to update a DayPilot.Month instance that has been disposed.");this.cells&&(o.Y(),o.ed(),o.ha(),o.fd(),o.gd(),o.ma(),o.u(),o.na(),this.visible?this.show():this.hide())}},this.wb=null,this.ub=function(c){if(c){var d={events:{preInit:function(){var m=this.data||[];e.isArray(m.list)?o.events.list=m.list:o.events.list=m}}};this.wb=d;for(var u in c)if(d[u]){var i=d[u];i.data=c[u],i.preInit&&i.preInit()}else o[u]=c[u]}},this.xb=function(){var c=this.wb;for(var d in c){var u=c[d];u.postInit&&u.postInit()}},this.zb={},this.zb.events=[],this.Ab=function(c){var d=this.zb.events,u=this.events.list[c],i={};for(var m in u)i[m]=u[m];if(typeof this.onBeforeEventRender=="function"){var g={};g.control=o,g.data=i,this.onBeforeEventRender(g)}d[c]=i},this.ha=function(){var c=this.events.list;if(c){if(!e.isArray(c))throw new e.Exception("DayPilot.Month.events.list expects an array object. You supplied: "+typeof c);if(typeof this.onBeforeEventRender=="function")for(var d=0;d<c.length;d++)this.Ab(d);for(var u=0;u<c.length;u++){var i=c[u];if(typeof i!="object")throw new e.Exception("Event data item must be an object");if(!i.start)throw new e.Exception("Event data item must specify 'start' property");if(!i.end)throw new e.Exception("Event data item must specify 'end' property");var m=new e.Date(i.start),g=new e.Date(i.end);if(!(m.getTime()>g.getTime()))for(var d=0;d<this.rows.length;d++){var x=this.rows[d],v=new e.Event(i,this);x.belongsHere(v)&&(x.events.push(v),typeof this.onBeforeEventRender=="function"&&(v.cache=this.zb.events[u]))}}for(var N=0;N<this.rows.length;N++){var x=this.rows[N];x.events.sort(this.Bb);for(var h=0;h<this.rows[N].events.length;h++){var y=x.events[h],w=x.getStartColumn(y),j=x.getWidth(y);x.putIntoLine(y,w,j,N)}}}},this.Y=function(){for(var c=0;c<this.elements.events.length;c++){var d=this.elements.events[c];o.Pa(d)}this.elements.events=[]},this.Pa=function(c){(function(){var d=c.domArgs;if(c.domArgs=null,d&&typeof o.onBeforeEventDomRemove=="function"&&o.onBeforeEventDomRemove(d),d&&typeof o.onBeforeEventDomAdd=="function"){var u=d&&d.Qa;u&&o.Sa.Ra&&r(d.element)&&(o.Sa.Ta=!0,o.Sa.Ua(u),o.Sa.Ta=!1)}})(),c.event=null,c.click=null,c.parentNode.removeChild(c)},this.na=function(){this.hd()},this.hd=function(){this.elements.events=[];for(var c=0;c<this.rows.length;c++)for(var d=this.rows[c],u=0;u<d.lines.length;u++)for(var i=d.lines[u],m=0;m<i.length;m++)this.Va(i[m])},this.Bb=function(c,d){if(!(c&&d&&c.start&&d.start))return 0;var u=c.start().getTime()-d.start().getTime();return u!==0?u:d.end().getTime()-c.end().getTime()},this.drawShadow=function(c,d,u,i,m,g){m||(m=0);var x=i;this.shadow={},this.shadow.list=[],this.shadow.start={x:c,y:d},this.shadow.width=i;var v=7*d+c-m;v<0&&(x+=v,c=0,d=0);for(var N=m;N>=7;)d--,N-=7;N>c?N>c+(7-this.getColCount())?(d--,c=c+7-N):(x=x-N+c,c=0):c-=N,d<0&&(d=0,c=0);var h=null;t.resizingEvent?h="w-resize":t.movingEvent&&(h="move"),this.nav.top.style.cursor=h;var y=o.eventBorderRadius;for(typeof y=="number"&&(y+="px");x>0&&d<this.rows.length;){var w=Math.min(this.getColCount()-c,x),j=this.rows[d],C=this.getRowTop(d),_=j.getHeight(),k=document.createElement("div");k.setAttribute("unselectable","on"),k.style.position="absolute",k.style.left=this.getCellWidth()*c+"%",k.style.width=this.getCellWidth()*w+"%",k.style.top=C+"px",k.style.height=_+"px",k.style.cursor=h,k.classList.add(o.L("_shadow"));var A=document.createElement("div");A.setAttribute("unselectable","on"),k.appendChild(A),A.style.position="absolute",A.style.top="0px",A.style.right="0px",A.style.left="0px",A.style.bottom="0px",A.classList.add(o.L("_shadow_inner")),y&&(x===i&&(k.style.borderTopLeftRadius=y,k.style.borderBottomLeftRadius=y,A.style.borderTopLeftRadius=y,A.style.borderBottomLeftRadius=y),x<=w&&(k.style.borderTopRightRadius=y,k.style.borderBottomRightRadius=y,A.style.borderTopRightRadius=y,A.style.borderBottomRightRadius=y)),this.nav.top.appendChild(k),this.shadow.list.push(k),x-=w+7-this.getColCount(),c=0,d++}},this.clearShadow=function(){if(this.shadow){for(var c=0;c<this.shadow.list.length;c++)this.nav.top.removeChild(this.shadow.list[c]);this.shadow=null,this.nav.top.style.cursor=""}},this.getEventTop=function(c,d){for(var u=this.headerHeight,i=0;i<c;i++)u+=this.rows[i].getHeight();return u+=this.cellHeaderHeight,u+=d*this.lineHeight()},this.getDateFromCell=function(c,d){return this.firstDate.addDays(7*d+c)},this.Va=function(c){var d=c.cache||c.data,u=d.borderRadius||o.eventBorderRadius;typeof u=="number"&&(u+="px");var i=c.part.row,m=c.part.line,g=c.part.colStart,x=c.part.colWidth,v=this.getCellWidth()*g,N=this.getCellWidth()*x,h=this.getEventTop(i,m),y=document.createElement("div");y.setAttribute("unselectable","on"),y.style.height=this.eventHeight+"px",y.style.overflow="hidden",y.className=this.L("_event"),d.cssClass&&e.Util.addClass(y,d.cssClass),c.part.startsHere||e.Util.addClass(y,this.L("_event_continueleft")),c.part.endsHere||e.Util.addClass(y,this.L("_event_continueright")),y.event=c,y.style.width=N+"%",y.style.position="absolute",y.style.left=v+"%",y.style.top=h+"px",this.showToolTip&&c.client.toolTip()&&(y.title=c.client.toolTip()),y.onclick=o.va,y.oncontextmenu=o.jd,y.onmousedown=function(R){R=R||window.event;var P=R.which||R.button;if(R.cancelBubble=!0,R.stopPropagation&&R.stopPropagation(),P===1){if(t.movingEvent=null,this.style.cursor==="w-resize"||this.style.cursor==="e-resize"){var M={};M.start={},M.start.x=g,M.start.y=i,M.event=y.event,M.width=e.DateUtil.daysSpan(M.event.start(),M.event.end())+1,M.direction=this.style.cursor,t.resizingEvent=M}else if(this.style.cursor==="move"||c.client.moveEnabled()){o.clearShadow();var I=e.mo3(o.nav.top,R);if(!I)return;var L=o.getCellBelowPoint(I.x,I.y),B=e.DateUtil.daysDiff(c.start(),o.rows[i].start),U=7*L.y+L.x-(7*i+g);B&&(U+=B);var F={};F.start={},F.start.x=g,F.start.y=i,F.start.line=m,F.offset=o.eventMoveToPosition?0:U,F.colWidth=x,F.event=y.event,F.coords=I,t.movingEvent=F}}},y.onmousemove=function(R){if(typeof t<"u"&&!t.movingEvent&&!t.resizingEvent){var P=e.mo3(y,R);if(P){y.deleteIcon&&(y.deleteIcon.style.display="");var M=6;P.x<=M&&c.client.resizeEnabled()?c.part.startsHere?(y.style.cursor="w-resize",y.dpBorder="left"):y.style.cursor="not-allowed":y.clientWidth-P.x<=M&&c.client.resizeEnabled()?c.part.endsHere?(y.style.cursor="e-resize",y.dpBorder="right"):y.style.cursor="not-allowed":c.client.clickEnabled()?y.style.cursor="pointer":y.style.cursor="default"}}},y.onmouseleave=function(R){y.deleteIcon&&(y.deleteIcon.style.display="none"),y.style.cursor=""},y.onmouseenter=function(R){y.deleteIcon&&(y.deleteIcon.style.display="")};var w=document.createElement("div");if(w.setAttribute("unselectable","on"),w.className=this.L("_event_inner"),d.borderColor==="darker"&&d.backColor?w.style.borderColor=e.ColorUtil.darker(d.backColor,2):w.style.borderColor=d.borderColor,d.backColor&&(w.style.background=d.backColor),d.fontColor&&(w.style.color=d.fontColor),u&&(y.style.borderRadius=u,w.style.borderRadius=u),y.appendChild(w),c.client.barVisible()){var j=document.createElement("div");j.setAttribute("unselectable","on"),j.className=this.L("_event_bar"),j.style.position="absolute";var C=document.createElement("div");C.setAttribute("unselectable","on"),C.className=this.L("_event_bar_inner"),C.style.top="0%",C.style.height="100%",d.barColor&&(C.style.backgroundColor=d.barColor),j.appendChild(C),y.appendChild(j)}if(c.client.deleteEnabled()){var _=Math.floor(o.eventHeight/2-9),k=document.createElement("div");k.style.position="absolute",k.style.right="2px",k.style.top=_+"px",k.style.width="18px",k.style.height="18px",k.className=o.L("_event_delete"),k.onmousedown=function(R){R.stopPropagation()},k.onclick=function(R){R.stopPropagation();var P=this.parentNode.event;P&&o.ya(P)},k.style.display="none",y.deleteIcon=k,y.appendChild(k)}var A=d.areas?e.Areas.copy(d.areas):[];if(e.Areas.attach(y,c,{areas:A}),typeof o.onAfterEventRender=="function"){var T={};T.e=y.event,T.div=y,o.onAfterEventRender(T)}(function(){var R={};if(R.control=o,R.e=c,R.element=null,y.domArgs=R,typeof o.onBeforeEventDomAdd=="function"&&o.onBeforeEventDomAdd(R),R.element){var P=w;if(P)if(R.Qa=P,r(R.element)){if(!o.Sa.Ra)throw new e.Exception("Can't reach Vue");o.Sa.Ta=!0,o.Sa.Wa(R.element,P,{style:{flexGrow:1}}),o.Sa.Ta=!1}else P.appendChild(R.element)}else w.innerHTML=c.client.innerHTML()})(),this.elements.events.push(y),this.nav.events.appendChild(y)},this.lastVisibleDayOfMonth=function(){return this.startDate.lastDayOfMonth()},this.ed=function(){typeof this.startDate=="string"&&(this.startDate=new e.Date(this.startDate)),this.startDate=this.startDate.firstDayOfMonth(),this.firstDate=this.startDate.firstDayOfWeek(this.getWeekStart());var c,d=(this.startDate,this.lastVisibleDayOfMonth()),u=e.DateUtil.daysDiff(this.firstDate,d)+1;c=Math.ceil(u/7),this.days=7*c,this.rows=[];for(var i=0;i<c;i++){var m={};m.start=this.firstDate.addDays(7*i),m.end=m.start.addDays(this.getColCount()),m.events=[],m.lines=[],m.index=i,m.minHeight=this.cellHeight,m.calendar=this,m.belongsHere=function(g){return g.end().getTime()===g.start().getTime()&&g.start().getTime()===this.start.getTime()||!(g.end().getTime()<=this.start.getTime()||g.start().getTime()>=this.end.getTime())},m.getPartStart=function(g){return e.DateUtil.max(this.start,g.start())},m.getPartEnd=function(g){return e.DateUtil.min(this.end,g.end())},m.getStartColumn=function(g){var x=this.getPartStart(g);return e.DateUtil.daysDiff(this.start,x)},m.getWidth=function(g){return e.DateUtil.daysSpan(this.getPartStart(g),this.getPartEnd(g))+1},m.putIntoLine=function(g,x,v,N){for(var h=this,y=0;y<this.lines.length;y++){var w=this.lines[y];if(w.isFree(x,v))return w.addEvent(g,x,v,N,y),y}var w=[];return w.isFree=function(j,C){for(var _=!0,k=0;k<this.length;k++)j+C-1<this[k].part.colStart||j>this[k].part.colStart+this[k].part.colWidth-1||(_=!1);return _},w.addEvent=function(j,C,_,k,A){j.part.colStart=C,j.part.colWidth=_,j.part.row=k,j.part.line=A,j.part.startsHere=h.start.getTime()<=j.start().getTime(),j.part.endsHere=h.end.getTime()>=j.end().getTime(),this.push(j)},w.addEvent(g,x,v,N,this.lines.length),this.lines.push(w),this.lines.length-1},m.getStart=function(){for(var g=0,x=0;x<o.rows.length&&x<this.index;x++)g+=o.rows[x].getHeight()},m.getHeight=function(){return Math.max(this.lines.length*o.lineHeight()+o.cellHeaderHeight+o.cellMarginBottom,this.calendar.cellHeight)},this.rows.push(m)}this.endDate=this.firstDate.addDays(7*c)},this.visibleStart=function(){return o.firstDate},this.visibleEnd=function(){return o.endDate},this.getHeight=function(){for(var c=this.headerHeight,d=0;d<this.rows.length;d++)c+=this.rows[d].getHeight();return c},this.getWidth=function(c,d){return 7*d.y+d.x-(7*c.y+c.x)+1},this.getMinCoords=function(c,d){return 7*c.y+c.x<7*d.y+d.x?c:d},this.L=function(c){var d=this.theme||this.cssClassPrefix;return d?d+c:""},this.Ya=function(){var c=this.nav.top;c.setAttribute("unselectable","on"),c.style.MozUserSelect="none",c.style.KhtmlUserSelect="none",c.style.WebkitUserSelect="none",c.style.position="relative",this.width&&(c.style.width=this.width),c.style.height=this.getHeight()+"px",c.onselectstart=function(i){return!1},this.hideUntilInit&&(c.style.visibility="hidden"),this.visible||(c.style.display="none"),c.className=this.L("_main");var d=document.createElement("div");this.nav.cells=d,d.style.position="absolute",d.style.left="0px",d.style.right="0px",d.setAttribute("unselectable","on"),c.appendChild(d);var u=document.createElement("div");this.nav.events=u,u.style.position="absolute",u.style.left="0px",u.style.right="0px",u.setAttribute("unselectable","on"),c.appendChild(u),c.onmousemove=function(i){if(t.resizingEvent){var m=e.mo3(o.nav.top,i);if(!m)return;var g=o.getCellBelowPoint(m.x,m.y);o.clearShadow();var x,v,N=t.resizingEvent;if(N.start,N.direction==="w-resize"){v=g;var h=N.event.end();h.getDatePart()===h&&(h=h.addDays(-1));var y=o.getCellFromDate(h);x=o.getWidth(g,y)}else v=o.getCellFromDate(N.event.start()),x=o.getWidth(v,g);x<1&&(x=1),o.drawShadow(v.x,v.y,0,x)}else if(t.movingEvent){var m=e.mo3(o.nav.top,i);if(!m||m.x===t.movingEvent.coords.x&&m.y===t.movingEvent.coords.y)return;var w=3,j=Math.abs(m.x-t.movingEvent.coords.x)+Math.abs(m.y-t.movingEvent.coords.y);if(j<=w)return;var g=o.getCellBelowPoint(m.x,m.y);o.clearShadow();var C=t.movingEvent.event,_=t.movingEvent.offset,x=o.cellMode?1:e.DateUtil.daysSpan(C.start(),C.end())+1;x<1&&(x=1),o.drawShadow(g.x,g.y,0,x,_,C)}else if(t.timeRangeSelecting){var m=e.mo3(o.nav.top,i);if(!m)return;var g=o.getCellBelowPoint(m.x,m.y);o.clearShadow();var v=t.timeRangeSelecting,k=7*v.y+v.x,A=7*g.y+g.x,x=Math.abs(A-k)+1;x<1&&(x=1);var T=k<A?v:g;t.timeRangeSelecting.from={x:T.x,y:T.y},t.timeRangeSelecting.width=x,t.timeRangeSelecting.moved=!0,o.drawShadow(T.x,T.y,0,x,0,null)}}},this.ma=function(){this.nav.top.style.height=this.getHeight()+"px";for(var c=0;c<this.cells.length;c++)for(var d=0;d<this.cells[c].length;d++)this.cells[c][d].style.top=this.getRowTop(d)+"px",this.cells[c][d].style.height=this.rows[d].getHeight()+"px"},this.getCellBelowPoint=function(c,d){for(var u=Math.floor(this.nav.top.clientWidth/this.getColCount()),i=Math.min(Math.floor(c/u),this.getColCount()-1),m=null,g=this.headerHeight,x=0,v=0;v<this.rows.length;v++){var N=g;if(g+=this.rows[v].getHeight(),d<g){x=d-N,m=v;break}}m===null&&(m=this.rows.length-1);var h={};return h.x=i,h.y=m,h.relativeY=x,h},this.getCellFromDate=function(c){for(var d=e.DateUtil.daysDiff(this.firstDate,c),u={x:0,y:0};d>=7;)u.y++,d-=7;return u.x=d,u},this.gd=function(){var c=document.createElement("div");c.oncontextmenu=function(){return!1},this.nav.cells.appendChild(c),this.cells=[];for(var d=0;d<this.getColCount();d++){this.cells[d]=[];var u=document.createElement("div");u.setAttribute("unselectable","on"),u.style.position="absolute",u.style.left=this.getCellWidth()*d+"%",u.style.width=this.getCellWidth()+"%",u.style.top="0px",u.style.height=this.headerHeight+"px";var i=d+this.getWeekStart();i>6&&(i-=7),u.className=this.L("_header");var m=document.createElement("div");m.setAttribute("unselectable","on"),m.innerHTML=l.locale().dayNames[i],u.appendChild(m),m.style.position="absolute",m.style.top="0px",m.style.bottom="0px",m.style.left="0px",m.style.right="0px",m.className=this.L("_header_inner"),m.innerHTML=l.locale().dayNames[i],c.appendChild(u);for(var g=0;g<this.rows.length;g++)this.kd(d,g,c)}},this.fd=function(){for(var c=0;c<this.cells.length;c++)for(var d=0;d<this.cells[c].length;d++){var u=o.cells[c][d];o.hb(u)}this.nav.cells.innerHTML=""},this.hb=function(c){(function(){var d=c.domArgs;if(c.domArgs=null,d&&typeof o.onBeforeCellDomRemove=="function"&&o.onBeforeCellDomRemove(d),d&&typeof o.onBeforeCellDomAdd=="function"){var u=d&&d.Qa;if(u){var i=o.ld.reactDOM&&isReactCmp(d.element),m=o.Sa.Ra&&(isVueCmp(d.element)||r(d.element));i?o.ld.md(u):m&&(o.Sa.Ta=!0,o.Sa.Ua(u),o.Sa.Ta=!1)}}})(),c.onclick=null},this.ta=function(){return o.api===2},this.kd=function(c,d,u){var i=this.rows[d],m=this.firstDate.addDays(7*d+c),g=m.getDay(),x=null;x=g===1?l.locale().monthNames[m.getMonth()]+" "+g:""+g;var v=!o.isWeekend(m),N={start:m,end:m.addDays(1),properties:{headerHtml:x,backColor:null,business:v,html:null}},h={};h.control=o,h.cell=N,typeof o.onBeforeCellRender=="function"&&o.onBeforeCellRender(h);var y=h.cell.properties,w=document.createElement("div");if(w.setAttribute("unselectable","on"),w.style.position="absolute",w.style.cursor="default",w.style.left=this.getCellWidth()*c+"%",w.style.width=this.getCellWidth()+"%",w.style.top=this.getRowTop(d)+"px",w.style.height=i.getHeight()+"px",w.className=this.L("_cell"),y.business){var v=this.L("_cell_business");e.Util.addClass(w,v)}var j=(this.startDate.addMonths(-1).getMonth(),this.startDate.addMonths(1).getMonth(),this.startDate.getMonth(),document.createElement("div"));j.setAttribute("unselectable","on"),w.appendChild(j),j.style.position="absolute",j.style.left="0px",j.style.right="0px",j.style.top="0px",j.style.bottom="0px",j.className=this.L("_cell_inner"),y.backColor&&(j.style.backgroundColor=h.cell.properties.backColor),w.onmousedown=function(k){o.timeRangeSelectedHandling!=="Disabled"&&(o.clearShadow(),t.timeRangeSelecting={root:o,x:c,y:d,from:{x:c,y:d},width:1})},w.onclick=function(){var k=function(A){var T=new e.Date(A),R=T.addDays(1);o.O(T,R)};if(o.timeRangeSelectedHandling!=="Disabled")return void k(m)};var C=document.createElement("div");if(C.setAttribute("unselectable","on"),C.style.height=this.cellHeaderHeight+"px",C.className=this.L("_cell_header"),C.onclick=function(k){if(o.cellHeaderClickHandling==="Enabled"){k.stopPropagation();var A={};A.control=o,A.start=m,A.end=m.addDays(1),A.preventDefault=function(){this.preventDefault.value=!0},typeof o.onCellHeaderClick=="function"&&(o.onCellHeaderClick(A),A.preventDefault.value)||typeof o.onCellHeaderClicked=="function"&&o.onCellHeaderClicked(A)}},C.innerHTML=y.headerHtml,j.appendChild(C),y.html){var _=document.createElement("div");_.style.height=i.getHeight()-this.cellHeaderHeight+"px",_.style.overflow="hidden",_.innerHTML=y.html,j.appendChild(_)}(function(){if(typeof o.onBeforeCellDomAdd=="function"||typeof o.onBeforeCellDomRemove=="function"){var k={};if(k.control=o,k.cell=N,k.element=null,w.domArgs=k,typeof o.onBeforeCellDomAdd=="function"&&o.onBeforeCellDomAdd(k),k.element){var A=j;if(A)if(k.Qa=A,r(k.element)){if(!o.Sa.Ra)throw new e.Exception("Can't reach Vue");o.Sa.Ta=!0,o.Sa.Wa(k.element,A),o.Sa.Ta=!1}else A.appendChild(k.element)}}})(),this.cells[c][d]=w,u.appendChild(w)},this.getWeekStart=function(){if(o.weekStarts==="Auto"){var c=l.locale();return c?c.weekStarts:0}return o.weekStarts||0},this.getColCount=function(){return 7},this.getCellWidth=function(){return 14.285},this.getRowTop=function(c){for(var d=this.headerHeight,u=0;u<c;u++)d+=this.rows[u].getHeight();return d},this.U=function(c,d,u){var i={};i.action=c,i.parameters=u,i.data=d,i.header=this.T();var m="JSON"+e.JSON.stringify(i);this.backendUrl&&e.request(this.backendUrl,this.V,m,this.ajaxError)},this.V=function(c){o.W(c.responseText)},this.T=function(){var c={};return c.control="dpm",c.id=this.id,c.v=this.v,c.visibleStart=new e.Date(this.firstDate),c.visibleEnd=c.visibleStart.addDays(this.days),c.startDate=o.startDate,c.timeFormat=this.timeFormat,c.weekStarts=this.weekStarts,c},this.eventClickCallBack=function(c,d){this.U("EventClick",d,c)},this.va=function(u){t.movingEvent=null,t.resizingEvent=null;var d=this,u=u||window.event;u.ctrlKey,u.cancelBubble=!0,u.stopPropagation&&u.stopPropagation(),o.eventClickSingle(d,u)},this.eventClickSingle=function(c,d){var u=c.event;if(u&&u.client.clickEnabled())if(o.ta()){var i={};if(i.e=u,i.control=o,i.div=c,i.originalEvent=d,i.meta=d.metaKey,i.ctrl=d.ctrlKey,i.preventDefault=function(){this.preventDefault.value=!0},typeof o.onEventClick=="function"&&(o.wa.apply(function(){o.onEventClick(i)}),i.preventDefault.value))return;switch(o.eventClickHandling){case"CallBack":o.eventClickCallBack(u);break;case"ContextMenu":var m=u.client.contextMenu();m?m.show(u):o.contextMenu&&o.contextMenu.show(u)}typeof o.onEventClicked=="function"&&o.wa.apply(function(){o.onEventClicked(i)})}else switch(o.eventClickHandling){case"CallBack":o.eventClickCallBack(u);break;case"JavaScript":o.onEventClick(u)}},this.jd=function(){var c=this;return o.xa(c.event),!1},this.xa=function(c){if(this.event=c,!c.client.rightClickEnabled())return!1;var d={};if(d.e=c,d.preventDefault=function(){this.preventDefault.value=!0},typeof o.onEventRightClick!="function"||(o.onEventRightClick(d),!d.preventDefault.value)){switch(o.eventRightClickHandling){case"ContextMenu":var u=c.client.contextMenu();u?u.show(c):o.contextMenu&&o.contextMenu.show(this.event)}return typeof o.onEventRightClicked=="function"&&o.onEventRightClicked(d),!1}},this.ya=function(c){if(o.ta()){var d={};if(d.e=c,d.control=o,d.preventDefault=function(){this.preventDefault.value=!0},typeof o.onEventDelete=="function"&&(o.wa.apply(function(){o.onEventDelete(d)}),d.preventDefault.value))return;switch(o.eventDeleteHandling){case"CallBack":o.eventDeleteCallBack(c);break;case"PostBack":o.eventDeletePostBack(c);break;case"Update":o.events.remove(c)}typeof o.onEventDeleted=="function"&&o.wa.apply(function(){o.onEventDeleted(d)})}else switch(o.eventDeleteHandling){case"PostBack":o.eventDeletePostBack(c);break;case"CallBack":o.eventDeleteCallBack(c);break;case"JavaScript":o.onEventDelete(c)}},this.eventDeleteCallBack=function(c,d){this.U("EventDelete",d,c)},this.eventDeletePostBack=function(c,d){this.S("EventDelete",d,c)},this.eventMoveCallBack=function(c,d,u,i,m){if(!d)throw"newStart is null";if(!u)throw"newEnd is null";var g={};g.e=c,g.newStart=d,g.newEnd=u,g.position=m,this.U("EventMove",i,g)},this.M=function(c,d,u,i,m,g){var x=c.start().getTimePart(),v=c.end().getDatePart();v.getTime()!==c.end().getTime()&&(v=v.addDays(1));var N=e.DateUtil.diff(c.end(),v),h=this.getDateFromCell(d,u);h=h.addDays(-i);var y=e.DateUtil.daysSpan(c.start(),c.end())+1,w=h.addDays(y),j=h.addTime(x),C=w.addTime(N);if(o.ta()){var _={};if(_.e=c,_.control=o,_.newStart=j,_.newEnd=C,_.ctrl=m.ctrlKey,_.shift=m.shiftKey,_.preventDefault=function(){this.preventDefault.value=!0},typeof o.onEventMove=="function"&&(o.wa.apply(function(){o.onEventMove(_)}),_.preventDefault.value))return;switch(o.eventMoveHandling){case"CallBack":o.eventMoveCallBack(c,j,C);break;case"Update":c.start(j),c.end(C),o.events.update(c)}typeof o.onEventMoved=="function"&&o.wa.apply(function(){o.onEventMoved(_)})}else switch(o.eventMoveHandling){case"CallBack":o.eventMoveCallBack(c,j,C);break;case"JavaScript":o.onEventMove(c,j,C)}},this.eventResizeCallBack=function(c,d,u,i){if(!d)throw"newStart is null";if(!u)throw"newEnd is null";var m={};m.e=c,m.newStart=d,m.newEnd=u,this.U("EventResize",i,m)},this.K=function(c,d,u){var i=c.start().getTimePart(),m=c.end().getDatePart();m.getTime()!==c.end().getTime()&&(m=m.addDays(1));var g=e.DateUtil.diff(c.end(),m),x=this.getDateFromCell(d.x,d.y),v=x.addDays(u),N=x.addTime(i),h=v.addTime(g);if(o.ta()){var y={};if(y.e=c,y.control=o,y.newStart=N,y.newEnd=h,y.preventDefault=function(){this.preventDefault.value=!0},typeof o.onEventResize=="function"&&(o.wa.apply(function(){o.onEventResize(y)}),y.preventDefault.value))return;switch(o.eventResizeHandling){case"CallBack":o.eventResizeCallBack(c,N,h);break;case"Update":c.start(N),c.end(h),o.events.update(c)}typeof o.onEventResized=="function"&&o.wa.apply(function(){o.onEventResized(y)})}else switch(o.eventResizeHandling){case"CallBack":o.eventResizeCallBack(c,N,h);break;case"JavaScript":o.onEventResize(c,N,h)}},this.timeRangeSelectedCallBack=function(c,d,u){var i={};i.start=c,i.end=d,this.U("TimeRangeSelected",u,i)},this.O=function(c,d){if(this.ta()){var u={};if(u.control=o,u.start=c,u.end=d,u.preventDefault=function(){this.preventDefault.value=!0},typeof o.onTimeRangeSelect=="function"&&(o.wa.apply(function(){o.onTimeRangeSelect(u)}),u.preventDefault.value))return;switch(o.timeRangeSelectedHandling){case"CallBack":o.timeRangeSelectedCallBack(c,d)}typeof o.onTimeRangeSelected=="function"&&o.wa.apply(function(){o.onTimeRangeSelected(u)})}else switch(o.timeRangeSelectedHandling){case"CallBack":o.timeRangeSelectedCallBack(c,d);break;case"JavaScript":o.onTimeRangeSelected(c,d)}},this.wa={},this.wa.scope=null,this.wa.notify=function(){o.wa.scope&&o.wa.scope.$apply()},this.wa.apply=function(c){c()},this.clearSelection=function(){o.clearShadow()},this.commandCallBack=function(c,d){var u={};u.command=c,this.U("Command",d,u)},this.isWeekend=function(c){return c=new e.Date(c),c.dayOfWeek()===0||c.dayOfWeek()===6},this.ca={},this.ca.locale=function(){var c=e.Locale.find(o.locale);return c||e.Locale.US},this.ca.da=function(){return o.xssProtection!=="Disabled"};var l=this.ca;this.debug=function(c,d){this.debuggingEnabled&&(o.debugMessages||(o.debugMessages=[]),o.debugMessages.push(c),typeof console<"u"&&console.log(c))},this.dispose=function(){var c=o;c.Q||(c.Q=!0,c.fd(),c.Y(),c.nav.top.removeAttribute("style"),c.nav.top.removeAttribute("class"),c.nav.top.innerHTML="",c.nav.top.dp=null,c.nav.top.onmousemove=null,c.nav.top=null)},this.disposed=function(){return this.Q},this.rb=function(){t.globalHandlers||(t.globalHandlers=!0,e.re(document,"mouseup",t.gMouseUp))},this.loadFromServer=function(){return!(!this.backendUrl&&typeof WebForm_DoCallback!="function")&&(typeof o.events.list>"u"||!o.events.list)},this.u=function(){this.nav.top.style.visibility==="hidden"&&(this.nav.top.style.visibility="visible")},this.show=function(){o.visible=!0,o.nav.top.style.display=""},this.hide=function(){o.visible=!1,o.nav.top.style.display="none"},this.yb=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if(typeof this.id!="string")throw"DayPilot.Month() constructor requires the target element or its ID as a parameter";if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw"DayPilot.Month: The placeholder element not found: '"+id+"'."}},this.Hb=function(){this.ed(),this.Ya(),this.gd(),this.rb(),this.U("Init")},this.ab=function(c,d){return o.ca.da()?e.Util.escapeTextHtml(c,d):e.Util.isNullOrUndefined(d)?e.Util.isNullOrUndefined(c)?"":c:d},this.Sa={},this.Sa.Ra=null,this.Sa.Ob=function(c,d,u){var i=o.Sa.Ra;if(typeof i.createVNode=="function"&&typeof i.render=="function"){var m=i.createVNode(c,u);i.render(m,d)}},this.Sa.Wa=function(c,d,u){var i=o.Sa.Ra;if(typeof i.render=="function"){var m=c;e.isArray(c)&&(m=i.h("div",u,c)),i.render(m,d)}},this.Sa.Ua=function(c){var d=o.Sa.Ra;typeof d.render=="function"&&d.render(null,c)},this.internal={},this.internal.loadOptions=this.ub,this.internal.xssTextHtml=o.ab,this.internal.enableVue=function(c){o.Sa.Ra=c},this.internal.vueRef=function(){return o.Sa.Ra},this.internal.vueRendering=function(){return o.Sa.Ta},this.init=function(){return this.yb(),this.loadFromServer()?void this.Hb():(this.ed(),this.ha(),this.Ya(),this.gd(),this.u(),this.na(),this.rb(),this.fireAfterRenderDetached(null,!1),this.Ma=!0,this)},this.Init=this.init,Object.defineProperty(this,"durationBarVisible",{get:function(){return o.eventBarVisible}}),this.ub(a)},t.gMouseUp=function(n){if(t.movingEvent){var a=t.movingEvent;if(!a.event||!a.event.calendar||!a.event.calendar.shadow||!a.event.calendar.shadow.start)return;var o=t.movingEvent.event.calendar,l=t.movingEvent.event,c=o.shadow.start,d=o.shadow.position,u=t.movingEvent.offset;o.clearShadow(),t.movingEvent=null;var n=n||window.event;return o.M(l,c.x,c.y,u,n,d),n.cancelBubble=!0,n.stopPropagation&&n.stopPropagation(),t.movingEvent=null,!1}if(t.resizingEvent){var a=t.resizingEvent;if(!a.event||!a.event.calendar||!a.event.calendar.shadow||!a.event.calendar.shadow.start)return;var o=t.resizingEvent.event.calendar,l=t.resizingEvent.event,c=o.shadow.start,i=o.shadow.width;return o.clearShadow(),t.resizingEvent=null,o.K(l,c,i),n.cancelBubble=!0,t.resizingEvent=null,!1}if(t.timeRangeSelecting){if(t.timeRangeSelecting.moved){var m=t.timeRangeSelecting,o=m.root,c=new e.Date(o.getDateFromCell(m.from.x,m.from.y)),g=c.addDays(m.width);o.O(c,g)}t.timeRangeSelecting=null}},e.Month=t.Month,typeof jQuery<"u"&&function(n){n.fn.daypilotMonth=function(a){var o=null,l=this.each(function(){if(!this.daypilot){var c=new e.Month(this.id);this.daypilot=c;for(name in a)c[name]=a[name];c.Init(),o||(o=c)}});return this.length===1?o:l}}(jQuery),function(){var n=e.am();n&&n.directive("daypilotMonth",["$parse",function(a){return{restrict:"E",template:"<div></div>",replace:!0,link:function(o,l,c){var d=new e.Month(l[0]);d.wa.scope=o,d.init();var u=c.id;u&&(o[u]=d);var i=c.publishAs;i&&(0,a(i).assign)(o,d);for(var m in c)m.indexOf("on")===0&&function(N){d[N]=function(h){var y=a(c[N]);o.$apply(function(){y(o,{args:h})})}}(m);var g=o.$watch,x=c.config||c.daypilotConfig,v=c.events||c.daypilotEvents;g.call(o,x,function(N){for(var h in N)d[h]=N[h];d.update()},!0),g.call(o,v,function(N){d.events.list=N,d.update()},!0)}}}])}(),typeof Sys<"u"&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),typeof e>"u")var e={};if(typeof e.Global>"u"&&(e.Global={}),function(t){if(typeof t.Navigator>"u"||!t.Navigator.def){var r=t.Util.isVueVNode;t.Navigator=function(n,a){this.v="2025.3.710-lite";var o=this;this.id=n,this.api=2,this.isNavigator=!0,this.autoFocusOnClick=!0,this.weekStarts="Auto",this.selectMode="Day",this.titleHeight=30,this.dayHeaderHeight=30,this.bound=null,this.cellWidth=30,this.cellHeight=30,this.cssClassPrefix="navigator_default",this.freeHandSelectionEnabled=!1,this.selectionStart=new t.Date().getDatePart(),this.selectionEnd=null,this.selectionDay=null,this.showMonths=1,this.skipMonths=1,this.command="navigate",this.year=new t.Date().getYear(),this.month=new t.Date().getMonth()+1,this.showToday=!1,this.showWeekNumbers=!1,this.todayHtml=null,this.todayHeight=40,this.todayPosition="Bottom",this.todayText="Today",this.weekNumberAlgorithm="Auto",this.rowsPerMonth="Six",this.orientation="Vertical",this.locale="en-us",this.rtl=!1,this.visible=!0,this.timeRangeSelectedHandling="Bind",this.visibleRangeChangedHandling="Enabled",this.onVisibleRangeChange=null,this.onVisibleRangeChanged=null,this.onTimeRangeSelect=null,this.onTimeRangeSelected=null,this.onTodayClick=null,this.nav={},this.zb={},this.nd=function(){this.root.dp=this,this.root.className=this.L("_main"),this.orientation==="Horizontal"?(d.od()||(this.root.style.width=this.showMonths*(7*d.cellWidth()+this.pd())+"px"),this.root.style.height=6*this.cellHeight+this.titleHeight+this.dayHeaderHeight+"px"):d.od()||(this.root.style.width=7*d.cellWidth()+this.pd()+"px"),this.rtl&&(this.root.style.direction="rtl"),this.root.style.position="relative",this.visible||(this.root.style.display="none");var u=document.createElement("input");u.type="hidden",u.name=o.id+"_state",u.id=u.name,this.root.appendChild(u),this.state=u,this.startDate?this.startDate=new t.Date(this.startDate).firstDayOfMonth():this.selectionDay?this.startDate=new t.Date(this.selectionDay).firstDayOfMonth():this.startDate=t.Date.fromYearMonthDay(this.year,this.month),this.calendars=[],this.selected=[],this.months=[]},this.ta=function(){return o.api===2},this.fd=function(){this.root.innerHTML=""},this.L=function(u){var i=this.theme||this.cssClassPrefix;return i?i+u:""},this.qd=function(u,i){var m=this.L("_"+i);t.Util.addClass(u,m)},this.rd=function(u,i){var m=this.L("_"+i);t.Util.removeClass(u,m)},this.sd=function(){if(!d.od())return null;var u=7;return this.showWeekNumbers&&u++,100/u},this.td=function(){return d.od()?null:d.cellWidth()},this.ud=function(u){return typeof u!="number"&&(u=1),d.od()?this.sd()*u:this.td()*u},this.vd=function(u){var i=d.od()?"%":"px";return this.ud(u)+i},this.gd=function(u,i){var m={};m.cells=[],m.days=[],m.weeks=[];var g=this.startDate.addMonths(u),x=i.before,v=i.after,N=g.firstDayOfMonth(),h=N.firstDayOfWeek(d.weekStarts()),y=N.addMonths(1),w=t.DateUtil.daysDiff(h,y),j=this.rowsPerMonth==="Auto"?Math.ceil(w/7):6;m.rowCount=j;var C=new t.Date().getDatePart(),_=7*d.cellWidth()+this.pd();m.width=_;var k=this.cellHeight*j+this.titleHeight+this.dayHeaderHeight;m.height=k;var A=document.createElement("div");if(d.od()?this.orientation==="Horizontal"&&(A.style.width=100/o.showMonths+"%"):A.style.width=_+"px",A.style.height=k+"px",this.orientation==="Horizontal")A.style.position="absolute",d.od()?(A.style.left=100/o.showMonths*u+"%",m.leftPct=100/o.showMonths*u):A.style.left=_*u+"px",A.style.top="0px",m.top=0,m.left=_*u;else{A.style.position="relative";var T=u>0?o.months[u-1].top+o.months[u-1].height:0;m.top=T,m.left=0,m.leftPct=0}A.className=this.L("_month"),A.style.cursor="default",A.style.userSelect="none",A.style.webkitUserSelect="none",A.month=m,m.div=A,this.root.appendChild(A);var R=this.titleHeight+this.dayHeaderHeight,P=document.createElement("div");P.style.position="absolute",P.style.left="0px",P.style.right="0px",P.style.top="0px",P.style.width=o.vd(),P.style.height=this.titleHeight+"px",P.style.lineHeight=this.titleHeight+"px",P.className=this.L("_titleleft"),i.left&&(P.style.cursor="pointer",P.innerHTML="<span>&lt;</span>",P.onclick=this.wd),A.appendChild(P),this.tl=P;var M=document.createElement("div");M.style.position="absolute",M.style.left=o.vd(),M.style.top="0px",M.style.width=o.vd(o.showWeekNumbers?6:5),M.style.height=this.titleHeight+"px",M.style.lineHeight=this.titleHeight+"px",M.className=this.L("_title"),M.innerHTML=d.locale().monthNames[g.getMonth()]+" "+g.getYear(),A.appendChild(M),this.ti=M;var I=document.createElement("div");I.style.position="absolute",I.style.left=o.vd(o.showWeekNumbers?7:6),I.style.right=o.vd(o.showWeekNumbers?7:6),I.style.top="0px",I.style.width=o.vd(),I.style.height=this.titleHeight+"px",I.style.lineHeight=this.titleHeight+"px",I.className=this.L("_titleright"),i.right&&(I.style.cursor="pointer",I.innerHTML="<span>&gt;</span>",I.onclick=this.xd),A.appendChild(I),this.tr=I;var L=(this.pd(),o.showWeekNumbers?1:0);if(this.showWeekNumbers)for(var B=0;B<j;B++){var U=h.addDays(7*B),F=null;switch(this.weekNumberAlgorithm){case"Auto":F=d.weekStarts()===1?U.weekNumberISO():U.weekNumber();break;case"US":F=U.weekNumber();break;case"ISO8601":F=U.weekNumberISO();break;default:throw"Unknown weekNumberAlgorithm value."}var H=document.createElement("div");H.style.position="absolute",H.style.left="0px",H.style.right="0px",H.style.top=B*this.cellHeight+R+"px",H.style.width=o.vd(),H.style.height=this.cellHeight+"px",H.style.lineHeight=this.cellHeight+"px",H.className=this.L("_weeknumber"),H.innerHTML="<span>"+F+"</span>",A.appendChild(H),m.weeks.push(H)}if(o.showWeekNumbers){var H=document.createElement("div");H.style.position="absolute",H.style.left="0px",H.style.right="0px",H.style.top=this.titleHeight+"px",H.style.width=o.vd(),H.style.height=this.dayHeaderHeight+"px",H.className=this.L("_dayheader"),A.appendChild(H)}for(var W=0;W<7;W++){m.cells[W]=[];var H=document.createElement("div");H.style.position="absolute",H.style.left=o.vd(W+L),H.style.right=o.vd(W+L),H.style.top=this.titleHeight+"px",H.style.width=o.vd(),H.style.height=this.dayHeaderHeight+"px",H.style.lineHeight=this.dayHeaderHeight+"px",H.className=this.L("_dayheader"),H.innerHTML="<span>"+this.yd(W)+"</span>",A.appendChild(H),m.days.push(H);for(var B=0;B<j;B++){var U=h.addDays(7*B+W),J=this.zd(U)&&this.Ad()!=="none",q=U.firstDayOfMonth()===g,G=U<g,z=U>=g.addMonths(1);if(this.Ad()==="month")J=J&&q;else if(this.Ad()==="day")J=J&&(q||x&&G||v&&z);else if(this.Ad()==="week"){var K=U.firstDayOfMonth()===g;J=J&&(K||x&&G||v&&z)}var Z=document.createElement("div");m.cells[W][B]=Z;var ie=o.Bd(W,B),ye=ie.x,de=ie.y,xe=d.od()?"%":"px";Z.day=U,Z.x=W,Z.y=B,Z.left=ye,Z.top=de,Z.isCurrentMonth=q,Z.isNextMonth=z,Z.isPrevMonth=G,Z.showBefore=x,Z.showAfter=v,Z.className=this.L(q?"_day":"_dayother"),o.qd(Z,"cell"),U.getTime()===C.getTime()&&q&&this.qd(Z,"today"),U.dayOfWeek()!==0&&U.dayOfWeek()!==6||this.qd(Z,"weekend"),Z.style.position="absolute",Z.style.left=ye+xe,Z.style.right=ye+xe,Z.style.top=de+"px",Z.style.width=o.vd(),Z.style.height=this.cellHeight+"px",Z.style.lineHeight=this.cellHeight+"px";var ne=document.createElement("div");ne.style.position="absolute",ne.className=U.getTime()===C.getTime()&&q?this.L("_todaybox"):this.L("_daybox"),o.qd(ne,"cell_box"),ne.style.left="0px",ne.style.top="0px",ne.style.right="0px",ne.style.bottom="0px",Z.appendChild(ne);var ge=null;this.cells&&this.cells[U.toStringSortable()]&&(ge=this.cells[U.toStringSortable()]);var Ce=ge||{};if(Ce.day=U,Ce.isCurrentMonth=q,Ce.isToday=U.getTime()===C.getTime()&&q,Ce.isWeekend=U.dayOfWeek()===0||U.dayOfWeek()===6,ge?(Ce.html=ge.html||U.getDay(),Ce.cssClass=ge.css):(Ce.html=U.getDay(),Ce.cssClass=null),typeof o.onBeforeCellRender=="function"){var ce={};ce.cell=Ce,o.onBeforeCellRender(ce),ge=ce.cell}if(ge&&t.Util.addClass(Z,ge.cssClass||ge.css),q||x&&G||v&&z){var Oe=document.createElement("div");Oe.innerHTML=U.getDay(),Oe.style.position="absolute",Oe.style.left="0px",Oe.style.top="0px",Oe.style.right="0px",Oe.style.bottom="0px",o.qd(Oe,"cell_text"),Z.isClickable=!0,ge&&ge.html&&(Oe.innerHTML=ge.html),Z.appendChild(Oe)}Z.onclick=this.Cd,function(){if(typeof o.onBeforeCellDomAdd=="function"||typeof o.onBeforeCellDomRemove=="function"){var oe={};if(oe.control=o,oe.cell=Ce,oe.element=null,Z.domArgs=oe,typeof o.onBeforeCellDomAdd=="function"&&o.onBeforeCellDomAdd(oe),oe.element){var Fe=ne;if(Fe)if(oe.Qa=Fe,r(oe.element)){if(!o.Sa.Ra)throw new t.Exception("Can't reach Vue");o.Sa.Ta=!0,o.Sa.Wa(oe.element,Fe),o.Sa.Ta=!1}else Fe.appendChild(oe.element)}}}(),A.appendChild(Z),J&&(o.Dd(A,W,B),this.selected.push(Z))}}var Pe=document.createElement("div");Pe.style.position="absolute",Pe.style.left="0px",Pe.style.top=R-2+"px",Pe.style.width=o.vd(7+L),Pe.style.height="1px",Pe.style.fontSize="1px",Pe.style.lineHeight="1px",Pe.className=this.L("_line"),A.appendChild(Pe),this.months.push(m)},this.Bd=function(u,i){var m=this.titleHeight+this.dayHeaderHeight,g=(this.pd(),this.showWeekNumbers?1:0);return{x:o.ud(u+g),y:i*this.cellHeight+m}},this.Dd=function(u,i,m){var g=u.month.cells[i][m];o.qd(g,"select")},this.Ed=function(u,i,m){var g=u.month.cells[i][m];o.rd(g,"select")},this.pd=function(){return this.showWeekNumbers?d.cellWidth():0},this.Fd=function(){if(this.items)for(var u=0;u<this.showMonths;u++)for(var i=0;i<7;i++)for(var m=0;m<6;m++){var g=this.months[u].cells[i][m];g&&(this.items[g.day.toStringSortable()]===1?(this.qd(g,"busy"),this.rd(g,"free")):(this.rd(g,"busy"),this.qd(g,"free")))}},this.Gd=function(){var u={};u.startDate=o.startDate,u.selectionStart=o.selectionStart,u.selectionEnd=o.selectionEnd.addDays(1),o.state.value=JSON.stringify(u)},this.Ad=function(){return(this.selectMode||"").toLowerCase()},this.Hd=function(){var u=this.selectionDay||this.selectionStart;switch(u||(u=t.Date.today()),u=new t.Date(u),this.Ad()){case"day":this.selectionStart=u,this.selectionDay=u,this.selectionEnd=u;break;case"week":this.selectionDay=u,this.selectionStart=u.firstDayOfWeek(d.weekStarts()),this.selectionEnd=this.selectionStart.addDays(6);break;case"month":this.selectionDay=u,this.selectionStart=u.firstDayOfMonth(),this.selectionEnd=this.selectionStart.lastDayOfMonth();break;case"none":this.selectionEnd=u;break;default:throw"Unknown selectMode value."}},this.Id=null,this.select=function(u,i,m){var g=i&&(i instanceof t.Date||typeof i=="string"),x=i&&typeof i=="object"||typeof i=="boolean",v=u,N=g?i:null,h=x?i:m;if(!this.Ma)return void(this.Id={date1:v,date2:N,options:h});var y=!0,w=!0;h&&typeof h=="object"?(h.dontFocus&&(y=!1),h.dontNotify&&(w=!1)):typeof h=="boolean"&&(y=!h);var j=this.selectionStart,C=this.selectionEnd;this.selectionStart=new t.Date(v).getDatePart(),this.selectionDay=this.selectionStart;var _=!1;if(y){var k=this.startDate;(this.selectionStart<this.Jd()||this.selectionStart>=this.Kd())&&(k=this.selectionStart.firstDayOfMonth()),k.toStringSortable()!==this.startDate.toStringSortable()&&(_=!0),this.startDate=k}N&&o.freeHandSelectionEnabled?o.selectionEnd=new t.Date(N):this.Hd(),this.fd(),this.nd(),this.Ld(),this.Fd(),this.Gd(),!w||j.equals(this.selectionStart)&&C.equals(this.selectionEnd)||this.O(),_&&this.Md()},this.update=function(u){o.Nd(u)},this.Nd=function(u){if(o.ub(u),this.Ma){if(o.Q)throw new t.Exception("You are trying to update a DayPilot.Navigator instance that has been disposed.");o.Od();var i={day:o.selectionDay,start:o.selectionStart,end:o.selectionEnd};o.sb(),i.start===o.selectionStart&&i.end===o.selectionEnd&&i.day===o.selectionDay||o.O()}},this.sb=function(){this.fd(),this.nd(),this.Hd(),this.Ld(),this.ha(),this.Fd(),this.Gd(),this.visible?this.show():this.hide()},this.Od=function(){o.zb={}},this.wb=null,this.ub=function(u){if(u){var i={events:{preInit:function(){var x=this.data;x&&(t.isArray(x.list)?o.events.list=x.list:o.events.list=x)}}};this.wb=i;for(var m in u)if(i[m]){var g=i[m];g.data=u[m],g.preInit&&g.preInit()}else o[m]=u[m]}},this.xb=function(){var u=this.wb;for(var i in u){var m=u[i];m.postInit&&m.postInit()}},this.U=function(u,i,m){var g={};g.action=u,g.parameters=m,g.data=i,g.header=this.T();var x="JSON"+JSON.stringify(g);this.backendUrl?t.request(this.backendUrl,this.V,x,this.Pd):WebForm_DoCallback(this.uniqueID,x,this.W,null,this.callbackError,!0)},this.Pd=function(u){if(typeof o.onAjaxError=="function"){var i={};i.request=u,o.onAjaxError(i)}else typeof o.ajaxError=="function"&&o.ajaxError(u)},this.V=function(u){o.W(u.responseText)},this.S=function(u,i,m){var g={};g.action=u,g.parameters=m,g.data=i,g.header=this.T();var x="JSON"+JSON.stringify(g);__doPostBack(o.uniqueID,x)},this.T=function(){var u={};return u.v=this.v,u.startDate=this.startDate,u.selectionStart=this.selectionStart,u.showMonths=this.showMonths,u},this.Qd=function(u,i){u==="refresh"&&this.Md()},this.yd=function(u){var i=u+d.weekStarts();return i>6&&(i-=7),d.locale().dayNamesShort[i]},this.zd=function(u){return this.selectionStart!==null&&this.selectionEnd!==null&&this.selectionStart.getTime()<=u.getTime()&&u.getTime()<=this.selectionEnd.getTime()},this.Rd=function(u){for(var i=0;i<o.months.length;i++){var m=o.months[i];if(!m||u.x<m.left)return null;if(!(m.left+m.width<u.x)&&(o.months[i].height,m.top<=u.y&&u.y<m.top+m.height))return i}return null},this.Sd=function(u){},this.Td=function(){if(!d.od())return void(o.Ud=o.cellWidth);var u=o.months[0].cells[0][0],i=u.clientWidth;o.Ud=i,o.months.forEach(function(m){m.width=m.div.clientWidth,o.orientation==="Horizontal"&&(m.left=m.div.offsetLeft),m.cells.forEach(function(g,x){g.forEach(function(v,N){v.width=i,v.left=x*i})})})},this.Vd=function(u){o.Td();var i=t.mo3(o.nav.top,u),m=o.Rd(i);if(m===null)return null;var g=o.months[m],x=this.titleHeight+this.dayHeaderHeight;if(g.top<=i.y&&i.y<g.top+x)return{month:m,x:0,y:0,coords:i,header:!0};for(var v=0;v<g.cells.length;v++)for(var N=0;N<g.cells[v].length;N++){var h=g.cells[v][N],y=h.top+g.top,w=h.left+g.left;if(w<=i.x&&i.x<w+o.Ud&&y<=i.y&&i.y<y+o.cellHeight)return{month:m,x:v,y:N,coords:i}}return null},this.Wd=function(u){if(o.freeHandSelectionEnabled){var i=o.Vd(u);i&&!i.header&&(l.start=i),o.months[i.month].cells[i.x][i.y],u.preventDefault()}},this.Xd=function(u){if(l.start){var i=o.Vd(u);if(l.end)l.end=i;else if(i){var m=3,g=t.distance(l.start.coords,i.coords);g>m&&(l.end=i)}l.end&&(l.clear(),l.draw())}},this.Yd={};var l=this.Yd;l.start=null,l.drawCell=function(u){var i=o.months[u.month],m=o.Bd(u.x,u.y),g=i.top+m.y,x=i.left+m.x,v="px",N=o.vd();if(d.od()){var h=o.orientation==="Horizontal"?o.showMonths:1;x=i.leftPct+m.x/h,v="%",N=o.vd(1/h)}var y=document.createElement("div");y.style.position="absolute",y.style.left=x+v,y.style.top=g+"px",y.style.height=o.cellHeight+"px",y.style.width=N,y.style.backgroundColor="#ccc",y.style.opacity=.5,y.style.cursor="default",o.nav.preselection.appendChild(y),l.cells.push(y)},l.clear=function(){if(l.cells){for(var u=0;u<l.cells.length;u++)o.nav.preselection.removeChild(l.cells[u]);l.cells=[]}},l.draw=function(){var u=l.ordered(),i=new c(u.start),m=u.end;if(m){if(m===l.end&&m.header&&m.month>0){m.month-=1;var g=o.months[m.month];m.x=6,m.y=g.rowCount-1}for(l.cells=[];!i.is(m);){i.visible()&&l.drawCell(i);var x=new c(i).next();if(!x)return;i.month=x.month,i.x=x.x,i.y=x.y}i.visible()&&l.drawCell(i)}},l.ordered=function(){var u=l.start,i=l.end,m={};return!i||new c(u).before(i)?(m.start=u,m.end=i):(m.start=i,m.end=u),m};var c=function(u,i,m){if(u instanceof c)return u;if(typeof u=="object"){var g=u;this.month=g.month,this.x=g.x,this.y=g.y}else this.month=u,this.x=i,this.y=m;this.is=function(x){return this.month===x.month&&this.x===x.x&&this.y===x.y},this.next=function(){var x=this;if(x.x<6)return{month:x.month,x:x.x+1,y:x.y};var v=o.months[x.month];return x.y<v.rowCount-1?{month:x.month,x:0,y:x.y+1}:x.month<o.months.length-1?{month:x.month+1,x:0,y:0}:null},this.visible=function(){var x=this.cell();return!!x.isCurrentMonth||!(!x.isPrevMonth||!x.showBefore)||!(!x.isNextMonth||!x.showAfter)},this.nextVisible=function(){for(var x=this;!x.visible();){var v=x.next();if(!v)return null;x=new c(v)}return x},this.previous=function(){var x=this;if(x.x>0)return{month:x.month,x:x.x-1,y:x.y};if(o.months[x.month],x.y>0)return{month:x.month,x:6,y:x.y-1};if(x.month>0){var v=o.months[x.month-1];return{month:x.month-1,x:6,y:v.rowCount-1}}return null},this.previousVisible=function(){for(var x=this;!x.visible();){var v=x.previous();if(!v)return null;x=new c(v)}return x},this.cell=function(){return o.months[this.month].cells[this.x][this.y]},this.date=function(){return this.cell().day},this.before=function(x){return this.date()<new c(x).date()}};this.Cd=function(u){var i=this.parentNode,m=this.parentNode.month,g=this.x,x=this.y,v=m.cells[g][x].day;if(m.cells[g][x].isClickable){o.clearSelection(),o.selectionDay=v;var v=o.selectionDay;switch(o.Ad()){case"none":o.selectionStart=v,o.selectionEnd=v;break;case"day":if(o.autoFocusOnClick){var N=v;if(v<o.Jd()||v>=o.Kd())return void o.select(v)}var h=m.cells[g][x];o.Dd(i,g,x),o.selected.push(h),o.selectionStart=h.day,o.selectionEnd=h.day;break;case"week":if(o.autoFocusOnClick){var N=m.cells[0][x].day,y=m.cells[6][x].day;if(N.firstDayOfMonth()===y.firstDayOfMonth()&&(N<o.Jd()||y>=o.Kd()))return void o.select(v)}for(var w=0;w<7;w++)o.Dd(i,w,x),o.selected.push(m.cells[w][x]);o.selectionStart=m.cells[0][x].day,o.selectionEnd=m.cells[6][x].day;break;case"month":if(o.autoFocusOnClick){var N=v;if(v<o.Jd()||v>=o.Kd())return void o.select(v)}for(var N=null,y=null,x=0;x<6;x++)for(var g=0;g<7;g++){var h=m.cells[g][x];h&&h.day.getYear()===v.getYear()&&h.day.getMonth()===v.getMonth()&&(o.Dd(i,g,x),o.selected.push(h),N===null&&(N=h.day),y=h.day)}o.selectionStart=N,o.selectionEnd=y;break;default:throw"unknown selectMode"}o.Gd(),o.O()}},this.O=function(u){var i=o.selectionStart,m=o.selectionEnd.addDays(1),g=t.DateUtil.daysDiff(i,m),x=o.selectionDay;if(u=u||{},o.ta()){var v={};if(v.start=i,v.end=m,v.day=x,v.days=g,v.mode=u.mode||o.selectMode,v.preventDefault=function(){this.preventDefault.value=!0},typeof o.onTimeRangeSelect=="function"&&(o.onTimeRangeSelect(v),v.preventDefault.value))return;switch(o.timeRangeSelectedHandling){case"Bind":if(typeof bound=="object"){var N={};N.start=i,N.end=m,N.days=g,N.day=x,bound.commandCallBack(o.command,N)}break;case"None":break;case"PostBack":o.timeRangeSelectedPostBack(i,m,x)}typeof o.onTimeRangeSelected=="function"&&o.onTimeRangeSelected(v)}else switch(o.timeRangeSelectedHandling){case"Bind":if(typeof bound=="object"){var N={};N.start=i,N.end=m,N.days=g,N.day=x,bound.commandCallBack(o.command,N)}break;case"JavaScript":o.onTimeRangeSelected(i,m,x);break;case"None":break;case"PostBack":o.timeRangeSelectedPostBack(i,m,x)}},this.timeRangeSelectedPostBack=function(u,i,m,g){var x={};x.start=u,x.end=i,x.day=g,this.S("TimeRangeSelected",m,x)},this.xd=function(u){o.Zd(o.skipMonths)},this.wd=function(u){o.Zd(-o.skipMonths)},this.Zd=function(u){this.startDate=this.startDate.addMonths(u),this.fd(),this.nd(),this.Ld(),this.Gd(),this.Md(),this.Fd()},this.Jd=function(){return o.startDate.firstDayOfMonth()},this.Kd=function(){return o.startDate.firstDayOfMonth().addMonths(this.showMonths)},this.visibleStart=function(){return o.startDate.firstDayOfMonth().firstDayOfWeek(d.weekStarts())},this.visibleEnd=function(){return o.startDate.firstDayOfMonth().addMonths(this.showMonths-1).firstDayOfWeek(d.weekStarts()).addDays(42)},this.Md=function(){var u=this.visibleStart(),i=this.visibleEnd();if(o.ta()){var m={};if(m.start=u,m.end=i,m.preventDefault=function(){this.preventDefault.value=!0},typeof o.onVisibleRangeChange=="function"&&(o.onVisibleRangeChange(m),m.preventDefault.value))return;switch(this.visibleRangeChangedHandling){case"CallBack":this.visibleRangeChangedCallBack(null);break;case"PostBack":this.visibleRangeChangedPostBack(null);break}typeof o.onVisibleRangeChanged=="function"&&o.onVisibleRangeChanged(m)}else switch(this.visibleRangeChangedHandling){case"CallBack":this.visibleRangeChangedCallBack(null);break;case"PostBack":this.visibleRangeChangedPostBack(null);break;case"JavaScript":this.onVisibleRangeChanged(u,i);break}},this.visibleRangeChangedCallBack=function(u){var i={};this.U("Visible",u,i)},this.visibleRangeChangedPostBack=function(u){var i={};this.S("Visible",u,i)},this.W=function(m,i){var m=JSON.parse(m);o.items=m.Items,o.cells=m.Cells,o.cells?o.update():o.Fd()},this.Ld=function(){this.showToday&&this.todayPosition==="Top"&&this.$d();for(var u=0;u<this.showMonths;u++){var i=this._d(u);this.gd(u,i)}this.showToday&&this.todayPosition==="Bottom"&&this.$d(),this.root.style.height=this.ae()+"px",this.nav.preselection=document.createElement("div"),this.nav.preselection.style.position="absolute",this.nav.preselection.style.left="0px",this.nav.preselection.style.right="0px",this.nav.preselection.style.top="0px",this.root.appendChild(this.nav.preselection)},this.$d=function(){if(this.showToday){var u=document.createElement("span");u.className=this.L("_todaysection_button"),this.todayHtml?u.innerHTML=this.todayHtml:u.innerText=this.todayText,u.onclick=function(){if(typeof o.onTodayClick=="function"){var m={};if(m.preventDefault=function(){this.preventDefault.value=!0},o.onTodayClick(m),m.preventDefault.value)return}o.select(t.Date.today())};var i=document.createElement("div");i.style.height=this.todayHeight+"px",i.className=this.L("_todaysection"),i.appendChild(u),this.root.appendChild(i)}},this.ae=function(){var u=0;if(this.showToday&&(u+=this.todayHeight),this.orientation==="Horizontal"){for(var i=0;i<this.months.length;i++){var m=this.months[i];m.height>u&&(u=m.height)}return u}for(var i=0;i<this.months.length;i++){var m=this.months[i];u+=m.height}return u},this._d=function(u){if(this.internal.showLinks)return this.internal.showLinks;var i={};return i.left=u===0,i.right=u===0,i.before=u===0,i.after=u===this.showMonths-1,this.orientation==="Horizontal"&&(i.right=u===this.showMonths-1),i},this.wa={},this.wa.scope=null,this.wa.notify=function(){o.wa.scope&&o.wa.scope.$apply()},this.Sa={},this.Sa.Ra=null,this.Sa.Ob=function(u,i,m){var g=o.Sa.Ra;if(typeof g.createVNode=="function"&&typeof g.render=="function"){var x=g.createVNode(u,m);g.render(x,i)}},this.Sa.Wa=function(u,i){var m=o.Sa.Ra;if(typeof m.render=="function"){var g=u;t.isArray(u)&&(g=m.h("div",null,u)),m.render(g,i)}},this.Sa.Ua=function(u){var i=o.Sa.Ra;typeof i.render=="function"&&i.render(null,u)},this.internal={},this.internal.loadOptions=o.ub,this.internal.initialized=function(){return o.Ma},this.internal.enableVue=function(u){o.Sa.Ra=u},this.internal.vueRef=function(){return o.Sa.Ra},this.internal.vueRendering=function(){return o.Sa.Ta},this.internal.upd=function(u){o.Nd(u)},this.ca={};var d=this.ca;d.locale=function(){return t.Locale.find(o.locale)},d.weekStarts=function(){if(o.weekStarts==="Auto"){var u=d.locale();return u?u.weekStarts:0}return o.weekStarts},d.cellWidth=function(){if(o.zb.cellWidth)return o.zb.cellWidth;var u=o.be("_cell_dimensions").width;return u||(u=o.cellWidth),o.zb.cellWidth=u,u},d.od=function(){return o.ca.cellWidth()==="Auto"},this.clearSelection=function(){for(var u=0;u<this.selected.length;u++){var i=this.selected[u];o.Ed(i.parentNode,i.x,i.y)}this.selected=[]},this.ce=function(){return!!this.backendUrl&&(typeof o.items>"u"||!o.items)},this.events={},this.ha=function(){if(t.isArray(this.events.list)){this.items={};for(var u=0;u<this.events.list.length;u++){var i=this.events.list[u];if(!i.hidden){var m=this.ee(i);for(var g in m)this.items[g]=1}}}},this.be=function(u){var i=document.createElement("div");i.style.position="absolute",i.style.top="-2000px",i.style.left="-2000px",i.className=this.L(u);var m=o.root||document.body;m.appendChild(i);var g=i.offsetHeight,x=i.offsetWidth;m.removeChild(i);var v={};return v.height=g,v.width=x,v},this.ee=function(u){for(var i=new t.Date(u.start),m=new t.Date(u.end),g={},x=i.getDatePart();x.getTime()<=m.getTime();)g[x.toStringSortable()]=1,x=x.addDays(1);return g},this.show=function(){o.visible=!0,o.root.style.display=""},this.hide=function(){o.visible=!1,o.root.style.display="none"},this.yb=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if(typeof this.id!="string")throw"DayPilot.Navigator() constructor requires the target element or its ID as a parameter";if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw"DayPilot.Navigator: The placeholder element not found: '"+n+"'."}this.root=this.nav.top},this.init=function(){if(this.yb(),!this.root.dp){if(this.Hd(),this.nd(),this.Ld(),this.ha(),this.Fd(),this.aa(),this.fe(),this.rb(),this.ce()&&this.Md(),this.Ma=!0,this.xb(),this.Id){var u=this.Id;this.select(u.date1,u.date2,u.options),this.Id=null}return this}},this.fe=function(){o.nav.top.onmousedown=this.Wd,o.nav.top.onmousemove=this.Xd},this.rb=function(){t.re(document,"mouseup",o.ge)},this.ge=function(u){if(l.start&&l.end){var i=t.mo3(o.nav.top,u);if(i.x===l.start.coords.x&&i.y===l.start.coords.y)return l.start=null,void l.clear();l.clear();var m=l.ordered();m.start=new c(m.start).nextVisible(),m.end=new c(m.end).previousVisible(),o.selectionDay=new c(m.start).date(),o.selectionStart=o.selectionDay,o.selectionEnd=new c(m.end).date(),l.start=null,l.end=null,o.fd(),o.nd(),o.Ld(),o.Fd(),o.Gd(),o.O({mode:"FreeHand"})}l.start=null,l.end=null},this.dispose=function(){var u=o;u.root&&(u.root.removeAttribute("style"),u.root.removeAttribute("class"),u.root.dp=null,u.root.innerHTML=null,u.root=null,u.Q=!0)},this.disposed=function(){return this.Q},this.aa=function(){this.root.dispose=this.dispose},this.Init=this.init,this.ub(a)},typeof jQuery<"u"&&function(n){n.fn.daypilotNavigator=function(a){var o=null,l=this.each(function(){if(!this.daypilot){var c=new t.Navigator(this.id);this.daypilot=c;for(var d in a)c[d]=a[d];c.Init(),o||(o=c)}});return this.length===1?o:l}}(jQuery),function(){var n=t.am();n&&n.directive("daypilotNavigator",["$parse",function(a){return{restrict:"E",template:"<div id='{{id}}'></div>",compile:function(o,l){return o.replaceWith(this.template.replace("{{id}}",l.id)),function(c,d,u){var i=new t.Navigator(d[0]);i.wa.scope=c,i.init();var m=u.id;m&&(c[m]=i);var g=u.publishAs;g&&(0,a(g).assign)(c,i);for(var x in u)if(x.indexOf("on")===0){var v=t.Util.shouldApply(x);v?function(w){i[w]=function(j){var C=a(u[w]);c.$apply(function(){C(c,{args:j})})}}(x):function(w){i[w]=function(j){a(u[w])(c,{args:j})}}(x)}var N=c.$watch,h=u.config||u.daypilotConfig,y=u.events||u.daypilotEvents;N.call(c,h,function(w,j){for(var C in w)i[C]=w[C];i.update()},!0),N.call(c,y,function(w){i.events.list=w,i.ha(),i.Fd()},!0)}}}}])}(),t.Navigator.def={},typeof Sys<"u"&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(e),typeof e>"u")var e={};return typeof e.Global>"u"&&(e.Global={}),function(t){function r(d){var u=d.touches[0].pageX,i=d.touches[0].pageY,m={};return m.x=u,m.y=i,m}if(typeof t.Scheduler>"u"){var n=navigator.userAgent.indexOf("iPad")>-1||navigator.userAgent.indexOf("iPhone")>-1,a={},o=function(){},l=function(){return document.body},c=function(){return document.createElement("div")};t.Scheduler=function(d,u){this.v="2025.3.710-lite";var i=this;this.isScheduler=!0,this.id=d,this.beforeCellRenderCaching=!0,this.businessBeginsHour=9,this.businessEndsHour=18,this.businessWeekends=!1,this.cellDuration=60,this.cellGroupBy="Day",this.cellSweeping=!0,this.cellSweepingCacheSize=1e3,this.cellWidth=40,this.cellsMarkBusiness=!0,this.cssClassPrefix="scheduler_default",this.days=1,this.durationBarHeight=3,this.durationBarVisible=!0,this.dynamicEventRendering="Progressive",this.dynamicEventRenderingMargin=50,this.dynamicEventRenderingMarginX=null,this.dynamicEventRenderingMarginY=null,this.dynamicEventRenderingCacheSweeping=!1,this.dynamicEventRenderingCacheSize=200,this.eventBorderRadius=null,this.eventEndSpec="DateTime",this.eventHeight=35,this.eventMinWidth=1,this.eventResizeMargin=5,this.eventTapAndHoldHandling="Move",this.eventTextWrappingEnabled=!1,this.eventsLoadMethod="GET",this.floatingEvents=!n,this.floatingTimeHeaders=!0,this.headerHeight=30,this.heightSpec="Max",this.height=600,this.locale="en-us",this.progressiveRowRendering=!0,this.progressiveRowRenderingPreload=25,this.rowHeaderWidth=80,this.rowMarginTop=0,this.rowMarginBottom=0,this.rowsLoadMethod="GET",this.scale="CellDuration",this.scrollDelayEvents=200,this.scrollDelayCells=n?100:0,this.scrollDelayFloats=0,this.scrollDelayRows=0,this.showToolTip=!0,this.snapToGrid=!0,this.startDate=t.Date.today(),this.tapAndHoldTimeout=300,this.timeHeaders=[{groupBy:"Default"},{groupBy:"Cell"}],this.timeHeaderTextWrappingEnabled=!1,this.timeFormat="Auto",this.useEventBoxes="Always",this.visible=!0,this.weekStarts="Auto",this.width=null,this.xssProtection="Enabled",this.eventClickHandling="Enabled",this.eventDeleteHandling="Disabled",this.eventMoveHandling="Update",this.eventResizeHandling="Update",this.eventRightClickHandling="ContextMenu",this.timeHeaderClickHandling="Enabled",this.timeHeaderRightClickHandling="Enabled",this.timeRangeClickHandling="Enabled",this.timeRangeSelectedHandling="Enabled",this.onEventClick=null,this.onEventClicked=null,this.onEventMove=null,this.onEventMoved=null,this.onEventResize=null,this.onEventResized=null,this.onRowClick=null,this.onRowClicked=null,this.onTimeHeaderClick=null,this.onTimeHeaderClicked=null,this.onTimeHeaderRightClick=null,this.onTimeHeaderRightClicked=null,this.onTimeRangeClick=null,this.onTimeRangeClicked=null,this.onTimeRangeSelect=null,this.onTimeRangeSelected=null,this.onBeforeCellRender=null,this.onBeforeEventRender=null,this.onBeforeRowHeaderRender=null,this.onBeforeTimeHeaderRender=null,this.onAfterUpdate=null,this.Q=!1,this.he=-1,this.ie=!0,this.rowlist=[],this.events={},this.cells={},this.elements={},this.elements.events=[],this.elements.bars=[],this.elements.text=[],this.elements.cells=[],this.elements.linesVertical=[],this.elements.range=[],this.elements.timeHeader=[],this.zb={},this.zb.cells=[],this.zb.linesVertical={},this.zb.linesHorizontal={},this.zb.timeHeaderGroups=[],this.zb.timeHeader={},this.zb.events=[],this.nav={},this.scrollTo=function(h){i.je(h)},this.je=function(h){if(h){if(!i.Ma)return void(i.ke=h);var y;if(h instanceof t.Date)y=this.getPixels(h).left;else if(typeof h=="string")y=this.getPixels(new t.Date(h)).left;else{if(typeof h!="number")throw new t.Exception("Invalid scrollTo() parameter. Accepted parameters: string (ISO date), number (pixels), DayPilot.Date object");y=h}var w=i.le.clientWidth,j=i.nav.scroll.clientWidth;y<0&&(y=0),y>w-j&&(y=w-j),i.me(y)}},this.scrollToResource=function(h){t.complete(function(){var y;if(typeof h=="string"||typeof h=="number")y=i.ne(h);else{if(!(h instanceof t.Row))throw new t.Exception("Invalid scrollToResource() argument: id or DayPilot.Row expected");y=i.ne(h.id)}y&&setTimeout(function(){var w=y.top;i.nav.scroll.scrollTop=w},100)})},this.oe=function(){if(this.floatingTimeHeaders&&this.timeHeader){var h=i.pe();if(h){i.qe();for(var y=h.pixels.left,w=h.pixels.right+h.sw,j=[],C=0;C<this.timeHeader.length;C++)for(var _=0;_<this.timeHeader[C].length;_++){var k=this.timeHeader[C][_],A=k.left,T=k.left+k.width,R=null;if(A<y&&y<T&&(R={},R.x=_,R.y=C,R.marginLeft=y-A,R.marginRight=0,R.div=i.zb.timeHeader[_+"_"+C],j.push(R)),A<w&&w<T){R||(R={},R.x=_,R.y=C,R.marginLeft=0,R.div=i.zb.timeHeader[_+"_"+C],j.push(R)),R.marginRight=T-w;break}}for(var P=0;P<j.length;P++){var R=j[P];i.se(R.div,R.marginLeft,R.marginRight)}}}},this.te=function(){i.oe(),i.ve()},this.we={};var m=i.we;m.xe=function(h,y,w,j){var C=h,_=h+w,k=y,A=y+j;return i.elements.events.filter(function(T){var R=T.event,P=R.part.left,M=R.part.left+R.part.width,I=i.rowlist[R.part.dayIndex],L=I.top+R.part.top,B=L+i.eventHeight;if(t.Util.overlaps(P,M,C,_)&&t.Util.overlaps(L,B,k,A))return!0})},m.ye=function(){var h=[],y=i.pe();if(!y)return h;for(var w=y.pixels.left,j=0;j<i.elements.events.length;j++){var C=i.elements.events[j],_=C.event,k=_.part.left,A=_.part.left+_.part.width;k<w&&w<A&&h.push(C)}return h.area=y,h},this.ve=function(){if(this.floatingEvents){var h=m.ye();i.ze=performance.now(),h.forEach(function(y){var w=y.event,j=h.area.pixels.left,C=w.part.left,_=j-C;i.Ae(y,_,0)}),i.Be()}},this.elements.sections=[],this.elements.hsections=[],this.se=function(h,y,w){var j=c();j.className=i.L("_timeheader_float"),j.style.position="absolute",j.style.left=y+"px",j.style.right=w+"px",j.style.top="0px",j.style.bottom="0px",j.style.overflow="hidden";var C=c();C.className=i.L("_timeheader_float_inner");var _=h.cell.th;C.innerHTML=i.ab(_.text,_.html),_.fontColor&&(C.style.color=_.fontColor),j.appendChild(C),j.Ce={marginLeft:y,marginRight:w},h.section=j,h.insertBefore(j,h.firstChild.nextSibling),h.firstChild.innerHTML="",this.elements.hsections.push(h)},this.qe=function(){for(var h=0;h<this.elements.hsections.length;h++){var y=this.elements.hsections[h],w=y.cell;w&&y.firstChild&&(y.firstChild.innerHTML=i.ab(w.th.text,w.th.html)),t.de(y.section),y.section=null}this.elements.hsections=[]},this.Ae=function(h,y,w){var j=h.section;if(j)return j.Ce&&j.Ce.marginLeft===y&&j.Ce.marginRight===w?void(j.Ce.stamp=i.ze):(h.section.style.left=y+"px",h.section.style.right=w+"px",void(j.Ce={marginLeft:y,marginRight:w,stamp:i.ze}));j=c(),j.className=i.L("_event_float"),j.style.position="absolute",j.style.left=y+"px",j.style.right=w+"px",j.style.top="0px",j.style.bottom="0px",j.style.overflow="hidden";var C=c();C.className=i.L("_event_float_inner"),C.innerHTML=h.event.client.html(),j.appendChild(C),j.Ce={marginLeft:y,marginRight:w,stamp:i.ze},h.section=j,h.insertBefore(j,h.firstChild.nextSibling),h.firstChild.innerHTML="";var _=h.event,k=_.cache||_.data;k.fontColor&&(C.style.color=k.fontColor),this.elements.sections.push(h)},this.Be=function(){for(var h=[],y=0;y<this.elements.sections.length;y++){var w=this.elements.sections[y];if(w.section&&w.section.Ce&&w.section.Ce.stamp===i.ze)h.push(w);else{var j=w.event;j&&(w.firstChild.innerHTML=j.client.html()),t.de(w.section),w.section=null}}this.elements.sections=h},this.setScrollX=function(h){i.De.enabled?(i.De.scrollXRequested=h,setTimeout(function(){var y=i.De.scrollXRequested;typeof y=="number"&&i.me(y)},0)):i.me(h)},this.me=function(h){var y=i.nav.scroll,w=i.Ee();y.clientWidth+h>w&&(h=w-y.clientWidth),i.divTimeScroll.scrollLeft=h,y.scrollLeft=h},this.setScrollY=function(h){i.De.enabled?(i.De.scrollYRequested=h,setTimeout(function(){var y=i.De.scrollYRequested;typeof y=="number"&&i.Fe(y)},0)):i.Fe(h)},this.Fe=function(h){var y=i.nav.scroll,w=i.he;y.clientHeight+h>w&&(h=w-y.clientHeight),i.divResScroll.scrollTop=h,y.scrollTop=h},this.setScroll=function(h,y){i.setScrollX(h),i.setScrollY(y)},this.ma=function(){if(this.nav.scroll){(function(){var _=i.Ee();i.le.style.height=i.he+"px",i.le.style.width=_+"px",_>i.nav.scroll.clientWidth?i.nav.scroll.style.overflowX="auto":i.nav.scroll.style.overflowX="hidden"})();var h=1;this.nav.scroll.style.height="30px";var y=this.Za(),w=y+this.Ge()+h;if(y>=0&&(this.nav.scroll.style.height=y+"px",this.He.style.height=y+"px"),this.nav.divider&&((!w||isNaN(w)||w<0)&&(w=0),this.nav.divider.style.height=w+"px"),this.nav.top.style.height=w+"px",i.nav.resScrollSpace){var j=30;i.heightSpec==="Auto"&&(j=t.sh(i.nav.scroll)),i.nav.resScrollSpace.style.height=j+"px"}for(var C=0;C<this.elements.linesVertical.length;C++)this.elements.linesVertical[C].style.height=this.he+"px"}},this.Ie=function(){this.startDate=new t.Date(this.startDate).getDatePart(),this.timeHeader=[];var h=this.timeHeaders;h||(h=[{groupBy:this.cellGroupBy},{groupBy:"Cell"}]);for(var y=i.startDate.addDays(i.days),w=0;w<h.length;w++){var j=h[w].groupBy,C=h[w].format;j==="Default"&&(j=this.cellGroupBy);for(var _=[],k=i.startDate;k.ticks<y.ticks;){var A={};if(A.start=k,A.end=this.Je(A.start,j),A.start.ticks===A.end.ticks)break;A.left=this.getPixels(A.start).left;var T=this.getPixels(A.end).left,R=T-A.left;if(A.width=R,typeof C=="string"?A.text=A.start.toString(C,N.Ke()):A.text=this.Le(A,j),R>0){if(typeof this.onBeforeTimeHeaderRender=="function"){const P={};P.start=A.start,P.end=A.end,P.text=A.text,P.html=null,P.toolTip=i.ab(A.text),P.backColor=null,P.fontColor=null,P.level=this.timeHeader.length,P.cssClass=null;const M={};M.header=P,M.control=i,this.onBeforeTimeHeaderRender(M),A.text=P.text,A.html=P.html,A.backColor=P.backColor,A.fontColor=P.fontColor,A.toolTip=P.toolTip,A.areas=P.areas,A.cssClass=P.cssClass}_.push(A)}k=A.end}this.timeHeader.push(_)}},this.getPixels=function(h){var y=i.startDate.addDays(i.days);h=h.ticks>y.ticks?y.addTime(-1):h;var w=h.ticks-this.startDate.ticks,j=i.Cb(w),C=i.cellWidth,_=Math.floor(j/C),k=_*C;return{left:j,boxLeft:k,boxRight:k+C,i:_}},this.getDate=function(h,y,w){var j=this.Me(h,w);if(!j)return null;var C=j.x,_=i.Ne(C);if(!_)return null;var k=w&&!y?_.end:_.start;return y?k.addTime(this.Db(j.offset)):k},this.Me=function(h,y){y&&(h-=1);var w=Math.floor(h/i.cellWidth),j=i.Ne(w);if(!j)return null;var C={};return C.x=w,C.offset=h%i.cellWidth,C.cell=j,C},this.Oe=function(h){var y=h.ticks-this.startDate.ticks,w=60*i.Pe()*1e3;if(y<0)return{past:!0};var j=Math.floor(y/w);return{i:j,current:i.Ne(j)}},this.Cb=function(h){var y=60*i.Pe()*1e3,w=i.cellWidth;return Math.floor(w*h/y)},this.Db=function(h){var y=60*i.Pe()*1e3,w=i.cellWidth;return Math.floor(h/w*y)},this.Qe=function(h){t.Global.touch.start||a.Re||(i.Se={},i.va(this,h))},this.va=function(h,y){h.event&&i.Te(h,y)},this.xa=function(h){if(!t.Global.touch.active&&!t.Global.touch.start){var y=this.event;if(h.cancelBubble=!0,h.preventDefault(),!this.event.client.rightClickEnabled())return!1;i.Ue(h);var w={};if(w.e=y,w.div=this,w.originalEvent=h,w.preventDefault=function(){this.preventDefault.value=!0},typeof i.onEventRightClick=="function"&&(i.onEventRightClick(w),w.preventDefault.value))return!1;switch(i.eventRightClickHandling){case"ContextMenu":var j=y.client.contextMenu();j?j.show(y):i.contextMenu&&i.contextMenu.show(this.event)}return typeof i.onEventRightClicked=="function"&&i.onEventRightClicked(w),!1}},this.Ne=function(h){var y=i.Pe(),w=60*y*1e3;return{start:i.startDate.addTime(h*w),end:i.startDate.addTime((h+1)*w),left:h*i.cellWidth,width:i.cellWidth}},this.Te=function(h,y){if(typeof y=="boolean")throw new t.Exception("Invalid _eventClickSingle parameters");var w=h.event;if(w){var j=y.ctrlKey,C=y.metaKey;if(w.client.clickEnabled()){i.Ue(y);var _={};_.e=w,_.control=i,_.div=h,_.originalEvent=y,_.ctrl=j,_.meta=C,_.shift=y.shiftKey,_.preventDefault=function(){this.preventDefault.value=!0},_.toJSON=function(){return t.Util.copyProps(_,{},["e","ctrl","meta","shift"])},typeof i.onEventClick=="function"&&(i.onEventClick(_),_.preventDefault.value)||typeof i.onEventClicked=="function"&&i.onEventClicked(_)}}},this.ya=function(h){var y={};if(y.e=h,y.preventDefault=function(){this.preventDefault.value=!0},y.control=i,y.toJSON=function(){return t.Util.copyProps(y,{},["e"])},typeof i.onEventDelete!="function"||(i.onEventDelete(y),!y.preventDefault.value)){switch(i.eventDeleteHandling){case"Update":i.events.remove(h)}typeof i.onEventDeleted=="function"&&i.onEventDeleted(y)}},this.getScrollX=function(){return this.nav.scroll.scrollLeft},this.getScrollY=function(){return this.nav.scroll.scrollTop},this.K=function(h,y,w,j){if(this.eventResizeHandling!=="Disabled"){w=i.Ve(w);var C={};C.e=h,C.async=!1,C.loaded=function(){_()},C.newStart=y,C.newEnd=w,C.what=j,C.preventDefault=function(){this.preventDefault.value=!0},C.control=i,C.toJSON=function(){return t.Util.copyProps(C,{},["e","async","newStart","newEnd"])};var _=function(){if(!C.preventDefault.value){switch(C.loaded={},y=C.newStart,w=C.newEnd,i.eventResizeHandling){case"Update":i.We(C)}typeof i.onEventResized=="function"&&i.onEventResized(C)}};typeof i.onEventResize=="function"&&i.onEventResize(C),C.async||_()}},this.sb=function(h){h=h||{},clearTimeout(i.Xe),i.timeHeader=null,i.cellProperties={},i.Ie(),i.Ye(),i.events.Ze(),i.ca.Od(),i.clearSelection(),i.ha(),i.$e(),i._e(),i.tb(),i.af(),i.bf(),i.cf(),i.ia(),i.Y(),i.df(),i.ef={},i.ff(),i.ma(),i.gf(),h.immediateEvents?i.na():setTimeout(function(){i.na()},100),this.visible?i.ie!==i.visible&&this.show():this.hide(),this.ie=this.visible,this.te(),i.hf(),this.if()},this.if=function(){if(typeof i.onAfterUpdate=="function"){var h={};i.onAfterUpdate(h)}},this.update=function(h){if(!i.Ma)throw new t.Exception("You are trying to update a DayPilot.Scheduler object that hasn't been initialized.");if(i.Q)throw new t.Exception("You are trying to update a DayPilot.Scheduler object that has been disposed already. Calling .dispose() destroys the object and makes it unusable.");g.request(h)};var g={};g.timeout=null,g.options=null,g.enabled=!1,g.request=function(h){g.enabled?(clearTimeout(g.timeout),g.jf(h),g.timeout=setTimeout(g.doit)):(g.jf(h),g.doit())},g.jf=function(h){if(h){g.options||(g.options={});for(var y in h)g.options[y]=h[y]}},g.doit=function(){var h=g.options;return g.options=null,i.Ma?(i.ub(h),i.sb({immediateEvents:!0}),void i.xb()):void i.ub(h)},this.kf=function(h){h.forEach(function(y){i.lf(y.index)})},this.mf=function(h){return h&&h.length!==0?h[0].isRow?h:h.map(function(y){return i.rowlist[y]}):[]},this.nf=function(h,y,w){h=t.ua(h),h=i.mf(h),i.kf(h),this.of?(this.$e(),this.bf(),this.df(),h.forEach(function(j){i.pf(j.index)}),h.forEach(function(j){i.qf(j.index)}),this.gf(),this.rf()):(h.forEach(function(j){y||i.pf(j.index),i.qf(j.index)}),h.forEach(function(j){i.sf(j.index)}),i.gf()),i.ve(),w&&w(),this.ff()},this.Ve=function(h){return i.eventEndSpec==="DateTime"?h:h.getDatePart().ticks===h.ticks?h.addDays(-1):h.getDatePart()},this.tf=function(h){return i.eventEndSpec==="DateTime"?h:h.getDatePart().addDays(1)},this.uf=function(h){return i.eventEndSpec==="DateTime"?h:h.getDatePart()},this.M=function(h,y,w,j,C){if(i.vf=null,i.eventMoveHandling!=="Disabled"){w=i.Ve(w);var _={};_.e=h,_.newStart=y,_.newEnd=w,_.newResource=j,_.ctrl=!1,_.meta=!1,_.shift=!1,C&&(_.shift=C.shiftKey,_.ctrl=C.ctrlKey,_.meta=C.metaKey),_.control=i,_.areaData=t.Global.movingAreaData,_.toJSON=function(){return t.Util.copyProps(_,{},["e","newStart","newEnd","newResource","ctrl","meta","shift"])},_.preventDefault=function(){this.preventDefault.value=!0};var k=function(){if(_.loaded=function(){},_.preventDefault.value)return void i.wf();switch(y=_.newStart,w=_.newEnd,i.eventMoveHandling){case"Update":i.We(_)}i.wf(),typeof i.onEventMoved=="function"&&i.onEventMoved(_)};_.async=!1,_.loaded=function(){k()},typeof i.onEventMove=="function"&&i.onEventMove(_),_.async||k()}},this.We=function(h){var y=h.e,w=h.newStart,j=h.newEnd,C=h.newResource;y.start(w),y.end(j),y.resource(C),i.events.update(y),i.events.xf()},this.yf=function(h){if(h)if(h.args)i.O(h.args.start,h.args.end,h.args.resource);else{var y=i.zf(h);if(!y)return;i.O(y.start,y.end,y.resource)}},this.O=function(h,y,w){if(i.timeRangeSelectedHandling!=="Disabled"){var j=y;y=i.Ve(j);var C={};if(C.control=i,C.start=h,C.end=y,C.resource=w,C.preventDefault=function(){this.preventDefault.value=!0},C.toJSON=function(){return t.Util.copyProps(C,{},["start","end","resource"])},typeof i.onTimeRangeSelect=="function"){if(i.onTimeRangeSelect(C),C.preventDefault.value)return;h=C.start,y=C.end}y=i.tf(y),i.Af(i.Bf,h,y),i.Cf(i.Bf),typeof i.onTimeRangeSelected=="function"&&i.onTimeRangeSelected(C)}},this.Af=function(h,y,w){if(h){var j,C=w;y.getTime()<i.startDate.getTime()?(h.start.x=0,h.start.time=i.startDate.getTime()):(j=i.Oe(y),h.start.x=j.i,h.start.time=y);var _=i.startDate.addDays(i.days);C.getTime()>_.getTime()?(h.end.x=i.Df(),h.end.time=_.getTime()):(j=i.Oe(C.addMilliseconds(-1)),h.end.x=j.i,h.end.time=w)}},this.Ef=function(h,y){i.Ff(h,y)},this.Ff=function(h,y){var w={};w.resource=h,w.row=h,w.ctrl=y.ctrlKey,w.shift=y.shiftKey,w.meta=y.metaKey,w.originalEvent=y,w.preventDefault=function(){this.preventDefault.value=!0},typeof i.onRowClick=="function"&&(i.onRowClick(w),w.preventDefault.value)||typeof i.onRowClicked=="function"&&i.onRowClicked(w)},this.Gf=function(h){var y={};y.header=h,y.control=i,y.preventDefault=function(){this.preventDefault.value=!0},typeof i.onTimeHeaderClick=="function"&&(i.onTimeHeaderClick(y),y.preventDefault.value)||typeof i.onTimeHeaderClicked=="function"&&i.onTimeHeaderClicked(y)},this.getViewport=function(){var h=this.nav.scroll.scrollLeft,y=this.nav.scroll.scrollTop,w={},j=i.Hf(h,y),C=i.If(j),_=i.Ne(j.start.x),k=i.Ne(j.end.x);return w.start=i.getDate(h,!0),w.end=i.getDate(h+i.nav.scroll.clientWidth,!0,!0),w.resources=C,_&&(w.topLeft={start:_.start,end:_.end,x:j.start.x,y:j.start.y,resource:C[0]}),k&&(w.bottomRight={start:k.start,end:k.end,x:j.end.x,y:j.end.y,resource:C[C.length-1]}),w.rows=function(){return w.resources.map(function(A){return i.rows.find(A)})},w.events=function(){var A=[];return w.rows().forEach(function(T){A=A.concat(T.events.forRange(w.start,w.end))}),A},w},this.Hf=function(h,y){var w={};w.start={},w.end={};var j=i.Me(h),C=i.Me(h+i.nav.scroll.clientWidth);j&&(w.start.x=j.x),C&&(w.end.x=C.x);var _=y,k=y+i.nav.scroll.clientHeight;w.start.y=i.Jf(_).i,w.end.y=i.Jf(k).i,w.start.x=t.Util.atLeast(w.start.x,0);var A=i.Df();return w.end.x>=A&&(w.end.x=A-1),w},this.If=function(h){h||(h=this.Hf(this.nav.scroll.scrollLeft,this.nav.scroll.scrollTop));var y=[];y.ignoreToJSON=!0;for(var w=h.start.y;w<=h.end.y;w++){var j=i.rowlist[w];j&&y.push(j.id)}return y},this.L=function(h){var y=this.theme||this.cssClassPrefix;return y?y+h:""},this.tb=function(){i.nav.top.className!==i.L("_main")&&(i.nav.top.className=i.L("_main"),i.nav.dh1.className=i.L("_divider_horizontal"),i.nav.dh2.className=i.L("_divider_horizontal"),i.divResScroll.className=i.L("_rowheader_scroll"),i.nav.divider.className=i.L("_divider")+" "+i.L("_splitter"),i.nav.scroll.className=i.L("_scrollable"),i.le.className=i.L("_matrix")+" "+i.L("_grid_main"))},this.aa=function(){this.nav.top.dispose=this.dispose},this.dispose=function(){var h=i;if(h.Ma&&!h.Q){h.Q=!0;for(var y in h.Kf){var w=h.Kf[y];t.isArray(w)?w.forEach(function(j){clearTimeout(j)}):clearTimeout(w)}h.Y(),h.divCells=null,h.divCorner=null,h.divEvents=null,h.divHeader&&(h.divHeader.rows=null),h.divHeader=null,h.divLines=null,h.divNorth=null,h.divRange=null,h.divResScroll=null,h.divStretch=null,h.divTimeScroll=null,h.He=null,h.le.calendar=null,h.le=null,h.nav.top.onmousemove=null,h.nav.top.onmouseout=null,h.nav.top.dispose=null,h.nav.top.ontouchstart=null,h.nav.top.ontouchmove=null,h.nav.top.ontouchend=null,h.nav.top.removeAttribute("style"),h.nav.top.removeAttribute("class"),h.nav.top.innerHTML="",h.nav.top.dp=null,h.nav.top=null,h.nav.scroll.onscroll=null,h.nav.scroll.root=null,h.nav.scroll=null,a.sc(h),x=null}},this.disposed=function(){return i.Q},this.ba=function(h){var y=null;y=h.nodeType?h.event:h;var w=i.eventBorderRadius;typeof w=="number"&&(w+="px");var j=i.Lf(y),C=i.rowlist,_=i.eventHeight,k=y.part&&y.part.top&&C[y.part.dayIndex]?y.part.top+C[y.part.dayIndex].top:j.top,A=j.left,T=j.width,R=document.createElement("div");R.style.position="absolute",R.style.width=T+"px",R.style.height=_+"px",R.style.left=A+"px",R.style.top=k+"px",R.style.overflow="hidden";var P=c();return R.appendChild(P),R.className=this.L("_shadow"),P.className=this.L("_shadow_inner"),w&&(R.style.borderRadius=w,P.style.borderRadius=w),i.divShadow.appendChild(R),R.calendar=i,R},this.Jf=function(h){for(var y,w=i.rowlist,j={},C=0,_=0,k=w.length,A=0;A<k;A++){var T=w[A];if(_+=T.height,C=_-T.height,y=T,j.top=C,j.bottom=_,j.i=A,j.element=y,h<_)break}return j},this.Mf=function(h){if(h>this.rowlist.length-1)throw new t.Exception("Row index too high");for(var y=0,w=0;w<=h;w++)y+=this.rowlist[w].height;var j=this.rowlist[h];return{top:y-j.height,height:j.height,bottom:y,i:h,data:j}},this.events.find=function(h){if(!i.events.list||typeof i.events.list.length>"u")return null;if(typeof h=="function")return i.Nf(h);for(var y=i.events.list.length,w=0;w<y;w++)if(i.events.list[w].id===h)return new t.Event(i.events.list[w],i);return null},this.events.findAll=function(h){if(typeof h=="function"){for(var y=i.events.list.length,w=[],j=0;j<y;j++){var C=new t.Event(i.events.list[j],i);h(C)&&w.push(C)}return w}if(typeof h=="object")return i.events.findAll(function(_){for(var k in h)if(h[k]!==_.data[k])return!1;return!0});throw new t.Exception("function or object argument expected")},this.Nf=function(h){for(var y=i.events.list.length,w=0;w<y;w++){var j=new t.Event(i.events.list[w],i);if(h(j))return j}return null},this.events.focus=function(h){var y=i.Of(h);y&&y.focus()},this.events.scrollIntoView=function(h){if(i.Of(h)){var y=h.start(),w=i.getViewport();!t.Util.overlaps(w.start,w.end,h.start(),h.end())&&t.Util.overlaps(i.sa(),i.Pf(),h.start(),h.end())&&i.scrollTo(y,"fast","middle");var j=h.resource();i.getViewport().resources.indexOf(j)===-1&&i.scrollToResource(j)}},this.events.all=function(){for(var h=[],y=0;y<i.events.list.length;y++){var w=new t.Event(i.events.list[y],i);h.push(w)}return h},this.events.forRange=function(h,y){h=h?new t.Date(h):i.visibleStart(),y=y?new t.Date(y):i.visibleEnd();for(var w=[],j=0;j<i.events.list.length;j++){var C=new t.Event(i.events.list[j],i);t.Util.overlaps(C.start(),C.end(),h,y)&&w.push(C)}return w},this.events.load=function(h,y,w){if(!h)throw new t.Exception("events.load(): 'url' parameter required");var j=function(A){var T={};T.exception=A.exception,T.request=A.request,typeof w=="function"&&w(T)},C=function(A){var T,R=A.request;try{T=JSON.parse(R.responseText)}catch(I){var P={};return P.exception=I,void j(P)}if(t.isArray(T)){var M={};if(M.preventDefault=function(){this.preventDefault.value=!0},M.data=T,typeof y=="function"&&y(M),M.preventDefault.value)return;i.events.list=M.data,i.Ma&&i.update()}};if(i.eventsLoadMethod&&i.eventsLoadMethod.toUpperCase()==="POST")t.ajax({method:"POST",contentType:"application/json",data:{start:i.visibleStart().toString(),end:i.visibleEnd().toString()},url:h,success:C,error:j});else{var _=h,k="start="+i.visibleStart().toString()+"&end="+i.visibleEnd().toString();_+=_.indexOf("?")>-1?"&"+k:"?"+k,t.ajax({method:"GET",url:_,success:C,error:j})}},this.events.Qf=function(h){var y=[];return i.rowlist.forEach(function(w){i.Rf(w.index);for(var j=0;j<w.events.length;j++){var C=w.events[j].data;if(i.Sf(C,h)){y.push(w),w.events.splice(j,1);break}}}),y},this.events.Tf=function(h){if(!h)return null;for(var y=i.rowlist,w=0;w<y.length;w++){var j=y[w];i.Rf(j.index);for(var C=0;C<j.events.length;C++){var _=j.events[C];if(i.Sf(_.data,h))return j.events[C]}}return null},this.events.Uf=function(h){var y=[],w=i.Vf(),j=t.indexOf(i.events.list,h);i.Ab(j);var C=i.rowlist,_=!1;return C.forEach(function(k){if(!_){i.Rf(k.index);var A=i.Wf(h,k);A&&(typeof i.onBeforeEventRender=="function"&&(A.cache=i.zb.events[j]),y.push(k),w||(_=!0))}}),y},this.Sf=function(h,y){return t.Util.isSameEvent(h,y)},this.events.update=function(h,y,w){if(typeof h=="object"&&!(h instanceof t.Event)){var j=i.events.find(h.id);return i.events.remove(j),void i.events.add(h)}if(i.events.list.find(function(_){return i.Sf(_,h.data)})){i.De.Xf&&(i.De.skip=!0);var C=i.events.Qf(h.data);h.commit(),C=C.concat(i.events.Uf(h.data)),i.events.Yf(C)}},this.events.remove=function(h){if(h){if(typeof h=="string"||typeof h=="number"){var y=i.events.find(h);return void i.events.remove(y)}var w=i.Zf(h.data);w&&i.events.list.splice(w.index,1),i.De.Xf&&(i.De.skip=!0);var j=i.events.Qf(h.data);i.events.Yf(j)}},this.events.add=function(h,y,j){var j=j||{},C=j.renderOnly;h instanceof t.Event||(h=new t.Event(h)),h.calendar=i,i.events.list||(i.events.list=[]);var _=i.Zf(h);if(C){if(!_)throw new t.Exception("Unexpected: event not found in list")}else{if(_)throw new t.Exception("The event you are trying to add using DayPilot.Scheduler.events.add() is already loaded. A unique ID is required.");_||i.events.list.push(h.data)}if(i.Ma){i.De.Xf&&(i.De.skip=!0);var k=i.events.Uf(h.data);i.events.Yf(k)}},this.events.$f=function(h){var y=h instanceof t.Event?h.data:h,w=new t.Date(y.start),j=new t.Date(y.end);return!!i.events.list.find(function(C){if(i.Sf(y,C)||y.resource!==C.resource)return!1;var _=new t.Date(C.start),k=new t.Date(C.end);return t.Util.overlaps(w,j,_,k)})},this.events._f={rows:[]},this.events.ag=null,this.events.Ze=function(){clearTimeout(i.events.ag),i.events.ag=null,i.events._f.rows=[]},this.events.bg=0,this.events.Yf=function(h){var y=i.events._f.rows;h.forEach(function(j){y.push(j)}),i.events._f.rows=t.ua(y);var w=i.events.xf;i.events.ag||(i.events.ag=setTimeout(w,i.events.bg))},this.events.xf=function(){clearTimeout(i.events.ag),i.events.ag=null;var h=i.events._f.rows;i.events._f.rows=[],i.cg(h),i.dg(),i.Ma&&(i.of&&i.$e(),i.ma(),i.nf(h))},this.De={},this.De.enabled=!1,this.De.skip=!1,this.De.skipUpdate=function(){return i.De.skip},this.De.skipped=function(){i.De.skip=!1},this.De.eg=!1,this.De.Xf=!1,this.ld={},this.ld.reactDOM=null,this.ld.react=null,this.fg=function(h){var y=i.startDate;if(h.ticks===y.ticks)return h;var w=y;if(h.ticks<y.ticks){for(;w.ticks>h.ticks;)w=w.addTime(60*-i.Pe()*1e3);return w}var j=this.Oe(h);if(j.current)return j.current.start;throw new t.Exception("getBoxStart(): time not found")},this.Lf=function(h){var y=this.Jf(i.coords.y);if(typeof h.end!="function")throw new t.Exception("e.end function is not defined");if(!h.end())throw new t.Exception("e.end() returns null");var w=t.DateUtil.diff(h.rawend(),h.start());w=t.Util.atLeast(w,1);var j=N.gg(w),C=0,_=i.coords.x;j&&(C=h.start().getTime()-this.fg(h.start()).getTime());var k=0;if(a.hg)if(j){var A=h.start(),T=this.fg(A);k=a.hg.getTime()-T.getTime();var R=60*i.Pe()*1e3;k=Math.floor(k/R)*R}else k=a.hg.getTime()-h.start().getTime();var P=this.getDate(_,!0).addTime(-k);a.ig&&(P=h.start());var M=i.snapToGrid;M&&(P=this.fg(P)),P=P.addTime(C);var I=P.addTime(w),L=P,B=I,U=this.getPixels(L),F=this.getPixels(B.addTime(-1)),H=M?U.boxLeft:U.left,W=M&&j?F.boxRight-H:F.left-H,J={};return J.top=y.top,J.left=H,J.row=y.element,J.rowIndex=y.i,J.width=W,J.start=P,J.end=I,J.relativeY=i.coords.y-y.top,J},this.Pe=function(){switch(this.scale){case"CellDuration":return this.cellDuration;case"Minute":return 1;case"Hour":return 60;case"Day":return 1440;case"Week":return 10080}throw new t.Exception("can't guess cellDuration value")},this.jg=function(h){return h.end.ticks-h.start.ticks},this.kg=function(){var h=a.lg.width,y=a.lg.left,w=a.mg,j=a.ig.dpBorder,C=null,_=null,k=i.snapToGrid,A=!k;j==="left"?(C=i.getDate(y,A),_=w.rawend()):j==="right"&&(C=w.start(),_=i.getDate(y+h,A,!0)),a.lg.start=C,a.lg.end=_},this.ng=function(){var h=i.coords,y=a.ig.dpBorder,w=a.ig.event,j=w.part.left;y==="right"&&(j+=w.part.width);var C,_,k=a.ig.event.calendar.cellWidth,A=w.part.width,T=w.part.left,R=0,P=h.x-j,M=i.snapToGrid;if(y==="right"){if(C=T,M){var I=i.Me(A+T+P).cell,L=i.Me(T).cell,B=L.left+L.width-T;_=I.left+I.width-T,_<B&&(_=B)}else _=A+P;var U=i.Ee();T+_>U&&(_=U-T),a.lg.left=T,a.lg.width=_,a.lg.style.left=T+"px",a.lg.style.width=_+"px"}else{if(y!=="left")throw new t.Exception("Invalid dpBorder.");M?(P>=A&&(P=A),C=Math.floor((T+P+0)/k)*k,C<R&&(C=R)):C=T+P,_=A-(C-T);var F=T+A,H=k;M?i.useEventBoxes==="Never"&&(H=A<k?A:1):H=1,_<H&&(_=H,C=F-_),a.lg.left=C,a.lg.width=_,a.lg.style.left=C+"px",a.lg.style.width=_+"px"}i.kg()},this.og=function(){if(i.coords&&a.pg){var h=a.qg,y=this.Lf(a.pg);h.row=y.row,h.style.height=t.Util.atLeast(y.row.height,0)+"px",h.style.top=y.top+"px",h.style.left=y.left+"px",h.style.width=y.width+"px",h.start=y.start,h.end=y.end}},this.rg=function(){return this.rowHeaderWidth},this.sg=function(){return this.tg(i.progressiveRowRenderingPreload)},this.tg=function(h){h=h||0;var y=0,w=i.rowlist.length;if(i.progressiveRowRendering){var j=i.pe();y=j.yStart,w=j.yEnd+1,y=t.Util.atLeast(0,y-h),w=Math.min(i.rowlist.length,w+h)}return{start:y,end:w}},this._e=function(){function h(){var _=i.divHeader;_&&(_.rows=[]);var k=_;k&&(k.innerHTML="")}this.ug=!0;var y=this.rg();h();var w=this.divHeader;if(w.style.width=y+"px",w.style.height=i.he+"px",i.divHeader=w,i.progressiveRowRendering)o();else for(var j=this.rowlist.length,C=0;C<j;C++)i.vg(C);i.wg(),this.divResScroll.appendChild(w)},this.xg=function(){if(i.progressiveRowRendering)for(var h=this.sg(),y=0;y<i.rowlist.length;y++)h.start<=y&&y<h.end?i.vg(y):i.yg(y)},this.wg=function(){if(!i.ca.zg()){var h=i.divHeader,j=c();j.style.position="absolute",h.appendChild(j),i.nav.resScrollSpace=j;var y=c();y.style.position="relative",y.style.height="100%",y.className=this.L("_rowheader"),j.appendChild(y);var w=this.rg(),j=i.nav.resScrollSpace;j.style.width=w+"px",j.style.top=this.he+"px"}},this.yg=function(h){var y=i.divHeader.rows[h];y&&(t.de(y),i.divHeader.rows[h]=null)},this.lf=function(h){this.yg(h),this.vg(h)},this.vg=function(h){var y=i.rowlist,w=i.divHeader;if(w&&!w.rows[h]){var j=this.rg(),C=y[h];if(C){var _=this.Ag(C),k=c();k.style.position="absolute",k.style.top=C.top+"px",w.rows[h]=k,k.row=C,k.index=h;var A=_.row,T=this.rowHeaderWidth;k.style.width=T+"px",k.style.border="0px none";var R=A.toolTip||A.toolTip;R&&(k.title=R),typeof A.ariaLabel<"u"?k.setAttribute("aria-label",A.ariaLabel):k.setAttribute("aria-label",A.text||""),k.onclick=i.Bg;var P=c();P.style.width=T+"px",P.className=this.L("_rowheader"),A.cssClass&&t.Util.addClass(P,A.cssClass),A.cssClass&&t.Util.addClass(P,A.cssClass);var M=A.backColor||A.backColor;M&&(P.style.background=M);var I=A.fontColor||A.fontColor;I&&(P.style.color=I);var L=A.horizontalAlignment||A.horizontalAlignment;L&&(P.style.textAlign=L),P.style.height=C.height+"px",P.style.overflow="hidden",P.style.position="relative";var B=c();switch(B.className=this.L("_rowheader_inner"),L){case"right":B.style.justifyContent="flex-end";break;case"left":B.style.justifyContent="flex-start";break;case"center":B.style.justifyContent="center"}P.appendChild(B);const q=A.areas||[];var U=i.Cg(C);t.Areas.attach(P,U,{areas:q});var F=c();F.style.position="absolute",F.style.bottom="0px",F.style.width="100%",F.style.height="0px",F.style.boxSizing="content-box",F.style.borderBottom="1px solid transparent",F.className=this.L("_resourcedivider"),P.appendChild(F);var H=c(),W=c();W.innerHTML=i.ab(A.text,A.html),W.className=i.L("_rowheader_inner_text"),k.textDiv=W,k.cellDiv=P,H.appendChild(W),B.appendChild(H);var J=A.verticalAlignment||A.verticalAlignment;if(J)switch(B.style.display="flex",J){case"center":B.style.alignItems="center";break;case"top":B.style.alignItems="flex-start";break;case"bottom":B.style.alignItems="flex-end"}k.appendChild(P),w.appendChild(k),P.style.width=j+"px"}}},this.Bg=function(h){var y=this.row,w=i.Cg(y,this.index);i.Ef(w,h)},this.Dg=function(h){if(i.timeHeaderClickHandling!=="Disabled"){var y={};y.start=this.cell.start,y.level=this.cell.level,y.end=this.cell.end,y.end||(y.end=new t.Date(y.start).addMinutes(i.Pe())),i.Gf(y)}},this.Eg=function(h){if(i.timeHeaderRightClickHandling!=="Disabled"){h.cancelBubble=!0,h.preventDefault();var y={};y.start=this.cell.start,y.level=this.cell.level,y.end=this.cell.end,y.end||(y.end=new t.Date(y.start).addMinutes(i.Pe()));var w={};w.header=y,w.preventDefault=function(){this.preventDefault.value=!0},typeof i.onTimeHeaderRightClick=="function"&&(i.onTimeHeaderRightClick(w),w.preventDefault.value)||typeof i.onTimeHeaderRightClicked=="function"&&i.onTimeHeaderRightClicked(w)}},this.Cg=function(h){return new t.Row(h,i)},this.Rf=function(h){var y=i.rowlist,w=y[h];w.events||w.resetEvents()},this.Fg={},this.ha=function(h){if(h?this.events.list=h:this.events.list||(this.events.list=[]),this.events.list!=null&&!t.isArray(this.events.list))throw new t.Exception("DayPilot.Scheduler.events.list expects an array object");x.prepareRows(!0);var y,w=this.events.list,j=typeof this.onBeforeEventRender=="function";i.Fg={};for(var C=0;C<w.length;C++){var _=w[C];if(_){if(typeof _!="object")throw new t.Exception("Event data item must be an object");if(!_.start)throw new t.Exception("Event data item must specify 'start' property");if(_ instanceof t.Event)throw new t.Exception("DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead.");if(!(typeof _.id=="string"||typeof _.id=="number"))throw new t.Exception("All events must have an id property (string or number)");var k="_"+_.id;if(i.Fg[k])throw new t.Exception("Duplicate event IDs are not allowed: "+k);i.Fg[k]=!0,j&&this.Ab(C),y=i.Gg(_.resource);for(var A=0;y&&A<y.length;A++){var T=y[A],R=this.Wf(_,T);R&&j&&(R.cache=this.zb.events[C])}}}i.rowlist.forEach(function(P){i.Hg(P)}),i.dg()},this.Ig={};var x=this.Ig;x.rowcache={},x.prepareRows=function(h){x.rowcache={};for(var y=i.rowlist,w=0;w<y.length;w++){var j=y[w];if(h&&j.resetEvents(),i.Rf(j.index),j.id){var C=typeof j.id+"_"+j.id;x.rowcache[C]||(x.rowcache[C]=[]),x.rowcache[C].push(j)}}},x.loadEvent=function(h){},this.Gg=function(h){var y=typeof h+"_"+h;return x.rowcache[y]||[]},this.Vf=function(){for(var h={},y=0;y<i.rowlist.length;y++){var w=i.rowlist[y],j=w.id;if(h[j])return!0;h[j]=!0}return!1},this.Ab=function(h){var y=this.zb.events,w=this.events.list[h],j={};w instanceof t.Event&&(w=w.data);for(var C in w)j[C]=w[C];if(typeof j.start=="string"&&(j.start=new t.Date(j.start)),typeof j.end=="string"&&(j.end=new t.Date(j.end)),typeof this.onBeforeEventRender=="function"){var _={};_.e=j,_.data=j,this.onBeforeEventRender(_)}y[h]=j},this.Hg=function(h){h.lines=[],h.sections=null,h.events.sort(this.Bb);for(var y=0;y<h.events.length;y++){var w=h.events[y];h.putIntoLine(w)}},this.cg=function(h){h=t.ua(h),h=i.mf(h),h.forEach(function(y){i.Hg(y)}),h.forEach(function(y){i.Jg(y)})},this.Wf=function(h,y){var w=new t.Date(h.start),j=new t.Date(h.end);j=i.tf(j);var C=w.ticks,_=j.ticks,k=i.startDate.ticks,A=i.startDate.addDays(i.days).ticks;if(_<C)return null;var T=null;if(typeof i.onBeforeEventRender=="function"){var R=t.indexOf(i.events.list,h);T=i.zb.events[R]}if(y.id!==h.resource||(_<=k||C>=A)&&(C!==_||C!==k))return null;var P=new t.Event(h,i);P.part.dayIndex=i.rowlist.indexOf(y),P.part.start=k<C?w:i.startDate,P.part.end=A>_?j:i.startDate.addDays(i.days);var M=this.getPixels(P.part.start),I=this.getPixels(P.part.end.addTime(-1));P.part.start===P.part.end&&(I=this.getPixels(P.part.end.addMilliseconds(1)));var L=M.left,B=I.left;if(N.gg(_-C)){var U=M.boxLeft,F=I.boxRight;P.part.left=U,P.part.width=F-U,P.part.barLeft=Math.max(L-P.part.left,0),P.part.barWidth=Math.max(B-L,1)}else P.part.left=L,P.part.width=Math.max(B-L,1),P.part.barLeft=0,P.part.barWidth=Math.max(B-L-1,1);var H=i.eventMinWidth;return P.part.width=Math.max(P.part.width,H),P.part.right=P.part.left+P.part.width,P.cache=T,y.events.push(P),P},this.Bb=function(h,y){if(!(h&&y&&h.start&&y.start))return 0;var w=h.start().ticks-y.start().ticks;return w!==0?w:y.end().ticks-h.end().ticks},this.rows={},this.rows.all=function(){for(var h=[],y=0;y<i.rowlist.length;y++){var w=i.Cg(i.rowlist[y]);h.push(w)}return h},this.rows.each=function(h){i.rows.all().forEach(h)},this.rows.forEach=function(h){i.rows.all().forEach(h)},this.rows.find=function(h,y){if(typeof h=="string"||typeof h=="number"||!h&&y){var w=i.Gg(h);h||(w=i.rowlist);var j=null;return typeof y=="string"||y instanceof t.Date?(y=new t.Date(y),j=w.find(function(k){return y===k.start})):j=w[0],j?new t.Row(j,i):null}if(typeof h!="function")throw new t.Exception("Invalid rows.find() argument: id or function expected");var C=y||0,_=i.rowlist.find(function(k,A){return!(A<C)&&h(i.Cg(k))});if(_)return i.Cg(_)},this.rows.load=function(h,y,w){if(!h)throw new t.Exception("rows.load(): 'url' parameter required");var j=function(_){var k={};k.exception=_.exception,k.request=_.request,typeof w=="function"&&w(k)},C=function(_){var k,A=_.request;try{k=JSON.parse(A.responseText)}catch(P){var T={};return T.exception=P,void j(T)}if(t.isArray(k)){var R={};if(R.preventDefault=function(){this.preventDefault.value=!0},R.data=k,typeof y=="function"&&y(R),R.preventDefault.value)return;i.resources=R.data,i.Ma&&i.update()}};i.rowsLoadMethod&&i.rowsLoadMethod.toUpperCase()==="POST"?t.ajax({method:"POST",url:h,success:C,error:j}):t.ajax({method:"GET",url:h,success:C,error:j})},this.rows.remove=function(h){if(typeof h=="number"||typeof h=="string"){var y=i.rows.find(h);if(!y)throw new t.Exception("The row to be removed was not found");return void i.rows.remove(y)}var w=h.$.row.resource,j=t.indexOf(i.resources,w);i.resources.splice(j,1),i.update()},this.rows.add=function(h){i.resources.push(h),i.sb()},this.rows.update=function(A){if(!(A instanceof t.Row||typeof A=="object"))throw new t.Exception("DayPilot.Scheduler.rows.update() expects a DayPilot.Row object or a data object.");if(!(A instanceof t.Row)){var y=A;if(A=i.rows.find(y.id),!A)return;A.data=y}var w=A.index,j=i.rowlist,C=j[w],_=A.data,k=i.Kg(_),A=i.Lg(k);A.level=C.level,A.index=w,A.top=C.top,A.height=C.height,j[w]=A,A.resetEvents(),i.Rf(A.index),i.Mg(A),i.Hg(A),i.lf(A.index),i.df(),i.gf()},this.Mg=function(h){for(var y=i.events.list,w=y.length,j=typeof i.onBeforeEventRender=="function",C=0;C<w;C++){var _=y[C];if(_){if(_ instanceof t.Event)throw new t.Exception("DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead.");if(_.resource===h.id){j&&this.Ab(C);var k=this.Wf(_,h);k&&j&&(k.cache=this.zb.events[C])}}}},this.Ye=function(){var h=this.resources;if(h!=null&&!t.isArray(h))throw new t.Exception("DayPilot.Scheduler.resources expects an array object");h=h||[],i.rowlist=[],this.Ng(h)},this.sa=function(){return new t.Date(this.startDate)},this.Pf=function(){return new t.Date(i.startDate).addDays(i.days)},this.visibleStart=function(){return this.sa()},this.visibleEnd=function(){return this.Pf()},this.Lg=function(h){var y={};return y.backColor=h.backColor,y.fontColor=h.fontColor,y.cssClass=h.cssClass,y.name=h.name,y.html=i.ab(h.name,h.html),y.id=h.id,y.toolTip=h.toolTip,y.areas=h.areas,y.tags=h.tags,y.height=i.eventHeight,y.level=0,y.resource=h.Ce,y.lines=[],y.isRow=!0,y.getHeight=function(){return Math.max(i.eventHeight,this.lines.length*i.eventHeight)},y.resetEvents=function(){var w=this;w.events=[],w.events.forRange=function(j,C){j=new t.Date(j),C=C?new t.Date(C):i.startDate.addDays(i.days);for(var _=[],k=0;k<w.events.length;k++){var A=w.events[k],T=i.tf(A.end());t.Util.overlaps(A.start(),T,j,C)&&_.push(A)}return _}},y.Og=function(){var w=[];return w.add=function(j){this.push(j)},w.isFree=function(j,C,_){for(var k=j+C-1,A=this.length,T=0;T<A;T++){var R=this[T];if(!(k<R.part.left||j>R.part.left+R.part.width-1)){if(t.contains(_,R.data))continue;return!1}}return!0},w},y.findFreeLine=function(w,j){for(var C=0;C<this.lines.length;C++){var _=this.lines[C];if(_.isFree(w,j))return C}var _=y.Og();return this.lines.push(_),this.lines.length-1},y.putIntoLine=function(w){var j=y.findFreeLine(w.part.left,w.part.width);return this.lines[j].add(w),j},y},this.Ng=function(h){if(h){for(var y=i.rowlist,w=0;w<h.length;w++)if(h[w]){var j={};j.index=w;var C=this.Kg(h[w],j),_=i.Lg(C,parent);_.index=w,y.push(_)}}},this.Ag=function(h){var y={};return y.row=this.Cg(h),t.Util.copyProps(h,y.row,["html","backColor","fontColor","cssClass","toolTip","areas"]),typeof this.onBeforeRowHeaderRender=="function"&&this.onBeforeRowHeaderRender(y),y},this.Kg=function(h,y){var w={get $data(){return this.Ce}};for(var j in y)w[j]=y[j];for(var j in h)w[j]=h[j];return w.html=i.ab(h.name,h.html),w.Ce=h,w},this.Pg=function(){this.nav.top.dp=this,this.nav.top.innerHTML="",t.Util.addClass(this.nav.top,this.L("_main")),this.nav.top.setAttribute("role","region"),this.nav.top.setAttribute("aria-label","scheduler"),this.nav.top.style.userSelect="none",this.nav.top.style.webkitUserSelect="none",this.nav.top.style.WebkitTapHighlightColor="rgba(0,0,0,0)",this.nav.top.style.WebkitTouchCallout="none",this.width&&(this.nav.top.style.width=this.width),this.nav.top.style.lineHeight="1.2",this.nav.top.style.position="relative",this.visible||(this.nav.top.style.display="none"),this.nav.top.ontouchstart=v.Qg,this.nav.top.ontouchmove=v.Rg,this.nav.top.ontouchend=v.Sg;var h=this.rowHeaderWidth,y=c();y.style.position="absolute",y.style.left="0px",y.style.width=h+"px";var w=c();w.style.height="0px",w.style.boxSizing="content-box",w.style.borderTop="1px solid transparent",w.className=this.L("_divider_horizontal"),this.nav.dh1=w,this.nav.left=y,y.appendChild(this.gb()),y.appendChild(w),y.appendChild(this.Tg());var j=c();j.style.position="absolute",j.style.left=h+"px",j.style.width="1px",j.style.height=this.Ge()+this.Za()+"px",j.className=this.L("_splitter"),this.nav.divider=j;var C=c();C.style.marginLeft=h+1+"px",C.style.position="relative",this.nav.right=C;var _=c();_.style.position="absolute",_.style.top=this.Ge()+"px",_.style.width="100%",_.style.height="1px",_.style.boxSizing="border-box",_.style.borderBottom="1px solid transparent",_.setAttribute("data-dh2","true"),_.className=this.L("_divider_horizontal"),this.nav.dh2=_,C.appendChild(i.Ug()),C.appendChild(i.Vg()),C.appendChild(_);var k=c();k.style.clear="left";var A=c();A.style.height="1px",A.style.position="absolute",A.style.left="0px",A.style.right="0px",A.style.display="none",A.className=this.L("_divider_horizontal"),this.nav.dividerTop=A;var T=c();T.style.height="1px",T.style.position="absolute",T.style.left="0px",T.style.right="0px",T.style.display="none",T.className=this.L("_divider_horizontal")+" "+this.L("_divider_horizontal_frozen_bottom"),this.nav.dividerBottom=T,this.nav.top.appendChild(y),this.nav.top.appendChild(j),this.nav.top.appendChild(C),this.nav.top.appendChild(k),this.nav.top.appendChild(A),this.nav.top.appendChild(T)},this.ia=function(){var h=this.Ge();this.nav.corner&&(this.nav.corner.style.height=h+"px"),this.divTimeScroll&&(this.divTimeScroll.style.height=h+"px"),this.divNorth&&(this.divNorth.style.height=h+"px"),this.nav.dh1&&this.nav.dh2&&(this.nav.dh1.style.top=h+"px",this.nav.dh2.style.top=h+"px"),this.nav.scroll.style.top=h+1+"px"},this.Wg=function(){var h=this.rowHeaderWidth;this.nav.corner&&(this.nav.corner.style.width=h+"px"),this.divResScroll.style.width=h+"px",this.nav.left.style.width=h+"px",this.nav.divider.style.left=h-1+"px",this.nav.right.style.marginLeft=h+"px"},this.Xg=function(){var h=this.rowHeaderWidth,y=this.divHeader;y.style.width=h+"px";for(var w=i.sg(),j=w.start;j<w.end;j++){var C=y.rows[j];if(C){var _=i.rowHeaderWidth;C.style.width=_+"px",C.firstChild.style.width=_+"px"}}i.nav.resScrollSpace&&(i.nav.resScrollSpace.style.width=h+"px")},this.cf=function(){this.Wg(),this.Xg()},this.gb=function(){var h=this.rowHeaderWidth,y=c();i.nav.corner=y,y.style.width=h+"px",y.style.height=this.Ge()+"px",y.style.overflow="hidden",y.style.position="relative",y.oncontextmenu=function(){return!1},y.className=this.L("_corner");var w=c();return w.style.position="absolute",w.style.top="0px",w.style.left="0px",w.style.right="0px",w.style.bottom="0px",w.className=this.L("_corner_inner"),w.innerHTML="&nbsp;",this.divCorner=w,y.appendChild(w),y},this.Ge=function(){return i.timeHeaders?i.timeHeaders.length*i.headerHeight:0},this.Yg=null,this.Tg=function(){var h=c();h.style.width=this.rowHeaderWidth+"px",h.style.height=this.Za()+"px",h.style.overflow="hidden",h.style.position="relative",h.className=i.L("_rowheader_scroll");var y=i.ca.zg();y&&(h.style.overflowY="auto"),h.ontouchstart=function(){a.Zg=!0},h.oncontextmenu=function(){return!1},h.onscroll=function(){if(i.Yg&&clearTimeout(i.Yg),y){var j=function(){var C=i.$g()-i.nav.scroll.offsetHeight;h.scrollTop=Math.min(h.scrollTop,C),i.nav.scroll.scrollTop=h.scrollTop};n?a.Zg&&(i.Yg=setTimeout(j,10)):i.Yg=setTimeout(j,10)}else i.Yg=setTimeout(function(){i.nav.scroll.scrollTop=h.scrollTop},500)},h.setAttribute("role","region"),h.setAttribute("aria-label","scheduler rows");var w=c();return this.divHeader=w,h.appendChild(w),this.divResScroll=h,this.He=h,h},this._g=null,this.ah=null,this.bh=function(){var h=function(){i.ch(),i.hf()},y=function(){var j=i.nav.top;if(j){if(!i._g)return i._g={},void(i._g.width=j.offsetWidth);i._g.width!==j.offsetWidth&&(i._g.width=j.offsetWidth,h())}};if(!i.ah){var w=new ResizeObserver(t.debounce(y,100));w.observe(i.nav.top),i.ah=w}},this.ch=function(){i.Q||(i.ma(),i.dh(),i.zb.drawArea=null)},this.dh=function(){var h=i.Bf;i.clearSelection(),i.Bf=h,i.Cf(h,{justDraw:!0})},this.Ug=function(){var h=c();h.style.overflow="hidden",h.style.display="block",h.style.position="absolute",h.style.top="0px",h.style.width="100%",h.style.height=this.Ge()+"px",h.style.overflow="hidden",h.className=i.L("_timeheader_scroll"),this.divTimeScroll=h;var y=c();return y.style.width=this.Ee()+5e3+"px",this.divNorth=y,h.appendChild(y),h},this.Za=function(){var h=0,y=i.heightSpec;return y==="Fixed"?this.height?this.height:0:(h=i.$g(),y==="Max"&&h>i.height?i.height:h)},this.$g=function(){var h;return this.he!==-1?(h=this.he,this.he>0&&i.nav.scroll.style.overflowX==="auto"&&(h+=t.sh(i.nav.scroll)+1)):h=this.rowlist.length*i.eventHeight,h},this.Vg=function(){var h=c();h.style.overflow="auto",h.style.overflowX="auto",h.style.overflowY="auto",h.style.height=this.Za()+"px",h.style.top=this.Ge()+1+"px",h.style.position="absolute",h.style.width="100%",h.className=this.L("_scrollable"),h.oncontextmenu=function(){return!1},this.nav.scroll=h,this.le=c();var y=this.le;y.style.userSelect="none",y.style.webkitUserSelect="none",y.calendar=this,y.style.position="absolute";var w=this.Ee();return w>0&&(y.style.width=w+"px"),y.onmousedown=this.eh,y.onmousemove=this.fh,y.onmouseup=this.gh,y.oncontextmenu=this.hh,y.className=this.L("_matrix"),this.divStretch=c(),this.divStretch.style.position="absolute",this.divStretch.style.height="1px",y.appendChild(this.divStretch),this.divCells=c(),this.divCells.style.position="absolute",this.divCells.oncontextmenu=this.hh,y.appendChild(this.divCells),this.divLines=c(),this.divLines.style.position="absolute",this.divLines.oncontextmenu=this.hh,y.appendChild(this.divLines),this.divSeparators=c(),this.divSeparators.style.position="absolute",this.divSeparators.oncontextmenu=this.hh,y.appendChild(this.divSeparators),this.divRange=c(),this.divRange.style.position="absolute",this.divRange.oncontextmenu=this.hh,y.appendChild(this.divRange),this.divEvents=c(),this.divEvents.style.position="absolute",y.appendChild(this.divEvents),this.divShadow=c(),this.divShadow.style.position="absolute",y.appendChild(this.divShadow),h.appendChild(y),h},this.rb=function(){a.ih||(a.ih=!0,t.re(document,"mouseup",a.ge),t.re(document,"touchmove",a.jh),t.re(document,"touchend",a.kh))},this.lh=function(){this.nav.scroll.root=this,this.nav.scroll.onscroll=this.hf,i.mh=this.nav.scroll.scrollLeft,i.nh=this.nav.scroll.scrollTop,this.divNorth&&(i.oh=this.divNorth.clientWidth)},this.ph={},this.ph.step=300,this.ph.delay=10,this.ph.mode="display",this.ph.layers=!1,this.Jg=function(h){for(var y=0,w=0;w<h.lines.length;w++){for(var j=h.lines[w],C=0;C<j.length;C++){var _=j[C];_.part.line=w,_.part.top=y+i.rowMarginTop,_.part.right=_.part.left+_.part.width}y+=i.eventHeight}},this.Xe=null,this.na=function(h){if(!i.Q){var y=this.ph.step;this.ph.mode==="display"?this.divEvents.style.display="none":this.ph.mode==="visibility"&&(this.divEvents.style.visibility="hidden"),this.divEvents.setAttribute("role","region"),this.divEvents.setAttribute("aria-label","scheduler events");var w=this.dynamicEventRendering==="Progressive",j=this.pe(),C=j.pixels.top,_=j.pixels.bottom;i.rowlist.filter(function(k){var A=k.top-i.dynamicEventRenderingMargin,T=A+k.height+2*i.dynamicEventRenderingMargin;return!w||!(_<=A||C>=T)}).forEach(function(k){i.Jg(k);for(var A=0;A<k.lines.length;A++)for(var T=k.lines[A],R=0;R<T.length;R++){var P=T[R],M=i.Va(P);if(h&&M&&(y--,y<=0))return i.divEvents.style.visibility="",i.divEvents.style.display="",void(i.Xe=setTimeout(function(){i.na(h)},i.ph.delay))}}),this.divEvents.style.display="",this.ve()}},this.qf=function(h){var y=i.rowlist[h];this.Jg(y);for(var w=0;w<y.lines.length;w++)for(var j=y.lines[w],C=0;C<j.length;C++){var _=j[C];this.Va(_)}},this.Y=function(){if(this.elements.events)for(var h=this.elements.events.length,y=0;y<h;y++){var w=this.elements.events[y];this.Pa(w)}this.elements.events=[]},this.pf=function(h){if(this.elements.events){for(var y=this.elements.events.length,w=[],j=0;j<y;j++){var C=this.elements.events[j];C.event.part.dayIndex===h&&(this.Pa(C),w.push(j))}for(var j=w.length-1;j>=0;j--)this.elements.events.splice(w[j],1)}},this.Pa=function(h){h.remove(),h.onclick=null,h.oncontextmenu=null,h.onmouseover=null,h.onmouseout=null,h.onmousemove=null,h.onmousedown=null,h.ondblclick=null,h.event&&(h.event.rendered=null,h.event=null)},this.qh=function(){if(this.dynamicEventRendering==="Progressive"&&i.dynamicEventRenderingCacheSweeping){var h=i.dynamicEventRenderingCacheSize||0;this.divEvents.style.display="none";for(var y=[],w=0,j=this.elements.events.length,C=j-1;C>=0;C--){var _=this.elements.events[C];this.rh(_.event)?h>0?(h--,y.unshift(_)):(this.Pa(_),w++):y.unshift(_)}this.elements.events=y,this.divEvents.style.display=""}},this.uh=function(h){for(var y=this.pe(),w=this.elements.cells.length,j=w-1;j>=0;j--){var C=this.elements.cells[j];y.xStart<C.coords.x&&C.coords.x<=y.xEnd&&y.yStart<C.coords.y&&C.coords.y<=y.yEnd||(h>0?h--:this.hb(C))}},this.hb=function(h){if(h&&h.coords){var y=h.coords.x,w=h.coords.y;t.rfa(i.elements.cells,h),t.de(h),i.zb.cells[y+"_"+w]=null}},this.vh=function(){var h=this.dynamicEventRendering==="Progressive";if(!this.nav.scroll)return!1;for(var y=this.nav.scroll.scrollTop,w=y+this.nav.scroll.clientHeight,j=0;j<this.rowlist.length;j++){var C=this.rowlist[j],_=C.top,k=C.top+C.height;if(!h||!(w<=_||y>=k))for(var A=0;A<C.lines.length;A++)for(var T=C.lines[A],R=0;R<T.length;R++){var P=T[R];if(this.wh(P))return!0}}return!1},this.wh=function(h){if(h.rendered)return!1;var y=this.dynamicEventRendering==="Progressive",w=this.nav.scroll.scrollLeft,j=w+this.nav.scroll.clientWidth,C=h.part.left,_=h.part.left+h.part.width;return!y||!(j<=C||w>=_)},this.rh=function(h){if(!h.rendered)return!0;var y=this.pe(),w=y.pixels.top,j=y.pixels.bottom,C=y.pixels.left-this.dynamicEventRenderingMargin,_=y.pixels.right+this.dynamicEventRenderingMargin,k=h.part.left,A=h.part.right,T=h.part.top,R=h.part.top+i.eventHeight;return _<=k||C>=A||j<=T||w>=R},this.Va=function(h,y){y=y||{};var w=y.forced;if(h.rendered)return!1;var j=this.dynamicEventRendering==="Progressive",C=h.part.dayIndex,_=i.divEvents,k=i.rowlist,A=k[C],T=A.top,R=this.pe(),P=R.pixels.left-this.dynamicEventRenderingMargin,M=R.pixels.right+this.dynamicEventRenderingMargin,I=R.pixels.top,L=R.pixels.bottom,B=h.part.left,U=h.part.left+h.part.width,F=h.part.top+T,H=F+i.eventHeight,W=M<=B||P>=U,J=L<=F||I>=H;if(!w&&j&&(W||J))return!1;var q=h.part.width,G=i.eventHeight,z=h.cache||h.data,K=z.borderRadius||i.eventBorderRadius;typeof K=="number"&&(K+="px"),q=t.Util.atLeast(0,q),G=t.Util.atLeast(0,G);var Z=c();Z.style.position="absolute",Z.style.left=h.part.left+"px",Z.style.top=T+h.part.top+"px",Z.style.width=q+"px",Z.style.height=G+"px",i.eventTextWrappingEnabled||(Z.style.whiteSpace="nowrap"),Z.style.overflow="hidden",Z.className=this.L("_event"),z.cssClass&&t.Util.addClass(Z,z.cssClass),typeof h.part.line=="number"&&t.Util.addClass(Z,this.L("_event_line"+h.part.line)),K&&(Z.style.borderRadius=K),this.showToolTip&&(Z.title=h.client.toolTip()||""),Z.onmousemove=this.xh,Z.onmousedown=this.yh,Z.onmouseup=this.zh,Z.ontouchstart=v.Ah,Z.ontouchmove=v.Bh,Z.ontouchend=v.Ch,h.client.clickEnabled()&&(Z.onclick=this.Qe),typeof z.ariaLabel<"u"?Z.setAttribute("aria-label",z.ariaLabel):Z.setAttribute("aria-label",z.text),Z.setAttribute("tabindex","-1");var ie=c();ie.className=i.L("_event_inner"),K&&(ie.style.borderRadius=K),z.backColor&&(ie.style.background=z.backColor),z.fontColor&&(ie.style.color=z.fontColor),z.borderColor==="darker"&&z.backColor?ie.style.borderColor=t.ColorUtil.darker(z.backColor,2):ie.style.borderColor=z.borderColor,z.backImage&&(ie.style.backgroundImage="url("+z.backImage+")",z.backRepeat&&(ie.style.backgroundRepeat=z.backRepeat)),Z.appendChild(ie);var ye=h.start().getTime()===h.part.start.getTime(),de=h.rawend().getTime()===h.part.end.getTime();if(ye||t.Util.addClass(Z,this.L("_event_continueleft")),de||t.Util.addClass(Z,this.L("_event_continueright")),h.client.barVisible()&&q>0){var xe=100*h.part.barLeft/q,ne=Math.ceil(100*h.part.barWidth/q),ge=c();ge.className=this.L("_event_bar"),ge.style.position="absolute",z.barBackColor&&(ge.style.backgroundColor=z.barBackColor);var Ce=c();Ce.className=this.L("_event_bar_inner"),Ce.style.left=xe+"%",0<ne&&ne<=1?Ce.style.width="1px":Ce.style.width=ne+"%",z.barColor&&(Ce.style.backgroundColor=z.barColor),z.barImageUrl&&(Ce.style.backgroundImage="url("+z.barImageUrl+")"),ge.appendChild(Ce),Z.appendChild(ge)}Z.row=C,Z.event=h,ie.innerHTML=h.client.innerHTML();var ce=[];return function(){if(i.eventDeleteHandling!=="Disabled"&&!z.deleteDisabled){var Oe=i.durationBarVisible?i.durationBarHeight:0;ce.push({v:"Hover",w:17,h:17,top:Oe+2,right:2,css:i.L("_event_delete"),onClick:function(Pe){i.ya(Pe.source)}})}}(),z.areas&&(ce=ce.concat(z.areas)),t.Areas.attach(Z,h,{areas:ce}),this.elements.events.push(Z),_.appendChild(Z),h.rendered=!0,!0},this.ab=function(h,y){return i.ca.da()?t.Util.escapeTextHtml(h,y):t.Util.isNullOrUndefined(y)?t.Util.isNullOrUndefined(h)?"":h:y},this.rf=function(){for(var h=0;h<this.elements.events.length;h++){var y=this.elements.events[h],w=y.event,j=w.part.dayIndex,C=i.rowlist[j],_=C.top,k=_+w.part.top,A=C.height,T=i.eventHeight;w.part.top+T>A&&(T=Math.max(0,A-w.part.top)),y.style.top=k+"px",y.style.height=T+"px"}},this.Dh=function(h){if(!h)return null;for(var y=0;y<i.elements.events.length;y++){var w=i.elements.events[y];if(w.event===h||w.event.data===h.data)return w}return null},this.Of=function(h){var y=i.events.Tf(h.data);if(!y)return null;var w=i.rowlist[y.part.dayIndex];return i.Jg(w),i.Va(y,{forced:!0}),i.Dh(y)},this.xh=function(h){for(var y=this;y&&!y.event;)y=y.parentNode;y.event,i.Eh(y,h),i.Ue(h)},this.Se={},this.yh=function(h){i.Ue(h);var y=t.Util.mouseButton(h);h.preventDefault(),h.stopPropagation(),y.left&&(this.style.cursor==="w-resize"||this.style.cursor==="e-resize"?(a.Re=!0,a.ig=this,a.mg=this.event,a.Fh=t.mc(h),l().style.cursor=this.style.cursor):(this.style.cursor==="move"||this.event.client.moveEnabled())&&i.Gh(this,h))},this.zh=function(h){t.Util.mouseButton(h).right&&i.xa.call(this,h)},this.Gh=function(h,y){var w=i.Se;i.Ue(y),w.Hh=!0,w.Se=h,w.pg=h.event,w.Fh=t.mc(y),w.Ih=t.mo3(h,y).x,w.hg=i.getDate(i.coords.x,!0)},this.Jh={};var v=i.Jh;typeof t.Global.touch>"u"&&(t.Global.touch={}),t.Global.touch.active=!1,t.Global.touch.start=!1,v.Kf=[],v.Ah=function(h){if(!t.Global.touch.active&&!t.Global.touch.start){h.stopPropagation(),v.Kh(),t.Global.touch.start=!0,t.Global.touch.active=!1;var y=this;i.coords=v.Lh(h);var w=i.tapAndHoldTimeout;v.Kf.push(setTimeout(function(){t.Global.touch.active=!0,t.Global.touch.start=!1,h.preventDefault();var j=y.event;switch(i.eventTapAndHoldHandling){case"Move":if(j.client.moveEnabled()){var C=r(h);v.Gh(y,C)}}},w))}},v.Bh=function(h){v.Kh(),t.Global.touch.start=!1},v.Ch=function(h){if(!t.Util.isMouseEvent(h)){if(v.Kh(),t.Global.touch.start){t.Global.touch.start=!1,h.preventDefault(),h.stopPropagation();var y=this;setTimeout(function(){i.Te(y,h)})}setTimeout(function(){t.Global.touch.start=!1,t.Global.touch.active=!1},500)}},v.Qg=function(h){if(!(t.Global.touch.active||t.Global.touch.start||h.touches.length>1||i.timeRangeSelectedHandling==="Disabled")){v.Kh(),t.Global.touch.start=!0,t.Global.touch.active=!1;var y=i.tapAndHoldTimeout;v.Kf.push(setTimeout(function(){t.Global.touch.active=!0,t.Global.touch.start=!1,h.preventDefault(),i.coords=v.Lh(h),v.Mh=i.Nh()},y)),i.coords=v.Lh(h)}},v.Rg=function(h){if(v.Kh(),t.Global.touch.start=!1,a.ig)return h.preventDefault(),void v.Oh();if(t.Global.touch.active){if(h.preventDefault(),i.coords=v.Lh(h),a.Se)return void v.Ph();if(v.Mh){var y=v.Mh;y.end={x:Math.floor(i.coords.x/i.cellWidth),time:i.getDate(i.coords.x,!0)},i.Cf(y)}}},v.debug=function(h){},v.Sg=function(h){if(v.Kh(),t.Global.touch.active){if(a.Se){h.preventDefault();var y=a.pg;if(i!==a.qg.calendar)return;var w=a.qg.start,j=a.qg.end,C=a.qg.row.id;t.Util.removeClass(a.Se,i.L("_event_moving_source")),t.de(a.qg),a.qg.calendar=null,l().style.cursor="",a.Se=null,a.pg=null,a.qg=null,i.M(y,w,j,C)}if(v.Mh){var _=v.Mh;v.Mh=null;var k=i.elements.range2;k&&k.overlapping?i.clearSelection():i.yf(_)}}else if(t.Global.touch.start){if(i.coords.x<i.getScrollX())return;var _=i.Nh();i.Cf(_);var k=i.elements.range2;k&&k.overlapping?i.clearSelection():i.yf(_)}setTimeout(function(){t.Global.touch.start=!1,t.Global.touch.active=!1},500)},v.Kh=function(){for(var h=0;h<v.Kf.length;h++)clearTimeout(v.Kf[h]);v.Kf=[]},v.Lh=function(h){function y(C,_,k){var A=t.abs(k);return{x:C-A.x,y:_-A.y,toString:function(){return"x: "+this.x+", y:"+this.y}}}var w=i.le,j=h.touches?h.touches[0]:h;return y(j.pageX,j.pageY,w)},v.Gh=function(h,y){a.Se=h,a.pg=h.event,a.Fh=y;var w=t.abs(h);a.Ih=y.x-w.x,a.hg=i.getDate(i.coords.x,!0),a.qg=i.ba(h),i.og()},v.Oh=function(){if(!a.lg){var h=a.ig;a.lg=i.ba(h)}i.ng()},v.Ph=function(){if(!a.qg){var h=a.Se;a.qg=i.ba(h)}a.qg.calendar.og()},this.Eh=function(h,y){var w=this.eventResizeMargin,j=h;if(typeof a<"u"){var C=t.mo3(h,y);if(C&&(i.eventOffset=C,!a.ig&&!a.Se)){var _=j.event.part.start.toString()===j.event.start().toString(),k=j.event.part.end.toString()===j.event.rawend().toString();C.x<=w&&j.event.client.resizeEnabled()?_?(h.style.cursor="w-resize",h.dpBorder="left"):h.style.cursor="not-allowed":h.offsetWidth-C.x<=w&&j.event.client.resizeEnabled()?k?(h.style.cursor="e-resize",h.dpBorder="right"):h.style.cursor="not-allowed":a.ig||a.Se||(j.event.client.clickEnabled()?h.style.cursor="pointer":h.style.cursor="default")}}},this.Df=function(){var h=i.Pe();return i.days*(1440/h)},this.zf=function(y){var y=y||a.Mh||i.Bf;if(!y)return null;var w=i.rowlist[y.start.y];if(!w)return null;var j,C,_=y,k=_.end.time>_.start.time,A=w.id,T=k?_.start.x:_.end.x,R=k?_.end.x:_.start.x,P=i.snapToGrid;P?(j=i.Ne(T).start,C=i.Ne(R).end):k?(j=_.start.time,C=_.end.time):(j=_.end.time,C=_.start.time);var M=new t.Selection(j,C,A,i);return M.allowed=!y.div||!y.div.overlapping,M},this.af=function(){this.zb.timeHeader={},i.elements.timeHeader.length>0&&(i.elements.timeHeader=[]);var h=c();h.style.position="relative",this.nav.timeHeader=h;for(var y=0;y<this.timeHeader.length;y++)for(var w=this.timeHeader[y],j=0;j<w.length;j++)this.Qh(j,y);var C=this.divNorth;C.childNodes.length===1?C.replaceChild(h,C.childNodes[0]):(C.innerHTML="",C.appendChild(h));var _=this.Ee();C.style.width=_+5e3+"px",_>0&&(this.divStretch.style.width=_+"px")},this.Le=function(h,C){var w=null,j=this.ca.Ke(),C=C||this.cellGroupBy,_=h.start;switch(C){case"Minute":w=_.toString("m");break;case"Hour":w=i.ca.Rh()==="Clock12Hours"?_.toString("h tt",j):_.toString("H",j);break;case"Day":w=_.toString(j.datePattern);break;case"Week":w=N.ea()===1?_.weekNumberISO():_.weekNumber();break;case"Month":w=_.toString("MMMM yyyy",j);break;case"Quarter":w="Q"+Math.floor(_.getMonth()/3+1);break;case"Year":w=_.toString("yyyy");break;case"None":w="";break;case"Cell":var k=(h.end.ticks-h.start.ticks)/6e4;w=this.Sh(_,k);break;default:throw new t.Exception("Invalid groupBy value: "+C)}return w},this.Sh=function(h,j){var w=this.ca.Ke(),j=j||this.cellDuration;return j<1?h.toString("ss"):j<60?h.toString("mm"):j<1440?i.ca.Rh()==="Clock12Hours"?h.toString("h tt",w):h.toString("H",w):j<10080?h.toString("d"):j===10080?N.ea()===1?h.weekNumberISO():h.weekNumber():h.toString("MMMM yyyy",w)},this.Je=function(h,y,w){var j,C=i.startDate.addDays(i.days);y=y||this.cellGroupBy;var _=60;switch(y){case"Minute":h.getMinutes()+h.getSeconds()+h.getMilliseconds()>0&&(h=h.getDatePart().addHours(h.getHours()).addMinutes(h.getMinutes())),j=h.addMinutes(1);break;case"Hour":h.getHours()+h.getMinutes()+h.getSeconds()+h.getMilliseconds()>0&&(h=h.getDatePart().addHours(h.getHours())),j=h.addHours(1);break;case"Day":j=h.getDatePart().addDays(1);break;case"Week":for(j=h.getDatePart().addDays(1);j.dayOfWeek()!==N.ea();)j=j.addDays(1);break;case"Month":h=h.getDatePart(),j=h.addMonths(1),j=j.firstDayOfMonth();for(var k=t.DateUtil.diff(j,h)/6e4%_===0;!k;)j=j.addHours(1),k=t.DateUtil.diff(j,h)/6e4%_===0;break;case"Quarter":for(h=h.getDatePart(),j=h.addMonths(1),j=j.firstDayOfMonth();j.getMonth()%3;)j=j.addMonths(1);for(var k=t.DateUtil.diff(j,h)/6e4%_===0;!k;)j=j.addHours(1),k=t.DateUtil.diff(j,h)/6e4%_===0;break;case"Year":h=h.getDatePart(),j=h.addYears(1),j=j.firstDayOfYear();for(var k=t.DateUtil.diff(j,h)/6e4%_===0;!k;)j=j.addHours(1),k=t.DateUtil.diff(j,h)/6e4%_===0;break;case"None":j=C;break;case"Cell":var A=this.Oe(h);A.current&&(j=A.current.end);break;default:throw w?new t.Exception("Invalid scale value: "+y):new t.Exception("Invalid groupBy value: "+y)}return j.getTime()>C.getTime()&&(j=C),j},this.Qh=function(h,y){var w=this.nav.timeHeader,j=this.timeHeader[y][h],C=y<this.timeHeader.length-1,_=j.left,k=j.width,A=y*i.headerHeight,T=i.headerHeight,R=c();R.style.position="absolute",R.style.top=A+"px",R.style.left=_+"px",R.style.width=k+"px",R.style.height=T+"px",j.toolTip&&(R.title=j.toolTip),R.setAttribute("aria-hidden","true"),j.cssClass&&t.Util.addClass(R,j.cssClass),R.style.userSelect="none",R.style.webkitUserSelect="none",R.oncontextmenu=function(){return!1},R.cell={},R.cell.start=j.start,R.cell.end=j.end,R.cell.level=y,R.cell.th=j,R.onclick=this.Dg,R.oncontextmenu=this.Eg,t.re(R,t.touch.start,function(L){L.stopPropagation()}),R.style.overflow="hidden",i.timeHeaderTextWrappingEnabled||(R.style.whiteSpace="nowrap");var P=c();P.innerHTML=i.ab(j.text,j.html),j.backColor&&(P.style.background=j.backColor),j.fontColor&&(P.style.color=j.fontColor);var M=this.L("_timeheadercol"),I=this.L("_timeheadercol_inner");C&&(M=this.L("_timeheadergroup"),I=this.L("_timeheadergroup_inner")),t.Util.addClass(R,M),t.Util.addClass(P,I),t.Util.addClass(R,i.L("_timeheader_cell")),t.Util.addClass(P,i.L("_timeheader_cell_inner")),R.appendChild(P),t.Areas.attach(R,j,{areas:j.areas}),this.zb.timeHeader[h+"_"+y]=R,this.elements.timeHeader.push(R),w.appendChild(R)},this.dg=function(){i.rowlist.forEach(function(h){var y=h.getHeight()+i.rowMarginTop+i.rowMarginBottom;h.height!==y&&(i.of=!0),h.height=y}),i.of&&(i.zb.drawArea=null)},this.bf=function(){i.rowlist.forEach(function(h){var y=i.divHeader;if(y){var w=h.index;if(y.rows[w]){var j=y.rows[w];i.ug&&(j.style.top=h.top+"px");var C=h.height;j&&j.firstChild&&parseInt(j.firstChild.style.height,10)!==C&&(j.firstChild.style.height=C+"px")}}}),i.ug&&i.nav.resScrollSpace&&(i.nav.resScrollSpace.style.top=i.he+"px")},this.eh=function(h){if(t.Global.touch.start||t.Global.touch.active||(a.Th,i.Ue(h),i.timeRangeSelectedHandling==="Disabled"))return!1;var y=t.Util.mouseButton(h);if(i.Uh()||y.middle||y.right||i.Vh(i.coords))return!1;var w=y.left?"left":y.right?"right":y.middle?"middle":"unknown";return i.Wh=w,a.Mh=i.Nh(),a.Mh&&(a.Xh=i),!1},this.Nh=function(){var h={},y=i.Me(i.coords.x).x,w=i.getDate(i.coords.x,!0);return h.start={y:i.Jf(i.coords.y).i,x:y,time:w},h.end={x:y,time:w},h.calendar=i,i.Cf(h),h},this.gh=function(h){if(i.Se={},i.Bf&&t.Util.mouseButton(h).left){var y=i.Bf;if(i.Vh(i.coords)){var w=function(j){return function(){a.Th=null;var C=i.zf(j);if(C){var _={};_.start=C.start,_.end=C.end,_.resource=C.resource,_.preventDefault=function(){_.preventDefault.value=!0},typeof i.onTimeRangeClick=="function"&&i.onTimeRangeClick(_),_.preventDefault.value||typeof i.onTimeRangeClicked=="function"&&i.onTimeRangeClicked(_)}}};i.timeRangeClickHandling!=="Disabled"&&w(y)()}}},this.Uh=function(){return!!(a.ig||a.Se||a.Mh)||!!i.Se.Hh},this.dragInProgress=function(){return i.Uh()},this.Ue=function(h){var y=t.mo3(i.le,h);y=y||{},y.stamp=y.x+"_"+y.y,i.coords&&i.coords.stamp===y.stamp||(i.coords=y)},this.fh=function(h){if(!t.Global.touch.active){var y=t.mc(h);i.Ue(h),i.Se.Hh&&t.distance(i.Se.Fh,y)>2&&(t.Util.copyProps(i.Se,a),l().style.cursor="move",i.Se={}),a.ig&&a.mg.calendar===i?(a.ig.event||(a.ig.event=a.mg),i.Yh()):a.pg?i.Zh():a.Mh&&a.Mh.calendar===i&&(a.Mh.moved=!0,i.$h())}},this.$h=function(){var h=a.Mh,y=i.Me(i.coords.x).x,w=i.getDate(i.coords.x,!0);h.end={x:y,time:w},i.Cf(h)},this.Yh=function(){a.lg||(a.lg=i.ba(a.ig)),i.ng()},this.Zh=function(){if(!a.qg){t.Util.addClass(a.Se,i.L("_event_moving_source"));var h=a.pg;a.qg=i.ba(h)}i.og()},this.hh=function(h){return h.cancelBubble=!0,!1},this.Vh=function(h){var y=i.Bf;if(!y||!y.start||!y.end)return!1;var w=this.Mf(y.start.y),j=y.start.x<y.end.x,C=(j?y.start.x:y.end.x)*this.cellWidth,_=(j?y.end.x:y.start.x)*this.cellWidth+this.cellWidth,k=w.top,A=w.bottom;return h.x>=C&&h.x<=_&&h.y>=k&&h.y<=A},this.Cf=function(h){function y(_){var k,A,T,R,P=_.end.time>_.start.time,M=_.start.y,I=_.start.time&&_.end.time;if(j||!I){var L=P?_.start.x:_.end.x,B=P?_.end.x:_.start.x,U=i.Ne(L),F=i.Ne(B);k=U.left,A=F.left+F.width}else P?(T=_.start.time,R=_.end.time):(T=_.end.time,R=_.start.time),k=i.getPixels(T).left,A=i.getPixels(R).left;var H=A-k,W=i.elements.range2;if(!W){W=c(),W.style.position="absolute";var J=c();J.className=i.L("_shadow_inner"),w&&(W.style.borderRadius=w,J.style.borderRadius=w),W.appendChild(J),i.divShadow.appendChild(W)}return W.className=i.L("_shadow"),W.firstChild.innerHTML="",W.style.left=k+"px",W.style.top=C[M].top+"px",W.style.width=H+"px",W.style.height=C[M].height-1+"px",W.calendar=i,i.elements.range2=W,W}if(h=h||a.Mh){var w=i.eventBorderRadius;typeof w=="number"&&(w+="px");var j=i.snapToGrid,C=i.rowlist;y(h)}},this._h=function(h){return{start:{x:h.start.x,y:h.start.y,time:h.start.time},end:{x:h.end.x,time:h.end.time},calendar:h.calendar,args:h.args}},this.Kf={},this.Kf.na=null,this.Kf.drawCells=null,this.Kf.drawRows=null,this.Kf.click=null,this.Kf.resClick=[],this.Kf.updateFloats=null,this.hf=function(){if(!i.Q){i.ff();var h=i.nav.scroll;i.mh=h.scrollLeft,i.nh=h.scrollTop,i.oh=h.clientWidth,i.divTimeScroll&&(i.divTimeScroll.scrollLeft=i.mh),n&&a.Zg?o():i.divResScroll.scrollTop=i.nh,i.progressiveRowRendering&&(i.Kf.drawRows&&(clearTimeout(i.Kf.drawRows),i.Kf.drawRows=null),i.scrollDelayRows>0?i.Kf.drawRows=setTimeout(function(){i.xg()},i.scrollDelayRows):i.xg()),i.Kf.drawCells&&(clearTimeout(i.Kf.drawCells),i.Kf.drawCells=null),i.scrollDelayCells>0?i.Kf.drawCells=setTimeout(i.ai(),i.scrollDelayCells):i.ai()(),i.Kf.na&&(clearTimeout(i.Kf.na),i.Kf.na=null),i.scrollDelayEvents>0?i.Kf.na=setTimeout(i.bi(),i.scrollDelayEvents):i.na(),i.Kf.updateFloats&&(clearTimeout(i.Kf.updateFloats),i.Kf.updateFloats=null),i.scrollDelayFloats>0?i.Kf.updateFloats=setTimeout(function(){i.te()},i.scrollDelayFloats):i.te(),i.onScrollCalled=!0}},this.ai=function(){return function(){i&&i.gf()}},this.bi=function(){return function(){i&&(i.vh()?setTimeout(function(){i.qh(),setTimeout(function(){i.na(!0)},50)},50):i.ve())}},this.ff=function(){i.zb.drawArea=null},this.show=function(){i.visible=!0,i.ie=!0,i.nav.top.style.display="",i.u(),i.ch(),i.hf()},this.hide=function(){i.visible=!1,i.ie=!1,i.nav.top.style.display="none"},this.Zf=function(h){if(!i.events.list)return null;for(var y=0;y<this.events.list.length;y++){var w=this.events.list[y];if(i.Sf(w,h)){var j={};return j.ex=w,j.index=y,j}}return null},this.ci=function(){var h=this.pe(),y=h.xStart,w=h.xEnd-h.xStart,j=h.yStart,C=h.yEnd-h.yStart;this.cellProperties||(this.cellProperties={});for(var _=0;_<=w;_++){for(var k=y+_,A=0;A<C;A++){var T=j+A;this.kd(k,T)}this.di(k)}for(var R=this.sg(),T=R.start;T<R.end;T++)this.ei(T)},this.gf=function(){if(!i.Q){var h=i.rowlist;if(h&&h.length>0){if(this.cellSweeping){var y=this.cellSweepingCacheSize;this.uh(y)}this.ci()}this.of=!1}},this.pe=function(){if(i.zb.drawArea)return i.zb.drawArea;if(!this.nav.scroll)return null;var h=i.nh,y={},w=this.dynamicEventRenderingMarginX!=null?this.dynamicEventRenderingMarginX:this.dynamicEventRenderingMargin,j=this.dynamicEventRenderingMarginY!=null?this.dynamicEventRenderingMarginY:this.dynamicEventRenderingMargin,C=i.mh-w,_=C+i.oh+2*w,k=0,A=0;k=i.Me(C).x,A=i.Me(_,!0).x;var T=this.Df();A=Math.min(A,T-1),k=t.Util.atLeast(k,0);var R=h-j,P=h+this.nav.scroll.offsetHeight+2*j,M=this.Jf(R).i,I=this.Jf(P).i;I<this.rowlist.length&&I++,y.xStart=k,y.xEnd=A,y.yStart=M,y.yEnd=I;var L=i.nav.scroll;return L.clientWidth===0&&(L=i.divTimeScroll),y.pixels={},y.pixels.left=L.scrollLeft,y.pixels.right=L.scrollLeft+L.clientWidth,y.pixels.top=L.scrollTop,y.pixels.bottom=L.scrollTop+L.clientHeight,y.pixels.width=L.scrollWidth,y.sw=t.sw(i.nav.scroll),i.zb.drawArea=y,y},this.Ee=function(){return i.Df()*i.cellWidth},this.ei=function(h){var y=i.rowlist,w=i.divLines,j="y_"+h;if(!this.zb.linesHorizontal[j]){var C=y[h],_=C.height,k=C.top+_-1,A=this.Ee(),T=c();T.style.left="0px",T.style.top=k+"px",T.style.width=A+"px",T.style.height="1px",T.style.fontSize="1px",T.style.lineHeight="1px",T.style.overflow="hidden",T.style.position="absolute",T.className=this.L("_matrix_horizontal_line"),w.appendChild(T),this.zb.linesHorizontal[j]=T}},this.di=function(h){var y=i.Ne(h);if(y){var w=i.divLines,j=i.he,C="x_"+h;if(!this.zb.linesVertical[C]){var _=y.left+y.width-1,k=c();k.style.left=_+"px",k.style.top="0px",k.style.width="1px",k.style.height=j+"px",k.style.fontSize="1px",k.style.lineHeight="1px",k.style.overflow="hidden",k.style.position="absolute",k.className=this.L("_matrix_vertical_line"),w.appendChild(k),this.elements.linesVertical.push(k),this.zb.linesVertical[C]=k}}},this.$e=function(){i.he=i.fi(i.rowlist)},this.fi=function(h){for(var y=0,w=0;w<h.length;w++){var j=h[w];j.top=y,y+=j.height}return y},this.df=function(){i.elements.cells=[],i.zb.cells=[],i.divCells.innerHTML="",i.gi()},this.gi=function(){i.divLines.innerHTML="",i.zb.linesVertical={},i.zb.linesHorizontal={},i.elements.linesVertical=[]},this.sf=function(h){var y=[];for(var w in i.zb.cells)y.push(i.zb.cells[w]);y.filter(function(j){return j&&j.coords&&j.coords.y===h}).forEach(function(j){i.hb(j)})},this.kd=function(h,y){if(this.Ma){var w=i.Ne(h);if(w){var j=i.rowlist,C=i.divCells,_=h+"_"+y;if(!this.zb.cells[_]){var k=this.hi(h,y),A=i.ii(h,y),T=c();if(T.style.left=w.left+"px",T.style.top=j[y].top+"px",T.style.width=w.width+"px",T.style.height=j[y].height+"px",T.style.position="absolute",k&&k.backColor&&(T.style.backgroundColor=k.backColor),T.className=this.L("_cell"),T.coords={},T.coords.x=h,T.coords.y=y,k){if(k.cssClass&&t.Util.addClass(T,k.cssClass),T.innerHTML=i.ab(k.text,k.html),k.backImage&&(T.style.backgroundImage='url("'+k.backImage+'")'),k.backRepeat&&(T.style.backgroundRepeat=k.backRepeat),k.business&&i.cellsMarkBusiness&&t.Util.addClass(T,i.L("_cell_business")),k.disabled&&t.Util.addClass(T,i.L("_cell_disabled")),k.backColor&&(T.style.backgroundColor=k.backColor),k.fontColor&&(T.style.color=k.fontColor),k.horizontalAlignment||k.verticalAlignment){switch(T.style.display="flex",k.horizontalAlignment){case"right":T.style.justifyContent="flex-end";break;case"left":T.style.justifyContent="flex-start";break;case"center":T.style.justifyContent="center"}switch(k.verticalAlignment){case"center":T.style.alignItems="center";break;case"top":T.style.alignItems="flex-start";break;case"bottom":T.style.alignItems="flex-end"}}t.Areas.attach(T,A.cell,{areas:k.areas||A.cell.areas})}C.appendChild(T),this.elements.cells.push(T),this.zb.cells[_]=T}}}},this.ii=function(h,y){var w=i.Ne(h);if(!w)return null;var j=i.rowlist[y],C=j.id,_=w.start,k=w.end,A={};if(A.cell={x:h,y,start:_,end:k,resource:C,row:i.Cg(j),properties:i.hi(h,y)},A.control=i,typeof this.onBeforeCellRender=="function"){var T=h+"_"+y;if(i.beforeCellRenderCaching&&i.ef[T])return A;i.ef[T]=!0,this.onBeforeCellRender(A)}return A},this.clearSelection=function(){this.ji()},this.ki=function(h,y,w){h=new t.Date(h),y=new t.Date(y);var j=i.ne(w),C=i.Oe(h);if(!C.current)throw new t.Exception("Time range selection 'start' out of timeline");var _=i.Oe(new t.Date(y).addMilliseconds(-1));if(!_.current)throw new t.Exception("Time range selection 'end' out of timeline");var k={};return k.start={y:j.index,x:C.i,time:h},k.end={x:_.i,time:y},k.calendar=this,k},this.selectTimeRange=function(h,y,w,j){var C=i.ki(h,y,w);i.Cf(C),j||setTimeout(function(){i.yf(C)},0)},this.wf=function(){var h=a.qg&&a.qg.source;h&&t.Util.removeClass(h,i.L("_event_moving_source")),t.de(a.qg),a.qg=null,t.Global.movingLink&&(t.Global.movingLink.clear(),t.Global.movingLink=null)},this.ji=function(){i.divShadow&&(i.divShadow.innerHTML=""),i.elements.range=[],i.elements.range2=null,i.Bf=null,i.li=null},this.ca={};var N=this.ca;N.Od=function(){delete i.zb.headerHeight},N.da=function(){return i.xssProtection!=="Disabled"},N.Ke=function(){return t.Locale.find(i.locale)},N.Rh=function(){return i.timeFormat!=="Auto"?i.timeFormat:N.Ke().timeFormat},N.ea=function(){if(i.weekStarts==="Auto"){var h=N.Ke();return h?h.weekStarts:0}return i.weekStarts||0},N.zg=function(){var h=navigator.userAgent.toLowerCase();return h.indexOf("mobile")!==-1||h.indexOf("android")!=-1},N.gg=function(h){return i.useEventBoxes==="Always"||i.useEventBoxes!=="Never"&&h<60*i.Pe()*1e3},this.hi=function(h,y){var w=h+"_"+y,j=i.rowlist;if(this.cellProperties||(this.cellProperties={}),this.cellProperties[w])return this.cellProperties[w];if(!this.cellProperties[w]){var C=j[y],_=C.id,k=i.Ne(h),A=k.start,T=k.end,R={};R.start=A,R.end=T,R.resource=_;var P={};P.business=i.isBusiness(R),this.cellProperties[w]=P}return this.cellProperties[w]},this.isBusiness=function(h,y){var w=h.start,j=h.end,C=(j.getTime()-w.getTime())/6e4;if(C<=1440&&!(i.businessWeekends||y||h.start.dayOfWeek()!==0&&h.start.dayOfWeek()!==6))return!1;if(C<720){var _=w.getHours();_+=w.getMinutes()/60,_+=w.getSeconds()/3600,_+=w.getMilliseconds()/36e5;var k=this.businessBeginsHour,A=this.businessEndsHour;if(A===0&&(A=24),k===A)return!1;if(!(k<A))return _<A||_>=k;if(_<k)return!1;if(A>=24)return!0;if(_>=A)return!1}return!0},this.u=function(){this.nav.top.style.visibility==="hidden"&&(this.nav.top.style.visibility="visible")},this.mi=function(h){this.heightSpec="Fixed",this.height=h-(this.Ge()+2),this.ma()},this.setHeight=this.mi,this.ne=function(h){return i.Gg(h)[0]},this.yb=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if(typeof this.id!="string")throw new t.Exception("DayPilot.Scheduler() constructor requires the target element or its ID as a parameter");if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw new t.Exception("DayPilot.Scheduler: The placeholder element not found: '"+d+"'.")}},this.init=function(){if(this.Ma)throw new t.Exception("This instance is already initialized. Use update() to change properties.");if(this.yb(),this.nav.top.dp){if(this.nav.top.dp===i)return i;throw new t.Exception("The target placeholder was already initialized by another DayPilot component instance.")}return this.ni(),this.bh(),this},this.ni=function(){this.Pg(),this.rb(),this.aa(),this.lh(),this.sb();var h=i.De.enabled;i.scrollToDate?i.scrollTo(i.scrollToDate):i.scrollX||i.scrollY?i.setScroll(i.scrollX,i.scrollY):h||i.hf(),i.scrollToResourceId&&(i.scrollToResource(i.scrollToResourceId),i.scrollToResourceId=null);var y=function(){i.scrollY&&i.setScroll(i.scrollX,i.scrollY)};setTimeout(y,200),this.ff(),this.xb(),this.Ma=!0;var w=i.ke;w?i.scrollTo(w):i.hf()},this.wb=null,this.ub=function(h){if(h){var y={resources:{preInit:function(){var C=this.data;C&&(i.resources=C)}},events:{preInit:function(){var C=this.data;C&&(t.isArray(C.list)?i.events.list=C.list:i.events.list=C)},postInit:function(){}},scrollTo:{preInit:function(){},postInit:function(){this.data&&i.je(this.data)}},scrollX:{postInit:function(){this.data&&i.me(this.data)}},scrollY:{postInit:function(){this.data&&i.Fe(this.data)}}};i.wb=y,i.De.scrollToRequested&&(y.scrollTo.data=i.De.scrollToRequested,i.De.scrollToRequested=null),i.De.scrollXRequested&&(y.scrollX.data=i.De.scrollXRequested,i.De.scrollXRequested=null),i.De.scrollYRequested&&(y.scrollY.data=i.De.scrollYRequested,i.De.scrollYRequested=null);for(var w in h)y[w]||(i[w]=h[w]);for(var w in h)if(y[w]){var j=y[w];j.data=h[w],j.preInit&&j.preInit()}}},this.xb=function(){var h=i.wb;for(var y in h){var w=h[y];w.postInit&&w.postInit()}i.wb={}},this.Sa={},this.Sa.Ra=null,this.Sa.Ob=function(h,y,w){var j=i.Sa.Ra;if(typeof j.createVNode=="function"&&typeof j.render=="function"){var C=j.createVNode(h,w);j.render(C,y)}},this.Sa.Wa=function(h,y){var w=i.Sa.Ra;if(typeof w.render=="function"){var j=h;t.isArray(h)&&(j=w.h("div",null,h)),w.render(j,y)}},this.Sa.Ua=function(h){var y=i.Sa.Ra;typeof y.render=="function"&&y.render(null,h)},this.internal={},this.internal.adjustEndIn=i.tf,this.internal.adjustEndNormalize=i.uf,this.internal.xssTextHtml=i.ab,this.internal.touch=i.Jh,this.internal.skipUpdate=i.De.skipUpdate,this.internal.skipped=i.De.skipped,this.internal.loadOptions=i.ub,this.internal.postInit=i.xb,this.internal.enableAngular2=function(){i.De.enabled=!0},this.internal.eventsFromAttr=function(){i.De.Xf=!0},this.internal.resourcesFromAttr=function(){i.De.eg=!0},this.internal.evImmediateRefresh=function(){i.events.xf()},this.internal.enableReact=function(h,y){i.ld.react=h,i.ld.reactDOM=y},this.internal.reactRefs=function(){return t.Util.copyProps(i.ld,{},["react","reactDOM"])},this.internal.enableVue=function(h){i.Sa.Ra=h},this.internal.vueRef=function(){return i.Sa.Ra},this.internal.vueRendering=function(){return i.Sa.Ta},this.ub(u)},new t.Scheduler().v,t.Row=function(d,u){if(!d)throw new t.Exception("Now row object supplied when creating DayPilot.Row");if(!u)throw new t.Exception("No parent control supplied when creating DayPilot.Row");this.oi={};var i=this.oi;i.id=d.id,i.name=d.name,i.data=d.resource,i.tags=d.tags;var m=this;m.isRow=!0,m.menuType="resource",m.name=d.name,m.id=d.id,m.tags=d.tags,m.index=d.index,m.calendar=u,m.data=d.resource,m.pi=d,m.$={},m.$.row=d,m.toJSON=function(g){var x={};return x.start=this.start,x.name=this.name,x.id=this.id,x.index=this.index,x},m.events={},m.events.all=function(){for(var g=[],x=0;x<m.pi.events.length;x++)g.push(m.pi.events[x]);return g},m.events.isEmpty=function(){return m.pi.events.length===0},m.events.forRange=function(g,x){return m.pi.events.forRange(g,x)},m.events.totalDuration=function(){var g=0;return m.events.all().forEach(function(x){g+=x.part.end.getTime()-x.part.start.getTime()}),new t.Duration(g)},m.remove=function(){u.rows.remove(m)},m.addClass=function(g){var x=u.divHeader,v=x.rows[m.index];t.Util.addClass(v,g),m.$.row.cssClass=t.Util.addClassToString(m.$.row.cssClass,g),m.data.cssClass=g},m.removeClass=function(g){var x=u.divHeader,v=x.rows[m.index];t.Util.removeClass(v,g),m.$.row.cssClass=t.Util.removeClassFromString(m.$.row.cssClass,g),m.data.cssClass=t.Util.removeClassFromString(m.data.cssClass,g)}},a.Se=null,a.pg=null,a.Fh=null,a.ig=null,a.mg=null,a.Re=!1,a.ih=!1,a.Th=null,a.qi=null,a.sc=function(d){t.ue(document,"mouseup",a.ge),t.ue(document,"touchmove",a.jh),t.ue(document,"touchend",a.kh),a.ih=!1},a.jh=function(d){if(a.ig){var u=a.ig.event.calendar;u.coords=u.Jh.Lh(d),u.Jh.Oh(),d.preventDefault()}if(a.Se){d.preventDefault();var u=a.pg.calendar;u.coords=u.Jh.Lh(d),u.Jh.Ph()}},a.kh=function(d){a.Zg=!1,a.ge(d)},a.ge=function(d){if(a.ig){var u=function(){var C=a.mg,_=C.calendar;l().style.cursor="",a.ig=null,a.mg=null,t.de(a.lg),a.lg=null,_&&(_.ri=null)};if(setTimeout(function(){a.Re=!1}),!a.lg)return void u();var i=a.mg,m=i.calendar,g=a.lg.start,x=a.lg.end,v=a.ig.dpBorder==="left"?"start":"end";u(),m.K(i,g,x,v)}else if(a.pg){var u=function(){t.Global.movingAreaData=null;var R=a.qg&&a.qg.calendar;a.qg&&(t.de(a.qg),a.qg.calendar=null),l().style.cursor="",a.Se=null,a.pg=null,R&&(R.vf=null)};if(!a.qg)return void u();var i=a.pg,m=a.qg.calendar;if(!m||(a.qg.source=a.Se,!a.qg.row))return void u();var g=a.qg.start,x=a.qg.end,N=a.qg.row.id;a.qg.calendar=null,l().style.cursor="",a.Se=null,a.pg=null,m.M(i,g,x,N,d),t.Global.movingAreaData=null}else if(a.Mh){var h=t.Util.mouseButton(d),y=a.Mh,m=y.calendar,u=function(){};if(m.li=null,d.ctrlKey||d.metaKey,a.Th)return clearTimeout(a.Th),a.Th=null,void u();m.Bf=y,a.Mh=null;var w=function(k){return function(){a.Th=null,m.yf(k),m.timeRangeSelectedHandling!=="Hold"&&m.timeRangeSelectedHandling!=="HoldForever"?o():m.Bf=k}},j=m._h(y);return u(),h.left?(w(j)(),d.cancelBubble=!0,!1):void(a.Th=null)}a.Ih=null,a.hg=null}}}(e),function(){var t=fc(),r=(f2(),F$e()),n=r({componentDidMount:function(){this.control=new e.Scheduler(this.me.ref,this.props),this.control.init();var c=this.props.controlRef;c&&(typeof c=="function"?c(this.control):c.current=this.control)},componentWillUnmount:function(){this.control&&this.control.dispose()},componentDidUpdate:function(c,d,u){this.control&&this.control.update(this.props)},render:function(){this.me||(this.me={});var c=this.me;return t.createElement("div",{ref:function(d){c.ref=d}})}}),a=r({componentDidMount:function(){this.control=new e.Month(this.me.ref,this.props).init();var c=this.props.controlRef;c&&(typeof c=="function"?c(this.control):c.current=this.control)},componentWillUnmount:function(){this.control&&this.control.dispose()},componentDidUpdate:function(c,d,u){this.control&&this.control.update(this.props)},render:function(){this.me||(this.me={});var c=this.me;return t.createElement("div",{ref:function(d){c.ref=d}})}}),o=r({componentDidMount:function(){this.control=new e.Calendar(this.me.ref,this.props),this.control.init();var c=this.props.controlRef;c&&(typeof c=="function"?c(this.control):c.current=this.control)},componentWillUnmount:function(){this.control&&this.control.dispose()},componentDidUpdate:function(c,d,u){this.control&&this.control.update(this.props)},render:function(){this.me||(this.me={});var c=this.me;return t.createElement("div",{ref:function(d){c.ref=d}})}}),l=r({componentDidMount:function(){this.control=new e.Navigator(this.me.ref,this.props).init();var c=this.props.controlRef;c&&(typeof c=="function"?c(this.control):c.current=this.control)},componentWillUnmount:function(){this.control&&this.control.dispose()},componentDidUpdate:function(c,d,u){this.control&&this.control.update(this.props)},render:function(){this.me||(this.me={});var c=this.me;return t.createElement("div",{ref:function(d){c.ref=d}})}});S_.exports={DayPilot:e,DayPilotMonth:a,DayPilotCalendar:o,DayPilotNavigator:l,DayPilotScheduler:n}}(),S_.exports}var Ms=U$e();const yf=[{id:"op1",name:"Food Preparation",description:"Preparing ingredients and cooking food items",color:"#3498db"},{id:"op2",name:"Customer Service",description:"Taking orders and serving customers",color:"#e74c3c"},{id:"op3",name:"Cleaning & Maintenance",description:"Cleaning equipment and maintaining workspace",color:"#2ecc71"},{id:"op4",name:"Inventory Management",description:"Managing stock and supplies",color:"#f39c12"},{id:"op5",name:"Cash Handling",description:"Processing payments and managing cash register",color:"#9b59b6"},{id:"op6",name:"Training",description:"Training new employees or learning new skills",color:"#1abc9c"},{id:"op7",name:"Administrative Tasks",description:"Paperwork, scheduling, and administrative duties",color:"#e67e22"},{id:"op8",name:"Break Time",description:"Scheduled break or meal time",color:"#95a5a6"}],Qc=e=>{const[t,r]=e.split(":").map(Number);return t*60+r},i8=e=>yf.find(t=>t.id===e),$$e=(e,t,r)=>{if(!e||!e.isEnabled||e.segments.length===0)return[{pct:0,color:"#94a3b8"}];if(e.segments.length===1)return[{pct:0,color:i8(e.segments[0].operationId)?.color||"#94a3b8"}];const n=[...e.segments].sort((d,u)=>Qc(d.startTime)-Qc(u.startTime)),a=Qc(t),l=Qc(r)-a;if(l<=0)return[{pct:0,color:"#94a3b8"}];const c=[];return n.forEach((d,u)=>{const i=i8(d.operationId),m=Qc(d.startTime),g=Qc(d.endTime),x=Math.max(0,(m-a)/l*100),v=Math.min(100,(g-a)/l*100),N=i?.color||"#94a3b8";u===0&&x>0&&(c.push({pct:0,color:"#f3f4f6"}),c.push({pct:x,color:"#f3f4f6"})),c.push({pct:x,color:N});const h=n[u+1];if(h){const w=(Qc(h.startTime)-a)/l*100;w>v?(c.push({pct:v,color:N}),c.push({pct:v,color:"#f3f4f6"}),c.push({pct:w,color:"#f3f4f6"})):c.push({pct:v,color:N})}else v<100?(c.push({pct:v,color:N}),c.push({pct:v,color:"#f3f4f6"}),c.push({pct:100,color:"#f3f4f6"})):c.push({pct:100,color:N})}),c},H$e=e=>e.length===1?e[0].color:`linear-gradient(to right, ${e.map(r=>`${r.color} ${r.pct}%`).join(", ")})`,YK=(e,t)=>{switch(e){case"day":return{scale:"Hour",days:1,startDate:t.getDatePart().toString(),timeHeaders:[{groupBy:"Hour",format:"h tt"}],cellWidth:100,businessBeginsHour:8,businessEndsHour:20,showNonBusiness:!1};case"week":return{scale:"Day",days:7,startDate:t.firstDayOfWeek().toString(),timeHeaders:[{groupBy:"Day",format:"M/d/yyyy"}],cellWidth:200,businessBeginsHour:8,businessEndsHour:20,showNonBusiness:!1};default:return YK("week",t)}},z$e=({resources:e,events:t,currentView:r,currentDate:n,onEventMoved:a,onEventResized:o,onTimeRangeSelected:l,onEventClick:c})=>{const d=b.useRef(null),u=YK(r,n),i=b.useCallback(m=>{try{const g=m.data;if(r==="day"&&g?.employeeEventData?.operation_segmentation){const x=new Date(g.start.toString()),v=new Date(g.end.toString()),N=`${x.getHours().toString().padStart(2,"0")}:${x.getMinutes().toString().padStart(2,"0")}`,h=`${v.getHours().toString().padStart(2,"0")}:${v.getMinutes().toString().padStart(2,"0")}`,y=$$e(g.employeeEventData.operation_segmentation,N,h);if(y&&y.length>1){const w=H$e(y);if(w){m.data.cssClass="phased-gradient",m.data.backColor="transparent",m.data.barBackColor="transparent",m.data.areas=[{top:0,left:0,right:0,bottom:0,style:`background: ${w}; border-radius: 3px; z-index: 1;`}];const j=new Date(g.start.toString()),C=new Date(g.end.toString()),_=j.getHours()*60+j.getMinutes(),A=C.getHours()*60+C.getMinutes()-_,R=[...g.employeeEventData.operation_segmentation.segments].sort((P,M)=>{const I=parseInt(P.startTime.split(":")[0])*60+parseInt(P.startTime.split(":")[1]),L=parseInt(M.startTime.split(":")[0])*60+parseInt(M.startTime.split(":")[1]);return I-L}).map(P=>{const M=parseInt(P.startTime.split(":")[0])*60+parseInt(P.startTime.split(":")[1]),I=parseInt(P.endTime.split(":")[0])*60+parseInt(P.endTime.split(":")[1]),L=(M-_)/A*100,U=(I-_)/A*100-L,H=yf.find(W=>W.id===P.operationId)?.name||"Unknown";return`<div style="position: absolute; left: ${L}%; width: ${U}%; top: 0; height: 100%; display: flex; align-items: center; justify-content: center; font-size: 10px; font-weight: 600; color: #333; text-shadow: 0 0 2px rgba(255, 255, 255, 0.9); overflow: hidden; white-space: nowrap; text-overflow: ellipsis; z-index: 15;">${H}</div>`}).join("");m.data.html=`
              <div style="position: relative; height: 100%; width: 100%;">
                ${R}
              </div>
            `}}else y&&y.length===1?m.data.barColor=y[0].color:m.data.html=`
            <div style="position: relative; height: 100%; width: 100%; display: flex; align-items: center; padding: 2px 8px;">
              <span style="color: #333; font-weight: 500; text-shadow: 0 0 2px rgba(255, 255, 255, 0.8); overflow: hidden; white-space: nowrap; text-overflow: ellipsis;">
                ${m.data.text||""}
              </span>
            </div>
          `}else m.data.html=`
          <div style="position: relative; height: 100%; width: 100%; display: flex; align-items: center; padding: 2px 8px;">
            <span style="color: #333; font-weight: 500; text-shadow: 0 0 2px rgba(255, 255, 255, 0.8); overflow: hidden; white-space: nowrap; text-overflow: ellipsis;">
              ${m.data.text||""}
            </span>
          </div>
        `}catch(g){console.warn("Error in onBeforeEventRender:",g)}},[r]);return s.jsx("div",{className:"flex-1 bg-background border rounded-lg overflow-hidden",children:s.jsx(Ms.DayPilotScheduler,{ref:d,resources:e,events:t,scale:u.scale,days:u.days,startDate:u.startDate,timeHeaders:u.timeHeaders,cellWidth:u.cellWidth,businessBeginsHour:u.businessBeginsHour,businessEndsHour:u.businessEndsHour,height:600,rowHeaderWidth:200,eventHeight:30,headerHeight:30,eventMoveHandling:"Update",eventResizeHandling:"Update",timeRangeSelectedHandling:"Enabled",eventClickHandling:"Enabled",theme:"scheduler_default",onBeforeEventRender:i,onEventMoved:a,onEventResized:o,onTimeRangeSelected:l,onEventClick:c})})},ZK=vg,q$e=yg,KK=b.forwardRef(({className:e,...t},r)=>s.jsx(yc,{className:ee("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));KK.displayName=yc.displayName;const V$e=Vd("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out inset-y-0 right-0 h-full border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right",{variants:{size:{default:"w-full md:w-1/2 lg:w-1/3",full:"w-full",half:"w-1/2",third:"w-1/3"}},defaultVariants:{size:"default"}}),BT=b.forwardRef(({size:e="default",className:t,children:r,title:n,...a},o)=>s.jsxs(q$e,{children:[s.jsx(KK,{}),s.jsx(bc,{ref:o,className:ee(V$e({size:e}),t),...a,children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n&&s.jsx(wc,{className:"text-lg font-semibold text-foreground",children:n}),s.jsxs(bg,{className:"rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary ml-auto",children:[s.jsx(qd,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]}),s.jsx("div",{className:"flex-1 overflow-auto p-4",children:r})]})})]}));BT.displayName=bc.displayName;const FT=({className:e,...t})=>s.jsx("div",{className:ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 p-4 border-t",e),...t});FT.displayName="DrawerFooter";const W$e=b.forwardRef(({className:e,...t},r)=>s.jsx(wc,{ref:r,className:ee("text-lg font-semibold text-foreground",e),...t}));W$e.displayName=wc.displayName;const G$e=b.forwardRef(({className:e,...t},r)=>s.jsx(Wd,{ref:r,className:ee("text-sm text-muted-foreground",e),...t}));G$e.displayName=Wd.displayName;const XK=({segmentation:e,onSegmentationChange:t,eventStartTime:r,eventEndTime:n})=>{const[a,o]=b.useState([]),l=b.useCallback(()=>`segment_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,[]),c=b.useCallback(j=>{const[C,_]=j.split(":").map(Number);return C*60+_},[]),d=b.useCallback(j=>{const C=Math.floor(j/60),_=j%60;return`${C.toString().padStart(2,"0")}:${_.toString().padStart(2,"0")}`},[]),u=b.useCallback(j=>{const C=[];if(j.length===0)return C;const _=[...j].sort((T,R)=>c(T.startTime)-c(R.startTime)),k=c(r),A=c(n);c(_[0].startTime)!==k&&C.push("First segment must start at event start time"),c(_[_.length-1].endTime)!==A&&C.push("Last segment must end at event end time");for(let T=0;T<_.length;T++){const R=_[T],P=c(R.startTime),M=c(R.endTime);if(P>=M&&C.push(`Segment ${T+1}: Start time must be before end time`),T<_.length-1){const I=_[T+1],L=c(I.startTime);M<L?C.push(`Gap between segment ${T+1} and ${T+2}`):M>L&&C.push(`Overlap between segment ${T+1} and ${T+2}`)}}return C},[r,n,c]),i=b.useCallback(j=>{const C=u(j);o(C)},[u]),m=b.useCallback(j=>{const C={...e,isEnabled:j,segments:j?e.segments:[]};t(C),j?i(C.segments):o([])},[e,t,i]),g=b.useCallback(()=>{const j=e.segments[e.segments.length-1],C=j?j.endTime:r,_={id:l(),startTime:C,endTime:n,operationId:yf[0].id},k=[...e.segments,_],A={...e,segments:k};t(A),i(k)},[e,r,n,l,t,i]),x=b.useCallback(j=>{const C=e.segments.filter(k=>k.id!==j),_={...e,segments:C};t(_),i(C)},[e,t,i]),v=b.useCallback((j,C,_)=>{const k=e.segments.map(T=>T.id===j?{...T,[C]:_}:T),A={...e,segments:k};t(A),i(k)},[e,t,i]),N=b.useCallback(j=>yf.find(C=>C.id===j),[]),h=b.useCallback(()=>{if(e.segments.length===0){const j={id:l(),startTime:r,endTime:n,operationId:yf[0].id},C={...e,segments:[j]};t(C),i([j])}},[e,r,n,l,t,i]),y=b.useMemo(()=>e.segments.reduce((j,C)=>{const _=c(C.endTime)-c(C.startTime);return j+_},0),[e.segments,c]),w=b.useMemo(()=>c(n)-c(r),[r,n,c]);return s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:"Operation Segmentation"}),s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Divide the event into time segments and assign operations to each segment"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Enable"}),s.jsx(Hn,{checked:e.isEnabled,onCheckedChange:m})]})]}),e.isEnabled&&s.jsxs(s.Fragment,{children:[s.jsxs(be,{children:[s.jsx(Te,{className:"pb-2 sm:pb-3",children:s.jsxs(Ue,{className:"text-sm flex items-center gap-2",children:[s.jsx(zi,{className:"h-4 w-4"}),"Event Time Frame"]})}),s.jsx(Ne,{className:"pt-0",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 text-xs sm:text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"font-medium",children:"Start:"}),s.jsx("span",{className:"font-mono",children:r})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"font-medium",children:"End:"}),s.jsx("span",{className:"font-mono",children:n})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"font-medium",children:"Duration:"}),s.jsx("span",{className:"font-mono",children:d(w)})]})]})})]}),a.length>0&&s.jsxs(be,{className:"border-destructive",children:[s.jsx(Te,{className:"pb-2 sm:pb-3",children:s.jsxs(Ue,{className:"text-sm flex items-center gap-2 text-destructive",children:[s.jsx(Cb,{className:"h-4 w-4"}),"Validation Errors"]})}),s.jsx(Ne,{className:"pt-0",children:s.jsx("ul",{className:"list-disc list-inside space-y-1 text-xs sm:text-sm text-destructive",children:a.map((j,C)=>s.jsx("li",{children:j},C))})})]}),s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsx("h4",{className:"text-sm sm:text-md font-medium",children:"Time Segments"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.segments.length===0&&s.jsx(X,{type:"button",variant:"outline",size:"sm",onClick:h,className:"text-xs sm:text-sm",children:"Auto Fill"}),s.jsxs(X,{type:"button",variant:"outline",size:"sm",onClick:g,className:"text-xs sm:text-sm",children:[s.jsx(or,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),"Add Segment"]})]})]}),e.segments.length===0?s.jsx(be,{className:"border-dashed",children:s.jsxs(Ne,{className:"flex flex-col items-center justify-center py-6 sm:py-8 text-center",children:[s.jsx(zi,{className:"h-6 w-6 sm:h-8 sm:w-8 text-muted-foreground mb-2"}),s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground max-w-xs",children:"No segments created yet. Add segments to divide the event time."})]})}):s.jsx("div",{className:"space-y-2 sm:space-y-3",children:e.segments.map((j,C)=>{const _=N(j.operationId);return s.jsx(be,{children:s.jsx(Ne,{className:"p-3 sm:p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Ve,{variant:"outline",className:"text-xs",children:["Segment ",C+1]}),s.jsx(X,{type:"button",variant:"ghost",size:"sm",onClick:()=>x(j.id),className:"text-destructive hover:text-destructive h-8 w-8 p-0",children:s.jsx(Dn,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(Ie,{className:"text-xs",children:"Start Time"}),s.jsx(We,{type:"time",value:j.startTime,onChange:k=>v(j.id,"startTime",k.target.value),className:"h-8 text-xs sm:text-sm"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(Ie,{className:"text-xs",children:"End Time"}),s.jsx(We,{type:"time",value:j.endTime,onChange:k=>v(j.id,"endTime",k.target.value),className:"h-8 text-xs sm:text-sm"})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(Ie,{className:"text-xs",children:"Operation"}),s.jsxs(Lt,{value:j.operationId,onValueChange:k=>v(j.id,"operationId",k),children:[s.jsx(Rt,{className:"h-8 text-xs sm:text-sm",children:s.jsx(Bt,{})}),s.jsx(Pt,{children:yf.map(k=>s.jsx(ot,{value:k.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[k.color&&s.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 rounded-full flex-shrink-0",style:{backgroundColor:k.color}}),s.jsx("span",{className:"text-xs sm:text-sm truncate",children:k.name})]})},k.id))})]})]}),_&&s.jsx("div",{className:"text-xs text-muted-foreground bg-muted/50 p-2 rounded-md",children:_.description})]})})},j.id)})}),e.segments.length>0&&s.jsxs(be,{children:[s.jsx(Te,{className:"pb-2 sm:pb-3",children:s.jsxs(Ue,{className:"text-sm flex items-center gap-2",children:[s.jsx(zi,{className:"h-4 w-4"}),"Event Timeline"]})}),s.jsx(Ne,{className:"pt-0",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"h-8 rounded-lg border-2 border-gray-200 overflow-hidden",style:{background:(()=>{if(e.segments.length===0)return"#f3f4f6";const j=[...e.segments].sort((T,R)=>c(T.startTime)-c(R.startTime)),C=c(r),k=c(n)-C;if(k<=0)return"#f3f4f6";const A=[];return j.forEach((T,R)=>{const P=N(T.operationId),M=c(T.startTime),I=c(T.endTime),L=(M-C)/k*100,B=(I-C)/k*100,U=P?.color||"#94a3b8";R===0&&L>0&&(A.push("#f3f4f6 0%"),A.push(`#f3f4f6 ${L}%`)),A.push(`${U} ${L}%`),A.push(`${U} ${B}%`);const F=j[R+1];if(F){const W=(c(F.startTime)-C)/k*100;W>B&&(A.push(`#f3f4f6 ${B}%`),A.push(`#f3f4f6 ${W}%`))}else B<100&&(A.push(`#f3f4f6 ${B}%`),A.push("#f3f4f6 100%"))}),`linear-gradient(to right, ${A.join(", ")})`})()}}),s.jsxs("div",{className:"flex justify-between mt-1 text-xs text-muted-foreground",children:[s.jsx("span",{className:"font-mono",children:r}),s.jsx("span",{className:"font-mono",children:n})]})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:e.segments.map(j=>{const C=N(j.operationId);return C?s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:C.color}}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[C.name," (",j.startTime,"-",j.endTime,")"]})]},j.id):null})})]})})]}),e.segments.length>0&&s.jsx(be,{children:s.jsx(Ne,{className:"p-3 sm:p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-xs sm:text-sm",children:[s.jsx("span",{className:"font-medium",children:"Coverage Summary:"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:a.length===0?"text-green-600 font-mono":"text-destructive font-mono",children:[d(y)," / ",d(w)]}),a.length===0&&s.jsx(Ve,{variant:"secondary",className:"text-xs bg-green-100 text-green-800",children:"Complete"})]})]})})})]})]})]})},Y$e=({isOpen:e,onClose:t,newEventData:r,eventTitle:n,onEventTitleChange:a,employeeEventForm:o,onEmployeeEventFormChange:l,onCreateEvent:c,employees:d,statuses:u,businessBeginsHour:i=8,businessEndsHour:m=20})=>{const[g,x]=b.useState(!1),[v,N]=b.useState("details"),[h,y]=b.useState({isEnabled:!1,segments:[]}),w=(A,T)=>{l(A,T)},j=A=>{y(A),w("operation_segmentation",A)},C=()=>{x(!1),N("details"),y({isEnabled:!1,segments:[]}),t()},_=()=>{const A=i.toString().padStart(2,"0")+":00",T=m.toString().padStart(2,"0")+":00";w("scheduled_start_time",A),w("scheduled_end_time",T),x(!0)},k=()=>{if(!n.trim()||!r)return!1;if(o.scheduled_start_time&&o.scheduled_end_time){const A=new Date(`2000-01-01T${o.scheduled_start_time}`),T=new Date(`2000-01-01T${o.scheduled_end_time}`);if(A>=T)return!1}if(o.actual_start_time&&o.actual_end_time){const A=new Date(`2000-01-01T${o.actual_start_time}`),T=new Date(`2000-01-01T${o.actual_end_time}`);if(A>=T)return!1}return!0};return s.jsx(ZK,{open:e,onOpenChange:C,children:s.jsxs(BT,{title:"Create New Employee Event",children:[s.jsxs("div",{className:"max-h-[70vh] overflow-y-auto px-6 py-4",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx(Ie,{htmlFor:"eventTitle",className:"text-sm font-medium",children:"Event Title"}),s.jsx(We,{id:"eventTitle",type:"text",value:n,onChange:A=>a(A.target.value),placeholder:"Enter event title...",className:"mt-1",autoFocus:!0})]}),r&&s.jsxs("div",{className:"mb-6",children:[s.jsx(Ie,{className:"text-sm font-medium",children:"Employee Information"}),s.jsxs("div",{className:"mt-1 p-3 bg-muted rounded-md",children:[s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:"Employee:"})," ",d.find(A=>A.id===r.resource)?.name||r.resource]}),s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:"Scheduled Start:"})," ",r.start.toString()]}),s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:"Scheduled End:"})," ",r.end.toString()]})]})]}),s.jsxs(Qd,{value:v,onValueChange:N,className:"w-full",children:[s.jsxs(_c,{className:"grid w-full grid-cols-2",children:[s.jsx(fs,{value:"details",children:"Event Details"}),s.jsx(fs,{value:"operations",children:"Operation Segmentation"})]}),s.jsxs(ms,{value:"details",className:"space-y-6 mt-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Scheduled Times"}),s.jsx(X,{type:"button",variant:"outline",size:"sm",onClick:_,className:"text-xs",children:"All Work Day"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"scheduledStartTime",className:"text-sm",children:"Scheduled Start Time"}),s.jsx(We,{id:"scheduledStartTime",type:"time",value:o.scheduled_start_time||"",onChange:A=>{w("scheduled_start_time",A.target.value),x(!1)},disabled:g,className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"scheduledEndTime",className:"text-sm",children:"Scheduled End Time"}),s.jsx(We,{id:"scheduledEndTime",type:"time",value:o.scheduled_end_time||"",onChange:A=>{w("scheduled_end_time",A.target.value),x(!1)},disabled:g,className:"mt-1"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"Actual Times"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"actualStartTime",className:"text-sm",children:"Actual Start Time"}),s.jsx(We,{id:"actualStartTime",type:"time",value:o.actual_start_time||"",onChange:A=>w("actual_start_time",A.target.value||null),className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"actualEndTime",className:"text-sm",children:"Actual End Time"}),s.jsx(We,{id:"actualEndTime",type:"time",value:o.actual_end_time||"",onChange:A=>w("actual_end_time",A.target.value||null),className:"mt-1"})]})]})]}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"statusSelect",className:"text-sm font-medium",children:"Status"}),s.jsxs(Lt,{value:o.status_id.toString(),onValueChange:A=>w("status_id",parseInt(A)),children:[s.jsx(Rt,{className:"mt-1",children:s.jsx(Bt,{placeholder:"Select status"})}),s.jsx(Pt,{children:u.map(A=>s.jsx(ot,{value:A.id,children:A.name},A.id))})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Options"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ie,{htmlFor:"vciSwitch",className:"text-sm",children:"VCI (Virtual Id Check)"}),s.jsx(Hn,{id:"vciSwitch",checked:o.vci,onCheckedChange:A=>w("vci",A)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ie,{htmlFor:"agreeExceptionSwitch",className:"text-sm",children:"Agree on Exception"}),s.jsx(Hn,{id:"agreeExceptionSwitch",checked:o.agree_on_exception,onCheckedChange:A=>w("agree_on_exception",A)})]})]}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"exceptionNotes",className:"text-sm font-medium",children:"Exception Notes"}),s.jsx(co,{id:"exceptionNotes",value:o.exception_notes||"",onChange:A=>w("exception_notes",A.target.value||null),placeholder:"Enter any exception notes...",className:"mt-1 min-h-[80px]"})]})]}),s.jsx(ms,{value:"operations",className:"mt-6",children:s.jsx(XK,{segmentation:h,onSegmentationChange:j,eventStartTime:o.scheduled_start_time||"08:00",eventEndTime:o.scheduled_end_time||"17:00"})})]})]}),s.jsx(FT,{children:s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(X,{variant:"outline",onClick:C,children:"Cancel"}),s.jsx(X,{onClick:c,disabled:!k(),children:"Create Event"})]})})]})})},Z$e=({isOpen:e,onClose:t,editingEvent:r,editEventTitle:n,onEditEventTitleChange:a,editEmployeeEventForm:o,onEditEmployeeEventFormChange:l,onEditEvent:c,onDeleteEvent:d,employees:u,statuses:i,businessBeginsHour:m=8,businessEndsHour:g=20})=>{const[x,v]=b.useState(!1),[N,h]=b.useState("details"),[y,w]=b.useState({isEnabled:!1,segments:[]});b.useEffect(()=>{o?.operation_segmentation?w(o.operation_segmentation):w({isEnabled:!1,segments:[]})},[o?.operation_segmentation]);const j=(R,P)=>{l(R,P)},C=R=>{w(R),j("operation_segmentation",R)},_=()=>{v(!1),h("details"),t()},k=()=>{const R=m.toString().padStart(2,"0")+":00",P=g.toString().padStart(2,"0")+":00";j("scheduled_start_time",R),j("scheduled_end_time",P),v(!0)},A=()=>{if(!n.trim()||!r)return!1;if(o.scheduled_start_time&&o.scheduled_end_time){const R=new Date(`2000-01-01T${o.scheduled_start_time}`),P=new Date(`2000-01-01T${o.scheduled_end_time}`);if(R>=P)return!1}if(o.actual_start_time&&o.actual_end_time){const R=new Date(`2000-01-01T${o.actual_start_time}`),P=new Date(`2000-01-01T${o.actual_end_time}`);if(R>=P)return!1}return!0},T=()=>{window.confirm("Are you sure you want to delete this event?")&&d()};return r?s.jsx(ZK,{open:e,onOpenChange:_,children:s.jsxs(BT,{title:"Edit Employee Event",children:[s.jsxs("div",{className:"max-h-[70vh] overflow-y-auto px-6 py-4",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx(Ie,{htmlFor:"editEventTitle",className:"text-sm font-medium",children:"Event Title"}),s.jsx(We,{id:"editEventTitle",type:"text",value:n,onChange:R=>a(R.target.value),placeholder:"Enter event title...",className:"mt-1",autoFocus:!0})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx(Ie,{className:"text-sm font-medium",children:"Employee Information"}),s.jsxs("div",{className:"mt-1 p-3 bg-muted rounded-md",children:[s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:"Employee:"})," ",u.find(R=>R.id===r.resource)?.name||r.resource]}),s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:"Scheduled Start:"})," ",r.start.toString()]}),s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:"Scheduled End:"})," ",r.end.toString()]}),r.id&&s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:"Event ID:"})," ",r.id]})]})]}),s.jsxs(Qd,{value:N,onValueChange:h,className:"w-full",children:[s.jsxs(_c,{className:"grid w-full grid-cols-2",children:[s.jsx(fs,{value:"details",children:"Event Details"}),s.jsx(fs,{value:"operations",children:"Operation Segmentation"})]}),s.jsxs(ms,{value:"details",className:"space-y-6 mt-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Scheduled Times"}),s.jsx(X,{type:"button",variant:"outline",size:"sm",onClick:k,className:"text-xs",children:"All Work Day"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"editScheduledStartTime",className:"text-sm",children:"Scheduled Start Time"}),s.jsx(We,{id:"editScheduledStartTime",type:"time",value:o.scheduled_start_time||"",onChange:R=>{j("scheduled_start_time",R.target.value),v(!1)},disabled:x,className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"editScheduledEndTime",className:"text-sm",children:"Scheduled End Time"}),s.jsx(We,{id:"editScheduledEndTime",type:"time",value:o.scheduled_end_time||"",onChange:R=>{j("scheduled_end_time",R.target.value),v(!1)},disabled:x,className:"mt-1"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"Actual Times"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"editActualStartTime",className:"text-sm",children:"Actual Start Time"}),s.jsx(We,{id:"editActualStartTime",type:"time",value:o.actual_start_time||"",onChange:R=>j("actual_start_time",R.target.value||null),className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"editActualEndTime",className:"text-sm",children:"Actual End Time"}),s.jsx(We,{id:"editActualEndTime",type:"time",value:o.actual_end_time||"",onChange:R=>j("actual_end_time",R.target.value||null),className:"mt-1"})]})]})]}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"editStatusSelect",className:"text-sm font-medium",children:"Status"}),s.jsxs(Lt,{value:o.status_id.toString(),onValueChange:R=>j("status_id",parseInt(R)),children:[s.jsx(Rt,{className:"mt-1",children:s.jsx(Bt,{placeholder:"Select status"})}),s.jsx(Pt,{children:i.map(R=>s.jsx(ot,{value:R.id,children:R.name},R.id))})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Options"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ie,{htmlFor:"editVciSwitch",className:"text-sm",children:"VCI (Virtual Id Check)"}),s.jsx(Hn,{id:"editVciSwitch",checked:o.vci,onCheckedChange:R=>j("vci",R)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ie,{htmlFor:"editAgreeExceptionSwitch",className:"text-sm",children:"Agree on Exception"}),s.jsx(Hn,{id:"editAgreeExceptionSwitch",checked:o.agree_on_exception,onCheckedChange:R=>j("agree_on_exception",R)})]})]}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"editExceptionNotes",className:"text-sm font-medium",children:"Exception Notes"}),s.jsx(co,{id:"editExceptionNotes",value:o.exception_notes||"",onChange:R=>j("exception_notes",R.target.value||null),placeholder:"Enter any exception notes...",className:"mt-1 min-h-[80px]"})]})]}),s.jsx(ms,{value:"operations",className:"space-y-6 mt-6",children:s.jsx(XK,{segmentation:y,onSegmentationChange:C,eventStartTime:o.scheduled_start_time||"",eventEndTime:o.scheduled_end_time||""})})]})]}),s.jsx(FT,{children:s.jsxs("div",{className:"flex gap-2 justify-between",children:[s.jsx(X,{variant:"destructive",onClick:T,children:"Delete Event"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(X,{variant:"outline",onClick:_,children:"Cancel"}),s.jsx(X,{onClick:c,disabled:!A(),children:"Update Event"})]})]})})]})}):null},K$e=()=>s.jsx("h2",{className:"mb-5 text-2xl font-bold text-foreground",children:"React Scheduler with Multiple Views (DayPilot)"}),X$e=({currentView:e,dateRangeText:t,onPrevious:r,onNext:n,onToday:a,onViewChange:o})=>s.jsxs("div",{className:"mb-5 flex items-center justify-between rounded-lg bg-muted p-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx(X,{onClick:r,variant:"outline",size:"sm",className:"text-sm",children:"← Previous"}),s.jsx(X,{onClick:a,variant:"default",size:"sm",className:"font-bold",children:"Today"}),s.jsx(X,{onClick:n,variant:"outline",size:"sm",className:"text-sm",children:"Next →"}),s.jsx("div",{className:"ml-5 text-base font-bold text-foreground",children:t})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(X,{onClick:()=>o("day"),variant:e==="day"?"default":"outline",size:"sm",className:"px-4",children:"Day"}),s.jsx(X,{onClick:()=>o("week"),variant:e==="week"?"default":"outline",size:"sm",className:"px-4",children:"Week"})]})]}),Q$e=({selectedStoreId:e,stores:t,onStoreChange:r,getStoreName:n})=>s.jsxs("div",{className:"mb-4 flex items-center gap-4 rounded-lg bg-card border border-border p-4 shadow-sm",children:[s.jsx(Ie,{htmlFor:"storeSelect",className:"text-sm font-medium text-card-foreground whitespace-nowrap",children:"Select Store:"}),s.jsxs(Lt,{value:e||"all",onValueChange:r,children:[s.jsx(Rt,{className:"w-[200px]",children:s.jsx(Bt,{placeholder:"All Stores"})}),s.jsxs(Pt,{children:[s.jsx(ot,{value:"all",children:"All Stores"}),t.map(a=>s.jsx(ot,{value:a.id,children:a.name},a.id))]})]}),e&&s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Showing employees from: ",s.jsx("span",{className:"font-medium text-primary",children:n(e)})]})]}),J$e=({currentView:e})=>{const t=()=>{switch(e){case"day":case"week":return" • Business hours: 8 AM - 8 PM";default:return""}};return s.jsxs("div",{className:"mb-4 rounded bg-primary-50 p-2.5 text-sm text-primary-700",children:[s.jsx("strong",{children:"Current View:"})," ",e.charAt(0).toUpperCase()+e.slice(1),t()]})},l8=[{id:"1",name:"Scheduled"},{id:"2",name:"In Progress"},{id:"3",name:"Completed"},{id:"4",name:"Cancelled"},{id:"5",name:"No Show"}],QK=[{id:"store1",name:"Downtown Store"},{id:"store2",name:"Mall Location"},{id:"store3",name:"Airport Branch"},{id:"store4",name:"Suburban Center"}],c8=[{id:"emp1",name:"Alice Johnson",storeId:"store1",color:"#3498db"},{id:"emp2",name:"Bob Smith",storeId:"store1",color:"#e74c3c"},{id:"emp3",name:"Carol Davis",storeId:"store2",color:"#2ecc71"},{id:"emp4",name:"David Wilson",storeId:"store2",color:"#f39c12"},{id:"emp5",name:"Eva Brown",storeId:"store3",color:"#9b59b6"},{id:"emp6",name:"Frank Miller",storeId:"store3",color:"#1abc9c"},{id:"emp7",name:"Grace Lee",storeId:"store4",color:"#e67e22"},{id:"emp8",name:"Henry Taylor",storeId:"store4",color:"#34495e"}],eHe=[{id:"event1",text:"Morning Shift",start:Ms.DayPilot.Date.today().addHours(9),end:Ms.DayPilot.Date.today().addHours(17),resource:"emp1",barColor:"#3498db",description:"Regular morning shift",status:"Confirmed",priority:"High"},{id:"event2",text:"Training Session",start:Ms.DayPilot.Date.today().addDays(1).addHours(10),end:Ms.DayPilot.Date.today().addDays(1).addHours(12),resource:"emp2",barColor:"#e74c3c",description:"New employee training",status:"Scheduled",priority:"Medium"},{id:"event3",text:"Customer Meeting",start:Ms.DayPilot.Date.today().addDays(2).addHours(14),end:Ms.DayPilot.Date.today().addDays(2).addHours(16),resource:"emp3",barColor:"#2ecc71",description:"Important client presentation",status:"Confirmed",priority:"High"}],tHe=e=>{const t=b.useCallback(()=>!e||e==="all"?c8:c8.filter(i=>i.storeId===e),[e]),r=(i,m)=>{switch(i){case"day":return m.toString("MMMM d, yyyy");case"week":const g=m.firstDayOfWeek(),x=g.addDays(6);return`${g.toString("MMM d")} - ${x.toString("MMM d, yyyy")}`;default:return m.toString()}},n=()=>({emp_info_id:0,scheduled_start_time:"",scheduled_end_time:"",event_start_time:"",event_end_time:"",actual_start_time:null,actual_end_time:null,vci:!1,status_id:1,agree_on_exception:!1,exception_notes:null}),a=i=>QK.find(m=>m.id===i)?.name||"",o=b.useCallback(i=>{const m=i.getHours().toString().padStart(2,"0"),g=i.getMinutes().toString().padStart(2,"0"),x=i.getSeconds().toString().padStart(2,"0");return`${m}:${g}:${x}`},[]),l=b.useCallback((i,m)=>{const[g,x,v=0]=i.split(":").map(Number);return(m||Ms.DayPilot.Date.today()).getDatePart().addHours(g).addMinutes(x).addSeconds(v)},[]),c=b.useCallback((i,m,g)=>{const x=o(m),v=o(g);return{...i||n(),scheduled_start_time:x,scheduled_end_time:v,event_start_time:x,event_end_time:v}},[o,n]),d=b.useCallback((i,m)=>{const g=new Date(`2000-01-01T${i}`);return(new Date(`2000-01-01T${m}`).getTime()-g.getTime())/(1e3*60*60)},[]),u=b.useCallback(i=>i===1?"1 hour":i<1?`${Math.round(i*60)} minutes`:`${i.toFixed(1)} hours`,[]);return{getFilteredEmployees:t,getDateRangeText:r,getInitialEmployeeEventForm:n,getStoreName:a,convertDayPilotDateToTimeString:o,convertTimeStringToDayPilotDate:l,updateEmployeeEventTimes:c,calculateDurationHours:d,formatDuration:u}},rHe=({currentView:e,currentDate:t,events:r,setCurrentView:n,setCurrentDate:a,setSelectedStoreId:o,setEvents:l,setNewEventData:c,setIsCreateDrawerOpen:d,setSelectedEvent:u,setIsEditDrawerOpen:i,setEventTitle:m,setEditEventTitle:g,resetCreateForm:x,resetEditForm:v,updateEmployeeEventTimes:N,convertDayPilotDateToTimeString:h})=>({handleViewChange:P=>{n(P)},handlePrevious:()=>{switch(e){case"day":a(t.addDays(-1));break;case"week":a(t.addDays(-7));break}},handleNext:()=>{switch(e){case"day":a(t.addDays(1));break;case"week":a(t.addDays(7));break}},handleToday:()=>{a(Ms.DayPilot.Date.today())},handleStoreChange:P=>{o(P==="all"?null:P)},handleTimeRangeSelected:P=>{const M={start:P.start,end:P.end,resource:String(P.resource)};c(M),m(""),x(),d(!0)},handleEventClick:P=>{const M=P.e.data;u(M),g(M.text||""),i(!0),v()},handleEventMove:P=>{const M=P.e.id(),I=P.newStart,L=P.newEnd,B=String(P.newResource),U=r.map(F=>{if(F.id===M){const H={...F,start:I,end:L,resource:B};return F.employeeEventData&&(H.employeeEventData=N(F.employeeEventData,I,L)),console.log("Event moved:",{eventId:M,newStartTime:h(I),newEndTime:h(L),employeeEventData:H.employeeEventData}),H}return F});l(U)},handleEventResize:P=>{const M=P.e.id(),I=P.newStart,L=P.newEnd,B=r.map(U=>{if(U.id===M){const F={...U,start:I,end:L};return U.employeeEventData&&(F.employeeEventData=N(U.employeeEventData,I,L)),console.log("Event resized:",{eventId:M,newStartTime:h(I),newEndTime:h(L),employeeEventData:F.employeeEventData}),F}return U});l(B)}}),nHe=({events:e,setEvents:t,setIsCreateDrawerOpen:r,setNewEventData:n,setEventTitle:a,resetCreateForm:o})=>{const l=()=>{r(!1),n(null),a(""),o()};return{handleCreateDrawerClose:l,handleEmployeeEventFormChange:(u,i,m)=>{m(g=>({...g,[u]:i}))},handleCreateEvent:(u,i,m)=>{if(!u||!i.trim())return;let g=u.start,x=u.end;if(m.scheduled_start_time&&m.scheduled_end_time){const h=new Date(u.start.toString()).toISOString().split("T")[0],y=C=>C.split(":").length===2?`${C}:00`:C,w=y(m.scheduled_start_time),j=y(m.scheduled_end_time);g=new Ms.DayPilot.Date(`${h}T${w}`),x=new Ms.DayPilot.Date(`${h}T${j}`)}const v={...u,id:`event_${Date.now()}`,text:i.trim(),start:g,end:x,employeeEventData:m};t([...e,v]),console.log("Event created:",v),console.log("Employee event form data:",m),l()}}},sHe=({events:e,setEvents:t,setIsEditDrawerOpen:r,setSelectedEvent:n,setEditEventTitle:a,resetEditForm:o})=>{const l=()=>{r(!1),n(null),a(""),o()};return{handleEditDrawerClose:l,handleEditEmployeeEventFormChange:(i,m,g)=>{g(x=>({...x,[i]:m}))},handleUpdateEvent:(i,m,g)=>{if(!i||!m.trim())return;let x=i.start,v=i.end;if(g.scheduled_start_time&&g.scheduled_end_time){const y=new Date(i.start.toString()).toISOString().split("T")[0],w=_=>_.split(":").length===2?`${_}:00`:_,j=w(g.scheduled_start_time),C=w(g.scheduled_end_time);x=new Ms.DayPilot.Date(`${y}T${j}`),v=new Ms.DayPilot.Date(`${y}T${C}`)}const N=e.map(h=>h.id===i.id?{...h,text:m.trim(),start:x,end:v,employeeEventData:g}:h);t(N),console.log("Event updated:",i),console.log("Employee event form data:",g),l()},handleDeleteEvent:i=>{if(!i)return;const m=e.filter(g=>g.id!==i.id);t(m),console.log("Event deleted:",i.id),l()}}},aHe=()=>{const[e,t]=b.useState([]),[r,n]=b.useState([]),[a,o]=b.useState("week"),[l,c]=b.useState(Ms.DayPilot.Date.today()),[d,u]=b.useState(null),[i,m]=b.useState(!1),[g,x]=b.useState(null),[v,N]=b.useState(""),[h,y]=b.useState({emp_info_id:0,scheduled_start_time:"",scheduled_end_time:"",event_start_time:"",event_end_time:"",actual_start_time:null,actual_end_time:null,vci:!1,status_id:1,agree_on_exception:!1,exception_notes:null}),[w,j]=b.useState(!1),[C,_]=b.useState(null),[k,A]=b.useState(""),[T,R]=b.useState({emp_info_id:0,scheduled_start_time:"",scheduled_end_time:"",event_start_time:"",event_end_time:"",actual_start_time:null,actual_end_time:null,vci:!1,status_id:1,agree_on_exception:!1,exception_notes:null}),{getFilteredEmployees:P,getDateRangeText:M,getInitialEmployeeEventForm:I,getStoreName:L,updateEmployeeEventTimes:B,convertDayPilotDateToTimeString:U}=tHe(d),F=(xe,ne)=>{switch(xe){case"day":return{scale:"Hour",days:1,startDate:ne.getDatePart().toString(),timeHeaders:[{groupBy:"Hour",format:"h tt"}],cellWidth:100,businessBeginsHour:8,businessEndsHour:20,showNonBusiness:!1};case"week":return{scale:"Day",days:7,startDate:ne.firstDayOfWeek().toString(),timeHeaders:[{groupBy:"Day",format:"M/d/yyyy"}],cellWidth:200,businessBeginsHour:8,businessEndsHour:20,showNonBusiness:!1};default:return F("week",ne)}},H=F(a,l),W=()=>{y(I())},J=()=>{R(I())},q=rHe({currentView:a,currentDate:l,events:r,setCurrentView:o,setCurrentDate:c,setSelectedStoreId:u,setEvents:n,setNewEventData:x,setIsCreateDrawerOpen:m,setSelectedEvent:_,setIsEditDrawerOpen:j,setEventTitle:N,setEditEventTitle:A,resetCreateForm:W,resetEditForm:J,updateEmployeeEventTimes:B,convertDayPilotDateToTimeString:U}),G=nHe({events:r,setEvents:n,setIsCreateDrawerOpen:m,setNewEventData:x,setEventTitle:N,resetCreateForm:W}),z=sHe({events:r,setEvents:n,setIsEditDrawerOpen:j,setSelectedEvent:_,setEditEventTitle:A,resetEditForm:J}),K=(xe,ne)=>{G.handleEmployeeEventFormChange(xe,ne,y)},Z=(xe,ne)=>{z.handleEditEmployeeEventFormChange(xe,ne,R)},ie=()=>{G.handleCreateEvent(g,v,h)},ye=()=>{z.handleUpdateEvent(C,k,T)},de=()=>{z.handleDeleteEvent(C)};return b.useEffect(()=>{C&&C.employeeEventData&&R(C.employeeEventData)},[C]),b.useEffect(()=>{const xe=P(),ne=xe.map(ge=>({name:ge.name,id:ge.id}));t(ne),n(eHe.filter(ge=>xe.some(Ce=>Ce.id===ge.resource)))},[d,P]),s.jsxs("div",{className:"p-5 font-sans",children:[s.jsx(K$e,{}),s.jsx(X$e,{currentView:a,dateRangeText:M(a,l),onPrevious:q.handlePrevious,onNext:q.handleNext,onToday:q.handleToday,onViewChange:q.handleViewChange}),s.jsx(Q$e,{selectedStoreId:d,stores:QK,onStoreChange:q.handleStoreChange,getStoreName:L}),s.jsx(J$e,{currentView:a}),s.jsx(z$e,{resources:e,events:r,currentView:a,currentDate:l,onTimeRangeSelected:q.handleTimeRangeSelected,onEventClick:q.handleEventClick,onEventMoved:q.handleEventMove,onEventResized:q.handleEventResize}),s.jsx(Y$e,{isOpen:i,onClose:G.handleCreateDrawerClose,newEventData:g,eventTitle:v,onEventTitleChange:N,employeeEventForm:h,onEmployeeEventFormChange:K,onCreateEvent:ie,employees:P(),statuses:l8,businessBeginsHour:H.businessBeginsHour,businessEndsHour:H.businessEndsHour}),s.jsx(Z$e,{isOpen:w,onClose:z.handleEditDrawerClose,editingEvent:C,editEventTitle:k,onEditEventTitleChange:A,editEmployeeEventForm:T,onEditEmployeeEventFormChange:Z,onEditEvent:ye,onDeleteEvent:de,employees:P(),statuses:l8,businessBeginsHour:H.businessBeginsHour,businessEndsHour:H.businessEndsHour})]})},oHe=()=>s.jsx(aHe,{}),iHe=[s.jsx(St,{path:"/daily-schedules",element:s.jsx(At,{children:s.jsx(Yt,{role:"super-admin",children:s.jsx(kt,{children:s.jsx(oHe,{})})})})},"daily-schedules-management")];function lHe(){return s.jsx(Wge,{defaultTheme:"light",storageKey:"pizza-app-theme",children:s.jsx(Kge,{fallback:s.jsx(Qge,{}),children:s.jsx(Mge,{children:s.jsx("div",{className:"min-h-screen bg-background text-foreground transition-colors",children:s.jsxs(cge,{children:[R0e,QIe,B6e,iLe,PLe,A8e,iUe,qUe,i$e,d$e,f$e,T$e,M$e,I$e,iHe,s.jsx(St,{path:"/",element:s.jsx(Nb,{to:"/dashboard",replace:!0})}),s.jsx(St,{path:"*",element:s.jsx(Nb,{to:"/dashboard",replace:!0})})]})})})})})}vJ.createRoot(document.getElementById("root")).render(s.jsx(b.StrictMode,{children:s.jsx(d8,{store:Vn,children:s.jsx(lHe,{})})}));
